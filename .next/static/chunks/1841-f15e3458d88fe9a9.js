"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1841],{11647:(e,s,a)=>{a.d(s,{E:()=>c});var t=a(95155);a(12115);var r=a(83101),l=a(64269);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}},17037:(e,s,a)=>{a.d(s,{F:()=>c});var t=a(95155),r=a(12115),l=a(59034),n=a(64269);let c=r.forwardRef((e,s)=>{let{className:a,children:r,...c}=e;return(0,t.jsxs)(l.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",a),...c,children:[(0,t.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(i,{}),(0,t.jsx)(l.OK,{})]})});c.displayName=l.bL.displayName;let i=r.forwardRef((e,s)=>{let{className:a,orientation:r="vertical",...c}=e;return(0,t.jsx)(l.VM,{ref:s,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,t.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=l.VM.displayName},39268:(e,s,a)=>{a.d(s,{e:()=>S});var t=a(95155),r=a(86948),l=a(17037),n=a(11647),c=a(13496),i=a(3998),o=a(51834),d=a(40710),m=a(88906),x=a(80158),u=a(15894),h=a(12115),f=a(42176),p=a(81288),g=a(53489),v=a(5225),b=a(74421),N=a(58614),j=a(94374),y=a(15039),w=a(53756),C=a(43044),A=a(91851),F=a(6943);function S(e){let{report:s,individualScores:a}=e,[S,R]=(0,h.useState)(null),[O,k]=(0,h.useState)(null),[T,E]=(0,h.useState)(!1),{toast:z}=(0,u.dj)(),_=e=>{let s=a.find(s=>s.fileName===e);s?(R(s.scoreOutput),k(s.fileName),E(!0)):z({variant:"destructive",title:"Error",description:"Could not find details for the selected call."})},H=()=>{let e="Combined Call Analysis Report: ".concat(s.reportTitle,"\n");return e+="Product Focus: ".concat(s.productFocus,"\n"),e+="Number of Calls Analyzed: ".concat(s.numberOfCallsAnalyzed,"\n"),void 0!==s.averageOverallScore&&(e+="Average Overall Score: ".concat(s.averageOverallScore.toFixed(1),"/5\n")),s.overallBatchCategorization&&(e+="Overall Batch Categorization: ".concat(s.overallBatchCategorization,"\n\n")),e+="--- Executive Summary ---\n".concat(s.batchExecutiveSummary,"\n\n"),e+="--- Common Strengths Observed ---\n",s.commonStrengthsObserved.forEach(s=>e+="- ".concat(s,"\n")),e+="\n",e+="--- Common Areas For Improvement ---\n",s.commonAreasForImprovement.forEach(s=>e+="- ".concat(s,"\n")),e+="\n",s.commonRedFlags&&s.commonRedFlags.length>0&&(e+="--- Common Red Flags Observed ---\n",s.commonRedFlags.forEach(s=>e+="- ".concat(s,"\n")),e+="\n"),e+="--- Key Themes & Trends ---\n",s.keyThemesAndTrends.forEach(s=>{e+="Theme: ".concat(s.theme,"\nDescription: ").concat(s.description,"\n"),s.frequency&&(e+="Frequency: ".concat(s.frequency,"\n")),e+="---\n"}),e+="\n",e+="--- Metric Performance Summary ---\n",s.metricPerformanceSummary.forEach(s=>{e+="Metric: ".concat(s.metricName,"\nPerformance: ").concat(s.batchPerformanceAssessment,"\n"),void 0!==s.averageScore&&(e+="Average Score: ".concat(s.averageScore.toFixed(1),"/5\n")),s.specificObservations&&(e+="Observations: ".concat(s.specificObservations,"\n")),e+="---\n"}),e+="\n",s.individualCallHighlights&&s.individualCallHighlights.length>0&&(e+="--- Individual Call Highlights ---\n",s.individualCallHighlights.forEach(s=>{e+="File: ".concat(s.fileName,"\nScore: ").concat(s.overallScore.toFixed(1),"/5\nSummary: ").concat(s.briefSummary,"\n"),e+="---\n"})),e},P=e=>{let a=H(),t="CombinedCallAnalysis_".concat(s.productFocus,"_").concat(s.numberOfCallsAnalyzed,"calls");"pdf"===e?((0,m.oc)(a,"".concat(t,".pdf")),z({title:"Exported as PDF",description:"Combined analysis report PDF downloaded."})):((0,x.U3)("".concat(t,".doc"),a),z({title:"Exported as DOC",description:"Combined analysis report DOC (text) downloaded."}))},$=["exec-summary","strengths","improvements","themes-trends","metric-performance"];return s.individualCallHighlights&&s.individualCallHighlights.length>0&&$.push("individual-highlights"),s.commonRedFlags&&s.commonRedFlags.length>0&&$.push("common-red-flags"),a.length>0&&$.push("all-individual-scores"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Zp,{className:"w-full max-w-5xl shadow-xl mt-6",children:[(0,t.jsx)(r.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start flex-wrap gap-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ZB,{className:"text-2xl text-primary flex items-center",children:[(0,t.jsx)(f.A,{className:"mr-3 h-7 w-7"})," ",s.reportTitle]}),(0,t.jsxs)(r.BT,{className:"text-sm",children:["Product: ",s.productFocus," | Calls Analyzed: ",s.numberOfCallsAnalyzed,void 0!==s.averageOverallScore&&" | Avg. Score: ".concat(s.averageOverallScore.toFixed(1),"/5"),s.overallBatchCategorization&&" | Overall: ".concat(s.overallBatchCategorization)]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{let e=H();navigator.clipboard.writeText(e).then(()=>z({title:"Copied to Clipboard",description:"Combined analysis report copied."})).catch(e=>z({variant:"destructive",title:"Copy Failed",description:e.message}))},children:[(0,t.jsx)(p.A,{className:"mr-1.5 h-4 w-4"}),"Copy Report"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>P("doc"),children:[(0,t.jsx)(g.A,{className:"mr-1.5 h-4 w-4"}),"DOC"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>P("pdf"),children:[(0,t.jsx)(v.A,{className:"mr-1.5 h-4 w-4"}),"PDF"]})]})]})}),(0,t.jsx)(r.Wu,{className:"pt-2",children:(0,t.jsxs)(c.nD,{type:"multiple",defaultValue:$,className:"w-full space-y-1",children:[(0,t.jsxs)(c.As,{value:"exec-summary",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{className:"mr-2 h-5 w-5 text-accent"}),"Executive Summary"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,t.jsx)("p",{className:"whitespace-pre-line",children:s.batchExecutiveSummary})})]}),(0,t.jsxs)(c.As,{value:"strengths",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(N.A,{className:"mr-2 h-5 w-5 text-accent"}),"Common Strengths Observed"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:s.commonStrengthsObserved.length>0?(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:s.commonStrengthsObserved.map((e,s)=>(0,t.jsx)("li",{children:e},"strength-".concat(s)))}):(0,t.jsx)("p",{className:"italic",children:"No common strengths specifically highlighted by the AI."})})]}),(0,t.jsxs)(c.As,{value:"improvements",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.A,{className:"mr-2 h-5 w-5 text-accent"}),"Common Areas for Improvement"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:s.commonAreasForImprovement.length>0?(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:s.commonAreasForImprovement.map((e,s)=>(0,t.jsx)("li",{children:e},"improvement-".concat(s)))}):(0,t.jsx)("p",{className:"italic",children:"No common areas for improvement specifically highlighted by the AI."})})]}),s.commonRedFlags&&s.commonRedFlags.length>0&&(0,t.jsxs)(c.As,{value:"common-red-flags",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-destructive/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.A,{className:"mr-2 h-5 w-5 text-destructive"}),"Common Red Flags Observed"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-destructive/10 p-3 rounded-b-md",children:(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-destructive",children:s.commonRedFlags.map((e,s)=>(0,t.jsx)("li",{children:e},"redflag-".concat(s)))})})]}),(0,t.jsxs)(c.As,{value:"themes-trends",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(w.A,{className:"mr-2 h-5 w-5 text-accent"}),"Key Themes & Trends"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-3",children:s.keyThemesAndTrends.length>0?s.keyThemesAndTrends.map((e,s)=>(0,t.jsxs)("div",{className:"p-2 border-l-2 border-secondary bg-background/30 rounded-r-sm",children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-secondary-foreground/90 mb-0.5",children:e.theme}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),e.frequency&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground/70 italic mt-0.5",children:["Frequency: ",e.frequency]})]},"theme-".concat(s))):(0,t.jsx)("p",{className:"italic",children:"No specific themes or trends highlighted."})})]}),(0,t.jsxs)(c.As,{value:"metric-performance",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(C.A,{className:"mr-2 h-5 w-5 text-accent"}),"Metric Performance Summary"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-3",children:s.metricPerformanceSummary.length>0?s.metricPerformanceSummary.map((e,s)=>(0,t.jsxs)("div",{className:"p-2 border-l-2 border-primary bg-background/30 rounded-r-sm",children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-primary-foreground/90 mb-0.5",children:e.metricName}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Batch Performance: ",e.batchPerformanceAssessment]}),void 0!==e.averageScore&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Average Score: ",e.averageScore.toFixed(1),"/5"]}),e.specificObservations&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground italic mt-0.5",children:["Observations: ",e.specificObservations]})]},"metric-summary-".concat(s))):(0,t.jsx)("p",{className:"italic",children:"No specific metric performance summary provided."})})]}),s.individualCallHighlights&&s.individualCallHighlights.length>0&&(0,t.jsxs)(c.As,{value:"individual-highlights",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(A.A,{className:"mr-2 h-5 w-5 text-accent"}),"Individual Call Highlights"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-2",children:s.individualCallHighlights.map((e,s)=>(0,t.jsxs)("div",{className:"p-2 border rounded-sm bg-background/40",children:[(0,t.jsxs)("h4",{className:"font-medium text-sm text-foreground/90 mb-0.5",children:["File: ",e.fileName," (Score: ",e.overallScore.toFixed(1),"/5)"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground italic",children:e.briefSummary}),(0,t.jsx)(i.$,{variant:"link",size:"xs",className:"p-0 h-auto mt-1 text-accent",onClick:()=>_(e.fileName),children:"View Full Report"})]},"highlight-".concat(s)))})]}),a.length>0&&(0,t.jsxs)(c.As,{value:"all-individual-scores",children:[(0,t.jsx)(c.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(F.A,{className:"mr-2 h-5 w-5 text-accent"}),"All Individual Call Scores (",a.length,")"]})}),(0,t.jsx)(c.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,t.jsx)(l.F,{className:"h-[200px] border rounded-md",children:(0,t.jsx)("ul",{className:"p-2 space-y-1.5",children:a.map((e,s)=>(0,t.jsxs)("li",{className:"text-xs flex justify-between items-center p-1.5 bg-background/50 rounded-sm",children:[(0,t.jsx)("span",{className:"truncate max-w-[60%]",title:e.fileName,children:e.fileName}),(0,t.jsxs)(n.E,{variant:"Error"===e.scoreOutput.callCategorisation?"destructive":"secondary",className:"text-xs",children:["Score: ",e.scoreOutput.overallScore.toFixed(1),"/5 (",e.scoreOutput.callCategorisation,")"]}),(0,t.jsx)(i.$,{variant:"outline",size:"xs",onClick:()=>_(e.fileName),children:"View"})]},"ind-score-".concat(s)))})})})]})]})}),(0,t.jsx)(r.wL,{className:"text-xs text-muted-foreground pt-3 border-t mt-2",children:"This combined analysis is AI-generated based on individual call reports. Review individual reports for full context where needed."})]}),S&&O&&(0,t.jsx)(o.lG,{open:T,onOpenChange:E,children:(0,t.jsxs)(o.Cf,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl min-h-[70vh] max-h-[85vh] flex flex-col p-0",children:[(0,t.jsxs)(o.c7,{className:"p-6 pb-2 border-b",children:[(0,t.jsx)(o.L3,{className:"text-xl text-primary",children:"Individual Call Scoring Report"}),(0,t.jsxs)(o.rr,{children:["File: ",O]})]}),(0,t.jsx)(l.F,{className:"flex-grow overflow-y-auto",children:(0,t.jsx)("div",{className:"p-4 md:p-6",children:(0,t.jsx)(d.o,{results:S,fileName:O,isHistoricalView:!0})})}),(0,t.jsx)(o.Es,{className:"p-4 border-t bg-muted/50",children:(0,t.jsx)(i.$,{onClick:()=>E(!1),children:"Close"})})]})})]})}},51834:(e,s,a)=>{a.d(s,{Cf:()=>m,Es:()=>u,L3:()=>h,c7:()=>x,lG:()=>i,rr:()=>f});var t=a(95155),r=a(12115),l=a(89511),n=a(26615),c=a(64269);let i=l.bL;l.l9;let o=l.ZL;l.bm;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});d.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});h.displayName=l.hE.displayName;let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",a),...r})});f.displayName=l.VY.displayName},85897:(e,s,a)=>{a.d(s,{eu:()=>c,q5:()=>i});var t=a(95155),r=a(12115),l=a(46591),n=a(64269);let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});c.displayName=l.bL.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})}).displayName=l._V.displayName;let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});i.displayName=l.H4.displayName},87270:(e,s,a)=>{a.d(s,{A0:()=>c,BF:()=>i,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>d});var t=a(95155),r=a(12115),l=a(64269);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",a),...r})});c.displayName="TableHeader";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});i.displayName="TableBody",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});o.displayName="TableRow";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});d.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"}}]);