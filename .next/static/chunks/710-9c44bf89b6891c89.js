(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{13406:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>o,av:()=>d,j7:()=>c,tU:()=>l});var n=t(95155),i=t(12115),a=t(25667),r=t(64269);let l=a.bL,c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,n.jsx)(a.B8,{ref:s,className:(0,r.cn)("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i})});c.displayName=a.B8.displayName;let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,n.jsx)(a.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...i})});o.displayName=a.l9.displayName;let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,n.jsx)(a.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i})});d.displayName=a.UC.displayName},40710:(e,s,t)=>{"use strict";t.d(s,{o:()=>_});var n=t(95155),i=t(12115),a=t(13496),r=t(11647),l=t(3998),c=t(86948),o=t(6259),d=t(17037),m=t(18332),u=t(13406),x=t(75335),p=t(15894),h=t(80158),g=t(88906),f=t(92649),j=t(78898),v=t(90542),N=t(16190),b=t(60412),A=t(82786),C=t(24820),y=t(89598),E=t(78770),S=t(53489),R=t(5225),T=t(86126),w=t(15039),I=t(58614),k=t(70431),D=t(36419),F=t(94374),O=t(6943),P=t(5418),U=t(38623);let M=e=>e>=4.5?"Excellent":e>=3.5?"Good":e>=2.5?"Average":e>=1.5?"Needs Improvement":"Unsatisfactory",L=e=>{switch(null==e?void 0:e.toLowerCase()){case"excellent":return"default";case"good":default:return"secondary";case"average":return"outline";case"needs improvement":case"unsatisfactory":return"destructive"}};function _(e){var s,t,_,B;let{results:z,fileName:V,agentName:G,product:H,audioDataUri:Z,isHistoricalView:W=!1}=e,{toast:Q}=(0,p.dj)(),$=async e=>{if(!z.overallScore)return void Q({variant:"destructive",title:"Cannot Download",description:"Report data is incomplete due to a scoring error."});let s={id:"export-".concat(Date.now()),timestamp:new Date().toISOString(),details:{fileName:V||"Scored Call",agentNameFromForm:G,status:"Complete",scoreOutput:z,audioDataUri:Z},product:H};if("pdf"===e)try{let e=await (0,g.Hc)(s),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="Call_Report_".concat((V||"report").replace(/[^a-zA-Z0-9]/g,"_"),".pdf"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href),Q({title:"Report Exported",description:"PDF report has been downloaded."})}catch(e){Q({variant:"destructive",title:"PDF Export Failed",description:e.message})}else{var t;let e,s=(e="--- Call Scoring Report: ".concat(V||"N/A"," ---\n\n")+"Overall Score: ".concat((null==(t=z.overallScore)?void 0:t.toFixed(1))||"N/A","/5\n")+"Categorization: ".concat(z.callCategorisation||"N/A","\n\n")+"Conversion Readiness: ".concat(z.conversionReadiness||"N/A","\n")+"Suggested Disposition: ".concat(z.suggestedDisposition||"N/A","\n\n")+"--- SUMMARY & FEEDBACK ---\n"+"Summary: ".concat(z.summary,"\n\n")+"Strengths:\n- ".concat(z.strengths.join("\n- "),"\n\n")+"Areas for Improvement:\n- ".concat(z.areasForImprovement.join("\n- "),"\n\n"),z.redFlags&&z.redFlags.length>0&&(e+="RED FLAGS:\n- ".concat(z.redFlags.join("\n- "),"\n\n")),e+="--- DETAILED METRICS ---\n",(z.metricScores||[]).forEach(s=>{e+="Metric: ".concat(s.metric,"\n"),e+="  Score: ".concat(s.score,"/5\n"),e+="  Feedback: ".concat(s.feedback,"\n\n")}),z.improvementSituations&&z.improvementSituations.length>0&&(e+="--- SITUATIONS FOR IMPROVEMENT ---\n\n",z.improvementSituations.forEach((s,t)=>{e+="SITUATION ".concat(t+1,":\n"),s.timeInCall&&(e+="  Time in Call: ".concat(s.timeInCall,"\n")),e+="  Context: ".concat(s.context,"\n"),s.userDialogue&&(e+='  User Said: "'.concat(s.userDialogue,'"\n')),e+="  Agent's Actual Response: \"".concat(s.agentResponse,'"\n'),e+='  Suggested Better Response: "'.concat(s.suggestedResponse,'"\n\n')})),e+="--- FULL TRANSCRIPT ---\n\n",e+=z.transcript);(0,h.U3)("Call_Report_".concat((V||"report").replace(/[^a-zA-Z0-9]/g,"_"),".doc"),s),Q({title:"Report Exported",description:"Text report for Word has been downloaded."})}},X=(e,s)=>{var t;return(0,n.jsxs)("div",{className:"py-2 px-3 border-b last:border-b-0",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h4",{className:"font-medium text-sm text-foreground",children:e}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"font-semibold text-sm",children:[(null==(t=s.score)?void 0:t.toFixed(1))||"N/A","/5"]}),(e=>{let s=[];for(let t=1;t<=5;t++)s.push((0,n.jsx)(f.A,{className:"h-4 w-4 ".concat(e>=t?"text-yellow-400 fill-yellow-400":"text-muted-foreground/50")},t));return(0,n.jsx)("div",{className:"flex items-center gap-0.5",children:s})})(s.score||0),(0,n.jsx)(r.E,{variant:L(M(s.score||0)),className:"text-xs w-28 text-center justify-center",children:M(s.score||0)})]})]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1.5 pl-1",children:s.feedback})]},e)},Y={"Introduction & Rapport Building":{icon:j.A,metrics:["Introduction Quality","Intro Hook Line","Opening Greeting (Tone & Words)","Purpose of Call Statement","Rapport Building (Initial)","Energy and Enthusiasm (Opening)","Clarity & Pacing (Opening)"]},"Pitch & Product Communication":{icon:v.A,metrics:["Pitch Adherence","Feature-to-Benefit Translation","Value Justification (ROI)","Monetary Value Communication (Benefits vs. Cost)","Clarity of Product Explanation","Premium Content Explained","Epaper Explained","TOI Plus Explained","Times Prime Explained","Docubay Explained","Stock Report Explained","Upside Radar Explained","Market Mood Explained","Big Bull Explained","Cross-Sell/Up-sell Opportunity"]},"Customer Engagement & Control":{icon:N.A,metrics:["Talk-Listen Ratio","Talk Ratio (Agent vs User)","Engagement Duration % (User vs Agent)","Active Listening Cues","Questioning Skills (Open vs Closed)","Questions Asked by Customer","User Interest (Offer/Feature)","Premium Content Interest","Epaper Interest","TOI Plus Interest","Times Prime Interest"]},"Agent's Tonality & Soft Skills":{icon:b.A,metrics:["Conviction & Enthusiasm (Tone)","Clarity & Articulation","Pacing and Pauses","Agent's Tone (Overall)","Empathy Demonstration (Tone)","Confidence Level (Vocal)","Friendliness & Politeness","Active Listening (Vocal Cues)","User's Perceived Sentiment (from Tone)"]},"Needs Discovery & Qualification":{icon:A.A,metrics:["Situation Questions","Problem Identification & Probing","Implication/Impact Questions","Need-Payoff (Value Proposition)","Budget & Authority Qualification","First Discovery Question Time (sec)","First Question Time (sec)"]},"Sales Process & Hygiene":{icon:C.A,metrics:["Misleading Information by Agent","Call Control","Time to First Offer (sec)","First Price Mention (sec)","Compliance & Adherence","Call Opening (Satisfactory/Unsatisfactory)","Call Closing (Satisfactory/Unsatisfactory)","Agent Professionalism"]},"Objection Handling & Closing":{icon:y.A,metrics:["Objection Recognition & Tone","Empathize, Clarify, Isolate, Respond (ECIR)","Price Objection Response","I'm Not Interested Handling",'"Send Me Details" Handling',"Competition Mention Handling",'Handling "I need to think about it"',"Trial Closes","Urgency Creation","Final Call to Action (CTA)","Next Steps Definition","Closing Strength (Tone)","Assumptive Close Attempt","Benefit-driven Close","Handling Final Questions","Post-CTA Silence","Payment Process Explanation","Confirmation of Sale/Next Step"]}},K=e=>{var s;return null!=(s=null==e?void 0:e.toLowerCase().replace(/[^a-z0-9]+/g,""))?s:""},q=null!=(B=z.metricScores)?B:[],{groupedMetrics:J,unmatchedMetrics:ee}=(0,i.useMemo)(()=>{let e=new Map;Object.entries(Y).forEach(s=>{let[t,{metrics:n}]=s;n.forEach(s=>e.set(K(s),t))});let s=new Map,t=[];return q.forEach(n=>{let i=K(n.metric),a=e.get(i);a?(s.has(a)||s.set(a,[]),s.get(a).push(n)):t.push(n)}),{groupedMetrics:s,unmatchedMetrics:t}},[q]),es=ee.length?[...Object.keys(Y),"Additional Metrics"]:Object.keys(Y);return"Error"===z.callCategorisation?(0,n.jsxs)(m.Fc,{variant:"destructive",className:"w-full max-w-4xl",children:[(0,n.jsx)(E.A,{className:"h-4 w-4"}),(0,n.jsxs)(m.XL,{children:["Scoring Error for: ",V]}),(0,n.jsx)(a.nD,{type:"single",collapsible:!0,className:"w-full text-xs",children:(0,n.jsxs)(a.As,{value:"item-1",className:"border-b-0",children:[(0,n.jsx)(a.$m,{className:"p-0 hover:no-underline [&[data-state=open]>svg]:text-destructive-foreground [&_svg]:ml-1",children:"View error details"}),(0,n.jsx)(a.ub,{className:"pt-2",children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap break-all bg-destructive/10 p-2 rounded-md font-mono text-xs",children:z.summary||"No specific error message available."})})]})})]}):(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"flex justify-end mb-4",children:(0,n.jsxs)(o.rI,{children:[(0,n.jsx)(o.ty,{asChild:!0,children:(0,n.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Download Full Report"]})}),(0,n.jsxs)(o.SQ,{children:[(0,n.jsxs)(o._2,{onClick:()=>$("pdf"),children:[(0,n.jsx)(R.A,{className:"mr-2 h-4 w-4"})," Download as PDF"]}),(0,n.jsxs)(o._2,{onClick:()=>$("doc"),children:[(0,n.jsx)(R.A,{className:"mr-2 h-4 w-4"})," Download as Text for Word"]})]})]})}),Z&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("h3",{className:"text-md font-semibold text-foreground mb-2 flex items-center",children:[(0,n.jsx)(T.A,{className:"mr-2 h-5 w-5 text-primary"}),"Audio Playback"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("audio",{controls:!0,src:Z,className:"w-full h-10",children:"Your browser does not support the audio element."}),(0,n.jsx)(l.$,{variant:"outline",size:"icon",title:"Download audio file",onClick:()=>(0,h.vG)(Z,V||"audio_file"),children:(0,n.jsx)(S.A,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)(u.tU,{defaultValue:"summary",className:"w-full",children:[(0,n.jsxs)(u.j7,{className:"grid w-full grid-cols-2 md:grid-cols-4 h-auto",children:[(0,n.jsx)(u.Xi,{value:"summary",className:"text-xs md:text-sm",children:"Summary & Coaching"}),(0,n.jsx)(u.Xi,{value:"metrics",className:"text-xs md:text-sm",children:"Detailed Metrics"}),(0,n.jsx)(u.Xi,{value:"situations",className:"text-xs md:text-sm",children:"Situations"}),(0,n.jsx)(u.Xi,{value:"transcript",className:"text-xs md:text-sm",children:"Full Transcript"})]}),(0,n.jsxs)(u.av,{value:"summary",className:"mt-4 space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Overall Score"}),(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[(null==(s=z.overallScore)?void 0:s.toFixed(1))||"N/A","/5"]})]}),(0,n.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Conversion Readiness"}),(0,n.jsx)("div",{children:(0,n.jsx)(r.E,{variant:"High"===z.conversionReadiness?"default":"Medium"===z.conversionReadiness?"secondary":"destructive",children:z.conversionReadiness})})]}),(0,n.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Categorization"}),(0,n.jsx)("div",{children:(0,n.jsx)(r.E,{variant:L(z.callCategorisation),children:z.callCategorisation})})]}),(0,n.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Suggested Disposition"}),(0,n.jsx)("div",{className:"font-semibold",children:z.suggestedDisposition||"N/A"})]})]}),z.transcriptAccuracy&&"Provided as Text"!==z.transcriptAccuracy&&(0,n.jsx)(m.Fc,{children:(0,n.jsxs)(m.TN,{className:"text-xs",children:["Transcript Accuracy Assessment: ",z.transcriptAccuracy]})}),z.redFlags&&z.redFlags.length>0&&(0,n.jsxs)(c.Zp,{className:"border-destructive bg-destructive/15",children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsxs)(c.ZB,{className:"text-md flex items-center gap-2 text-destructive",children:[(0,n.jsx)(w.A,{}),"Critical Red Flags"]})}),(0,n.jsx)(c.Wu,{children:(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-destructive marker:text-destructive/90",children:z.redFlags.map((e,s)=>(0,n.jsx)("li",{children:e},"flag-".concat(s)))})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsxs)(c.ZB,{className:"text-md flex items-center gap-2",children:[(0,n.jsx)(I.A,{className:"text-green-500"}),"Key Strengths"]})}),(0,n.jsx)(c.Wu,{children:(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:null==(t=z.strengths)?void 0:t.map((e,s)=>(0,n.jsx)("li",{children:e},"strength-".concat(s)))})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsxs)(c.ZB,{className:"text-md flex items-center gap-2",children:[(0,n.jsx)(k.A,{className:"text-amber-500"}),"Areas for Improvement"]})}),(0,n.jsx)(c.Wu,{children:(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:null==(_=z.areasForImprovement)?void 0:_.map((e,s)=>(0,n.jsx)("li",{children:e},"gap-".concat(s)))})})]})]}),(0,n.jsx)(u.av,{value:"metrics",className:"mt-4",children:(0,n.jsxs)(a.nD,{type:"multiple",defaultValue:es,className:"w-full space-y-2",children:[Object.entries(Y).map(e=>{var s;let[t,{icon:i}]=e,r=i||D.A,l=null!=(s=J.get(t))?s:[];return 0===l.length?null:(0,n.jsxs)(a.As,{value:t,children:[(0,n.jsx)(a.$m,{className:"text-md font-semibold hover:no-underline bg-muted/30 px-4 py-3 rounded-md",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(r,{className:"h-5 w-5"}),t]})}),(0,n.jsx)(a.ub,{className:"pt-3 px-1",children:(0,n.jsx)(c.Zp,{children:(0,n.jsx)(c.Wu,{className:"p-0 divide-y",children:l.map(e=>X(e.metric,e))})})})]},t)}),ee.length>0&&(0,n.jsxs)(a.As,{value:"Additional Metrics",children:[(0,n.jsx)(a.$m,{className:"text-md font-semibold hover:no-underline bg-muted/30 px-4 py-3 rounded-md",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(F.A,{className:"h-5 w-5"}),"Additional Metrics"]})}),(0,n.jsx)(a.ub,{className:"pt-3 px-1",children:(0,n.jsx)(c.Zp,{children:(0,n.jsx)(c.Wu,{className:"p-0 divide-y",children:ee.map(e=>X(e.metric,e))})})})]},"Additional Metrics")]})}),(0,n.jsx)(u.av,{value:"situations",className:"mt-4",children:z.improvementSituations&&z.improvementSituations.length>0?(0,n.jsx)("div",{className:"space-y-3",children:z.improvementSituations.map((e,s)=>(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{className:"pb-2 pt-3 px-4",children:[(0,n.jsxs)(c.ZB,{className:"text-sm font-semibold",children:["Situation ",s+1,": ",e.context]}),e.timeInCall&&(0,n.jsxs)(c.BT,{className:"text-xs",children:["Time in call: ",e.timeInCall]})]}),(0,n.jsxs)(c.Wu,{className:"px-4 pb-3 space-y-2 text-xs",children:[e.userDialogue&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"font-semibold text-green-700 flex items-center",children:[(0,n.jsx)(O.A,{size:14,className:"mr-1.5"}),"User Said:"]}),(0,n.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',e.userDialogue,'"']})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"font-semibold text-red-600 flex items-center",children:[(0,n.jsx)(P.A,{size:14,className:"mr-1.5"}),"Agent's Actual Response:"]}),(0,n.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',e.agentResponse,'"']})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"font-semibold text-blue-600 flex items-center",children:[(0,n.jsx)(U.A,{size:14,className:"mr-1.5"}),"Suggested Better Response:"]}),(0,n.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',e.suggestedResponse,'"']})]})]})]},s))}):(0,n.jsx)("p",{className:"text-center text-muted-foreground p-4",children:"No specific improvement situations were highlighted by the AI for this call."})}),(0,n.jsx)(u.av,{value:"transcript",className:"mt-4",children:(0,n.jsx)(c.Zp,{children:(0,n.jsx)(c.Wu,{className:"p-3",children:(0,n.jsx)(d.F,{className:"h-[400px] w-full",children:(0,n.jsx)(x.X,{transcript:z.transcript||""})})})})})]})]})}},50478:()=>{},75335:(e,s,t)=>{"use strict";t.d(s,{X:()=>p});var n=t(95155);t(12115);var i=t(64269),a=t(85897),r=t(66065),l=t(89679),c=t(16916),o=t(56630),d=t(5418),m=t(27314);t(50478);let u=["PRECALL_ANSWER","RINGING","MUSIC","HOLD_TONE","HOLD","IVR_PROMPT","IVR_MENU","IVR","SILENCE","CALL_TRANSFER","BACKGROUND_NOISE","SYSTEM","SYSTEM_EVENT","SYSTEM_MESSAGE","ANNOUNCEMENT"],x=e=>{let s=e.toUpperCase().replace(/\s+/g,"_"),t=u.find(e=>s.startsWith(e));return null!=t?t:s},p=e=>{let{transcript:s}=e,t=(e=>{let s="string"==typeof e?e.split("\n").map(e=>e.trim()).filter(Boolean):[];if(0===s.length)return[];let t=[],n=null,i=null,a=()=>{i&&(t.push(i),i=null)};return s.forEach(e=>{let s=e.trim();if(!s)return;let r=s.match(/^\[(.*?)\]\s*(AGENT|USER|SYSTEM)\s*(?:\(([^)]*?)\))?\s*:\s*(.*)$/i);if(r){a();let[,e,s,t,l]=r;i={timestamp:n=e.trim()||null,speaker:s.toUpperCase(),profile:null==t?void 0:t.trim(),text:l.trim()};return}let l=s.match(/^\[(.*?)\]\s*\[(.+?)\](.*)$/);if(l){let[,e,s,i]=l;a(),n=e.trim()||null;let r=x(s),c=u.includes(r),o=i.trim().replace(/^-\s*/,"");t.push({timestamp:n,speaker:"EVENT",eventTag:c?r:void 0,text:c&&o?o:"[".concat(s.trim(),"]").concat(o?" ".concat(o):"")});return}let c=s.match(/^\[(.*?)\]\s*$/);if(c){a(),n=c[1].trim()||null;return}let o=s.match(/^(AGENT|USER|SYSTEM)\s*(?:\(([^)]*?)\))?\s*:\s*(.*)$/i);if(o){a();let[,e,s,t]=o;i={timestamp:n,speaker:e.toUpperCase(),profile:null==s?void 0:s.trim(),text:t.trim()};return}let d=s.match(/^\[(.+?)\](.*)$/);if(d){a();let[,e,s]=d,i=x(e),r=u.includes(i),l=s.trim().replace(/^-\s*/,"");t.push({timestamp:n,speaker:"EVENT",eventTag:r?i:void 0,text:r&&l?l:"[".concat(e.trim(),"]").concat(l?" ".concat(l):"")});return}if(i&&"EVENT"!==i.speaker){i.text+="\n".concat(s);return}t.push({timestamp:n,speaker:"EVENT",text:s})}),a(),t})(s);return 0===t.length?(0,n.jsx)("p",{className:"text-sm text-muted-foreground italic p-4 text-center",children:"Transcript not available or is empty."}):(0,n.jsx)("div",{className:"space-y-4",children:t.map((e,s)=>{if("EVENT"===e.speaker){var t;return(0,n.jsxs)("div",{className:"event-line",children:[(e=>{if(!e)return(0,n.jsx)(r.A,{size:14});let s=e.toUpperCase();return s.includes("PRECALL")||s.includes("RINGING")||s.includes("CALL")?(0,n.jsx)(l.A,{size:14}):s.includes("MUSIC")||s.includes("HOLD")?(0,n.jsx)(c.A,{size:14}):s.includes("SILENCE")?(0,n.jsx)(o.A,{size:14}):s.includes("IVR")?(0,n.jsx)(d.A,{size:14}):(s.includes("BACKGROUND"),(0,n.jsx)(r.A,{size:14}))})(null!=(t=e.eventTag)?t:e.text),(0,n.jsxs)("span",{className:"text-xs font-mono",children:[e.timestamp?"[".concat(e.timestamp,"] "):"",e.eventTag?"[".concat(e.eventTag,"]"):"",e.eventTag&&e.text?" ":"",e.text]})]},s)}let u="AGENT"===e.speaker,x="SYSTEM"===e.speaker;return(0,n.jsxs)("div",{className:(0,i.cn)("flex items-start gap-3",u?"agent-line":x?"system-line":"user-line"),children:[(u||x)&&(0,n.jsx)(a.eu,{className:"h-8 w-8 shrink-0 border",children:(0,n.jsx)(a.q5,{className:(0,i.cn)(u?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:u?(0,n.jsx)(d.A,{size:18}):(0,n.jsx)(r.A,{size:18})})}),(0,n.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-1 max-w-[80%]",u||x?"":"items-end"),children:[e.timestamp&&(0,n.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-mono",children:e.timestamp}),(0,n.jsxs)("div",{className:(0,i.cn)("p-3 rounded-xl shadow-sm text-sm whitespace-pre-wrap break-words leading-relaxed",u?"bg-background border text-foreground":x?"bg-muted/50 border-muted text-muted-foreground":"bg-accent/80 text-accent-foreground border-accent/20 border"),children:[(0,n.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-wide mb-1",children:[u?"Agent":x?"System":"Customer",e.profile?" â€¢ ".concat(e.profile):""]}),(0,n.jsx)("p",{children:e.text})]})]}),!u&&!x&&(0,n.jsx)(a.eu,{className:"h-8 w-8 shrink-0 border",children:(0,n.jsx)(a.q5,{className:"bg-accent text-accent-foreground",children:(0,n.jsx)(m.A,{size:18})})})]},s)})})}}}]);