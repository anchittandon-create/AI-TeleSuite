(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4497],{10489:(e,t,a)=>{"use strict";a.d(t,{b:()=>l});var r=a(12115),s=a(97602),i=a(95155),n=r.forwardRef((e,t)=>(0,i.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n},11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(95155);a(12115);var s=a(83101),i=a(64269);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:a}),t),...s})}},15894:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(12115);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=[],o={toasts:[]};function d(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},16782:(e,t,a)=>{"use strict";a.d(t,{UserProfileProvider:()=>l,s:()=>o});var r=a(95155),s=a(67050),i=a(12115);let n=(0,i.createContext)(void 0),l=e=>{let{children:t}=e,[a,l]=(0,s.M)("aiTeleSuiteActiveUserProfile","Anchit"),o=(0,i.useCallback)(e=>{l(e)},[l]);return(0,r.jsx)(n.Provider,{value:{currentProfile:a||"Anchit",setCurrentProfile:o},children:t})},o=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("useUserProfile must be used within a UserProfileProvider");return e}},17037:(e,t,a)=>{"use strict";a.d(t,{F:()=>l});var r=a(95155),s=a(12115),i=a(59034),n=a(64269);let l=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(i.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...l,children:[(0,r.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(o,{}),(0,r.jsx)(i.OK,{})]})});l.displayName=i.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,r.jsx)(i.VM,{ref:t,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=i.VM.displayName},31120:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(95155),s=a(12115),i=a(64269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});n.displayName="Textarea"},31524:(e,t,a)=>{"use strict";a.d(t,{G:()=>u,ProductProvider:()=>c});var r=a(95155),s=a(12115),i=a(67050),n=a(15894);let l=(0,s.createContext)(void 0),o=[{name:"ET",displayName:"ET",description:"Economic Times - Premium business news and analysis.",brandName:"The Economic Times",brandUrl:"https://economictimes.indiatimes.com/",customerCohorts:["Payment Dropoff","Paywall Dropoff","Plan Page Dropoff","Expired Users","Business Owners","Financial Analysts","Active Investors","Corporate Executives"],salesPlans:["1-Year","2-Years","3-Years"],specialPlanConfigurations:["1, 3 and 5 year plans","1, 3 and 7 year plans","1, 2 and 3 year plans"]},{name:"TOI",displayName:"TOI",description:"Times of India - In-depth news and journalism.",brandName:"The Times of India",brandUrl:"https://timesofindia.indiatimes.com/",customerCohorts:["Payment Dropoff","Paywall Dropoff","Expired Users","New Prospect Outreach","Young Professionals","Students"],salesPlans:["Monthly","Quarterly","1-Year"],specialPlanConfigurations:["1, 2 and 3 year plans"]},{name:"General",displayName:"General",description:"For general purpose use across features.",brandName:"",brandUrl:"",customerCohorts:[],salesPlans:[],specialPlanConfigurations:["1, 2 and 3 year plans"]}],d=o.map(e=>e.name),c=e=>{let{children:t}=e,{toast:a}=(0,n.dj)(),[c,u]=(0,i.M)("aiTeleSuiteAvailableProducts_v3",o);(0,s.useEffect)(()=>{let e=new Map(c.map(e=>[e.name,e])),t=!1;for(let r of o)if(e.has(r.name)){var a;let s=e.get(r.name);if(s.description||(s.description=r.description,t=!0),s.displayName||(s.displayName=r.displayName,t=!0),"customerCohorts"in s||(s.customerCohorts=r.customerCohorts,t=!0),"salesPlans"in s||(s.salesPlans=r.salesPlans,t=!0),"specialPlanConfigurations"in s&&Array.isArray(s.specialPlanConfigurations)){if(null==(a=r.specialPlanConfigurations)?void 0:a.length){let e=r.specialPlanConfigurations.filter(e=>!s.specialPlanConfigurations.includes(e));e.length>0&&(s.specialPlanConfigurations=[...s.specialPlanConfigurations,...e],t=!0)}}else s.specialPlanConfigurations=[...r.specialPlanConfigurations||[]],t=!0}else e.set(r.name,r),t=!0;t&&u(Array.from(e.values()))},[c,u]);let m=(0,s.useCallback)(e=>{if(!e.displayName||!e.displayName.trim())return a({variant:"destructive",title:"Invalid Name",description:"Display name cannot be empty."}),!1;let t=e.displayName.trim().toLowerCase().replace(/\s+/g,"-");return c.some(e=>e.name.toLowerCase()===t)?(a({variant:"destructive",title:"Product Exists",description:"A product with a similar name already exists, please choose a different name."}),!1):(u([...c,{...e,name:t}]),a({title:"Product Added",description:'"'.concat(e.displayName,'" has been added.')}),!0)},[c,u,a]),p=(0,s.useCallback)((e,t)=>t.displayName.trim()?(u(a=>a.map(a=>a.name===e?{...a,...t}:a)),a({title:"Product Updated",description:'"'.concat(t.displayName,'" has been updated.')}),!0):(a({variant:"destructive",title:"Invalid Name",description:"Display name cannot be empty."}),!1),[u,a]),h=(0,s.useCallback)(e=>d.includes(e)?(a({variant:"destructive",title:"Action Forbidden",description:"Default products cannot be deleted."}),!1):(u(t=>t.filter(t=>t.name!==e)),a({title:"Product Deleted",description:"A product has been removed."}),!0),[u,a]),x=(0,s.useCallback)(e=>c.find(t=>t.name===e),[c]),f=(0,s.useMemo)(()=>{let e=c.find(e=>"General"===e.name),t=c.filter(e=>"General"!==e.name).sort((e,t)=>e.displayName.localeCompare(t.displayName));return e?[...t,e]:t},[c]);return(0,r.jsx)(l.Provider,{value:{availableProducts:f,addProduct:m,editProduct:p,deleteProduct:h,getProductByName:x},children:t})},u=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useProductContext must be used within a ProductProvider");return e}},36654:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var r=a(95155),s=a(12115),i=a(79313),n=a(36950),l=a(87270),o=a(3998),d=a(51834),c=a(17037),u=a(11647),m=a(90043),p=a(93790),h=a(77187),x=a(81288),f=a(5225),g=a(53489),y=a(36654),b=a(45444);let v=(0,a(14294).A)("BookOpenText",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);var N=a(78770),j=a(5282),k=a(19056),w=a(15894),A=a(88906),C=a(80158),D=a(76444),T=a(31120),E=a(86259),P=a(31524);function M(e){var t;let{history:a}=e,[i,n]=(0,s.useState)(null),[M,S]=(0,s.useState)(!1),{toast:F}=(0,w.dj)(),[O,I]=(0,s.useState)("timestamp"),[B,H]=(0,s.useState)("desc"),{selectedProduct:_}=(0,P.G)(),R=(e,t)=>{let a="Brochure"===t.deckFormatHint?"Brochure":"Deck",r="".concat(a," Title: ").concat(e.deckTitle,"\n\n");return r+="Product: ".concat(t.product,"\n"),r+="Format: ".concat(t.deckFormatHint,"\n"),r+="Context Source Description: ".concat(t.sourceDescriptionForAi||(t.generateFromAllKb?"Entire KB":"".concat(t.knowledgeBaseItems.length," selected KB items/uploads")),"\n"),t.knowledgeBaseItems&&t.knowledgeBaseItems.length>0&&(r+="Context Item Names (and Text if applicable):\n".concat(t.knowledgeBaseItems.map(e=>{let t="  - ".concat(e.name," (").concat(e.isTextEntry?"Text":e.fileType||"File",")");return e.textContent&&(t+="\n    Text Content (excerpt): ".concat(e.textContent.substring(0,100),"...")),t}).join("\n"),"\n\n")),e.sections.forEach((e,a)=>{r+="--------------------------------------------------\n",r+="".concat("Brochure"===t.deckFormatHint?"Panel/Section":"Slide"," ").concat(a+1,": ").concat(e.title,"\n"),r+="--------------------------------------------------\n",r+="".concat(e.content,"\n\n"),e.notes&&(r+="".concat("Brochure"===t.deckFormatHint?"Internal Notes/Suggestions":"Speaker Notes",":\n").concat(e.notes,"\n\n"))}),r},z=(e,t)=>{if(!e.details.materialOutput||e.details.error)return void F({variant:"destructive",title:"Download Error",description:"Material content is not available due to a generation error."});let a=e.details.materialOutput,r=e.details.inputData,s=r.deckFormatHint,i="Training_".concat("Brochure"===s?"Brochure":"PDF"===s?"Document":"Outline","_").concat(r.product.replace(/\s+/g,"_"),"_").concat((0,j.GP)((0,k.H)(e.timestamp),"yyyyMMddHHmmss")),n=R(a,r);if("pdf"===t){let e="".concat(i,".pdf");(0,A.oc)(n,e),F({title:"".concat(s," Content Exported as PDF"),description:"".concat(e," has been downloaded.")})}else if("doc"===t){let e="".concat(i,".doc");(0,C.U3)(e,n),F({title:"".concat(s," Content Exported as Text for Word (.doc)"),description:"".concat(e," has been downloaded.")})}},U=e=>{if(!e.details.materialOutput||e.details.error)return void F({variant:"destructive",title:"Copy Error",description:"Material content not available."});let t=R(e.details.materialOutput,e.details.inputData);navigator.clipboard.writeText(t).then(()=>F({title:"Success",description:"Material content copied to clipboard!"})).catch(()=>F({variant:"destructive",title:"Error",description:"Failed to copy material content."}))},K=e=>{let t="asc";O===e&&"asc"===B&&(t="desc"),I(e),H(t)},V=e=>O!==e?null:"asc"===B?(0,r.jsx)(m.A,{className:"ml-1 h-3 w-3 inline transform rotate-180"}):(0,r.jsx)(m.A,{className:"ml-1 h-3 w-3 inline"}),G=(0,s.useMemo)(()=>[...a].filter(e=>e.product===_).sort((e,t)=>{let a,r;switch(O){case"deckFormatHint":a=e.details.inputData.deckFormatHint,r=t.details.inputData.deckFormatHint;break;case"deckTitle":var s,i;a=(null==(s=e.details.materialOutput)?void 0:s.deckTitle)||(e.details.error?"Error":""),r=(null==(i=t.details.materialOutput)?void 0:i.deckTitle)||(t.details.error?"Error":"");break;case"sourceDescriptionForAi":a=e.details.inputData.sourceDescriptionForAi||(e.details.inputData.generateFromAllKb?"Entire KB":"".concat(e.details.inputData.knowledgeBaseItems.length," items")),r=t.details.inputData.sourceDescriptionForAi||(t.details.inputData.generateFromAllKb?"Entire KB":"".concat(t.details.inputData.knowledgeBaseItems.length," items"));break;case"timestamp":a=new Date(e.timestamp).getTime(),r=new Date(t.timestamp).getTime();break;default:return 0}let n=0;return"number"==typeof a&&"number"==typeof r?n=a-r:"string"==typeof a&&"string"==typeof r?n=a.localeCompare(r):null==a?n=-1:null==r&&(n=1),"desc"===B?-1*n:n}),[a,O,B,_]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full mt-2 shadow-lg rounded-lg border bg-card",children:(0,r.jsx)(c.F,{className:"h-[calc(100vh-280px)] md:h-[calc(100vh-250px)]",children:(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{className:"sticky top-0 bg-muted/50 backdrop-blur-sm z-10",children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsxs)(l.nd,{onClick:()=>K("deckTitle"),className:"cursor-pointer",children:["Material Title ",V("deckTitle")]}),(0,r.jsxs)(l.nd,{onClick:()=>K("deckFormatHint"),className:"cursor-pointer",children:["Format ",V("deckFormatHint")]}),(0,r.jsxs)(l.nd,{onClick:()=>K("sourceDescriptionForAi"),className:"cursor-pointer max-w-[200px]",children:["Context Source ",V("sourceDescriptionForAi")]}),(0,r.jsxs)(l.nd,{onClick:()=>K("timestamp"),className:"cursor-pointer",children:["Date Created ",V("timestamp")]}),(0,r.jsx)(l.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(l.BF,{children:0===G.length?(0,r.jsx)(l.Hj,{children:(0,r.jsxs)(l.nA,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:["No training materials generated for '",_,"' yet."]})}):G.map(e=>{var t,a;return(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{className:"font-medium max-w-[200px] truncate",title:(null==(t=e.details.materialOutput)?void 0:t.deckTitle)||e.details.inputData.product,children:e.details.error?(0,r.jsx)(u.E,{variant:"destructive",children:"Error Generating"}):(0,r.jsxs)(r.Fragment,{children:["Brochure"===e.details.inputData.deckFormatHint?(0,r.jsx)(p.A,{className:"inline-block mr-2 h-4 w-4 text-muted-foreground"}):(0,r.jsx)(h.A,{className:"inline-block mr-2 h-4 w-4 text-muted-foreground"}),(null==(a=e.details.materialOutput)?void 0:a.deckTitle)||"Untitled Material"]})}),(0,r.jsx)(l.nA,{children:(0,r.jsx)(u.E,{variant:"outline",children:e.details.inputData.deckFormatHint})}),(0,r.jsx)(l.nA,{className:"text-xs max-w-[200px] truncate",title:e.details.inputData.sourceDescriptionForAi||(e.details.inputData.generateFromAllKb?"Entire KB":"".concat(e.details.inputData.knowledgeBaseItems.length," items")),children:e.details.inputData.sourceDescriptionForAi||(e.details.inputData.generateFromAllKb?"Entire KB":"".concat(e.details.inputData.knowledgeBaseItems.length," KB items / uploads"))}),(0,r.jsx)(l.nA,{children:(0,j.GP)((0,k.H)(e.timestamp),"PP p")}),(0,r.jsxs)(l.nA,{className:"text-right space-x-1",children:[(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>U(e),disabled:!!e.details.error||!e.details.materialOutput,title:e.details.error?"Cannot copy, error in generation":"Copy Material Content",className:"h-8 w-8",children:(0,r.jsx)(x.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>z(e,"pdf"),disabled:!!e.details.error||!e.details.materialOutput,title:e.details.error?"Cannot download, error in generation":"Download Content as PDF",className:"h-8 w-8",children:(0,r.jsx)(f.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>z(e,"doc"),disabled:!!e.details.error||!e.details.materialOutput,title:e.details.error?"Cannot download, error in generation":"Download Content as Text for Word (.doc)",className:"h-8 w-8",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})}),(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{n(e),S(!0)},title:"View Generated Material & Inputs",children:[(0,r.jsx)(y.A,{className:"mr-1.5 h-4 w-4"})," View"]})]})]},e.id)})})]})})}),i&&(0,r.jsx)(d.lG,{open:M,onOpenChange:S,children:(0,r.jsxs)(d.Cf,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl min-h-[70vh] max-h-[85vh] flex flex-col p-0",children:[(0,r.jsxs)(d.c7,{className:"p-6 pb-2 border-b",children:[(0,r.jsx)(d.L3,{className:"text-xl text-primary",children:"Generated Training Material Details"}),(0,r.jsxs)(d.rr,{children:["Material: ",(null==(t=i.details.materialOutput)?void 0:t.deckTitle)||"N/A"," (Created: ",(0,j.GP)((0,k.H)(i.timestamp),"PP p"),")"]})]}),(0,r.jsx)(c.F,{className:"flex-grow overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[i.details.error?(0,r.jsxs)("div",{className:"space-y-3 text-sm text-destructive bg-destructive/10 p-4 rounded-md",children:[(0,r.jsx)("p",{className:"font-semibold text-lg",children:"Error During Material Generation:"}),(0,r.jsx)(D.J,{className:"font-medium",children:"Input Parameters:"}),(0,r.jsx)("pre",{className:"p-2 bg-background/50 rounded-md text-xs whitespace-pre-wrap break-all",children:"Product: ".concat(i.details.inputData.product,"\nFormat: ").concat(i.details.inputData.deckFormatHint,"\nContext Source: ").concat(i.details.inputData.sourceDescriptionForAi||(i.details.inputData.generateFromAllKb?"Entire KB":"".concat(i.details.inputData.knowledgeBaseItems.length," KB items/uploads")))}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Error Message:"})," ",i.details.error]})]}):i.details.materialOutput?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-md text-muted-foreground mb-2 flex items-center",children:[(0,r.jsx)(b.A,{className:"mr-2 h-5 w-5 text-accent"}),"Input Parameters"]}),(0,r.jsxs)("div",{className:"p-3 bg-muted/10 rounded-md text-sm space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Product:"})," ",i.details.inputData.product]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Format:"})," ",i.details.inputData.deckFormatHint]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"AI Context Source Description:"})," ",i.details.inputData.sourceDescriptionForAi||(i.details.inputData.generateFromAllKb?"Entire KB for product":"".concat(i.details.inputData.knowledgeBaseItems.length," selected KB items / direct uploads"))]}),i.details.inputData.knowledgeBaseItems&&i.details.inputData.knowledgeBaseItems.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)(D.J,{className:"font-medium text-xs",children:"Context Items Provided to AI:"}),(0,r.jsx)(c.F,{className:"h-32 mt-1 rounded-md border p-2 bg-background/50",children:(0,r.jsx)("ul",{className:"list-disc pl-4 text-xs",children:i.details.inputData.knowledgeBaseItems.map((e,t)=>(0,r.jsxs)("li",{children:[e.name," (",e.isTextEntry?"Text Entry":e.fileType||"File Reference",")",e.textContent&&(0,r.jsx)(T.T,{value:e.textContent.substring(0,200)+(e.textContent.length>200?"...":""),readOnly:!0,rows:2,className:"mt-1 text-xs bg-background/30"})]},t))})})]})]})]}),(0,r.jsx)(E.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-md text-muted-foreground mb-2 flex items-center",children:["Brochure"===i.details.inputData.deckFormatHint?(0,r.jsx)(p.A,{className:"mr-2 h-5 w-5 text-accent"}):(0,r.jsx)(v,{className:"mr-2 h-5 w-5 text-accent"}),"Generated Content (",i.details.materialOutput.deckTitle,")"]}),(0,r.jsx)("div",{className:"border p-3 rounded-md bg-background",children:i.details.materialOutput.sections.map((e,t)=>(0,r.jsxs)("div",{className:"pb-3 mb-3 border-b last:border-b-0",children:[(0,r.jsxs)("h5",{className:"font-medium text-md mb-1",children:["Brochure"===i.details.inputData.deckFormatHint?"Panel/Section":"Slide"," ",t+1,": ",e.title]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:e.content}),e.notes&&(0,r.jsxs)("p",{className:"text-xs text-accent-foreground/70 mt-1 italic",children:["Notes: ",e.notes]})]},t))})]})]}):(0,r.jsx)("p",{className:"text-muted-foreground",children:"No material output available for this entry."}),(0,r.jsxs)("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-md text-xs text-amber-700",children:[(0,r.jsx)(N.A,{className:"inline h-4 w-4 mr-1.5 align-text-bottom"}),"Note: Original uploaded files (PDF, DOCX, etc.) used as context are not stored with the activity log and cannot be re-downloaded from this dashboard. The AI generates content based on file names, types, and (for text-based files/prompts) their content."]})]})}),(0,r.jsxs)(d.Es,{className:"p-4 border-t bg-muted/50",children:[!i.details.error&&i.details.materialOutput&&(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>U(i),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Copy Content"]}),(0,r.jsx)(o.$,{onClick:()=>S(!1),children:"Close"})]})]})})]})}var S=a(20243),F=a(55253),O=a(85584),I=a(6259);function B(){let{activities:e}=(0,i.Z)(),[t,a]=(0,s.useState)(!1),{toast:l}=(0,w.dj)();(0,s.useEffect)(()=>{a(!0)},[]);let d=(0,s.useMemo)(()=>t?(e||[]).filter(e=>"Create Training Material"===e.module&&e.details&&"object"==typeof e.details&&"inputData"in e.details&&"materialOutput"in e.details&&"object"==typeof e.details.inputData&&"object"==typeof e.details.materialOutput).map(e=>e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],[e,t]),c=e=>{if(0===d.length)return void l({variant:"default",title:"No Data",description:"There is no training material history to export."});try{let t=["Timestamp","Agent Name","Product","Material Title","Format","Context Source","Error"],a=d.map(e=>{var t;return{Timestamp:(0,j.GP)((0,k.H)(e.timestamp),"yyyy-MM-dd HH:mm:ss"),AgentName:e.agentName||"N/A",Product:e.details.inputData.product,MaterialTitle:(null==(t=e.details.materialOutput)?void 0:t.deckTitle)||(e.details.error?"Error in generation":"N/A"),Format:e.details.inputData.deckFormatHint,ContextSource:(e.details.inputData.sourceDescriptionForAi||(e.details.inputData.generateFromAllKb?"Entire KB":"".concat(e.details.inputData.knowledgeBaseItems.length," KB items/uploads"))).substring(0,100)+"...",Error:e.details.error||""}}),r=a.map(e=>[e.Timestamp,e.AgentName,e.Product,e.MaterialTitle,e.Format,e.ContextSource,e.Error]),s=new Date().toISOString().replace(/:/g,"-").slice(0,19),i="training_material_history_".concat(s);"csv"===e?((0,C.yR)("".concat(i,".csv"),a),l({title:"Export Successful",description:"Training material history exported as CSV (for Excel)."})):"pdf"===e?((0,C.e3)("".concat(i,".pdf"),t,r),l({title:"Export Successful",description:"Training material history table exported as PDF."})):"doc"===e&&((0,C.mf)("".concat(i,".doc"),t,r),l({title:"Export Successful",description:"Training material history table exported as Text for Word (.doc)."}))}catch(t){l({variant:"destructive",title:"Export Failed",description:"Could not export training material history to ".concat(e.toUpperCase(),". Error: ").concat(t instanceof Error?t.message:String(t))}),console.error("Training Material History ".concat(e.toUpperCase()," Export error:"),t)}};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)(n.z,{title:"Training Material Dashboard"}),(0,r.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(I.rI,{children:[(0,r.jsx)(I.ty,{asChild:!0,children:(0,r.jsxs)(o.$,{variant:"outline",children:[(0,r.jsx)(F.A,{className:"mr-2 h-4 w-4"})," Export Options"]})}),(0,r.jsxs)(I.SQ,{align:"end",children:[(0,r.jsxs)(I._2,{onClick:()=>c("csv"),children:[(0,r.jsx)(O.A,{className:"mr-2 h-4 w-4"})," Export as CSV (for Excel)"]}),(0,r.jsxs)(I._2,{onClick:()=>c("pdf"),children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Export Table as PDF"]}),(0,r.jsxs)(I._2,{onClick:()=>c("doc"),children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Export Table as Text for Word (.doc)"]})]})]})}),t?(0,r.jsx)(M,{history:d}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(S.E,{className:"h-12 w-full"}),(0,r.jsx)(S.E,{className:"h-20 w-full"}),(0,r.jsx)(S.E,{className:"h-20 w-full"}),(0,r.jsx)(S.E,{className:"h-20 w-full"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground p-4 border-t",children:["This dashboard displays a history of generated Training Materials (Decks/Brochures). Each entry's content outline can be viewed and downloaded. Original uploaded files used as context are not stored and cannot be re-downloaded from here. The AI generates content based on file names/types and (for text-based files/prompts) their content. Activity log is limited to the most recent ",i.H," entries."]})]})]})}},36950:(e,t,a)=>{"use strict";a.d(t,{z:()=>d});var r=a(95155),s=a(12410),i=a(64269);function n(e){let{text:t,className:a,...s}=e;return(0,r.jsx)("h1",{className:(0,i.cn)("text-lg font-semibold md:text-xl text-foreground",a),...s,children:t})}var l=a(44385),o=a(44622);function d(e){let{title:t}=e,a=(0,l.a)();return(0,r.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background/80 backdrop-blur-sm px-4 md:px-6",children:[a&&(0,r.jsxs)(s.x2,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]}),(0,r.jsx)(n,{text:t,className:"flex-1"})]})}},45444:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>h,c7:()=>m,lG:()=>o,rr:()=>x});var r=a(95155),s=a(12115),i=a(89511),n=a(26615),l=a(64269);let o=i.bL;i.l9;let d=i.ZL;i.bm;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=i.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(i.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});h.displayName=i.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=i.VY.displayName},55253:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},67050:(e,t,a)=>{"use strict";a.d(t,{M:()=>l});var r=a(12115);let s=[],i=!1;async function n(){if(!i){for(i=!0;s.length>0;){let e=s.shift();if(e)try{await e()}catch(e){console.error("Error processing save queue task:",e)}}i=!1}}function l(e,t){let[a,l]=(0,r.useState)(()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):"function"==typeof t?t():t}catch(a){return console.error("Error reading localStorage key “".concat(e,"”:"),a),"function"==typeof t?t():t}}),o=(0,r.useRef)(!1);(0,r.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let d=(0,r.useCallback)(t=>{try{let r=t instanceof Function?t(a):t;l(r),s.push(()=>new Promise((t,a)=>{try{window.localStorage.setItem(e,JSON.stringify(r)),t()}catch(t){t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)?console.error("Error setting localStorage key “".concat(e,"”: QUOTA EXCEEDED.")):console.error("Error setting localStorage key “".concat(e,"”:"),t),a(t)}})),i||n()}catch(t){console.error("Error calculating value to store for key “".concat(e,"”:"),t)}},[e,a]);return(0,r.useEffect)(()=>{let t=t=>{if(t.key===e&&t.newValue&&o.current)try{l(JSON.parse(t.newValue))}catch(e){console.error("Error parsing storage update:",e)}};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e]),[a,d]}},67593:(e,t,a)=>{Promise.resolve().then(a.bind(a,36699))},72251:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(95155),s=a(12115),i=a(10489),n=a(83101),l=a(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),a),...s})});d.displayName=i.b.displayName},77187:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},78770:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},79313:(e,t,a)=>{"use strict";a.d(t,{ActivityLogProvider:()=>c,H:()=>l,Z:()=>u});var r=a(95155),s=a(67050),i=a(16782),n=a(12115);let l=50,o=e=>{if("object"!=typeof e||null===e)return e;let t={...e};return"audioDataUri"in t&&delete t.audioDataUri,"fullConversation"in t&&delete t.fullConversation,t.materialOutput&&"object"==typeof t.materialOutput&&"sections"in t.materialOutput&&(t.materialOutput={deckTitle:t.materialOutput.deckTitle,sections:[{title:"(Content for ".concat(t.materialOutput.sections.length," sections is not stored in log)"),content:""}]}),t},d=(0,n.createContext)(void 0),c=e=>{let{children:t}=e,[a,c]=(0,s.M)("aiTeleSuiteActivityLog",[]),{currentProfile:u}=(0,i.s)(),m=(0,n.useCallback)(e=>{let t={...e,id:Date.now().toString()+Math.random().toString(36).substring(2,9),timestamp:new Date().toISOString(),agentName:u,details:o(e.details)};return c(e=>[t,...e||[]].slice(0,l)),t.id},[c,u]),p=(0,n.useCallback)(e=>{if(!e||0===e.length)return;let t=e.map(e=>{var t;return{...e,id:Date.now().toString()+Math.random().toString(36).substring(2,9)+((null==(t=e.details)?void 0:t.fileName)||e.module),timestamp:new Date().toISOString(),agentName:u,details:o(e.details)}});c(e=>[...t.reverse(),...e||[]].slice(0,l))},[c,u]),h=(0,n.useCallback)((e,t)=>{c(a=>(a||[]).map(a=>{if(a.id===e){let e={...a.details,...t};return{...a,details:o(e)}}return a}))},[c]),x=(0,n.useCallback)(e=>{c(t=>(t||[]).filter(t=>!e.includes(t.id)))},[c]),f=(0,n.useCallback)(()=>{c([])},[c]);return(0,r.jsx)(d.Provider,{value:{activities:a||[],logActivity:m,logBatchActivities:p,updateActivity:h,deleteActivities:x,clearAllActivities:f,setActivities:c},children:t})},u=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useActivityLogger must be used within an ActivityLogProvider");return e}},81288:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},85584:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>o,Hj:()=>d,XI:()=>n,nA:()=>u,nd:()=>c});var r=a(95155),s=a(12115),i=a(64269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...s})})});n.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...s})});l.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},90043:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},93790:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]])}},e=>{e.O(0,[3930,5033,4909,6077,9972,6107,8458,312,6241,4589,2410,2535,8441,1255,7358],()=>e(e.s=67593)),_N_E=e.O()}]);