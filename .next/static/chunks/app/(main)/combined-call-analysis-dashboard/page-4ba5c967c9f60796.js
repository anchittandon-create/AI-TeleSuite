(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2070],{4156:(e,t,a)=>{Promise.resolve().then(a.bind(a,92343))},5418:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},13496:(e,t,a)=>{"use strict";a.d(t,{$m:()=>o,As:()=>d,nD:()=>c,ub:()=>u});var s=a(95155),r=a(12115),l=a(16083),i=a(59007),n=a(64269);let c=l.bL,d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,n.cn)("border-b",a),...r})});d.displayName="AccordionItem";let o=r.forwardRef((e,t)=>{let{className:a,children:r,...c}=e;return(0,s.jsx)(l.Y9,{className:"flex",children:(0,s.jsxs)(l.l9,{ref:t,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...c,children:[r,(0,s.jsx)(i.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});o.displayName=l.l9.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsx)(l.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,s.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",a),children:r})})});u.displayName=l.UC.displayName},14806:(e,t,a)=>{"use strict";e.exports=a(30125)},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>c,TN:()=>o,XL:()=>d});var s=a(95155),r=a(12115),l=a(83101),i=a(64269);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(n({variant:r}),a),...l})});c.displayName="Alert";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});d.displayName="AlertTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});o.displayName="AlertDescription"},27314:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},30125:(e,t,a)=>{"use strict";var s=a(12115),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=s.useState,i=s.useEffect,n=s.useLayoutEffect,c=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),s=l({inst:{value:a,getSnapshot:t}}),r=s[0].inst,o=s[1];return n(function(){r.value=a,r.getSnapshot=t,d(r)&&o({inst:r})},[e,a,t]),i(function(){return d(r)&&o({inst:r}),e(function(){d(r)&&o({inst:r})})},[e]),c(a),a};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:o},36654:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},42176:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},43044:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]])},46591:(e,t,a)=>{"use strict";a.d(t,{H4:()=>b,_V:()=>N,bL:()=>k});var s=a(12115),r=a(3468),l=a(70222),i=a(4129),n=a(97602),c=a(14806);function d(){return()=>{}}var o=a(95155),u="Avatar",[h,p]=(0,r.A)(u),[m,x]=h(u),y=s.forwardRef((e,t)=>{let{__scopeAvatar:a,...r}=e,[l,i]=s.useState("idle");return(0,o.jsx)(m,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,o.jsx)(n.sG.span,{...r,ref:t})})});y.displayName=u;var f="AvatarImage",v=s.forwardRef((e,t)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:u=()=>{},...h}=e,p=x(f,a),m=function(e,t){let{referrerPolicy:a,crossOrigin:r}=t,l=(0,c.useSyncExternalStore)(d,()=>!0,()=>!1),n=s.useRef(null),o=l?(n.current||(n.current=new window.Image),n.current):null,[u,h]=s.useState(()=>A(o,e));return(0,i.N)(()=>{h(A(o,e))},[o,e]),(0,i.N)(()=>{let e=e=>()=>{h(e)};if(!o)return;let t=e("loaded"),s=e("error");return o.addEventListener("load",t),o.addEventListener("error",s),a&&(o.referrerPolicy=a),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",t),o.removeEventListener("error",s)}},[o,r,a]),u}(r,h),y=(0,l.c)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==m&&y(m)},[m,y]),"loaded"===m?(0,o.jsx)(n.sG.img,{...h,ref:t,src:r}):null});v.displayName=f;var j="AvatarFallback",g=s.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:r,...l}=e,i=x(j,a),[c,d]=s.useState(void 0===r);return s.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(e)}},[r]),c&&"loaded"!==i.imageLoadingStatus?(0,o.jsx)(n.sG.span,{...l,ref:t}):null});function A(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}g.displayName=j;var k=y,N=v,b=g},53756:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("ChartBarBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]])},55253:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},60412:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},74421:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},81288:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},85584:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},86126:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},91851:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(14294).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},92343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(95155),r=a(12115),l=a(79313),i=a(36950),n=a(3998),c=a(86948),d=a(17037),o=a(51834),u=a(87270),h=a(11647),p=a(20243),m=a(39268),x=a(80158),y=a(15894),f=a(5282),v=a(19056),j=a(55253),g=a(85584),A=a(5225),k=a(36654),N=a(6259),b=a(31524),w=a(76444),C=a(11186);function S(){let{activities:e}=(0,l.Z)(),[t,a]=(0,r.useState)(!1),{toast:S}=(0,y.dj)(),{availableProducts:M}=(0,b.G)(),[E,z]=(0,r.useState)("All"),[P,R]=(0,r.useState)(null),[F,H]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a(!0)},[]);let L=(0,r.useMemo)(()=>t?(e||[]).filter(e=>"Combined Call Analysis"===e.module&&e.details&&"object"==typeof e.details&&"input"in e.details&&"output"in e.details&&"object"==typeof e.details.input&&"object"==typeof e.details.output).map(e=>e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],[e,t]),_=(0,r.useMemo)(()=>"All"===E?L:L.filter(e=>e.product===E),[L,E]),O=e=>{if(0===_.length)return void S({title:"No Data",description:"No combined analysis history for '".concat(E,"' to export.")});try{let t=["Timestamp","Product Focus","Calls Analyzed","Avg Score","Batch Category","Executive Summary"],a=_.map(e=>{var t,a;let s=e.details.output;return{Timestamp:(0,f.GP)((0,v.H)(e.timestamp),"yyyy-MM-dd HH:mm:ss"),ProductFocus:s.productFocus,CallsAnalyzed:s.numberOfCallsAnalyzed,AvgScore:null!=(a=null==(t=s.averageOverallScore)?void 0:t.toFixed(2))?a:"N/A",BatchCategory:s.overallBatchCategorization||"N/A",ExecutiveSummary:(s.batchExecutiveSummary||"").substring(0,100)+"..."}}),s=a.map(e=>Object.values(e)),r=new Date().toISOString().replace(/:/g,"-").slice(0,19),l="combined_analysis_history_".concat(E,"_").concat(r);"csv"===e?(0,x.yR)("".concat(l,".csv"),a):"pdf"===e?(0,x.e3)("".concat(l,".pdf"),t,s):"doc"===e&&(0,x.mf)("".concat(l,".doc"),t,s),S({title:"Export Successful",description:"Combined analysis history exported as ".concat(e.toUpperCase(),".")})}catch(e){S({variant:"destructive",title:"Export Failed",description:"Could not export history. Error: ".concat(e instanceof Error?e.message:String(e))})}};return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)(i.z,{title:"Combined Call Analysis Dashboard"}),(0,s.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(w.J,{htmlFor:"product-filter",className:"text-sm",children:"Product:"}),(0,s.jsxs)(C.l6,{value:E,onValueChange:z,children:[(0,s.jsx)(C.bq,{id:"product-filter",className:"w-[180px]",children:(0,s.jsx)(C.yv,{placeholder:"Filter by product"})}),(0,s.jsxs)(C.gC,{children:[(0,s.jsx)(C.eb,{value:"All",children:"All Products"}),M.map(e=>(0,s.jsx)(C.eb,{value:e.name,children:e.displayName},e.name))]})]})]}),(0,s.jsxs)(N.rI,{children:[(0,s.jsx)(N.ty,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Export Options"]})}),(0,s.jsxs)(N.SQ,{align:"end",children:[(0,s.jsxs)(N._2,{onClick:()=>O("csv"),children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Export Table as CSV"]}),(0,s.jsxs)(N._2,{onClick:()=>O("pdf"),children:[(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Export Table as PDF"]}),(0,s.jsxs)(N._2,{onClick:()=>O("doc"),children:[(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Export Table as Text for Word"]})]})]})]}),t?(0,s.jsxs)(c.Zp,{className:"shadow-md",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Combined Analysis Reports"}),(0,s.jsx)(c.BT,{children:"History of aggregated call scoring reports."})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)(d.F,{className:"h-[calc(100vh-380px)]",children:(0,s.jsxs)(u.XI,{children:[(0,s.jsx)(u.A0,{children:(0,s.jsxs)(u.Hj,{children:[(0,s.jsx)(u.nd,{children:"Date"}),(0,s.jsx)(u.nd,{children:"Product"}),(0,s.jsx)(u.nd,{className:"text-center",children:"Calls Analyzed"}),(0,s.jsx)(u.nd,{className:"text-center",children:"Average Score"}),(0,s.jsx)(u.nd,{children:"Overall Categorization"}),(0,s.jsx)(u.nd,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(u.BF,{children:0===_.length?(0,s.jsx)(u.Hj,{children:(0,s.jsxs)(u.nA,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:["No combined analysis reports found for '",E,"'."]})}):_.map(e=>{var t,a;return(0,s.jsxs)(u.Hj,{children:[(0,s.jsx)(u.nA,{className:"text-xs",children:(0,f.GP)((0,v.H)(e.timestamp),"PP p")}),(0,s.jsx)(u.nA,{children:(0,s.jsx)(h.E,{variant:"secondary",children:e.product})}),(0,s.jsx)(u.nA,{className:"text-center",children:e.details.output.numberOfCallsAnalyzed}),(0,s.jsx)(u.nA,{className:"text-center font-mono font-semibold",children:null!=(a=null==(t=e.details.output.averageOverallScore)?void 0:t.toFixed(2))?a:"N/A"}),(0,s.jsx)(u.nA,{className:"max-w-[200px] truncate",title:e.details.output.overallBatchCategorization,children:e.details.output.overallBatchCategorization}),(0,s.jsx)(u.nA,{className:"text-right",children:(0,s.jsxs)(n.$,{variant:"outline",size:"xs",onClick:()=>{R(e),H(!0)},children:[(0,s.jsx)(k.A,{className:"mr-1.5 h-3.5 w-3.5"})," View Report"]})})]},e.id)})})]})})})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.E,{className:"h-12 w-full"})," ",(0,s.jsx)(p.E,{className:"h-20 w-full"})," ",(0,s.jsx)(p.E,{className:"h-20 w-full"})," ",(0,s.jsx)(p.E,{className:"h-20 w-full"})]}),P&&(0,s.jsx)(o.lG,{open:F,onOpenChange:H,children:(0,s.jsxs)(o.Cf,{className:"sm:max-w-4xl md:max-w-5xl lg:max-w-6xl max-h-[90vh] flex flex-col p-0",children:[(0,s.jsxs)(o.c7,{className:"p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[(0,s.jsx)(o.L3,{className:"text-lg text-primary",children:"Combined Call Analysis Report"}),(0,s.jsxs)(o.rr,{className:"text-xs",children:["Product: ",P.product||"N/A"," | Generated: ",(0,f.GP)((0,v.H)(P.timestamp),"PPPP pppp")]})]}),(0,s.jsx)(d.F,{className:"flex-grow p-4 overflow-y-auto",children:(0,s.jsx)(m.e,{report:P.details.output,individualScores:P.details.input.callReports||[]})}),(0,s.jsx)(o.Es,{className:"p-3 border-t bg-muted/50 sticky bottom-0",children:(0,s.jsx)(n.$,{onClick:()=>H(!1),size:"sm",children:"Close"})})]})})]})]})}}},e=>{e.O(0,[2581,3930,5033,4909,6077,9972,6107,8458,4037,312,2254,6241,4589,2558,2410,7380,2535,710,1841,8441,1255,7358],()=>e(e.s=4156)),_N_E=e.O()}]);