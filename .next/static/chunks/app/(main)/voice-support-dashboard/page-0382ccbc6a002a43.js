(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9633],{5418:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(95155);a(12115);var s=a(83101),n=a(64269);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...s})}},13496:(e,t,a)=>{"use strict";a.d(t,{$m:()=>c,As:()=>d,nD:()=>o,ub:()=>u});var r=a(95155),s=a(12115),n=a(16083),i=a(59007),l=a(64269);let o=n.bL,d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,l.cn)("border-b",a),...s})});d.displayName="AccordionItem";let c=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsx)(n.Y9,{className:"flex",children:(0,r.jsxs)(n.l9,{ref:t,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...o,children:[s,(0,r.jsx)(i.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=n.l9.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsx)(n.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,r.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",a),children:s})})});u.displayName=n.UC.displayName},14482:(e,t,a)=>{"use strict";function r(e){return new Promise((t,a)=>{let r=new FileReader;r.onload=()=>{"string"==typeof r.result?t(r.result):a(Error("Failed to read file as Data URL."))},r.onerror=e=>{a(e)},r.readAsDataURL(e)})}a.d(t,{zM:()=>r})},14806:(e,t,a)=>{"use strict";e.exports=a(30125)},15750:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var r=a(95155),s=a(12115),n=a(79313),i=a(36950),l=a(3998),o=a(86948),d=a(17037),c=a(18332),u=a(51834),p=a(87270),m=a(11647),f=a(20243),x=a(40710),h=a(80158),g=a(15894),y=a(5282),v=a(19056),w=a(55253),b=a(85584),N=a(5225),j=a(6943),A=a(92033),S=a(92649),T=a(18527),k=a(56630),I=a(86126),E=a(36654),C=a(78770),D=a(30664),R=a(81288),P=a(53489),M=a(6259),O=a(31524),z=a(76444),L=a(11186),F=a(64201),U=a(39437),_=a(75335);function H(){let{activities:e,updateActivity:t}=(0,n.Z)(),{files:a}=(0,U.J)(),[H,V]=(0,s.useState)(!1),{toast:B}=(0,g.dj)(),[Z,G]=(0,s.useState)(null),[q,K]=(0,s.useState)(!1),{availableProducts:W,getProductByName:Y}=(0,O.G)(),[$,Q]=(0,s.useState)("All"),[X,J]=(0,s.useState)(null),[ee,et]=(0,s.useState)(null),ea=(0,s.useRef)(null),er=(0,s.useCallback)(e=>{if(ee===e.id){var t;null==(t=ea.current)||t.pause(),et(null)}else e.details.fullCallAudioDataUri&&ea.current?(ea.current.src=e.details.fullCallAudioDataUri,ea.current.play().catch(e=>B({variant:"destructive",title:"Playback Error",description:e.message})),et(e.id)):B({variant:"destructive",title:"Playback Error",description:"Audio data is not available for this interaction."})},[ee,B]);(0,s.useEffect)(()=>{let e=ea.current,t=()=>et(null);return null==e||e.addEventListener("ended",t),null==e||e.addEventListener("pause",t),()=>{null==e||e.removeEventListener("ended",t),null==e||e.removeEventListener("pause",t)}},[]),(0,s.useEffect)(()=>{V(!0)},[]);let es=(0,s.useMemo)(()=>H?(e||[]).filter(e=>"AI Voice Support Agent"===e.module&&e.details&&"object"==typeof e.details&&"flowInput"in e.details&&("flowOutput"in e.details||"error"in e.details||"fullConversation"in e.details)).map(e=>e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],[e,H]),en=(0,s.useMemo)(()=>"All"===$?es:es.filter(e=>e.product===$),[es,$]),ei=(0,s.useCallback)(async e=>{if(!e.details.fullTranscriptText||!e.product)return void B({variant:"destructive",title:"Scoring Error",description:"Transcript or product context is missing."});J(e.id);try{let r=Y(e.product);if(!r)throw Error("Product details not found for scoring.");let s=((e,t)=>{if(!e||!Array.isArray(e))return"Knowledge Base not yet loaded or is empty.";let a=e.filter(e=>e.product===t.name);if(0===a.length)return"No specific knowledge base content found for this product.";let r="Knowledge Base Context for Product: ".concat(t.displayName,"\n---\n");for(let e of a){let t="(File: ".concat(e.name,", Type: ").concat(e.type,". Content not directly viewed for non-text or large files; AI should use name/type as context.)");e.isTextEntry&&e.textContent&&(t=e.textContent);let a="Item: ".concat(e.name,"\nType: ").concat(e.isTextEntry?"Text Entry":"File","\nContent Summary/Reference:\n").concat(t,"\n---\n");if(r.length+a.length>3e4){r+="... (Knowledge Base truncated due to length limit for AI context)\n";break}r+=a}return r.substring(0,3e4)})(a,r),n=await (0,F.t)({transcriptOverride:e.details.fullTranscriptText,product:e.product,agentName:e.details.flowInput.agentName,productContext:s});t(e.id,{...e.details,finalScore:n}),G(e=>e?{...e,details:{...e.details,finalScore:n}}:null),B({title:"Scoring Complete",description:"Interaction with ".concat(e.details.flowInput.userName," has been scored.")})}catch(e){B({variant:"destructive",title:"AI Scoring Failed",description:e.message})}finally{J(null)}},[t,B,Y,a]),el=e=>{if(0===en.length)return void B({title:"No Data",description:"No support interaction history for '".concat($,"' to export.")});try{let t=["Timestamp","App Agent","AI Agent Name","Customer Name","Product","User Query (Start)","Escalation Suggested","Error"],a=en.map(e=>{var t;return{Timestamp:(0,y.GP)((0,v.H)(e.timestamp),"yyyy-MM-dd HH:mm:ss"),AppAgent:e.agentName||"N/A",AIAgentName:e.details.flowInput.agentName||"N/A",CustomerName:e.details.flowInput.userName||"N/A",Product:e.details.flowInput.product,UserQueryStart:e.details.flowInput.userQuery.substring(0,50)+(e.details.flowInput.userQuery.length>50?"...":""),EscalationSuggested:(null==(t=e.details.flowOutput)?void 0:t.escalationSuggested)?"Yes":"No",Error:e.details.error||""}}),r=a.map(e=>Object.values(e)),s=new Date().toISOString().replace(/:/g,"-").slice(0,19),n="voice_support_interaction_history_".concat($,"_").concat(s);"csv"===e?(0,h.yR)("".concat(n,".csv"),a):"pdf"===e?(0,h.e3)("".concat(n,".pdf"),t,r):"doc"===e&&(0,h.mf)("".concat(n,".doc"),t,r),B({title:"Export Successful",description:"Support interaction history exported as ".concat(e.toUpperCase(),".")})}catch(e){B({variant:"destructive",title:"Export Failed",description:"Could not export history. Error: ".concat(e instanceof Error?e.message:String(e))})}};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)(i.z,{title:"AI Voice Support Agent Dashboard"}),(0,r.jsx)("audio",{ref:ea,className:"hidden"}),(0,r.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(z.J,{htmlFor:"product-filter",className:"text-sm",children:"Product:"}),(0,r.jsxs)(L.l6,{value:$,onValueChange:Q,children:[(0,r.jsx)(L.bq,{id:"product-filter",className:"w-[180px]",children:(0,r.jsx)(L.yv,{placeholder:"Filter by product"})}),(0,r.jsxs)(L.gC,{children:[(0,r.jsx)(L.eb,{value:"All",children:"All Products"}),W.map(e=>(0,r.jsx)(L.eb,{value:e.name,children:e.displayName},e.name))]})]})]}),(0,r.jsxs)(M.rI,{children:[(0,r.jsx)(M.ty,{asChild:!0,children:(0,r.jsxs)(l.$,{variant:"outline",children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Export Options"]})}),(0,r.jsxs)(M.SQ,{align:"end",children:[(0,r.jsxs)(M._2,{onClick:()=>el("csv"),children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Export Table as CSV"]}),(0,r.jsxs)(M._2,{onClick:()=>el("pdf"),children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Export Table as PDF"]}),(0,r.jsxs)(M._2,{onClick:()=>el("doc"),children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Export Table as Text for Word"]})]})]})]}),H?(0,r.jsxs)(o.Zp,{className:"shadow-md",children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)(o.ZB,{className:"flex items-center",children:[(0,r.jsx)(j.A,{className:"mr-2 h-5 w-5 text-primary"}),"Support Interaction Logs"]}),(0,r.jsx)(o.BT,{children:'History of AI-driven support interactions. Click "View" for details.'})]}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)(d.F,{className:"h-[calc(100vh-460px)] md:h-[calc(100vh-380px)]",children:(0,r.jsxs)(p.XI,{children:[(0,r.jsx)(p.A0,{className:"sticky top-0 bg-muted/50",children:(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nd,{children:"Date"}),(0,r.jsx)(p.nd,{children:"Customer"}),(0,r.jsx)(p.nd,{children:"Product"}),(0,r.jsx)(p.nd,{className:"text-center",children:"Score"}),(0,r.jsx)(p.nd,{className:"text-center",children:"Recording"}),(0,r.jsx)(p.nd,{className:"text-center",children:"Status"}),(0,r.jsx)(p.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(p.BF,{children:0===en.length?(0,r.jsx)(p.Hj,{children:(0,r.jsxs)(p.nA,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:["No support interactions logged for '",$,"' yet."]})}):en.map(e=>(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nA,{className:"text-xs",children:(0,y.GP)((0,v.H)(e.timestamp),"PP p")}),(0,r.jsx)(p.nA,{className:"text-xs max-w-[150px] truncate",title:e.details.flowInput.userName||"Unknown User",children:e.details.flowInput.userName||"Unknown User"}),(0,r.jsx)(p.nA,{className:"text-xs",children:e.details.flowInput.product}),(0,r.jsx)(p.nA,{className:"text-center text-xs",children:e.details.finalScore?"".concat(e.details.finalScore.overallScore.toFixed(1),"/5"):e.details.error?"N/A":(0,r.jsxs)(l.$,{size:"xs",variant:"secondary",onClick:()=>ei(e),disabled:X===e.id,children:[X===e.id?(0,r.jsx)(A.A,{className:"mr-1 h-3 w-3 animate-spin"}):(0,r.jsx)(S.A,{className:"mr-1 h-3 w-3"}),"Score"]})}),(0,r.jsx)(p.nA,{className:"text-center",children:e.details.fullCallAudioDataUri?(0,r.jsxs)(m.E,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:[(0,r.jsx)(T.A,{className:"mr-1 h-3 w-3"})," Available"]}):(0,r.jsx)(m.E,{variant:"outline",className:"text-xs",children:"N/A"})}),(0,r.jsx)(p.nA,{className:"text-center",children:e.details.error?(0,r.jsx)(m.E,{variant:"destructive",className:"text-xs",children:"Error"}):(0,r.jsx)(m.E,{variant:"secondary",className:"text-xs bg-green-100 text-green-700",children:"Completed"})}),(0,r.jsxs)(p.nA,{className:"text-right space-x-1",children:[e.details.fullCallAudioDataUri&&(0,r.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>er(e),className:"h-8 w-8",title:ee===e.id?"Pause":"Play",children:ee===e.id?(0,r.jsx)(k.A,{className:"h-4 w-4"}):(0,r.jsx)(I.A,{className:"h-4 w-4"})}),(0,r.jsxs)(l.$,{variant:"outline",size:"xs",onClick:()=>{G(e),K(!0)},children:[(0,r.jsx)(E.A,{className:"mr-1.5 h-3.5 w-3.5"})," View"]})]})]},e.id))})]})})})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.E,{className:"h-12 w-full"})," ",(0,r.jsx)(f.E,{className:"h-20 w-full"})," ",(0,r.jsx)(f.E,{className:"h-20 w-full"})," ",(0,r.jsx)(f.E,{className:"h-20 w-full"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground p-4 border-t",children:["Activity log is limited to the most recent ",n.H,' entries. Detailed interaction logs are available in the "View" dialog.']}),Z&&(0,r.jsx)(u.lG,{open:q,onOpenChange:K,children:(0,r.jsxs)(u.Cf,{className:"sm:max-w-3xl md:max-w-4xl lg:max-w-5xl max-h-[90vh] flex flex-col p-0",children:[(0,r.jsxs)(u.c7,{className:"p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[(0,r.jsx)(u.L3,{className:"text-lg text-primary",children:"Support Interaction Details"}),(0,r.jsxs)(u.rr,{className:"text-xs",children:["Customer: ",Z.details.flowInput.userName||"N/A"," | Product: ",Z.details.flowInput.product," | Date: ",(0,y.GP)((0,v.H)(Z.timestamp),"PPPP pppp")]})]}),(0,r.jsxs)(d.F,{className:"flex-grow p-4 overflow-y-auto",children:[Z.details.error&&(0,r.jsxs)(c.Fc,{variant:"destructive",className:"mb-4",children:[(0,r.jsx)(C.A,{className:"h-4 w-4"}),(0,r.jsx)(c.XL,{children:"Error during interaction"}),(0,r.jsx)(c.TN,{children:Z.details.error})]}),Z.details.flowInput&&(0,r.jsxs)(o.Zp,{className:"mb-4 bg-muted/30",children:[(0,r.jsx)(o.aR,{className:"pb-2 pt-3 px-4",children:(0,r.jsx)(o.ZB,{className:"text-sm",children:"Context Parameters"})}),(0,r.jsxs)(o.Wu,{className:"text-xs px-4 pb-3 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"AI Agent Name (Simulated):"})," ",Z.details.flowInput.agentName||"Default AI"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Customer Name:"})," ",Z.details.flowInput.userName||"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Product:"})," ",Z.details.flowInput.product]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Initial Query:"})," ",Z.details.flowInput.userQuery]})]})]}),Z.details.fullCallAudioDataUri?(0,r.jsxs)(o.Zp,{className:"mb-4",children:[(0,r.jsx)(o.aR,{className:"pb-2 pt-3 px-4",children:(0,r.jsx)(o.ZB,{className:"text-sm",children:"Full Interaction Audio Recording"})}),(0,r.jsxs)(o.Wu,{className:"px-4 pb-3",children:[(0,r.jsx)("audio",{controls:!0,src:Z.details.fullCallAudioDataUri,className:"w-full h-10",children:"Your browser does not support the audio element."}),(0,r.jsx)("div",{className:"mt-2 flex gap-2",children:(0,r.jsxs)(l.$,{variant:"outline",size:"xs",onClick:()=>(0,h.vG)(Z.details.fullCallAudioDataUri,"SupportInteraction_".concat(Z.details.flowInput.userName||"User",".wav")),children:[(0,r.jsx)(D.A,{className:"mr-1 h-3"}),"Download Full Audio (.wav)"]})})]})]}):(0,r.jsxs)(c.Fc,{variant:"default",className:"mb-4",children:[(0,r.jsx)(C.A,{className:"h-4 w-4"}),(0,r.jsx)(c.XL,{children:"Audio Recording Not Available"})]}),Z.details.fullTranscriptText?(0,r.jsxs)(o.Zp,{className:"mb-4",children:[(0,r.jsx)(o.aR,{className:"pb-2 pt-3 px-4",children:(0,r.jsx)(o.ZB,{className:"text-sm",children:"Conversation Log"})}),(0,r.jsxs)(o.Wu,{className:"px-4 pb-3",children:[(0,r.jsx)(d.F,{className:"h-48 w-full rounded-md border p-3 bg-background",children:(0,r.jsx)(_.X,{transcript:Z.details.fullTranscriptText})}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)(l.$,{variant:"outline",size:"xs",onClick:()=>{var e;return e=Z.details.fullTranscriptText,void(e&&navigator.clipboard.writeText(e).then(()=>B({title:"Success",description:"".concat("Log"," copied to clipboard!")})).catch(()=>B({variant:"destructive",title:"Error",description:"Failed to copy ".concat("log",".")})))},children:[(0,r.jsx)(R.A,{className:"mr-1 h-3"}),"Copy Log"]}),(0,r.jsxs)(l.$,{variant:"outline",size:"xs",onClick:()=>((e,t,a)=>{if(e)try{let r="".concat(t.replace(/[^a-zA-Z0-9]/g,"_")).concat("transcript"===a?"_interaction_log.txt":"_summary.txt");(0,h.U3)(r,e),B({title:"Download Successful",description:"".concat(a," file '").concat(r,"' downloaded.")})}catch(e){B({variant:"destructive",title:"Download Error",description:"Failed to download ".concat(a," file.")})}})(Z.details.fullTranscriptText,"SupportLog_".concat(Z.details.flowInput.userName||"User"),"transcript"),children:[(0,r.jsx)(P.A,{className:"mr-1 h-3"}),"Download Log"]})]})]})]}):(0,r.jsxs)(c.Fc,{variant:"default",className:"mb-4",children:[(0,r.jsx)(C.A,{className:"h-4 w-4"}),(0,r.jsx)(c.XL,{children:"Transcript Not Available"})]}),Z.details.flowOutput&&(0,r.jsxs)(o.Zp,{className:"bg-green-50 border-green-200",children:[(0,r.jsx)(o.aR,{className:"pb-2 pt-3 px-4",children:(0,r.jsxs)(o.ZB,{className:"text-sm text-green-800 flex items-center",children:[(0,r.jsx)(Bot,{size:16,className:"mr-2"}),"AI Response Summary"]})}),(0,r.jsxs)(o.Wu,{className:"text-xs px-4 pb-3 space-y-1 text-green-700",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Full Response Text:"})," ",Z.details.flowOutput.aiResponseText]}),Z.details.flowOutput.sourcesUsed&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Sources Used:"})," ",Z.details.flowOutput.sourcesUsed.join(", ")]}),Z.details.flowOutput.escalationSuggested&&(0,r.jsxs)("p",{className:"font-semibold",children:[(0,r.jsx)("strong",{children:"Escalation Suggested:"})," Yes"]})]})]}),Z.details.finalScore&&(0,r.jsx)(x.o,{results:Z.details.finalScore,fileName:"Simulated Call - ".concat(Z.details.flowInput.userName),agentName:Z.details.flowInput.agentName,product:Z.product,isHistoricalView:!0})]}),(0,r.jsx)(u.Es,{className:"p-3 border-t bg-muted/50 sticky bottom-0",children:(0,r.jsx)(l.$,{onClick:()=>K(!1),size:"sm",children:"Close"})})]})})]})]})}},17037:(e,t,a)=>{"use strict";a.d(t,{F:()=>l});var r=a(95155),s=a(12115),n=a(59034),i=a(64269);let l=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...l,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(o,{}),(0,r.jsx)(n.OK,{})]})});l.displayName=n.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,r.jsx)(n.VM,{ref:t,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=n.VM.displayName},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>o,TN:()=>c,XL:()=>d});var r=a(95155),s=a(12115),n=a(83101),i=a(64269);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:s}),a),...n})});o.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});d.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...s})});c.displayName="AlertDescription"},18527:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},27314:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},30125:(e,t,a)=>{"use strict";var r=a(12115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,i=r.useEffect,l=r.useLayoutEffect,o=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!s(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=n({inst:{value:a,getSnapshot:t}}),s=r[0].inst,c=r[1];return l(function(){s.value=a,s.getSnapshot=t,d(s)&&c({inst:s})},[e,a,t]),i(function(){return d(s)&&c({inst:s}),e(function(){d(s)&&c({inst:s})})},[e]),o(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},30664:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]])},30926:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let r=a(41209),s=a(85153),n=a(77197)},36654:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},39437:(e,t,a)=>{"use strict";a.d(t,{J:()=>c,KnowledgeBaseProvider:()=>d});var r=a(95155),s=a(67050),n=a(12115),i=a(14482);let l=[{id:"default-et-desc",name:"ET - Core Product Description",type:"text/plain",size:500,product:"ET",category:"Product Description",uploadDate:new Date().toISOString(),textContent:"ET Prime is the premium subscription service from The Economic Times, India's most respected business publication. It offers members exclusive access to deeply researched, investigative stories, and sharp, insightful analysis across more than 20 sectors. Key features include a completely ad-free reading experience on all platforms, the ET Portfolio management tool, daily stock reports, and over 25 curated sectoral newsletters. It is designed for business leaders, professionals, and serious investors who need to stay ahead of market trends and make informed decisions.",isTextEntry:!0},{id:"default-et-pitch",name:"ET - Standard Sales Pitch",type:"text/plain",size:450,product:"ET",category:"Pitch",uploadDate:new Date().toISOString(),textContent:"Hello {{userName}}, this is {{agentName}} calling from The Economic Times. I'm reaching out because our records show you've shown interest in our premium content. I wanted to take just a moment to share how an ET Prime membership can provide you with exclusive, data-driven stories and market analysis you won't find anywhere else. It's specifically designed to help professionals like you make smarter business and investment decisions. Are you familiar with our premium features?",isTextEntry:!0},{id:"default-et-pricing",name:"ET - Pricing Information",type:"text/plain",size:300,product:"ET",category:"Pricing",uploadDate:new Date().toISOString(),textContent:"We offer several flexible subscription plans for ET Prime. Our most popular option is the 1-Year plan. For greater value, we also have 2-Year and 3-Year plans that come with significant savings. Each plan provides full, unrestricted access to all ET Prime features, including our ad-free experience and exclusive content.",isTextEntry:!0},{id:"default-et-rebuttals",name:"ET - Common Rebuttals",type:"text/plain",size:600,product:"ET",category:"Rebuttals",uploadDate:new Date().toISOString(),textContent:"Objection: It's too expensive.\nRebuttal: I understand that cost is an important consideration. That's why many of our members see ET Prime not as an expense, but as an investment. The exclusive insights and analysis can help you identify opportunities or avoid risks that far outweigh the subscription cost. For example, a single insight from our stock reports could make a significant difference to your portfolio.\n\nObjection: I don't have time to read.\nRebuttal: I can certainly appreciate how busy you are, and that's exactly why ET Prime is so valuable. Our content is concise, and our newsletters provide curated briefings that save you time while keeping you informed on what truly matters in your sector. It's about getting the most critical information efficiently.",isTextEntry:!0},{id:"default-toi-desc",name:"TOI+ - Core Product Description",type:"text/plain",size:450,product:"TOI",category:"Product Description",uploadDate:new Date().toISOString(),textContent:"TOI+ is the premium digital subscription from The Times of India, offering readers access to exclusive, in-depth articles, investigative journalism, and expert opinions on the stories that matter most. It provides a deeper understanding of current events, beyond the daily news cycle. Subscribers enjoy an ad-lite experience on the website and app, along with access to over 200 exclusive stories each month and special long-form content.",isTextEntry:!0},{id:"default-toi-pitch",name:"TOI - Standard Sales Pitch",type:"text/plain",size:400,product:"TOI",category:"Pitch",uploadDate:new Date().toISOString(),textContent:"Hello {{userName}}, I'm {{agentName}} from The Times of India. I noticed you enjoy our news coverage, and I wanted to briefly introduce you to TOI+, our premium subscription service. It's for readers who want to go deeper into the stories shaping our world, with exclusive articles and expert analysis you won't find in our free content. Would you be interested in hearing more about the benefits?",isTextEntry:!0},{id:"default-toi-pricing",name:"TOI - Pricing Information",type:"text/plain",size:250,product:"TOI",category:"Pricing",uploadDate:new Date().toISOString(),textContent:"TOI+ offers flexible subscription options, including Monthly, Quarterly, and Annual plans to suit your reading habits. The Annual plan offers the best value for money, giving you a full year of unlimited access to our premium content.",isTextEntry:!0},{id:"default-toi-rebuttals",name:"TOI - Common Rebuttals",type:"text/plain",size:400,product:"TOI",category:"Rebuttals",uploadDate:new Date().toISOString(),textContent:"Objection: I get all my news for free.\nRebuttal: That's a fair point, as there is a lot of free news available. What our TOI+ members value is the trusted, in-depth analysis and exclusive stories that provide a much deeper perspective than surface-level news. It's about understanding the 'why' behind the headlines.",isTextEntry:!0}],o=(0,n.createContext)(void 0),d=e=>{let{children:t}=e,[a,d]=(0,s.M)("aiTeleSuiteKnowledgeBase_v5_with_data_uri",l);(0,n.useEffect)(()=>{if(a&&a.length>0){let e=!1,t=a.map(t=>{if(!t.isTextEntry&&t.dataUri){e=!0;let{dataUri:a,...r}=t;return r}return t});e&&(console.log("Finalizing Knowledge Base migration: Removing transient Data URIs from stored file entries."),d(t))}},[]);let c=(0,n.useCallback)(async e=>{var t;let a={id:Date.now().toString()+Math.random().toString(36).substring(2,9)+((null==(t=e.name)?void 0:t.substring(0,5))||"text"),uploadDate:new Date().toISOString(),name:(e.name||"Untitled Text Entry").substring(0,100),type:"text/plain",size:e.textContent.length,product:e.product,persona:e.persona,category:e.category||"General",textContent:e.textContent,isTextEntry:!0,dataUri:await (0,i.zM)(new Blob([e.textContent],{type:"text/plain"}))};return d(e=>[a,...e||[]].sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())),a},[d]),u=(0,n.useCallback)(async e=>{let t=e.map(async(e,t)=>{var a;let r=e.file,s=await (0,i.zM)(r);return{id:Date.now().toString()+Math.random().toString(36).substring(2,9)+((null==(a=r.name)?void 0:a.substring(0,5))||"file")+t,uploadDate:new Date().toISOString(),name:r.name||"Untitled File",type:r.type||"unknown",size:r.size,product:e.product,persona:e.persona,category:e.category||((e,t)=>{let a=e.toLowerCase();return a.includes("pricing")||a.includes("price")?"Pricing":a.includes("product")&&(a.includes("desc")||a.includes("detail"))?"Product Description":a.includes("rebuttal")?"Rebuttals":a.includes("pitch")||a.includes("script")?"Pitch":"General"})(r.name,r.type),isTextEntry:!1,dataUri:s}}),a=await Promise.all(t),r=a.map(e=>{let{dataUri:t,...a}=e;return a});return d(e=>[...r,...e||[]].sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())),a},[d]),p=(0,n.useCallback)(e=>{d(t=>(t||[]).filter(t=>t.id!==e))},[d]);return(0,r.jsx)(o.Provider,{value:{files:a||[],addFile:c,addFilesBatch:u,deleteFile:p,setFiles:d},children:t})};function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useKnowledgeBase must be used within a KnowledgeBaseProvider");return e}},46591:(e,t,a)=>{"use strict";a.d(t,{H4:()=>A,_V:()=>j,bL:()=>N});var r=a(12115),s=a(3468),n=a(70222),i=a(4129),l=a(97602),o=a(14806);function d(){return()=>{}}var c=a(95155),u="Avatar",[p,m]=(0,s.A)(u),[f,x]=p(u),h=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...s}=e,[n,i]=r.useState("idle");return(0,c.jsx)(f,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,c.jsx)(l.sG.span,{...s,ref:t})})});h.displayName=u;var g="AvatarImage",y=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:u=()=>{},...p}=e,m=x(g,a),f=function(e,t){let{referrerPolicy:a,crossOrigin:s}=t,n=(0,o.useSyncExternalStore)(d,()=>!0,()=>!1),l=r.useRef(null),c=n?(l.current||(l.current=new window.Image),l.current):null,[u,p]=r.useState(()=>b(c,e));return(0,i.N)(()=>{p(b(c,e))},[c,e]),(0,i.N)(()=>{let e=e=>()=>{p(e)};if(!c)return;let t=e("loaded"),r=e("error");return c.addEventListener("load",t),c.addEventListener("error",r),a&&(c.referrerPolicy=a),"string"==typeof s&&(c.crossOrigin=s),()=>{c.removeEventListener("load",t),c.removeEventListener("error",r)}},[c,s,a]),u}(s,p),h=(0,n.c)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==f&&h(f)},[f,h]),"loaded"===f?(0,c.jsx)(l.sG.img,{...p,ref:t,src:s}):null});y.displayName=g;var v="AvatarFallback",w=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:s,...n}=e,i=x(v,a),[o,d]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==i.imageLoadingStatus?(0,c.jsx)(l.sG.span,{...n,ref:t}):null});function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}w.displayName=v;var N=h,j=y,A=w},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>m,L3:()=>f,c7:()=>p,lG:()=>o,rr:()=>x});var r=a(95155),s=a(12115),n=a(89511),i=a(26615),l=a(64269);let o=n.bL;n.l9;let d=n.ZL;n.bm;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=n.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});f.displayName=n.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=n.VY.displayName},55253:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},60412:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},64201:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});var r=a(30926);let s=(0,r.createServerReference)("40592173cbe840837a40a5f15804c0744f59f71582",r.callServer,void 0,r.findSourceMapURL,"scoreCall")},69993:(e,t,a)=>{Promise.resolve().then(a.bind(a,15750))},81288:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},85584:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},85897:(e,t,a)=>{"use strict";a.d(t,{eu:()=>l,q5:()=>o});var r=a(95155),s=a(12115),n=a(46591),i=a(64269);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});l.displayName=n.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n._V,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...s})}).displayName=n._V.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.H4,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});o.displayName=n.H4.displayName},86126:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>o,Hj:()=>d,XI:()=>i,nA:()=>u,nd:()=>c});var r=a(95155),s=a(12115),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});i.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});l.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},92033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[2581,3930,5033,4909,6077,9972,6107,8458,4037,312,2254,6241,4589,2558,2410,7380,2535,710,8441,1255,7358],()=>e(e.s=69993)),_N_E=e.O()}]);