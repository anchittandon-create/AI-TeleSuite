(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3437],{11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var l=a(95155);a(12115);var s=a(83101),r=a(64269);let o=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...s}=e;return(0,l.jsx)("div",{className:(0,r.cn)(o({variant:a}),t),...s})}},13496:(e,t,a)=>{"use strict";a.d(t,{$m:()=>d,As:()=>c,nD:()=>i,ub:()=>m});var l=a(95155),s=a(12115),r=a(16083),o=a(59007),n=a(64269);let i=r.bL,c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.q7,{ref:t,className:(0,n.cn)("border-b",a),...s})});c.displayName="AccordionItem";let d=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,l.jsx)(r.Y9,{className:"flex",children:(0,l.jsxs)(r.l9,{ref:t,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...i,children:[s,(0,l.jsx)(o.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=r.l9.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,l.jsx)(r.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,l.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",a),children:s})})});m.displayName=r.UC.displayName},17037:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var l=a(95155),s=a(12115),r=a(59034),o=a(64269);let n=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,l.jsxs)(r.bL,{ref:t,className:(0,o.cn)("relative overflow-hidden",a),...n,children:[(0,l.jsx)(r.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,l.jsx)(i,{}),(0,l.jsx)(r.OK,{})]})});n.displayName=r.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...n}=e;return(0,l.jsx)(r.VM,{ref:t,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,l.jsx)(r.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=r.VM.displayName},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>i,TN:()=>d,XL:()=>c});var l=a(95155),s=a(12115),r=a(83101),o=a(64269);let n=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,...r}=e;return(0,l.jsx)("div",{ref:t,role:"alert",className:(0,o.cn)(n({variant:s}),a),...r})});i.displayName="Alert";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});c.displayName="AlertTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",a),...s})});d.displayName="AlertDescription"},39124:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var l=a(95155),s=a(12115),r=a(7496),o=a.n(r),n=a(79313),i=a(36950),c=a(87270),d=a(3998),m=a(73457),u=a(6259),f=a(51834),p=a(17037),x=a(11647),h=a(92649),N=a(90043);a(62593),a(92033),a(18527);var g=a(60406),j=a(25212),v=a(5418),b=a(36654),y=a(59007),w=a(5225),A=a(53489),C=a(5282),S=a(19056),R=a(40710),k=a(15894),E=a(88906),F=a(80158);function D(e){let{history:t,selectedIds:a,onSelectionChange:r}=e,[o,n]=(0,s.useState)(null),[i,D]=(0,s.useState)(!1),{toast:O}=(0,k.dj)(),[T,P]=(0,s.useState)("dateScored"),[I,_]=(0,s.useState)("desc"),L=t.length>0&&a.length===t.length,U=async(e,t)=>{try{if(!e.details.scoreOutput)throw Error("Report content is not available for this item.");let a="Call_Report_".concat(e.details.fileName.replace(/[^a-zA-Z0-9]/g,"_"));if("pdf"===t){let t=await (0,E.Hc)(e),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="".concat(a,".pdf"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(l.href),O({title:"Report Exported",description:"PDF report for ".concat(e.details.fileName," has been downloaded.")})}else{let t=(e=>{let{scoreOutput:t,fileName:a,agentNameFromForm:l,status:s,error:r}=e.details,{product:o,timestamp:n}=e;if(!t||"Complete"!==s)return"--- Call Scoring Report for: ".concat(a," ---\n\nStatus: ").concat(s,"\n").concat(r?"Error: ".concat(r,"\n"):"");let{overallScore:i,callCategorisation:c,summary:d,strengths:m,areasForImprovement:u,redFlags:f,metricScores:p,transcript:x,conversionReadiness:h,suggestedDisposition:N,improvementSituations:g}=t,j="--- Call Scoring Report ---\n\n";return j+="File Name: ".concat(a,"\n"),j+="Agent Name: ".concat(l||"N/A","\n"),j+="Product Focus: ".concat(o||"General","\n"),j+="Date Scored: ".concat((0,C.GP)((0,S.H)(n),"PP p"),"\n\n"),j+="Overall Score: ".concat((null==i?void 0:i.toFixed(1))||"N/A","/5\n"),j+="Categorization: ".concat(c||"N/A","\n"),j+="Conversion Readiness: ".concat(h||"N/A","\n"),j+="Suggested Disposition: ".concat(N||"N/A","\n\n"),j+="--- SUMMARY & FEEDBACK ---\n",j+="Summary: ".concat(d,"\n\n"),j+="Strengths:\n- ".concat((m||[]).join("\n- "),"\n\n"),j+="Areas for Improvement:\n- ".concat((u||[]).join("\n- "),"\n\n"),f&&f.length>0&&(j+="RED FLAGS:\n- ".concat(f.join("\n- "),"\n\n")),j+="--- DETAILED METRICS ---\n",(p||[]).forEach(e=>{j+="Metric: ".concat(e.metric,"\n"),j+="  Score: ".concat(e.score,"/5\n"),j+="  Feedback: ".concat(e.feedback,"\n\n")}),g&&g.length>0&&(j+="--- SITUATIONS FOR IMPROVEMENT ---\n\n",g.forEach((e,t)=>{j+="SITUATION ".concat(t+1,":\n"),e.timeInCall&&(j+="  Time in Call: ".concat(e.timeInCall,"\n")),j+="  Context: ".concat(e.context,"\n"),e.userDialogue&&(j+='  User Said: "'.concat(e.userDialogue,'"\n')),j+="  Agent's Actual Response: \"".concat(e.agentResponse,'"\n'),j+='  Suggested Better Response: "'.concat(e.suggestedResponse,'"\n\n')})),j+="--- FULL TRANSCRIPT ---\n".concat(x,"\n")})(e);(0,F.U3)("".concat(a,".doc"),t),O({title:"Report Exported",description:"Text report for ".concat(e.details.fileName," has been downloaded.")})}}catch(e){O({variant:"destructive",title:"Download Error",description:e instanceof Error?e.message:"An unknown error occurred"}),console.error("Download Error:",e)}},V=e=>{let t="asc";T===e&&"asc"===I&&(t="desc"),P(e),_(t)},H=e=>T!==e?null:"asc"===I?(0,l.jsx)(N.A,{className:"ml-1 h-3 w-3 inline transform rotate-180"}):(0,l.jsx)(N.A,{className:"ml-1 h-3 w-3 inline"}),M=(0,s.useMemo)(()=>[...t].sort((e,t)=>{var a,l,s,r,o,n;let i,c;switch(T){case"overallScore":i=null==(a=e.details.scoreOutput)?void 0:a.overallScore,c=null==(l=t.details.scoreOutput)?void 0:l.overallScore;break;case"callCategorisation":i=null==(s=e.details.scoreOutput)?void 0:s.callCategorisation,c=null==(r=t.details.scoreOutput)?void 0:r.callCategorisation;break;case"transcriptAccuracy":i=null==(o=e.details.scoreOutput)?void 0:o.transcriptAccuracy,c=null==(n=t.details.scoreOutput)?void 0:n.transcriptAccuracy;break;case"dateScored":i=new Date(e.timestamp).getTime(),c=new Date(t.timestamp).getTime();break;case"fileName":i=e.details.fileName,c=t.details.fileName;break;case"agentName":i=e.agentName,c=t.agentName;break;case"product":i=e.product,c=t.product;break;case"source":i=e.details.source,c=t.details.source;break;default:return 0}let d=0;return"number"==typeof i&&"number"==typeof c?d=i-c:"string"==typeof i&&"string"==typeof c?d=i.localeCompare(c):null==i?d=-1:null==c&&(d=1),"desc"===I?-1*d:d}),[t,T,I]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full mt-2 shadow-lg rounded-lg border bg-card",children:(0,l.jsx)(p.F,{className:"h-[calc(100vh-340px)] md:h-[calc(100vh-310px)]",children:(0,l.jsxs)(c.XI,{children:[(0,l.jsx)(c.A0,{className:"sticky top-0 bg-muted/50 backdrop-blur-sm z-10",children:(0,l.jsxs)(c.Hj,{children:[(0,l.jsx)(c.nd,{className:"w-[50px]",children:(0,l.jsx)(m.S,{checked:L,onCheckedChange:e=>{e?r(t.map(e=>e.id)):r([])},"aria-label":"Select all"})}),(0,l.jsxs)(c.nd,{onClick:()=>V("fileName"),className:"cursor-pointer",children:["File Name ",H("fileName")]}),(0,l.jsxs)(c.nd,{onClick:()=>V("source"),className:"cursor-pointer",children:["Source ",H("source")]}),(0,l.jsxs)(c.nd,{onClick:()=>V("agentName"),className:"cursor-pointer",children:["Agent ",H("agentName")]}),(0,l.jsxs)(c.nd,{onClick:()=>V("overallScore"),className:"cursor-pointer text-center",children:["Score ",H("overallScore")]}),(0,l.jsxs)(c.nd,{onClick:()=>V("dateScored"),className:"cursor-pointer",children:["Date ",H("dateScored")]}),(0,l.jsx)(c.nd,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(c.BF,{children:0===t.length?(0,l.jsx)(c.Hj,{children:(0,l.jsx)(c.nA,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"No call scoring history found."})}):M.map(e=>{var t;let s=null==(t=e.details)?void 0:t.scoreOutput,o=null==s?void 0:s.overallScore;return(0,l.jsxs)(c.Hj,{"data-state":a.includes(e.id)?"selected":void 0,children:[(0,l.jsx)(c.nA,{children:(0,l.jsx)(m.S,{checked:a.includes(e.id),onCheckedChange:t=>{var l;return l=e.id,void(t?r([...a,l]):r(a.filter(e=>e!==l)))},"aria-label":"Select row for ".concat(e.details.fileName)})}),(0,l.jsx)(c.nA,{className:"font-medium max-w-[250px] truncate",title:e.details.fileName,children:e.details.fileName}),(0,l.jsx)(c.nA,{children:(0,l.jsxs)(x.E,{variant:"Manual"===e.details.source?"outline":"secondary",children:["Manual"===e.details.source?(0,l.jsx)(j.A,{className:"w-3 h-3 mr-1.5"}):(0,l.jsx)(v.A,{className:"w-3 h-3 mr-1.5"}),e.details.source]})}),(0,l.jsx)(c.nA,{children:e.agentName||"N/A"}),(0,l.jsx)(c.nA,{className:"text-center",children:"number"==typeof o?(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsxs)("span",{className:"font-semibold text-sm",children:[o.toFixed(1),"/5"]}),(0,l.jsx)("div",{className:"flex gap-0.5",children:(e=>{let t=Math.floor(e),a=e%1,s=[];for(let e=0;e<t;e++)s.push((0,l.jsx)(h.A,{className:"h-3.5 w-3.5 text-yellow-400 fill-yellow-400"},"full-".concat(e)));a>.2&&s.push((0,l.jsxs)("div",{className:"relative h-3.5 w-3.5",children:[(0,l.jsx)(h.A,{className:"h-3.5 w-3.5 text-yellow-400 fill-yellow-200"}),(0,l.jsx)("div",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:"".concat(100*a,"%")},children:(0,l.jsx)(h.A,{className:"h-3.5 w-3.5 text-yellow-400 fill-yellow-400"})})]},"partial"));let r=5-s.length;for(let e=0;e<r;e++)s.push((0,l.jsx)(h.A,{className:"h-3.5 w-3.5 text-muted-foreground/50"},"empty-".concat(e)));return s})(o)})]}):"..."}),(0,l.jsx)(c.nA,{children:(0,C.GP)((0,S.H)(e.timestamp),"PP p")}),(0,l.jsxs)(c.nA,{className:"text-right space-x-1",children:[(0,l.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{n(e),D(!0)},title:"View Full Scoring Report",children:[(0,l.jsx)(b.A,{className:"mr-1.5 h-4 w-4"})," Report"]}),(0,l.jsxs)(u.rI,{children:[(0,l.jsx)(u.ty,{asChild:!0,children:(0,l.jsx)(d.$,{variant:"outline",size:"icon",className:"h-9 w-9",disabled:!s,title:s?"Download report options":"Report not available",children:(0,l.jsx)(y.A,{className:"h-4 w-4"})})}),(0,l.jsxs)(u.SQ,{align:"end",children:[(0,l.jsxs)(u._2,{onClick:()=>U(e,"pdf"),children:[(0,l.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Download as PDF"]}),(0,l.jsxs)(u._2,{onClick:()=>U(e,"doc"),children:[(0,l.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Download as Text for Word"]})]})]})]})]},e.id)})})]})})}),o&&(0,l.jsx)(f.lG,{open:i,onOpenChange:D,children:(0,l.jsxs)(f.Cf,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl min-h-[70vh] max-h-[85vh] flex flex-col p-0",children:[(0,l.jsxs)(f.c7,{className:"p-6 pb-2 border-b",children:[(0,l.jsx)(f.L3,{className:"text-xl text-primary",children:"Detailed Call Scoring Report (Historical)"}),(0,l.jsxs)(f.rr,{children:["File: ",o.details.fileName," (Scored on: ",(0,C.GP)((0,S.H)(o.timestamp),"PP p"),")",o.details.agentNameFromForm&&", Agent: ".concat(o.details.agentNameFromForm)]})]}),(0,l.jsx)(p.F,{className:"flex-grow overflow-y-auto",children:(0,l.jsx)("div",{className:"p-6",children:o.details.scoreOutput?(0,l.jsx)(R.o,{results:o.details.scoreOutput,fileName:o.details.fileName,agentName:o.agentName,product:o.product,audioDataUri:o.details.audioDataUri,isHistoricalView:!0}):(0,l.jsxs)("div",{className:"text-center p-8",children:[(0,l.jsx)(g.A,{className:"h-10 w-10 mx-auto text-destructive"}),(0,l.jsx)("h3",{className:"mt-4 font-semibold text-lg",children:"Report Not Available"}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["This job is in '",o.details.status,"' status. A detailed report can only be viewed once the job is complete."]}),o.details.error&&(0,l.jsxs)("div",{className:"mt-4 text-left",children:[(0,l.jsx)("p",{className:"font-semibold",children:"Error Details:"}),(0,l.jsx)("pre",{className:"text-xs bg-destructive/10 text-destructive-foreground p-2 rounded-md whitespace-pre-wrap",children:o.details.error})]})]})})}),(0,l.jsx)(f.Es,{className:"p-4 border-t bg-muted/50",children:(0,l.jsx)(d.$,{onClick:()=>D(!1),children:"Close"})})]})})]})}var O=a(20243),T=a(13630),P=a(55253),I=a(25372),_=a(85584),L=a(11186),U=a(76444),V=a(31524),H=a(98053);function M(){let{activities:e,deleteActivities:t}=(0,n.Z)(),[a,r]=(0,s.useState)(!1),{toast:c}=(0,k.dj)(),[m,f]=(0,s.useState)([]),{availableProducts:p}=(0,V.G)(),[x,h]=(0,s.useState)("All"),[N,g]=(0,s.useState)("All"),[b,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r(!0)},[]);let R=(0,s.useMemo)(()=>a?(e||[]).filter(e=>{let t="Call Scoring"===e.module&&e.details&&"object"==typeof e.details&&"fileName"in e.details&&"scoreOutput"in e.details&&"Error"!==e.details.scoreOutput.callCategorisation,a=("AI Voice Sales Agent"===e.module||"Browser Voice Agent"===e.module||"AI Voice Support Agent"===e.module)&&e.details&&"object"==typeof e.details&&"finalScore"in e.details&&e.details.finalScore&&"Error"!==e.details.finalScore.callCategorisation;return t||a}).map(e=>{let t,a,l,s="Manual";if("Call Scoring"===e.module)t=e.details,a=e.product,l=e.agentName,s="Manual";else{var r,o,n,i,c,d,m,u;let f=e.details;t={fileName:"Voice Call - ".concat((null==(r=f.input)?void 0:r.userName)||(null==(o=f.flowInput)?void 0:o.userName)||"User"),scoreOutput:f.finalScore,agentNameFromForm:(null==(n=f.input)?void 0:n.agentName)||(null==(i=f.flowInput)?void 0:i.agentName)||e.agentName,status:"Complete"},a=e.product||(null==(c=f.input)?void 0:c.product)||(null==(d=f.flowInput)?void 0:d.product),l=(null==(m=f.input)?void 0:m.agentName)||(null==(u=f.flowInput)?void 0:u.agentName)||e.agentName,s="Voice Agent"}return{...e,product:a,agentName:l,details:{...t,source:s}}}).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],[e,a]),M=(0,s.useMemo)(()=>R.filter(e=>{let t="All"===x||e.product===x,a="All"===N||e.details.source===N;return t&&a}),[R,x,N]);(0,s.useEffect)(()=>{f([])},[x,N]);let z=(0,s.useCallback)(e=>{f(e)},[]),Z=(0,s.useCallback)(async(e,t)=>{let a=t?M:M.filter(t=>e.includes(t.id));if(0===a.length)return void c({variant:"default",title:"No Reports Selected",description:"Please select one or more reports to export from the currently filtered view."});let l=a.filter(e=>e.details.scoreOutput&&("Complete"===e.details.status||e.module.includes("Voice")));if(0===l.length)return void c({variant:"default",title:"No Completed Reports",description:"Only successfully completed scoring reports can be exported as PDFs."});c({title:"Preparing ZIP...",description:"Bundling ".concat(l.length," report(s). This may take a moment.")});try{let e=new(o());for(let t of l)if(t.details.scoreOutput){let a=await (0,E.Hc)(t),l=t.details.fileName.includes(".")?t.details.fileName.substring(0,t.details.fileName.lastIndexOf(".")):t.details.fileName;e.file("".concat(l,"_Report.pdf"),a)}let t=await e.generateAsync({type:"blob"}),a=document.createElement("a");a.href=URL.createObjectURL(t);let s=new Date().toISOString().replace(/:/g,"-").slice(0,19);a.download="Call_Reports_Export_".concat(s,".zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href),c({title:"Export Successful",description:"".concat(l.length," PDF report(s) have been downloaded as a ZIP file.")})}catch(e){console.error("ZIP Export error:",e),c({variant:"destructive",title:"Export Failed",description:"Could not export reports. Error: ".concat(e instanceof Error?e.message:String(e))})}},[M,c]),B=e=>{if(0===M.length)return void c({variant:"default",title:"No Data",description:"There is no call scoring history for the selected product filter to export."});try{let t=["Timestamp","Agent Name","Product","File Name / Source","Source","Overall Score","Categorization","Status","Error"],a=M.map(e=>{var t,a,l,s,r;return{Timestamp:(0,C.GP)((0,S.H)(e.timestamp),"yyyy-MM-dd HH:mm:ss"),AgentName:e.agentName||"N/A",Product:e.product||"N/A",FileName:e.details.fileName,Source:e.details.source||"N/A",OverallScore:null!=(s=null==(a=e.details.scoreOutput)||null==(t=a.overallScore)?void 0:t.toFixed(1))?s:"N/A",CallCategorisation:null!=(r=null==(l=e.details.scoreOutput)?void 0:l.callCategorisation)?r:"N/A",Status:e.details.status||(e.module.includes("Voice")?"Complete":"Unknown"),Error:e.details.error||""}}),l=a.map(e=>Object.values(e)),s=new Date().toISOString().replace(/:/g,"-").slice(0,19),r="call_scoring_history_".concat(x,"_").concat(s);"csv"===e?((0,F.yR)("".concat(r,".csv"),a),c({title:"Export Successful",description:"Call scoring history exported as CSV (for Excel)."})):"pdf"===e?(exportTableDataToPdf("".concat(r,".pdf"),t,l),c({title:"Export Successful",description:"Call scoring history table exported as PDF."})):"doc"===e&&((0,F.mf)("".concat(r,".doc"),t,l),c({title:"Export Successful",description:"Call scoring history table exported as Text for Word (.doc)."}))}catch(t){c({variant:"destructive",title:"Export Failed",description:"Could not export call scoring history to ".concat(e.toUpperCase(),". Error: ").concat(t instanceof Error?t.message:String(t))}),console.error("Call Scoring History ".concat(e.toUpperCase()," Export error:"),t)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsx)(i.z,{title:"Call Scoring Dashboard"}),(0,l.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center gap-2 flex-wrap",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(U.J,{htmlFor:"product-filter",className:"text-sm",children:"Product:"}),(0,l.jsxs)(L.l6,{value:x,onValueChange:h,children:[(0,l.jsx)(L.bq,{id:"product-filter",className:"w-[180px]",children:(0,l.jsx)(L.yv,{placeholder:"Filter by product"})}),(0,l.jsxs)(L.gC,{children:[(0,l.jsx)(L.eb,{value:"All",children:"All Products"}),p.map(e=>(0,l.jsx)(L.eb,{value:e.name,children:e.displayName},e.name))]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(U.J,{htmlFor:"source-filter",className:"text-sm",children:"Source:"}),(0,l.jsxs)(L.l6,{value:N,onValueChange:g,children:[(0,l.jsx)(L.bq,{id:"source-filter",className:"w-[180px]",children:(0,l.jsx)(L.yv,{placeholder:"Filter by source"})}),(0,l.jsxs)(L.gC,{children:[(0,l.jsx)(L.eb,{value:"All",children:"All Sources"}),(0,l.jsx)(L.eb,{value:"Manual",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Manual Upload"]})}),(0,l.jsx)(L.eb,{value:"Voice Agent",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Voice Agent"]})})]})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 flex-wrap justify-end",children:[(0,l.jsxs)(d.$,{onClick:()=>{t(m),c({title:"Reports Deleted",description:"".concat(m.length," scoring reports have been deleted.")}),f([])},disabled:0===m.length,variant:"destructive",children:[(0,l.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Delete Selected (",m.length,")"]}),(0,l.jsxs)(u.rI,{children:[(0,l.jsx)(u.ty,{asChild:!0,children:(0,l.jsxs)(d.$,{variant:"outline",children:[(0,l.jsx)(P.A,{className:"mr-2 h-4 w-4"})," More Actions"]})}),(0,l.jsxs)(u.SQ,{align:"end",children:[(0,l.jsxs)(u._2,{onClick:()=>Z(m,!1),disabled:0===m.length,children:[(0,l.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Export Selected as ZIP (",m.length,")"]}),(0,l.jsxs)(u._2,{onClick:()=>Z([],!0),disabled:0===M.length,children:[(0,l.jsx)(I.A,{className:"mr-2 h-4 w-4"})," Export All as ZIP (",M.length,")"]}),(0,l.jsx)(u.mB,{}),(0,l.jsxs)(u._2,{onClick:()=>B("csv"),children:[(0,l.jsx)(_.A,{className:"mr-2 h-4 w-4"})," Export Table as CSV"]}),(0,l.jsxs)(u._2,{onClick:()=>B("pdf"),children:[(0,l.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Export Table as PDF"]}),(0,l.jsxs)(u._2,{onClick:()=>B("doc"),children:[(0,l.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Export Table as Text"]}),(0,l.jsx)(u.mB,{}),(0,l.jsxs)(u._2,{onClick:()=>y(!0),disabled:0===R.length,className:"text-destructive focus:bg-destructive/10 focus:text-destructive",children:[(0,l.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Clear All Scoring History"]})]})]})]})]}),a?(0,l.jsx)(D,{history:M,selectedIds:m,onSelectionChange:z}):(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(O.E,{className:"h-12 w-full"}),(0,l.jsx)(O.E,{className:"h-20 w-full"}),(0,l.jsx)(O.E,{className:"h-20 w-full"}),(0,l.jsx)(O.E,{className:"h-20 w-full"})]}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground p-4 border-t",children:["This dashboard displays a history of scored calls from all sources. Original audio playback/download is not available for historical entries to conserve browser storage. Full scoring reports can be viewed and exported. Activity log is limited to the most recent ",n.H," entries."]})]})]}),(0,l.jsx)(H.Lt,{open:b,onOpenChange:y,children:(0,l.jsxs)(H.EO,{children:[(0,l.jsxs)(H.wd,{children:[(0,l.jsx)(H.r7,{children:"Are you absolutely sure?"}),(0,l.jsxs)(H.$v,{children:["This will permanently delete all (",R.length,") call scoring reports from your activity log. This action cannot be undone."]})]}),(0,l.jsxs)(H.ck,{children:[(0,l.jsx)(H.Zr,{children:"Cancel"}),(0,l.jsx)(H.Rx,{onClick:()=>{t(R.map(e=>e.id)),c({title:"All Reports Deleted",description:"All call scoring reports have been cleared from the log."}),y(!1)},className:"bg-destructive hover:bg-destructive/90",children:"Yes, Clear All Reports"})]})]})})]})}},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>f,L3:()=>p,c7:()=>u,lG:()=>i,rr:()=>x});var l=a(95155),s=a(12115),r=a(89511),o=a(26615),n=a(64269);let i=r.bL;r.l9;let c=r.ZL;r.bm;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});d.displayName=r.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(d,{}),(0,l.jsxs)(r.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,l.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(o.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=r.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=r.VY.displayName},73457:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var l=a(95155),s=a(12115),r=a(38162),o=a(72251),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.bL,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,l.jsx)(r.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(o.A,{className:"h-4 w-4"})})})});i.displayName=r.bL.displayName},85897:(e,t,a)=>{"use strict";a.d(t,{eu:()=>n,q5:()=>i});var l=a(95155),s=a(12115),r=a(46591),o=a(64269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});n.displayName=r.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...s})}).displayName=r._V.displayName;let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});i.displayName=r.H4.displayName},86901:(e,t,a)=>{Promise.resolve().then(a.bind(a,39124))},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>i,Hj:()=>c,XI:()=>o,nA:()=>m,nd:()=>d});var l=a(95155),s=a(12115),r=a(64269);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",a),...s})})});o.displayName="Table";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",a),...s})});n.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});c.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});d.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},98053:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>u,Lt:()=>i,Rx:()=>N,Zr:()=>g,ck:()=>p,r7:()=>x,tv:()=>c,wd:()=>f});var l=a(95155),s=a(12115),r=a(35646),o=a(64269),n=a(3998);let i=r.bL,c=r.l9,d=r.ZL,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=r.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsxs)(d,{children:[(0,l.jsx)(m,{}),(0,l.jsx)(r.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});u.displayName=r.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};f.displayName="AlertDialogHeader";let p=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold",a),...s})});x.displayName=r.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=r.VY.displayName;let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.rc,{ref:t,className:(0,o.cn)((0,n.r)(),a),...s})});N.displayName=r.rc.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.ZD,{ref:t,className:(0,o.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});g.displayName=r.ZD.displayName}},e=>{e.O(0,[2581,3930,5033,4909,6077,9972,6107,8458,4037,312,2254,6241,4589,2558,7496,5973,2410,7380,2535,710,8441,1255,7358],()=>e(e.s=86901)),_N_E=e.O()}]);