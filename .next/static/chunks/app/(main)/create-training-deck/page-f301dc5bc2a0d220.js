(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2965],{13496:(e,t,a)=>{"use strict";a.d(t,{$m:()=>d,As:()=>c,nD:()=>l,ub:()=>u});var r=a(95155),n=a(12115),s=a(16083),i=a(59007),o=a(64269);let l=s.bL,c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.q7,{ref:t,className:(0,o.cn)("border-b",a),...n})});c.displayName="AccordionItem";let d=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsx)(s.Y9,{className:"flex",children:(0,r.jsxs)(s.l9,{ref:t,className:(0,o.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[n,(0,r.jsx)(i.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=s.l9.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,r.jsx)(s.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,r.jsx)("div",{className:(0,o.cn)("pb-4 pt-0",a),children:n})})});u.displayName=s.UC.displayName},14482:(e,t,a)=>{"use strict";function r(e){return new Promise((t,a)=>{let r=new FileReader;r.onload=()=>{"string"==typeof r.result?t(r.result):a(Error("Failed to read file as Data URL."))},r.onerror=e=>{a(e)},r.readAsDataURL(e)})}a.d(t,{zM:()=>r})},14853:(e,t,a)=>{Promise.resolve().then(a.bind(a,40246))},17037:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var r=a(95155),n=a(12115),s=a(59034),i=a(64269);let o=n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,r.jsxs)(s.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...o,children:[(0,r.jsx)(s.LM,{className:"h-full w-full rounded-[inherit]",children:n}),(0,r.jsx)(l,{}),(0,r.jsx)(s.OK,{})]})});o.displayName=s.bL.displayName;let l=n.forwardRef((e,t)=>{let{className:a,orientation:n="vertical",...o}=e;return(0,r.jsx)(s.VM,{ref:t,orientation:n,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...o,children:(0,r.jsx)(s.lr,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=s.VM.displayName},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>l,TN:()=>d,XL:()=>c});var r=a(95155),n=a(12115),s=a(83101),i=a(64269);let o=(0,s.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,...s}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:n}),a),...s})});l.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...n})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...n})});d.displayName="AlertDescription"},30926:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let r=a(41209),n=a(85153),s=a(77197)},31120:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(95155),n=a(12115),s=a(64269);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});i.displayName="Textarea"},36654:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},39437:(e,t,a)=>{"use strict";a.d(t,{J:()=>d,KnowledgeBaseProvider:()=>c});var r=a(95155),n=a(67050),s=a(12115),i=a(14482);let o=[{id:"default-et-desc",name:"ET - Core Product Description",type:"text/plain",size:500,product:"ET",category:"Product Description",uploadDate:new Date().toISOString(),textContent:"ET Prime is the premium subscription service from The Economic Times, India's most respected business publication. It offers members exclusive access to deeply researched, investigative stories, and sharp, insightful analysis across more than 20 sectors. Key features include a completely ad-free reading experience on all platforms, the ET Portfolio management tool, daily stock reports, and over 25 curated sectoral newsletters. It is designed for business leaders, professionals, and serious investors who need to stay ahead of market trends and make informed decisions.",isTextEntry:!0},{id:"default-et-pitch",name:"ET - Standard Sales Pitch",type:"text/plain",size:450,product:"ET",category:"Pitch",uploadDate:new Date().toISOString(),textContent:"Hello {{userName}}, this is {{agentName}} calling from The Economic Times. I'm reaching out because our records show you've shown interest in our premium content. I wanted to take just a moment to share how an ET Prime membership can provide you with exclusive, data-driven stories and market analysis you won't find anywhere else. It's specifically designed to help professionals like you make smarter business and investment decisions. Are you familiar with our premium features?",isTextEntry:!0},{id:"default-et-pricing",name:"ET - Pricing Information",type:"text/plain",size:300,product:"ET",category:"Pricing",uploadDate:new Date().toISOString(),textContent:"We offer several flexible subscription plans for ET Prime. Our most popular option is the 1-Year plan. For greater value, we also have 2-Year and 3-Year plans that come with significant savings. Each plan provides full, unrestricted access to all ET Prime features, including our ad-free experience and exclusive content.",isTextEntry:!0},{id:"default-et-rebuttals",name:"ET - Common Rebuttals",type:"text/plain",size:600,product:"ET",category:"Rebuttals",uploadDate:new Date().toISOString(),textContent:"Objection: It's too expensive.\nRebuttal: I understand that cost is an important consideration. That's why many of our members see ET Prime not as an expense, but as an investment. The exclusive insights and analysis can help you identify opportunities or avoid risks that far outweigh the subscription cost. For example, a single insight from our stock reports could make a significant difference to your portfolio.\n\nObjection: I don't have time to read.\nRebuttal: I can certainly appreciate how busy you are, and that's exactly why ET Prime is so valuable. Our content is concise, and our newsletters provide curated briefings that save you time while keeping you informed on what truly matters in your sector. It's about getting the most critical information efficiently.",isTextEntry:!0},{id:"default-toi-desc",name:"TOI+ - Core Product Description",type:"text/plain",size:450,product:"TOI",category:"Product Description",uploadDate:new Date().toISOString(),textContent:"TOI+ is the premium digital subscription from The Times of India, offering readers access to exclusive, in-depth articles, investigative journalism, and expert opinions on the stories that matter most. It provides a deeper understanding of current events, beyond the daily news cycle. Subscribers enjoy an ad-lite experience on the website and app, along with access to over 200 exclusive stories each month and special long-form content.",isTextEntry:!0},{id:"default-toi-pitch",name:"TOI - Standard Sales Pitch",type:"text/plain",size:400,product:"TOI",category:"Pitch",uploadDate:new Date().toISOString(),textContent:"Hello {{userName}}, I'm {{agentName}} from The Times of India. I noticed you enjoy our news coverage, and I wanted to briefly introduce you to TOI+, our premium subscription service. It's for readers who want to go deeper into the stories shaping our world, with exclusive articles and expert analysis you won't find in our free content. Would you be interested in hearing more about the benefits?",isTextEntry:!0},{id:"default-toi-pricing",name:"TOI - Pricing Information",type:"text/plain",size:250,product:"TOI",category:"Pricing",uploadDate:new Date().toISOString(),textContent:"TOI+ offers flexible subscription options, including Monthly, Quarterly, and Annual plans to suit your reading habits. The Annual plan offers the best value for money, giving you a full year of unlimited access to our premium content.",isTextEntry:!0},{id:"default-toi-rebuttals",name:"TOI - Common Rebuttals",type:"text/plain",size:400,product:"TOI",category:"Rebuttals",uploadDate:new Date().toISOString(),textContent:"Objection: I get all my news for free.\nRebuttal: That's a fair point, as there is a lot of free news available. What our TOI+ members value is the trusted, in-depth analysis and exclusive stories that provide a much deeper perspective than surface-level news. It's about understanding the 'why' behind the headlines.",isTextEntry:!0}],l=(0,s.createContext)(void 0),c=e=>{let{children:t}=e,[a,c]=(0,n.M)("aiTeleSuiteKnowledgeBase_v5_with_data_uri",o);(0,s.useEffect)(()=>{if(a&&a.length>0){let e=!1,t=a.map(t=>{if(!t.isTextEntry&&t.dataUri){e=!0;let{dataUri:a,...r}=t;return r}return t});e&&(console.log("Finalizing Knowledge Base migration: Removing transient Data URIs from stored file entries."),c(t))}},[]);let d=(0,s.useCallback)(async e=>{var t;let a={id:Date.now().toString()+Math.random().toString(36).substring(2,9)+((null==(t=e.name)?void 0:t.substring(0,5))||"text"),uploadDate:new Date().toISOString(),name:(e.name||"Untitled Text Entry").substring(0,100),type:"text/plain",size:e.textContent.length,product:e.product,persona:e.persona,category:e.category||"General",textContent:e.textContent,isTextEntry:!0,dataUri:await (0,i.zM)(new Blob([e.textContent],{type:"text/plain"}))};return c(e=>[a,...e||[]].sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())),a},[c]),u=(0,s.useCallback)(async e=>{let t=e.map(async(e,t)=>{var a;let r=e.file,n=await (0,i.zM)(r);return{id:Date.now().toString()+Math.random().toString(36).substring(2,9)+((null==(a=r.name)?void 0:a.substring(0,5))||"file")+t,uploadDate:new Date().toISOString(),name:r.name||"Untitled File",type:r.type||"unknown",size:r.size,product:e.product,persona:e.persona,category:e.category||((e,t)=>{let a=e.toLowerCase();return a.includes("pricing")||a.includes("price")?"Pricing":a.includes("product")&&(a.includes("desc")||a.includes("detail"))?"Product Description":a.includes("rebuttal")?"Rebuttals":a.includes("pitch")||a.includes("script")?"Pitch":"General"})(r.name,r.type),isTextEntry:!1,dataUri:n}}),a=await Promise.all(t),r=a.map(e=>{let{dataUri:t,...a}=e;return a});return c(e=>[...r,...e||[]].sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())),a},[c]),m=(0,s.useCallback)(e=>{c(t=>(t||[]).filter(t=>t.id!==e))},[c]);return(0,r.jsx)(l.Provider,{value:{files:a||[],addFile:d,addFilesBatch:u,deleteFile:m,setFiles:c},children:t})};function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useKnowledgeBase must be used within a KnowledgeBaseProvider");return e}},40246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(95155),n=a(12115),s=a(36950),i=a(86948),o=a(3998),l=a(76444),c=a(65142),d=a(11186),u=a(39437),m=a(56639),p=a(44575),h=a(14294);let x=(0,h.A)("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]),f=(0,h.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var g=a(59971),y=a(77187),v=a(36654),b=a(59338),w=a(66065),j=a(93790),N=a(81288),T=a(53489),k=a(15894),S=a(30926);let C=(0,S.createServerReference)("40c5efe69707c1f879d8952d619ed6dea8947490e7",S.callServer,void 0,S.findSourceMapURL,"generateTrainingDeck");var D=a(79313),F=a(88906),P=a(80158),A=a(17037),E=a(65363),I=a(18332),R=a(51834),z=a(31120),O=a(86259),B=a(5282),M=a(19056),L=a(13496),U=a(31524);let W=["PDF","Word Doc","PPT","Brochure"];function _(){let{files:e}=(0,u.J)(),{availableProducts:t,getProductByName:a}=(0,U.G)(),[h,S]=(0,n.useState)([]),[_,K]=(0,n.useState)(void 0),[G,V]=(0,n.useState)(W[0]),[H,Y]=(0,n.useState)(!1),[Z,J]=(0,n.useState)(null),[$,q]=(0,n.useState)(null),{toast:X}=(0,k.dj)(),{logActivity:Q}=(0,D.Z)(),[ee,et]=(0,n.useState)(!1),[ea,er]=(0,n.useState)([]),en=(0,n.useRef)(null),[es,ei]=(0,n.useState)(!1),[eo,el]=(0,n.useState)("");(0,n.useEffect)(()=>{var e;et(!0);let r=a(null==(e=t[0])?void 0:e.name);r&&K(r.name)},[t,a]),(0,n.useEffect)(()=>{S(t=>t.filter(t=>{let a=e.find(e=>e.id===t);return a&&a.product===_}))},[_,e]);let ec=(0,n.useMemo)(()=>e.filter(e=>h.includes(e.id)),[e,h]),ed=e=>e.map(e=>({name:e.name,textContent:e.isTextEntry?e.textContent:void 0,isTextEntry:!!e.isTextEntry,fileType:e.isTextEntry?"text/plain":e.type})),eu=async e=>{let t=[];for(let a of e){let e;if(a.type.startsWith("text/")&&a.size<5e4)try{e=await a.text()}catch(e){console.warn("Could not read text content for uploaded file ".concat(a.name),e)}t.push({name:a.name,textContent:e,isTextEntry:!1,fileType:a.type})}return t},em=async t=>{if(Y(!0),J(null),q(null),!_){X({variant:"destructive",title:"Product Not Selected",description:"Please select a product."}),Y(!1);return}if(!G){X({variant:"destructive",title:"Format Not Selected",description:"Please select an output format."}),Y(!1);return}let a=[],r=!1,n="",s="none";if("entire_kb"===t?s="entire_kb":eo.trim().length>=10?s="direct_prompt":ea.length>0?s="direct_uploads":ec.length>0&&(s="selected_kb"),"none"===s&&"entire_kb"!==t){X({variant:"destructive",title:"No Context Provided",description:"Please provide a direct prompt, upload files, or select KB items to generate material."}),Y(!1);return}if("direct_prompt"===s)a.push({name:"User-Provided Prompt",textContent:eo,isTextEntry:!0,fileType:"text/plain"}),n="context from a direct user-provided prompt";else if("direct_uploads"===s)a=await eu(ea),n="context from ".concat(ea.length," directly uploaded file(s): ").concat(ea.map(e=>e.name).join(", "));else if("selected_kb"===s)a=ed(ec),n="context from ".concat(ec.length," selected Knowledge Base item(s): ").concat(ec.map(e=>e.name).join(", "));else if("entire_kb"===s){let t=e.filter(e=>e.product===_);if(0===t.length){X({variant:"destructive",title:"KB Empty for Product",description:"Knowledge Base is empty for ".concat(_,". Add files/text entries via 'Knowledge Base Management'.")}),Y(!1);return}a=ed(t),r=!0,n="context from the entire Knowledge Base for product ".concat(_)}let i={product:_,deckFormatHint:G,knowledgeBaseItems:a,generateFromAllKb:r,sourceDescriptionForAi:n};try{let e=await C(i),t="Brochure"===G?"Brochure":"Deck";if(e.deckTitle.startsWith("Error Generating")||e.deckTitle.startsWith("Critical Error")||e.deckTitle.startsWith("Input Error")){var o,l;q((null==(o=e.sections[0])?void 0:o.content)||"AI failed to generate ".concat(t.toLowerCase()," content.")),J(null),X({variant:"destructive",title:"".concat(t," Generation Failed"),description:(null==(l=e.sections[0])?void 0:l.content)||"AI reported an error."})}else J(e),X({title:"Training ".concat(t," Generated!"),description:"".concat(t," for ").concat(_," is ready.")});Q({module:"Create Training Material",product:_,details:{materialOutput:e,inputData:i}})}catch(a){console.error("Error generating training material:",a);let e=a instanceof Error?a.message:"An unexpected AI error occurred.";q(e);let t="Brochure"===G?"Brochure":"Deck";X({variant:"destructive",title:"".concat(t," Generation Failed"),description:e}),Q({module:"Create Training Material",product:_,details:{error:e,inputData:i}})}finally{Y(!1)}},ep=(e,t)=>{let a="".concat("Brochure"===t?"Brochure":"Deck"," Title: ").concat(e.deckTitle,"\n");return a+="Product: ".concat(_,"\n"),a+="Format: ".concat(t,"\n\n"),e.sections.forEach((e,r)=>{a+="--------------------------------------------------\n",a+="".concat("Brochure"===t?"Section/Panel":"Slide"," ").concat(r+1,": ").concat(e.title,"\n"),a+="--------------------------------------------------\n",a+="".concat(e.content,"\n\n"),e.notes&&(a+="".concat("Brochure"===t?"Internal Notes/Suggestions":"Speaker Notes",":\n").concat(e.notes,"\n\n"))}),a},eh="Brochure"===G?"Brochure":"Deck",ex=ee&&_&&G&&(eo.trim().length>=10||ea.length>0||h.length>0),ef=ee&&_&&G&&e.filter(e=>e.product===_).length>0;return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)(s.z,{title:"Create Training ".concat(eh)}),(0,r.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 flex flex-col items-center",children:[(0,r.jsxs)(i.Zp,{className:"w-full max-w-2xl shadow-lg",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"text-xl text-primary flex items-center",children:[(0,r.jsx)(m.A,{className:"h-6 w-6 mr-3"}),"Configure Training ",eh]}),(0,r.jsx)(i.BT,{children:"Select product, format, and a source of context for generation. Choose one: direct prompt, direct file uploads, or select from Knowledge Base."})]}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{htmlFor:"product-select",className:"mb-1.5 block flex items-center",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Product ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsxs)(d.l6,{value:_,onValueChange:e=>K(e),children:[(0,r.jsx)(d.bq,{id:"product-select",children:(0,r.jsx)(d.yv,{placeholder:"Select Product"})}),(0,r.jsx)(d.gC,{children:t.map(e=>(0,r.jsx)(d.eb,{value:e.name,children:e.displayName},e.name))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{htmlFor:"format-select",className:"mb-1.5 block flex items-center",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),"Output Format"]}),(0,r.jsxs)(d.l6,{value:G,onValueChange:e=>V(e),children:[(0,r.jsx)(d.bq,{id:"format-select",children:(0,r.jsx)(d.yv,{placeholder:"Select Output Format"})}),(0,r.jsx)(d.gC,{children:W.map(e=>(0,r.jsx)(d.eb,{value:e,children:e},e))})]})]})]}),(0,r.jsxs)("div",{className:"relative my-5",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Choose ONE Source Context"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{htmlFor:"direct-prompt",className:"mb-1.5 block flex items-center",children:[(0,r.jsx)(f,{className:"h-4 w-4 mr-2"}),"Direct Prompt"]}),(0,r.jsx)(z.T,{id:"direct-prompt",placeholder:"Enter your detailed prompt here. Describe the training material you want, its purpose, key topics, target audience, desired tone, etc. (Min 10 characters)",value:eo,onChange:e=>{el(e.target.value),e.target.value.trim().length>0&&(er([]),S([]),en.current&&(en.current.value=""))},className:"min-h-[100px]",disabled:H})]}),(0,r.jsxs)("div",{className:"relative my-3",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{htmlFor:"direct-upload-files",className:"mb-1.5 block flex items-center",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Directly Upload File(s)"]}),(0,r.jsx)(c.p,{id:"direct-upload-files",type:"file",multiple:!0,ref:en,onChange:e=>{let t=e.target.files;if(t){let e=Array.from(t),a=0;for(let t of e)a+=t.size;if(a>0xa00000){X({variant:"destructive",title:"Upload Limit Exceeded",description:"Total size of selected files exceeds ".concat(10,"MB. Please select fewer or smaller files.")}),er([]),en.current&&(en.current.value="");return}er(e),el(""),S([])}else er([])},className:"pt-1.5",disabled:H}),ea.length>0&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[ea.length," file(s) selected for direct upload. Total size: ",(ea.reduce((e,t)=>e+t.size,0)/1048576).toFixed(2)," MB."]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Max total upload size: ",10,"MB. PDF, DOCX, TXT, CSV etc."]})]}),(0,r.jsxs)("div",{className:"relative my-3",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1.5",children:[(0,r.jsxs)(l.J,{htmlFor:"kb-files-select",className:"flex items-center",children:[(0,r.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Select Files from Knowledge Base"]}),h.length>0&&(0,r.jsxs)(o.$,{variant:"outline",size:"xs",onClick:()=>ei(!0),disabled:H,children:[(0,r.jsx)(v.A,{className:"mr-1.5 h-3.5 w-3.5"})," View Selected (",h.length,")"]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:'Use Ctrl/Cmd + Click to select multiple files. Filtered by selected product. View/manage KB on "Knowledge Base Management" page.'}),(0,r.jsxs)("select",{id:"kb-files-select",multiple:!0,value:h,onChange:e=>{let t=e.target.options,a=[];for(let e=0,r=t.length;e<r;e++)t[e].selected&&a.push(t[e].value);S(a),a.length>0&&(el(""),er([]),en.current&&(en.current.value=""))},className:"w-full p-2 border rounded-md min-h-[100px] bg-background focus:ring-primary focus:border-primary",disabled:!ee||!_||0===e.filter(e=>e.product===_).length||H,children:[!ee&&(0,r.jsx)("option",{disabled:!0,children:"Loading files..."}),ee&&(!_||0===e.filter(e=>e.product===_).length)&&(0,r.jsx)("option",{disabled:!0,children:"No files in knowledge base for selected product."}),ee&&_&&e.filter(e=>e.product===_).length>0&&e.filter(e=>e.product===_).map(e=>(0,r.jsx)("option",{value:e.id,children:e.isTextEntry?"(Text) ".concat(e.name.substring(0,50),"..."):"(File) ".concat(e.name)},e.id))]}),h.length>0&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[h.length," KB file(s) selected."]})]}),(0,r.jsx)(O.w,{className:"my-5"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(o.$,{onClick:()=>em(),className:"w-full py-3 text-base",disabled:H||!ex,children:[(0,r.jsx)(b.A,{className:"mr-2 h-5 w-5"})," Generate from Provided Context"]}),(0,r.jsxs)(o.$,{onClick:()=>em("entire_kb"),variant:"outline",className:"w-full",disabled:H||!ef,children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Generate from Entire KB for ",_||"Product"]})]})]})]}),H&&(0,r.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-2",children:[(0,r.jsx)(E.k,{size:32}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Generating training ",eh.toLowerCase(),", this may take a moment..."]})]}),$&&!H&&(0,r.jsxs)(I.Fc,{variant:"destructive",className:"mt-6 max-w-2xl w-full",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"}),(0,r.jsx)(I.XL,{children:"Generation Error"}),(0,r.jsx)(I.TN,{children:$})]}),Z&&!H&&(0,r.jsxs)(i.Zp,{className:"w-full max-w-3xl shadow-xl mt-6",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start flex-wrap gap-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.ZB,{className:"text-xl text-primary flex items-center",children:["Brochure"===G?(0,r.jsx)(j.A,{className:"mr-2 h-5 w-5"}):(0,r.jsx)(y.A,{className:"mr-2 h-5 w-5"}),Z.deckTitle]}),(0,r.jsxs)(i.BT,{children:["Generated for: ",_,", Format: ",G]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>(e=>{if(!e||!_||!G)return;let t=ep(e,G);navigator.clipboard.writeText(t).then(()=>X({title:"Success",description:"Material content copied to clipboard!"})).catch(e=>X({variant:"destructive",title:"Error",description:"Failed to copy material content."}))})(Z),children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Copy"]}),(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>((e,t)=>{if(!e||!t||!_)return;let a="Brochure"===t?"Brochure":"PDF"===t?"Document":"Outline",r="Training_".concat(a,"_").concat(_.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0]),n=ep(e,t);if("PDF"===t||"Brochure"===t){let e="".concat(r,".pdf");(0,F.oc)(n,e),X({title:"".concat(t," Content Exported as PDF"),description:"".concat(e," has been downloaded. This PDF contains the structured text and any AI-suggested placements for visuals.")})}else if("Word Doc"===t){let e="".concat(r,".doc");(0,P.U3)(e,n),X({title:"Word Doc Text Outline Downloaded",description:"".concat(e," is a text file. Open it in Word (you may need to rename to .txt if it doesn't open easily) and copy the content to apply styling.")})}else if("PPT"===t){let e="".concat(r,".doc");(0,P.U3)(e,n),X({title:"PPT Text Outline Downloaded",description:"".concat(e," is a text file. Open it in PowerPoint and copy the content to apply styling.")})}})(Z,G),children:[(0,r.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Download"]})]})]})}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(L.nD,{type:"multiple",defaultValue:Z.sections.map((e,t)=>"section-".concat(t)),className:"w-full space-y-1",children:Z.sections.map((e,t)=>(0,r.jsxs)(L.As,{value:"section-".concat(t),children:[(0,r.jsx)(L.$m,{className:"text-md font-semibold hover:no-underline py-2 bg-muted/10 px-3 rounded-t-md [&_svg]:mr-2",children:(0,r.jsxs)("div",{className:"flex items-center",children:["Brochure"===G?(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 text-accent"}):(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4 text-accent"}),"Brochure"===G?"Section/Panel":"Slide"," ",t+1,": ",e.title]})}),(0,r.jsxs)(L.ub,{className:"pt-2 text-sm bg-muted/20 p-3 rounded-b-md",children:[(0,r.jsx)("p",{className:"text-sm text-foreground whitespace-pre-line",children:e.content}),e.notes&&(0,r.jsxs)("div",{className:"mt-2 p-2 bg-accent/10 rounded-md border border-accent/20",children:[(0,r.jsxs)("p",{className:"text-xs font-semibold text-accent-foreground/80",children:["Brochure"===G?"Internal Notes/Suggestions":"Speaker Notes",":"]}),(0,r.jsx)("p",{className:"text-xs text-accent-foreground/70 whitespace-pre-line",children:e.notes})]})]})]},t))})})]}),!Z&&!H&&!$&&(0,r.jsxs)(i.Zp,{className:"w-full max-w-2xl shadow-sm",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"text-lg flex items-center",children:[(0,r.jsx)(w.A,{className:"h-5 w-5 mr-2 text-accent"}),"How it Works & Output Formats"]})}),(0,r.jsxs)(i.Wu,{className:"text-sm text-muted-foreground space-y-2",children:[(0,r.jsxs)("p",{children:["This AI feature generates ",(0,r.jsx)("strong",{children:"structured text content"})," for your training materials based on the context you provide. It assists with content creation and organization, not with full graphical design or native file formatting."]}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"PDF Format:"}),' Downloads a text-based PDF document. The content is structured as a readable document with sections. If you selected "Brochure" as the format, this PDF will contain persuasive text suitable for brochure panels, including AI\'s textual suggestions for visuals (e.g., "[Visual: Chart showing growth]").']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Word Doc Format:"})," Downloads a ",(0,r.jsx)("strong",{children:"plain text outline file (.doc)"}),". Open this file (you might need to rename it to .txt if it doesn't open as text) and copy the structured content (titles, bullet points, paragraphs) into Microsoft Word. You can then apply your own styling, templates, and add graphics."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"PPT Format:"})," Downloads a ",(0,r.jsx)("strong",{children:"plain text outline file (.doc)"}),". Similar to Word Doc, open this file and copy the structured content (slide titles, bullet points) into Microsoft PowerPoint. You can then apply your presentation themes, layouts, and add visuals."]})]}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"The AI focuses on generating high-quality textual content and logical structure. The final design and formatting in tools like Word, PowerPoint, or design software for brochures remain under your creative control."})]})]}),es&&ec.length>0&&(0,r.jsx)(R.lG,{open:es,onOpenChange:ei,children:(0,r.jsxs)(R.Cf,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl max-h-[85vh] flex flex-col",children:[(0,r.jsxs)(R.c7,{children:[(0,r.jsxs)(R.L3,{className:"text-primary",children:["Selected Knowledge Base Items (",ec.length,")"]}),(0,r.jsx)(R.rr,{children:"Review the details of the KB items you've chosen for context."})]}),(0,r.jsx)(A.F,{className:"flex-grow p-1 pr-3 -mx-1",children:(0,r.jsx)("div",{className:"space-y-4 p-4 rounded-md",children:ec.map(e=>(0,r.jsxs)(i.Zp,{className:"bg-muted/30",children:[(0,r.jsxs)(i.aR,{className:"pb-3 pt-4 px-4",children:[(0,r.jsx)(i.ZB,{className:"text-md",children:e.name}),(0,r.jsxs)(i.BT,{className:"text-xs",children:["Type: ",e.isTextEntry?"Text Entry":e.type," | Size: ",e.isTextEntry?"".concat(e.size," chars"):e.size," | Product: ",e.product||"N/A"," | Persona: ",e.persona||"N/A"," | Uploaded: ",(0,B.GP)((0,M.H)(e.uploadDate),"PPp")]})]}),e.isTextEntry&&e.textContent&&(0,r.jsxs)(i.Wu,{className:"px-4 pb-4",children:[(0,r.jsx)(l.J,{htmlFor:"kb-view-content-".concat(e.id),className:"text-xs font-semibold",children:"Content:"}),(0,r.jsx)(z.T,{id:"kb-view-content-".concat(e.id),value:e.textContent,readOnly:!0,className:"mt-1 h-32 bg-background/50 text-xs whitespace-pre-wrap"})]}),!e.isTextEntry&&(0,r.jsx)(i.Wu,{className:"px-4 pb-4",children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Content of uploaded files cannot be previewed here. This entry is a file reference."})})]},e.id))})}),(0,r.jsx)(R.Es,{className:"pt-4",children:(0,r.jsx)(o.$,{onClick:()=>ei(!1),children:"Close"})})]})})]})]})}},44575:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>h,c7:()=>m,lG:()=>l,rr:()=>x});var r=a(95155),n=a(12115),s=a(89511),i=a(26615),o=a(64269);let l=s.bL;s.l9;let c=s.ZL;s.bm;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});d.displayName=s.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(s.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,r.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});h.displayName=s.hE.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})});x.displayName=s.VY.displayName},56639:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},59338:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},59971:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]])},65363:(e,t,a)=>{"use strict";a.d(t,{k:()=>i});var r=a(95155),n=a(92033),s=a(64269);function i(e){let{size:t=24,className:a}=e;return(0,r.jsx)(n.A,{style:{width:t,height:t},className:(0,s.cn)("animate-spin text-primary",a)})}},66065:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},77187:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},80158:(e,t,a)=>{"use strict";function r(e,t){if(!t||!t.length)return;let a=Object.keys(t[0]),r=new Blob([a.join(",")+"\n"+t.map(e=>a.map(t=>{let a=null===e[t]||void 0===e[t]?"":e[t];return(a=a instanceof Date?a.toLocaleString():a.toString().replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(a='"'.concat(a,'"')),a}).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){let t=URL.createObjectURL(r);n.setAttribute("href",t),n.setAttribute("download",e),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}function n(e,t){let a=new Blob([t],{type:e.endsWith(".doc")?"application/msword":"text/plain;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){let t=URL.createObjectURL(a);r.setAttribute("href",t),r.setAttribute("download",e),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}async function s(e,t){if(!e)return void console.error("No audio reference provided, cannot download.");let a=null;if(e.startsWith("data:")){if(!(a=function(e){if(!e||!e.includes(","))return null;try{let t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return new Blob([r],{type:a})}catch(e){return console.error("Error converting data URI to Blob:",e),null}}(e)))return void console.error("Failed to convert Data URI to Blob for download.")}else try{let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch audio asset (".concat(t.status,")"));a=await t.blob()}catch(e){console.error("Unable to download remote audio asset:",e);return}let r=document.createElement("a");if(void 0!==r.download&&a){let e=URL.createObjectURL(a);r.setAttribute("href",e),r.setAttribute("download",t),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}}function i(e,t,a){let r=function(e,t,a){let r="",n=e.map((e,a)=>{let r=e.length;return t.forEach(e=>{let t=String(null===e[a]||void 0===e[a]?"":e[a]);t.length>r&&(r=t.length)}),r}),s=e.map((e,t)=>e.padEnd(n[t])).join(" | ");return r+=s+"\n"+e.map((e,t)=>"-".repeat(n[t])).join("-+-")+"\n",t.forEach(e=>{let t=e.map((e,t)=>String(null==e?"":e).padEnd(n[t])).join(" | ");r+=t+"\n"}),r}(t,a);n(e.endsWith(".doc")?e:"".concat(e,".doc"),r)}async function o(e,t,r){let{jsPDF:n}=await Promise.all([a.e(3930),a.e(5033),a.e(6241)]).then(a.bind(a,55172)),{default:s}=await a.e(6941).then(a.bind(a,36941)),i=new n({orientation:"landscape"});s(i,{head:[t],body:r,styles:{fontSize:8},headStyles:{fillColor:[41,128,185]},margin:{top:20},didDrawPage:function(e){i.setFontSize(16),i.text("Exported Table Data",e.settings.margin.left,15)}}),i.save(e.endsWith(".pdf")?e:"".concat(e,".pdf"))}a.d(t,{U3:()=>n,e3:()=>o,mf:()=>i,vG:()=>s,yR:()=>r})},81288:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},88906:(e,t,a)=>{"use strict";a.d(t,{Hc:()=>l,oc:()=>o,ws:()=>i});var r=a(55172),n=a(5282),s=a(19056);function i(e,t){let a=new r.jsPDF({orientation:"portrait",unit:"pt",format:"a4"});a.setFont("helvetica","normal"),a.setFontSize(10);let n=a.internal.pageSize.getHeight(),s=a.internal.pageSize.getWidth(),i=s-80,o=40;if(t){a.setFontSize(16),a.setFont("helvetica","bold");let e=a.splitTextToSize(t,i);a.text(e,s/2,o,{align:"center"}),o+=16*e.length+20,a.setFontSize(10),a.setFont("helvetica","normal")}return a.splitTextToSize(e,i).forEach(e=>{o+12>n-40&&(a.addPage(),o=40),a.text(e,40,o),o+=12}),a.output("blob")}function o(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let r=t.replace(/\.pdf$/,"").replace(/_/g," "),n=i(e,r);if(a)return n;let s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}catch(e){console.error("Error generating text-based PDF:",e),alert("Failed to generate PDF. Your browser might not be fully supported or there was an unexpected error.")}}async function l(e){var t,r;let{scoreOutput:i,fileName:o,agentNameFromForm:l}=e.details,{product:c,timestamp:d}=e;if(!i||"number"!=typeof i.overallScore)throw Error("Cannot generate PDF report: The scoring data is incomplete or missing.");let{jsPDF:u}=await Promise.resolve().then(a.bind(a,55172)),{default:m}=await a.e(6941).then(a.bind(a,36941)),p=new u({orientation:"portrait",unit:"pt",format:"a4"}),h=p.internal.pageSize.getHeight(),x=p.internal.pageSize.getWidth(),f=x-80,g=40,y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;g+e>h-40&&(p.addPage(),g=40)};p.setFont("helvetica","bold"),p.setFontSize(18),p.text("Call Scoring Report",x/2,g,{align:"center"}),g+=30,p.setFont("helvetica","normal"),p.setFontSize(10);let v=["Date Scored: ".concat((0,n.GP)((0,s.H)(d),"PP p")),"Overall Score: ".concat(i.overallScore.toFixed(1),"/5 (").concat(i.callCategorisation,")"),"Conversion Readiness: ".concat(i.conversionReadiness||"N/A"),"Suggested Disposition: ".concat(i.suggestedDisposition||"N/A")];p.text(["File Name: ".concat(o),"Agent Name: ".concat(l||"N/A"),"Product Focus: ".concat(c||"General")],40,g),p.text(v,x-40,g,{align:"right"}),g+=12*v.length+15,p.setDrawColor(200),p.line(40,g,x-40,g),g+=20;let b=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(30),p.setFont("helvetica",a.fontStyle||"bold"),p.setFontSize(12),a.titleColor&&p.setTextColor(a.titleColor[0],a.titleColor[1],a.titleColor[2]),p.text(e,40,g),g+=18,p.setTextColor(0,0,0),p.setFont("helvetica","normal"),p.setFontSize(10);let r=a.isList&&Array.isArray(t)?t.map(e=>"- ".concat(e)).join("\n"):Array.isArray(t)?t.join("\n"):t;p.splitTextToSize(r,f).forEach(e=>{y(12),p.text(e,40+5*!!a.isList,g),g+=12}),g+=15};return b("Summary",i.summary),(null==(t=i.strengths)?void 0:t.length)>0&&b("Key Strengths",i.strengths,{isList:!0}),(null==(r=i.areasForImprovement)?void 0:r.length)>0&&b("Areas for Improvement",i.areasForImprovement,{isList:!0}),i.redFlags&&i.redFlags.length>0&&b("Critical Red Flags",i.redFlags,{isList:!0,titleColor:[220,53,69]}),y(40),p.setFont("helvetica","bold"),p.setFontSize(12),p.text("Detailed Metric Scores",40,g),g+=5,i.metricScores&&i.metricScores.length>0&&(m(p,{head:[["Metric","Score","Feedback"]],body:i.metricScores.map(e=>{var t;return[e.metric,"".concat((null==(t=e.score)?void 0:t.toFixed(1))||"N/A","/5"),e.feedback||"N/A"]}),startY:g,headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold"},columnStyles:{0:{cellWidth:120},1:{cellWidth:50,halign:"center"},2:{cellWidth:"auto"}},didDrawPage:e=>{var t;g=(null==(t=e.cursor)?void 0:t.y)||g}}),g=p.lastAutoTable.finalY+20),i.improvementSituations&&i.improvementSituations.length>0&&(y(30),p.setFont("helvetica","bold"),p.setFontSize(12),p.text("Situations for Improvement",40,g),g+=18,i.improvementSituations.forEach((e,t)=>{y(60),p.setFontSize(10),p.setFont("helvetica","bold"),p.text("Situation ".concat(t+1,": ").concat(e.context),40,g),g+=12,p.setFont("helvetica","italic"),p.setTextColor(150,150,150),e.timeInCall&&(p.text("Time in call: ".concat(e.timeInCall),40,g),g+=12),p.setTextColor(0,0,0);let a=(e,t)=>{p.splitTextToSize("".concat(e,": ").concat(t),f-10).forEach(e=>{y(12),p.text(e,50,g),g+=12})};p.setFont("helvetica","normal"),e.userDialogue&&a("User Said",'"'.concat(e.userDialogue,'"')),a("Agent's Response",'"'.concat(e.agentResponse,'"')),a("Suggested Response",'"'.concat(e.suggestedResponse,'"')),g+=10})),b("Original Call Transcript",i.transcript),p.output("blob")}},92033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},93790:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]])}},e=>{e.O(0,[3930,5033,4909,6077,9972,6107,8458,4037,312,2254,6241,2410,7380,8441,1255,7358],()=>e(e.s=14853)),_N_E=e.O()}]);