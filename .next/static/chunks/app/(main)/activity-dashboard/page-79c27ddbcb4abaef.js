(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3848],{11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var s=a(95155);a(12115);var r=a(83101),n=a(64269);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...r})}},26333:(e,t,a)=>{"use strict";a.d(t,{AM:()=>i,Wv:()=>o,hl:()=>c});var s=a(95155),r=a(12115),n=a(82286),l=a(64269);let i=n.bL,o=n.l9,c=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:t,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});c.displayName=n.UC.displayName},48358:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ee});var s=a(95155),r=a(12115),n=a(79313),l=a(87270),i=a(3998),o=a(51834),c=a(17037),d=a(5282),u=a(19056),m=a(90043),p=a(45444),x=a(66065),f=a(74421),h=a(84336),g=a(101),b=a(93790),N=a(77187),y=a(21286),j=a(70754),v=a(36654),w=a(5225),A=a(13496),D=a(40710),C=a(40355),k=a(87785),O=a(56460),T=a(76444);function P(e){let{activities:t}=e,[a,n]=(0,r.useState)(null),[P,F]=(0,r.useState)(!1),[S,E]=(0,r.useState)("timestamp"),[_,R]=(0,r.useState)("desc"),B=[...t].sort((e,t)=>{if(!S)return 0;let a=e[S],s=t[S],r=0;return null==a?r=-1:null==s||a>s?r=1:a<s&&(r=-1),"desc"===_?-1*r:r}),I=e=>{let t="asc";S===e&&"asc"===_&&(t="desc"),E(e),R(t)},M=e=>S!==e?null:"asc"===_?(0,s.jsx)(m.A,{className:"ml-2 h-3.5 w-3.5 inline transform rotate-180"}):(0,s.jsx)(m.A,{className:"ml-2 h-3.5 w-3.5 inline"}),H=e=>{let t="Action: ".concat(e.action||"unknown","\n");return"clear_all"===e.action&&void 0!==e.countCleared?t+="Cleared ".concat(e.countCleared," entr(y/ies).\n"):"download_full_prompts"===e.action?t+="User downloaded the full AI prompts & logic document.\n":e.fileData?(t+="Entry Name: ".concat(e.fileData.name,"\nType: ").concat(e.fileData.isTextEntry?"Text Entry":e.fileData.type,"\n"),e.fileData.product&&(t+="Product: ".concat(e.fileData.product,"\n")),e.fileData.persona&&(t+="Persona: ".concat(e.fileData.persona,"\n")),e.fileData.isTextEntry&&e.fileData.textContent&&(t+="Content (excerpt): ".concat(e.fileData.textContent.substring(0,100),"...\n"))):e.filesData&&e.filesData.length>0?(t+="Files (".concat(e.filesData.length,"):\n").concat(e.filesData.map(e=>"  - ".concat(e.name," (").concat(e.isTextEntry?"Text Entry":e.type||"N/A",", Size: ").concat(e.size,")")).join("\n"),"\n"),e.filesData[0].product&&(t+="Product (for batch): ".concat(e.filesData[0].product,"\n")),e.filesData[0].persona&&(t+="Persona (for batch): ".concat(e.filesData[0].persona,"\n"))):(e.fileId&&(t+="File ID: ".concat(e.fileId,"\n")),e.name&&(t+="Item Name: ".concat(e.name,"\n"))),e.error&&(t+="Error: ".concat(e.error,"\n")),t},z=e=>{let t=e.details;if("string"==typeof t)return t;if("object"==typeof t&&null!==t){if(G(t)){let e="Error: ".concat(t.error,"\n");return t.inputData&&(e+="Input Data (Context): ".concat(JSON.stringify(t.inputData,null,2))),e}switch(e.module){case"Pitch Generator":if(V(t)){let e="Product: ".concat(t.inputData.product,"\nCustomer Cohort: ").concat(t.inputData.customerCohort);return t.inputData.etPlanConfiguration&&(e+="\nET Plan Config: ".concat(t.inputData.etPlanConfiguration)),t.inputData.salesPlan&&(e+="\nSales Plan: ".concat(t.inputData.salesPlan)),t.inputData.offer&&(e+="\nOffer: ".concat(t.inputData.offer)),t.inputData.agentName&&(e+="\nAgent Name: ".concat(t.inputData.agentName)),t.inputData.userName&&(e+="\nUser Name: ".concat(t.inputData.userName)),t.inputData.usedDirectFile?e+="\nKnowledge Source: Direct File Upload (".concat(t.inputData.directFileName||"Unknown Name",")"):e+="\nKnowledge Source: General Knowledge Base",e+="\nKB Context Provided: ".concat(t.inputData.knowledgeBaseContextProvided),e+="\nDirect File Content Used (if applicable): ".concat(t.inputData.directFileContentUsed)}break;case"Rebuttal Generator":if(L(t))return"Product: ".concat(t.inputData.product,"\nObjection: ").concat(t.inputData.objection,"\nKB Context Provided: ").concat(t.inputData.knowledgeBaseContextProvided);break;case"Create Training Material":if($(t)){let e="Product: ".concat(t.inputData.product,"\nOutput Format: ").concat(t.inputData.deckFormatHint,"\n");return e+="Context Source Description: ".concat(t.inputData.sourceDescriptionForAi||(t.inputData.generateFromAllKb?"Entire KB for product":"".concat(t.inputData.knowledgeBaseItems.length," selected KB items / direct uploads")),"\n"),t.inputData.knowledgeBaseItems&&t.inputData.knowledgeBaseItems.length>0&&(e+="Context Items (Name, Type, Text Excerpt if applicable):\n".concat(t.inputData.knowledgeBaseItems.map(e=>"    - ".concat(e.name," (").concat(e.isTextEntry?"Text Entry":e.fileType||"File",")").concat(e.textContent?'\n      Text: "'.concat(e.textContent.substring(0,100),'..."'):"")).join("\n"))),e}break;case"Data Analysis":if(W(t)){let e="User Analysis Prompt (Specific to this run):\n".concat(t.inputData.userAnalysisPrompt,"\n\n");return e+="File Context Provided (".concat(t.inputData.fileDetails.length," files):\n").concat(t.inputData.fileDetails.map(e=>"    - ".concat(e.fileName," (Type: ").concat(e.fileType,")")).join("\n"),"\n"),t.inputData.sampledFileContent&&(e+='\nSampled Text Content (from first CSV/TXT):\n    "'.concat(t.inputData.sampledFileContent.substring(0,250),'..."\n')),e}break;case"Knowledge Base Management":if(Z(t))return H(t);break;case"Call Scoring":if(J(t))return"File Name: ".concat(t.fileName||"Unknown","\nProduct: ").concat(e.product||"N/A","\nAgent Name (from form): ").concat(t.agentNameFromForm||"N/A","\n(Audio file processed, content not shown here for brevity)");break;case"Transcription & Analysis":if(J(t))return"File Name: ".concat(t.fileName||"Unknown","\n(Audio file processed for general analysis, content not shown here for brevity)")}return JSON.stringify(t,(t,a)=>("textContent"===t||"sampledFileContent"===t||"knowledgeBaseContext"===t||"diarizedTranscript"===t)&&"string"==typeof a&&a.length>500?a.substring(0,500)+"... (truncated for raw view)":"knowledgeBaseItems"===t&&Array.isArray(a)&&a.length>3?"Array of ".concat(a.length," items (first 3 names shown): ")+JSON.stringify(a.slice(0,3).map(e=>e.name||"Unnamed Item"))+"...":"Data Analysis"===e.module&&"string"==typeof a&&a.length>300&&["executiveSummary","reportTitle","detailedAnalysis","keyMetrics"].includes(t)?a.substring(0,300)+"... (truncated, view full report for details)":"recommendations"===t&&Array.isArray(a)&&a.length>2?"Array of ".concat(a.length," recommendations (first 2 shown): ")+JSON.stringify(a.slice(0,2).map(e=>(e.area||"N/A")+": "+(e.recommendation||"N/A").substring(0,50)+"..."))+"...":"audioDataUri"===t&&"string"==typeof a&&a.length>100?a.substring(0,100)+"... (Data URI truncated)":a,2)}return"N/A"},U=e=>{let t=e.details;if("string"==typeof t)return t.substring(0,50)+(t.length>50?"...":"");if("object"==typeof t&&null!==t){var a,s,r,n,l,i,o,c,d,u,m,p,x,f;if(G(t))return"Error: ".concat(t.error.substring(0,40),"...");switch(e.module){case"Call Scoring":case"Transcription & Analysis":if(J(t))return"Call Scored: ".concat(t.fileName||"Unknown File",". Score: ").concat(null!=(s=null==(a=t.scoreOutput)?void 0:a.overallScore)?s:"N/A");break;case"Pitch Generator":if(V(t))return"Pitch for ".concat((null==(r=t.inputData)?void 0:r.product)||"N/A",": ").concat((null==(l=t.pitchOutput)||null==(n=l.pitchTitle)?void 0:n.substring(0,30))||"N/A","...");break;case"Rebuttal Generator":if(L(t))return'Rebuttal for "'.concat(((null==(i=t.inputData)?void 0:i.objection)||"N/A").substring(0,30),'..."');break;case"Create Training Material":if($(t)){let e=(null==(o=t.inputData)?void 0:o.deckFormatHint)==="Brochure"?"Brochure":"Deck";return"".concat(e," for ").concat((null==(c=t.inputData)?void 0:c.product)||"N/A",": ").concat((null==(u=t.materialOutput)||null==(d=u.deckTitle)?void 0:d.substring(0,30))||"N/A","...")}break;case"Data Analysis":if(W(t))return"Report: ".concat((null==(p=t.analysisOutput)||null==(m=p.reportTitle)?void 0:m.substring(0,30))||"N/A","... (Prompt: ").concat(t.inputData.userAnalysisPrompt.substring(0,20),"...)");break;case"Knowledge Base Management":if(Z(t)){if("clear_all"===t.action)return"KB Cleared: ".concat(t.countCleared," entries removed.");if("download_full_prompts"===t.action)return"Downloaded full AI prompts document.";let e=t.action||(t.filesData?"add batch":"add"),a=t.name||(null==(x=t.fileData)?void 0:x.name)||t.filesData&&(null==(f=t.filesData[0])?void 0:f.name)||"N/A";return"Action: ".concat(e,". Item: ").concat(a)}break;case"Transcription":if(K(t))return"Transcribed: ".concat(t.fileName,". Accuracy: ").concat(t.transcriptionOutput.accuracyAssessment||"N/A")}return"Complex object details. Click View for more."}return"No specific preview."},G=e=>"object"==typeof e&&null!==e&&"error"in e&&"string"==typeof e.error,J=e=>"object"==typeof e&&null!==e&&"scoreOutput"in e&&"object"==typeof e.scoreOutput&&"fileName"in e,V=e=>"object"==typeof e&&null!==e&&"pitchOutput"in e&&"object"==typeof e.pitchOutput&&"inputData"in e&&"object"==typeof e.inputData,L=e=>"object"==typeof e&&null!==e&&"rebuttalOutput"in e&&"object"==typeof e.rebuttalOutput&&"inputData"in e&&"object"==typeof e.inputData,K=e=>"object"==typeof e&&null!==e&&"transcriptionOutput"in e&&"object"==typeof e.transcriptionOutput&&"fileName"in e,$=e=>"object"==typeof e&&null!==e&&"materialOutput"in e&&"object"==typeof e.materialOutput&&"inputData"in e&&"object"==typeof e.inputData,W=e=>"object"==typeof e&&null!==e&&"analysisOutput"in e&&"object"==typeof e.analysisOutput&&"inputData"in e&&"object"==typeof e.inputData,Z=e=>"object"==typeof e&&null!==e&&("fileData"in e||"filesData"in e||"action"in e||"fileId"in e||"name"in e||"countCleared"in e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.F,{className:"h-[calc(100vh-300px)] md:h-[calc(100vh-240px)] rounded-md border shadow-sm bg-card",children:(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{className:"sticky top-0 bg-card z-10 shadow-sm",children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsxs)(l.nd,{onClick:()=>I("timestamp"),className:"cursor-pointer py-2.5 px-3 text-xs",children:["Date ",M("timestamp")]}),(0,s.jsxs)(l.nd,{onClick:()=>I("module"),className:"cursor-pointer py-2.5 px-3 text-xs",children:["Module ",M("module")]}),(0,s.jsxs)(l.nd,{onClick:()=>I("product"),className:"cursor-pointer py-2.5 px-3 text-xs",children:["Product ",M("product")]}),(0,s.jsxs)(l.nd,{onClick:()=>I("agentName"),className:"cursor-pointer py-2.5 px-3 text-xs",children:["Agent ",M("agentName")]}),(0,s.jsx)(l.nd,{className:"py-2.5 px-3 text-xs",children:"Details Preview"}),(0,s.jsx)(l.nd,{className:"text-right py-2.5 px-3 text-xs",children:"View Result"})]})}),(0,s.jsx)(l.BF,{children:0===B.length?(0,s.jsx)(l.Hj,{children:(0,s.jsx)(l.nA,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No activities logged yet."})}):B.map(e=>(0,s.jsxs)(l.Hj,{className:"hover:bg-muted/30",children:[(0,s.jsx)(l.nA,{className:"py-2 px-3 text-xs",children:(0,d.GP)((0,u.H)(e.timestamp),"PP p")}),(0,s.jsx)(l.nA,{className:"py-2 px-3 text-xs",children:e.module}),(0,s.jsx)(l.nA,{className:"py-2 px-3 text-xs",children:e.product||"N/A"}),(0,s.jsx)(l.nA,{className:"py-2 px-3 text-xs",children:e.agentName||"N/A"}),(0,s.jsx)(l.nA,{className:"max-w-[200px] truncate py-2 px-3 text-xs",title:U(e),children:U(e)}),(0,s.jsx)(l.nA,{className:"text-right py-2 px-3",children:(0,s.jsxs)(i.$,{variant:"outline",size:"xs",onClick:()=>{n(e),F(!0)},children:[(0,s.jsx)(v.A,{className:"mr-1.5 h-3.5 w-3.5"})," View"]})})]},e.id))})]})}),a&&(0,s.jsx)(o.lG,{open:P,onOpenChange:F,children:(0,s.jsxs)(o.Cf,{className:"sm:max-w-lg md:max-w-2xl lg:max-w-4xl max-h-[90vh] flex flex-col p-0",children:[(0,s.jsxs)(o.c7,{className:"p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[(0,s.jsxs)(o.L3,{className:"text-lg text-primary",children:["Activity Details: ",a.module]}),(0,s.jsxs)(o.rr,{className:"text-xs",children:["Logged on: ",(0,d.GP)((0,u.H)(a.timestamp),"PPPP pppp"),a.agentName&&" by ".concat(a.agentName),a.product&&", Product: ".concat(a.product)]})]}),(0,s.jsx)(c.F,{className:"flex-grow p-4 overflow-y-auto",children:G(a.details)?(0,s.jsxs)("div",{className:"space-y-3 text-sm text-destructive bg-destructive/10 p-4 rounded-md",children:[(0,s.jsx)("p",{className:"font-semibold text-md",children:"Error Occurred:"}),a.details.inputData&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-destructive mb-1",children:"Input Data (Context):"}),(0,s.jsx)(c.F,{className:"max-h-40 overflow-y-auto",children:(0,s.jsx)("pre",{className:"text-xs whitespace-pre-wrap break-all bg-background/30 p-2 rounded",children:JSON.stringify(a.details.inputData,null,2)})})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Error Message:"})," ",a.details.error]})]}):(0,s.jsxs)(A.nD,{type:"multiple",defaultValue:["item-output","item-input-params"],className:"w-full space-y-1",children:[(e=>{if(!e.details||"object"!=typeof e.details||G(e.details))return null;let t=z(e);return t&&"N/A"!==t&&!t.toLowerCase().includes("audio file processed")?(0,s.jsxs)(A.As,{value:"item-input-params",children:[(0,s.jsx)(A.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.A,{className:"mr-2 h-5 w-5 text-accent"}),"Input Parameters / Context"]})}),(0,s.jsx)(A.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,s.jsx)(c.F,{className:"max-h-60 overflow-y-auto",children:(0,s.jsx)("pre",{className:"p-2 bg-background/30 rounded-md text-xs whitespace-pre-wrap break-words",children:t})})})]}):null})(a),(e=>{if(!e.details||"object"!=typeof e.details||G(e.details))return null;let t=null,a="Result / Output",r=(0,s.jsx)(x.A,{className:"mr-2 h-5 w-5 text-accent"});if(J(e.details)&&("Call Scoring"===e.module||"Transcription & Analysis"===e.module))t=(0,s.jsx)(D.o,{results:e.details.scoreOutput,fileName:e.details.fileName,isHistoricalView:!0}),a="Call Scoring Report",r=(0,s.jsx)(f.A,{className:"mr-2 h-5 w-5 text-accent"});else if(V(e.details)&&"Pitch Generator"===e.module)t=(0,s.jsx)(C.r,{pitch:e.details.pitchOutput}),a="Generated Pitch",r=(0,s.jsx)(h.A,{className:"mr-2 h-5 w-5 text-accent"});else if(L(e.details)&&"Rebuttal Generator"===e.module)t=(0,s.jsx)(k.C,{rebuttal:e.details.rebuttalOutput}),a="Suggested Rebuttal",r=(0,s.jsx)(g.A,{className:"mr-2 h-5 w-5 text-accent"});else if($(e.details)&&"Create Training Material"===e.module){var n;let{materialOutput:l,inputData:i}=e.details;t=(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg flex items-center",children:["Brochure"===i.deckFormatHint?(0,s.jsx)(b.A,{className:"mr-2 h-5 w-5"}):(0,s.jsx)(N.A,{className:"mr-2 h-5 w-5"}),(null==l?void 0:l.deckTitle)||"Untitled Material"]}),(0,s.jsx)(T.J,{children:"Sections / Slides / Panels:"}),(0,s.jsx)(c.F,{className:"max-h-[40vh] overflow-y-auto border rounded-md p-2 bg-background",children:(null==l||null==(n=l.sections)?void 0:n.map((e,t)=>(0,s.jsxs)("div",{className:"pb-2 mb-2 border-b last:border-b-0",children:[(0,s.jsx)("h4",{className:"font-medium text-md",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-line",children:e.content}),e.notes&&(0,s.jsxs)("p",{className:"text-xs text-accent-foreground/70 mt-1 italic",children:["Notes: ",e.notes]})]},t)))||(0,s.jsx)("p",{className:"text-muted-foreground",children:"No sections generated."})})]}),a="Generated Training Material",r=(0,s.jsx)(N.A,{className:"mr-2 h-5 w-5 text-accent"})}else W(e.details)&&"Data Analysis"===e.module?(t=(0,s.jsx)(O.X,{reportOutput:e.details.analysisOutput,userAnalysisPrompt:e.details.inputData.userAnalysisPrompt,fileContext:e.details.inputData.fileDetails}),a="Data Analysis Report",r=(0,s.jsx)(y.A,{className:"mr-2 h-5 w-5 text-accent"})):Z(e.details)&&"Knowledge Base Management"===e.module&&(t=(0,s.jsx)("pre",{className:"p-2 bg-background/30 rounded-md text-xs whitespace-pre-wrap break-words",children:H(e.details)}),a="Knowledge Base Action Details",r=(0,s.jsx)(j.A,{className:"mr-2 h-5 w-5 text-accent"}));return t?(0,s.jsxs)(A.As,{value:"item-output",children:[(0,s.jsx)(A.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[r,a]})}),(0,s.jsx)(A.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:t})]}):null})(a),(0,s.jsxs)(A.As,{value:"item-raw-details",children:[(0,s.jsx)(A.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(w.A,{className:"mr-2 h-5 w-5 text-accent"}),"Raw Details (Fallback)"]})}),(0,s.jsx)(A.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,s.jsx)(c.F,{className:"max-h-80 overflow-y-auto",children:(0,s.jsx)("pre",{className:"bg-background/30 p-2 rounded-md text-xs whitespace-pre-wrap break-words",children:z(a)})})})]})]})}),(0,s.jsx)(o.Es,{className:"p-3 border-t bg-muted/50 sticky bottom-0",children:(0,s.jsx)(i.$,{onClick:()=>F(!1),size:"sm",children:"Close"})})]})})]})}var F=a(51190),S=a(63263),E=a(28978),_=a(64269);function R(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(E.hv,{showOutsideDays:r,className:(0,_.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,_.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,_.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(F.A,{className:(0,_.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(S.A,{className:(0,_.cn)("h-4 w-4",t),...a})}},...n})}R.displayName="Calendar";var B=a(65142),I=a(26333),M=a(11186),H=a(28127),z=a(76140),U=a(72251),G=a(86948);function J(e){let{onFilterChange:t,availableModules:a,availableProducts:n}=e,[l,o]=(0,r.useState)({product:"All"});return(0,s.jsxs)(G.Zp,{className:"shadow-sm",children:[(0,s.jsx)(G.aR,{className:"py-4 px-4 md:px-6",children:(0,s.jsx)(G.ZB,{className:"text-md md:text-lg",children:"Filter Activities"})}),(0,s.jsxs)(G.Wu,{className:"space-y-3 py-3 px-4 md:px-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(T.J,{htmlFor:"dateFrom",className:"text-xs",children:"Date From"}),(0,s.jsxs)(I.AM,{children:[(0,s.jsx)(I.Wv,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",className:(0,_.cn)("w-full justify-start text-left font-normal h-9 text-xs",!l.dateFrom&&"text-muted-foreground"),children:[(0,s.jsx)(H.A,{className:"mr-2 h-3.5 w-3.5"}),l.dateFrom?(0,d.GP)(l.dateFrom,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(I.hl,{className:"w-auto p-0",children:(0,s.jsx)(R,{mode:"single",selected:l.dateFrom,onSelect:e=>o(t=>({...t,dateFrom:e||void 0})),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(T.J,{htmlFor:"dateTo",className:"text-xs",children:"Date To"}),(0,s.jsxs)(I.AM,{children:[(0,s.jsx)(I.Wv,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",className:(0,_.cn)("w-full justify-start text-left font-normal h-9 text-xs",!l.dateTo&&"text-muted-foreground"),children:[(0,s.jsx)(H.A,{className:"mr-2 h-3.5 w-3.5"}),l.dateTo?(0,d.GP)(l.dateTo,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(I.hl,{className:"w-auto p-0",children:(0,s.jsx)(R,{mode:"single",selected:l.dateTo,onSelect:e=>o(t=>({...t,dateTo:e||void 0})),disabled:e=>!!l.dateFrom&&e<l.dateFrom,initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(T.J,{htmlFor:"agentName",className:"text-xs",children:"Agent Name"}),(0,s.jsx)(B.p,{id:"agentName",placeholder:"Filter by agent name",value:l.agentName||"",onChange:e=>o(t=>({...t,agentName:e.target.value})),className:"h-9 text-xs"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(T.J,{htmlFor:"module",className:"text-xs",children:"Module"}),(0,s.jsxs)(M.l6,{value:l.module||"",onValueChange:e=>o(t=>({...t,module:"All"===e?void 0:e})),children:[(0,s.jsx)(M.bq,{className:"h-9 text-xs",children:(0,s.jsx)(M.yv,{placeholder:"Filter by module"})}),(0,s.jsxs)(M.gC,{children:[(0,s.jsx)(M.eb,{value:"All",children:"All Modules"}),a.map(e=>(0,s.jsx)(M.eb,{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(T.J,{htmlFor:"product",className:"text-xs",children:"Product"}),(0,s.jsxs)(M.l6,{value:l.product||"All",onValueChange:e=>o(t=>({...t,product:e})),children:[(0,s.jsx)(M.bq,{className:"h-9 text-xs",children:(0,s.jsx)(M.yv,{placeholder:"Filter by product"})}),(0,s.jsxs)(M.gC,{children:[(0,s.jsx)(M.eb,{value:"All",children:"All Products"}),n.map(e=>(0,s.jsx)(M.eb,{value:e,children:e},e))]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,s.jsxs)(i.$,{onClick:()=>{let e={product:"All"};o(e),t(e)},variant:"outline",size:"sm",children:[(0,s.jsx)(z.A,{className:"mr-2 h-3.5 w-3.5"})," Reset Filters"]}),(0,s.jsxs)(i.$,{onClick:()=>{t(l)},size:"sm",children:[(0,s.jsx)(U.A,{className:"mr-2 h-3.5 w-3.5"})," Apply Filters"]})]})]})]})}var V=a(36950),L=a(55253),K=a(85584),$=a(80158),W=a(15894),Z=a(47691),q=a(33086),X=a(20243),Y=a(6259),Q=a(31524);function ee(){let{activities:e}=(0,n.Z)(),{availableProducts:t}=(0,Q.G)(),[a,l]=(0,r.useState)({product:"All"}),{toast:o}=(0,W.dj)(),[c,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m(!0)},[]);let p=(0,r.useMemo)(()=>c?Array.from(new Set((e||[]).map(e=>e.module))):[],[e,c]),x=(0,r.useMemo)(()=>c?(e||[]).filter(e=>{var t;return!(a.dateFrom&&(0,u.H)(e.timestamp)<(0,Z.o)(a.dateFrom)||a.dateTo&&(0,u.H)(e.timestamp)>(0,q.D)(a.dateTo))&&(!a.agentName||!!(null==(t=e.agentName)?void 0:t.toLowerCase().includes(a.agentName.toLowerCase())))&&(!a.module||e.module===a.module)&&(!a.product||"All"===a.product||e.product===a.product)}).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()):[],[e,a,c]),f=e=>{if(0===x.length)return void o({variant:"default",title:"No Data",description:"There is no data to export."});try{let t=["Timestamp","Module","Product","Agent Name","Details Preview"],a=x.map(e=>({Timestamp:(0,d.GP)((0,u.H)(e.timestamp),"yyyy-MM-dd HH:mm:ss"),Module:e.module,Product:e.product||"N/A",AgentName:e.agentName||"N/A",DetailsPreview:(e=>{if("string"==typeof e)return e.substring(0,100)+(e.length>100?"...":"");if("object"==typeof e&&null!==e){var t,a,s,r,n;return"error"in e&&"string"==typeof e.error?"Error: ".concat(e.error.substring(0,80),"..."):"scoreOutput"in e&&"object"==typeof e.scoreOutput&&e.scoreOutput&&"overallScore"in e.scoreOutput?"Call Scored. Score: ".concat(null!=(n=e.scoreOutput.overallScore)?n:"N/A"):"pitchOutput"in e&&"object"==typeof e.pitchOutput&&e.pitchOutput&&"pitchTitle"in e.pitchOutput?"Pitch: ".concat((null==(t=e.pitchOutput.pitchTitle)?void 0:t.substring(0,50))||"N/A","..."):"rebuttalOutput"in e&&"object"==typeof e.rebuttalOutput&&e.rebuttalOutput&&"rebuttal"in e.rebuttalOutput?"Rebuttal: ".concat((null==(a=e.rebuttalOutput.rebuttal)?void 0:a.substring(0,50))||"N/A","..."):"transcriptionOutput"in e&&"object"==typeof e.transcriptionOutput&&e.transcriptionOutput&&"accuracyAssessment"in e.transcriptionOutput?"Transcribed. Acc: ".concat(e.transcriptionOutput.accuracyAssessment||"N/A"):"materialOutput"in e&&"object"==typeof e.materialOutput&&e.materialOutput&&"deckTitle"in e.materialOutput?"Material: ".concat((null==(s=e.materialOutput.deckTitle)?void 0:s.substring(0,50))||"N/A","..."):"analysisOutput"in e&&"object"==typeof e.analysisOutput&&e.analysisOutput&&"reportTitle"in e.analysisOutput?"Analysis: ".concat((null==(r=e.analysisOutput.reportTitle)?void 0:r.substring(0,50))||"N/A","..."):JSON.stringify(e).substring(0,100)+(JSON.stringify(e).length>100?"...":"")}return"N/A"})(e.details)})),s=a.map(e=>[e.Timestamp,e.Module,e.Product,e.AgentName,e.DetailsPreview]),r=new Date().toISOString().replace(/:/g,"-").slice(0,19),n="activity_log_".concat(r);"csv"===e?((0,$.yR)("".concat(n,".csv"),a),o({title:"Export Successful",description:"Activity log exported as CSV (for Excel)."})):"pdf"===e?((0,$.e3)("".concat(n,".pdf"),t,s),o({title:"Export Successful",description:"Activity log table exported as PDF."})):"doc"===e&&((0,$.mf)("".concat(n,".doc"),t,s),o({title:"Export Successful",description:"Activity log table exported as Text for Word (.doc)."}))}catch(t){o({variant:"destructive",title:"Export Failed",description:"Could not export data to ".concat(e.toUpperCase(),". Error: ").concat(t instanceof Error?t.message:String(t))}),console.error("Activity Log ".concat(e.toUpperCase()," Export error:"),t)}};return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)(V.z,{title:"Activity Dashboard"}),(0,s.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:px-6 md:py-3 space-y-4",children:[(0,s.jsx)("div",{className:"md:sticky md:top-16 md:z-20 md:bg-background md:pt-3 md:pb-2",children:c?(0,s.jsx)(J,{onFilterChange:l,availableModules:p,availableProducts:t.map(e=>e.name)}):(0,s.jsx)(X.E,{className:"h-32 w-full"})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(Y.rI,{children:[(0,s.jsx)(Y.ty,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(L.A,{className:"mr-2 h-4 w-4"})," Export Options"]})}),(0,s.jsxs)(Y.SQ,{align:"end",children:[(0,s.jsxs)(Y._2,{onClick:()=>f("csv"),children:[(0,s.jsx)(K.A,{className:"mr-2 h-4 w-4"})," Export as CSV (for Excel)"]}),(0,s.jsxs)(Y._2,{onClick:()=>f("pdf"),children:[(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Export Table as PDF"]}),(0,s.jsxs)(Y._2,{onClick:()=>f("doc"),children:[(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4"})," Export Table as Text for Word (.doc)"]})]})]})}),c?(0,s.jsx)(P,{activities:x}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(X.E,{className:"h-12 w-full"}),(0,s.jsx)(X.E,{className:"h-20 w-full"}),(0,s.jsx)(X.E,{className:"h-20 w-full"}),(0,s.jsx)(X.E,{className:"h-20 w-full"})]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground p-4 border-t",children:["Note: Activity details are textual summaries. Direct links to generated outputs are not available in this version. Activity log is limited to the most recent ",n.H," entries."]})]})]})}},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>x,c7:()=>m,lG:()=>o,rr:()=>f});var s=a(95155),r=a(12115),n=a(89511),l=a(26615),i=a(64269);let o=n.bL;n.l9;let c=n.ZL;n.bm;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});d.displayName=n.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});x.displayName=n.hE.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});f.displayName=n.VY.displayName},69474:(e,t,a)=>{Promise.resolve().then(a.bind(a,48358))},85897:(e,t,a)=>{"use strict";a.d(t,{eu:()=>i,q5:()=>o});var s=a(95155),r=a(12115),n=a(46591),l=a(64269);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=n.bL.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",a),...r})}).displayName=n._V.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});o.displayName=n.H4.displayName},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>l,nA:()=>u,nd:()=>d});var s=a(95155),r=a(12115),n=a(64269);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...r})})});l.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...r})});i.displayName="TableHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...r})});o.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});c.displayName="TableRow";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});d.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},87785:(e,t,a)=>{"use strict";a.d(t,{C:()=>o});var s=a(95155),r=a(3998),n=a(86948),l=a(15894),i=a(81288);function o(e){let{rebuttal:t}=e,{toast:a}=(0,l.dj)();return(0,s.jsxs)(n.Zp,{className:"w-full max-w-lg shadow-xl mt-8",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{className:"text-xl text-primary",children:"Suggested Rebuttal"})}),(0,s.jsxs)(n.Wu,{children:[(0,s.jsx)("p",{className:"text-muted-foreground whitespace-pre-line leading-relaxed",children:t.rebuttal}),(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,s.jsxs)(r.$,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(t.rebuttal).then(()=>a({title:"Success",description:"Rebuttal copied to clipboard!"})).catch(()=>a({variant:"destructive",title:"Error",description:"Failed to copy rebuttal."}))},children:[(0,s.jsx)(i.A,{className:"mr-2 h-4 w-4"})," Copy Rebuttal"]})})]})]})}}},e=>{e.O(0,[2581,3930,5033,4909,6077,9972,6107,8458,4037,312,2254,6241,4589,2558,546,5155,2410,7380,2535,710,355,6460,8441,1255,7358],()=>e(e.s=69474)),_N_E=e.O()}]);