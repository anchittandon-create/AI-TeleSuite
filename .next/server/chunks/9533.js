exports.id=9533,exports.ids=[9533],exports.modules={38710:(a,b,c)=>{"use strict";c.d(b,{ai:()=>g});var d=c(8567),e=c(55446);let f=process.env.GOOGLE_API_KEY;console.log(`
--- Genkit Initialization (src/ai/genkit.ts) ---`),f?console.log("- Genkit server-side flows will use the GOOGLE_API_KEY environment variable for authentication."):console.error(`ðŸš¨ CRITICAL: GOOGLE_API_KEY environment variable is not defined. Server-side AI features WILL FAIL.`);let g=(0,d.genkit)({plugins:[(0,e.YF)({apiVersion:"v1"})],logLevel:"warn",enableTracingAndMetrics:!1});console.log(`--- End Genkit Initialization ---
`)},47002:a=>{function b(a){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}b.keys=()=>[],b.resolve=b,b.id=47002,a.exports=b},62186:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h,wL:()=>l});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));l.displayName="CardFooter"},64772:(a,b,c)=>{"use strict";c.d(b,{Fc:()=>i,TN:()=>k,XL:()=>j});var d=c(21124),e=c(38301),f=c(26691),g=c(44943);let h=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,role:"alert",className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Alert";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h5",{ref:c,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",a),...b}));j.displayName="AlertTitle";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",a),...b}));k.displayName="AlertDescription"},87603:(a,b,c)=>{"use strict";c.d(b,{A:()=>k,AA:()=>j,AS:()=>u,Bl:()=>w,DO:()=>l,E3:()=>q,Jf:()=>A,PK:()=>g,Pd:()=>B,Ph:()=>o,Ur:()=>v,Xn:()=>y,_x:()=>n,g6:()=>x,gp:()=>f,h1:()=>t,ly:()=>C,s7:()=>D,sC:()=>m,vU:()=>s});var d=c(79592),e=c(16800);d.Ik({audioDataUri:d.Yj().optional().describe("An audio file, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'."),audioUrl:d.Yj().url().optional().describe("A public URL to an audio file. Use this for larger files to avoid passing large data URIs.")}).superRefine((a,b)=>{a.audioDataUri||a.audioUrl||b.addIssue({code:e.eq.custom,message:"Either audioDataUri or audioUrl must be provided.",path:["audioDataUri"]})}),d.Ik({callMeta:d.Ik({sampleRateHz:d.ai().nullable(),durationSeconds:d.ai().nullable()}),segments:d.YO(d.Ik({startSeconds:d.ai(),endSeconds:d.ai(),speaker:d.k5(["Agent","User","System"]),speakerProfile:d.Yj(),text:d.Yj()})),summary:d.Ik({overview:d.Yj(),keyPoints:d.YO(d.Yj()),actions:d.YO(d.Yj())})});let f=d.Ik({product:d.Yj().min(1,"Product is required."),agentName:d.Yj().optional(),audioDataUri:d.Yj().optional().describe("The full audio of the call as a data URI. Used for tonality analysis."),audioUrl:d.Yj().url().optional().describe("A public URL to an audio file. Use this for larger files to avoid passing large data URIs."),transcriptOverride:d.Yj().optional().describe("A full, pre-existing transcript of the call. If not provided, a transcript will be generated from audioDataUri."),productContext:d.Yj().optional().describe("A string containing concatenated knowledge base and product catalog information."),brandUrl:d.Yj().url().optional().describe("The official URL of the product brand for fallback knowledge retrieval.")}).superRefine((a,b)=>{a.audioDataUri||a.transcriptOverride||a.audioUrl||b.addIssue({code:e.eq.custom,message:"Either audioDataUri, audioUrl, or transcriptOverride must be provided.",path:["audioDataUri"]})}),g=d.Ik({transcript:d.Yj(),transcriptAccuracy:d.Yj(),overallScore:d.ai().describe("The single, overall score for the call, calculated as the average of all individual metric scores. Value is from 1 to 5."),callCategorisation:d.k5(["Excellent","Good","Average","Needs Improvement","Poor","Error"]),conversionReadiness:d.k5(["High","Medium","Low"]).describe("The AI's assessment of the user's likelihood to convert at the end of the call."),suggestedDisposition:d.Yj().describe("The suggested final call disposition for this call (e.g., 'Sale', 'Follow-up', 'Lead Nurturing', 'DNC - Do Not Call', 'Not Interested')."),summary:d.Yj().describe("A concise paragraph summarizing the entire call's key events, flow, and outcome."),strengths:d.YO(d.Yj()).describe("A list of 2-3 key strengths observed during the call."),areasForImprovement:d.YO(d.Yj()).describe("A list of 2-3 specific, actionable areas for improvement for the agent."),redFlags:d.YO(d.Yj()).describe("A list of any critical issues observed, such as compliance breaches, major mis-selling of product features, or extremely poor customer service. If none, this should be an empty array."),metricScores:d.YO(d.Ik({metric:d.Yj().describe("The specific metric being evaluated (e.g., 'Call Opening', 'Probing Depth', 'Price Objection Response')."),score:d.ai().min(1).max(5).describe("The score for this metric, from 1 to 5."),feedback:d.Yj().describe("Detailed, specific, and actionable feedback for this metric.")})).describe("A comprehensive list of all evaluated metrics with their scores and feedback."),improvementSituations:d.YO(d.bz()).optional().describe("This field is defined dynamically in the flow to avoid circular dependencies. It contains specific situations for improvement."),timestamp:d.Yj().optional()}),h=d.Ik({metricName:d.Yj().describe("Name of the Key Performance Indicator (KPI) or key metric identified (e.g., 'Overall Conversion Rate', 'Average Revenue Per Call', 'Lead Follow-up Rate', 'Connectivity %')."),value:d.Yj().describe("The calculated or inferred value of the metric (e.g., '15.2%', 'â‚¹350', '75%', '60%'). State if value cannot be determined from provided context. For calculated KPIs, briefly mention the assumed formula or source columns if not obvious."),trendOrComparison:d.Yj().optional().describe("Brief note on trend (e.g., 'Up 5% from last month', 'Stable') or comparison ('Highest among agents') if derivable from user's description."),insight:d.Yj().optional().describe("A brief insight related to this metric. (e.g. 'Indicates strong product-market fit for this cohort.')")}),i=d.Ik({type:d.k5(["Line Chart","Bar Chart","Pie Chart","Table","Heatmap","Scatter Plot"]).describe("Suggested type of visualization."),title:d.Yj().describe("Title for the suggested chart/table (e.g., 'Monthly Revenue Trend', 'Agent Performance Comparison')."),description:d.Yj().describe("Brief description of what this chart/table would show and what data it would use from the user's described files (e.g., 'Line chart showing total revenue per month from Oct-May, using 'Revenue' column from ET MIS sheets.' or 'Table comparing Agent Name, Calls Made, Conversion %').")}),j=d.Ik({fileDetails:d.YO(d.Ik({fileName:d.Yj().describe("The name of one of the user's files."),fileType:d.Yj().describe("The MIME type of the file (e.g., 'text/csv', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet').")})).min(1).describe("An array of objects, each describing a file the user intends to analyze. The AI uses these names and types as context alongside the user's detailed prompt."),userAnalysisPrompt:d.Yj().min(50).describe("The user's detailed prompt (min 50 characters) describing their files (e.g., 'Monthly MIS in Excel with sheets for Oct-May containing columns: Agent Name, Calls Made, Revenue...', 'CDR Dump as ZIP of CSVs...'), their likely data structure (column headers, date formats, numeric vs categorical fields, AND CRITICALLY: any decoding rules for coded fields e.g., 'NR' = Not Reachable, 'CALLB' = Call Back, 'INT' = Interested), specific file mappings ('My file 'sales_oct.xlsx' is the 'Monthly Revenue Tracker for Oct'), and specific analytical goals or areas of focus for THIS run (e.g., 'Focus the trend analysis specifically on Q4 & Q1, identify top agents...'). This supplements the main analysis instructions and is CRITICAL for the AI to understand the data it cannot directly read. Describe any known messiness in the data if you want the AI to address hypothetical cleaning steps.").max(1e4),sampledFileContent:d.Yj().optional().describe("A small text sample (e.g., first 10,000 characters) ONLY if one of the primary files is CSV/TXT. The AI uses this for more concrete initial observations if available. This field is undefined for Excel, DOCX, PDF etc.")}),k=d.Ik({reportTitle:d.Yj().describe("A comprehensive title for this specific data analysis report, reflecting the user's file context and analysis goals (e.g., 'Telecalling Performance & Revenue Attribution Analysis (Oct-May)', 'Subscription Renewal Rate Analysis')."),executiveSummary:d.Yj().min(1).describe("A concise overview (2-3 bullet points or a short paragraph) of the most critical findings and actionable insights. This should explain what the data *means* at a high level."),keyMetrics:d.YO(h).min(1).describe("An array of at least 1-3 key metrics or KPIs derived from the analysis (e.g., Conversion Rate, Lead Follow-up Rate, Connection Rate, Avg Revenue/Call). These should be specific and, where possible, quantified based on the user's description of their data. If revenue is missing, state how performance is being inferred (e.g., from intent outcome distribution)."),detailedAnalysis:d.Ik({dataReconstructionAndNormalizationSummary:d.Yj().optional().describe("A brief summary of how the AI *hypothetically* cleaned, reconstructed, or normalized the data tables based on the user's description of the data and its potential messiness. Explicitly mention how the user's detailed prompt (e.g., descriptions of column misalignments, merged rows, or specific null value representations) guided this simulated cleanup process."),smartTableRecognitionSummary:d.Yj().optional().describe("Brief summary of how the AI *inferred* the purpose of different described data tables/sheets (e.g., CDR, Daily MIS, Source Dump) based on the column names, sheet names, and context provided by the user in their detailed prompt."),timeSeriesTrends:d.Yj().optional().describe("Analysis of time-based trends (e.g., monthly/quarterly growth, dips, seasonality in revenue, calls, conversions, connection rates). Describe what patterns are observed and potential reasons based on described data context. Highlight any significant monthly changes."),comparativePerformance:d.Yj().optional().describe("Comparison of performance across different categories such as agents or cohorts. Identify top/low performers or significant variances. For agents, discuss insights like 'Agent A converted fewer leads despite high talktime'. For cohorts, identify which ones are being ignored or over-performing, and their ROI if inferable."),useCaseSpecificInsights:d.Yj().optional().describe("Insights specific to telecalling operations, campaign attribution, incentive effectiveness, or sales funnel leakages, as suggested by the user's prompt and data description. Examples: insights on lead connectivity, conversion rates at different funnel stage, agent productivity variations, cohort ROI, incentive impact, or reasons for low follow-up causing low conversions. If something seems off (e.g., very low call duration based on user's description), flag it as a red flag and suggest possible causes.")}).describe("Detailed breakdown of analytical findings, covering hypothetical data prep, table interpretations, agent-level insights, cohort trends, and other use-case specific points."),chartsOrTablesSuggestions:d.YO(i).optional().describe("Suggestions for 1-2 charts or tables that would best visualize the key findings."),recommendations:d.YO(d.Ik({area:d.Yj().describe("The area the recommendation pertains to (e.g., Agent Training, Cohort Strategy, Lead Management, Process Improvement, Incentive Adjustment)."),recommendation:d.Yj().describe("A specific, actionable recommendation based on the analysis (e.g., 'Train low-performing agents on X', 'Focus more on Payment Drop-offs cohort due to high ROI potential')."),justification:d.Yj().optional().describe("Briefly mention the analysis findings or data patterns (from user's description) that support this recommendation.")})).min(1).describe("At least 1-2 actionable recommendations or next steps derived from the analysis."),directInsightsFromSampleText:d.Yj().optional().describe("If a text sample (CSV/TXT) was provided: 2-3 specific insights, simple calculations (e.g. 'Average X from sample is Y'), or key observations derived *directly* from analyzing that sample content. E.g., 'The provided CSV sample shows an average call duration of X minutes based on a 'Duration' column.' If no sample, or sample is unusable, this field should state that or be omitted."),limitationsAndDisclaimer:d.Yj().describe("A clear disclaimer: This AI-generated analysis is based on the user's description of their data and any provided text samples. The AI has NOT directly processed or validated the content of complex binary files (Excel, DOCX, PDF, ZIP). The user is responsible for verifying all findings against their actual full datasets and business context. The accuracy and depth of this analysis are directly proportional to the detail provided in the user's input prompt.")}),l=d.Ik({product:d.Yj().min(1,"Product must be selected."),customerCohort:d.Yj().min(1,"Customer cohort must be selected."),specialPlanConfigurations:d.Yj().optional(),knowledgeBaseContext:d.Yj().describe('A structured string of knowledge base content. It contains sections like "--- PITCH STRUCTURE & FLOW CONTEXT ---" and "--- PRODUCT DETAILS & FACTS ---" which the AI must use for their designated purposes. It may also contain a "--- START OF USER-SELECTED KB CONTEXT ---" section which MUST be prioritized.'),optimizationContext:d.Yj().optional().describe("Insights from a combined call analysis to guide pitch optimization. Contains strengths to lean into and weaknesses to address."),salesPlan:d.Yj().optional(),offer:d.Yj().optional(),agentName:d.Yj().optional(),userName:d.Yj().optional(),brandName:d.Yj().optional(),brandUrl:d.Yj().url().optional()}),m=d.Ik({pitchTitle:d.Yj().describe("A compelling title for the sales pitch."),warmIntroduction:d.Yj().describe("A brief, friendly opening, introducing the agent (if name provided) and the product brand. This MUST be concise and derived *ONLY* from Knowledge Base cues if available (e.g., standard greeting), otherwise general professional greeting. Ensure this content is distinct from other sections."),personalizedHook:d.Yj().describe("A hook tailored to the user's cohort, explaining the reason for the call and possibly hinting at benefits or offers relevant to that cohort. This section MUST use specifics *ONLY* from the Knowledge Base if available for the cohort or product, otherwise a generic professional hook for the cohort. Ensure this content is distinct and does not repeat Warm Introduction or Product Explanation points."),productExplanation:d.Yj().min(10).describe("Clear explanation of the product, focusing on its core value proposition to the customer. This MUST be derived *ONLY* from the '--- PRODUCT DETAILS & FACTS ---' section of the Knowledge Base. Do not repeat information from the hook if it covered product basics. Ensure this content is distinct and does not repeat benefits detailed in 'keyBenefitsAndBundles'. If context is sparse, state what kind of info would be here and refer agent to KB/source file."),keyBenefitsAndBundles:d.Yj().min(10).describe("Highlight 2-4 key benefits and any bundled offers. This MUST be derived *ONLY* from the '--- PRODUCT DETAILS & FACTS ---' section of the Knowledge Base. Explain added value to the customer. Ensure these benefits are distinct and not just rephrasing the Product Explanation. If context is sparse, state what kind of info would be here and refer agent to KB/source file."),discountOrDealExplanation:d.Yj().describe("Explanation of any specific discount or deal. If no offer, mention plan availability. Use <INSERT_PRICE> placeholder. This MUST be derived *ONLY* from the '--- PRODUCT DETAILS & FACTS ---' section of the Knowledge Base. If context is sparse, state what kind of info would be here and refer agent to KB/source file."),objectionHandlingPreviews:d.Yj().describe("Proactively address 1-2 common objections with brief rebuttals. This MUST be based *ONLY* on information in the '--- PRODUCT DETAILS & FACTS ---' or '--- GENERAL SUPPLEMENTARY CONTEXT ---' sections of the Knowledge Base (e.g., 'Common Selling Themes'). If context is sparse, state what kind of info would be here and refer agent to KB/source file."),finalCallToAction:d.Yj().describe("A clear and direct call to action, prompting the customer to proceed or request more information. This MUST be specific and actionable, and feel like a natural conclusion to the preceding points."),fullPitchScript:d.Yj().min(50).describe("The complete sales pitch script, formatted as a DIALOGUE primarily from the AGENT's perspective (use 'Agent:' label, or the agent's name if provided). You may include very brief, implied customer interjections or listening cues (e.g., 'Customer: (Listening)', 'Customer: Mm-hmm', or the customer's name if provided) to make it flow naturally. This script MUST smoothly integrate all distinct components above without excessive repetition, creating a natural, flowing conversation. Target 450-600 words for the agent's parts. Use placeholders like {{AGENT_NAME}}, {{USER_NAME}}, {{PRODUCT_NAME}}, {{USER_COHORT}}, {{PLAN_NAME}}, {{OFFER_DETAILS}}, <INSERT_PRICE>."),estimatedDuration:d.Yj().describe("Estimated speaking duration of the agent's parts in the full pitch script (e.g., '3-5 minutes')."),notesForAgent:d.Yj().optional().describe("Optional brief notes or tips for the agent specific to this pitch, product, and cohort (e.g., 'Emphasize X benefit for this cohort'). Include a note here if the AI could not directly process an uploaded file's content and had to rely on metadata or any general KB.")}),n=d.Ik({objection:d.Yj().describe("The customer objection."),product:d.Yj().min(1,"Product must be selected."),knowledgeBaseContext:d.Yj().describe("Concatenated relevant knowledge base content for the specified product. This is the sole source for rebuttal generation."),brandUrl:d.Yj().url().optional()}),o=d.Ik({rebuttal:d.Yj().describe("A contextual rebuttal to the customer objection. It should be well-structured, empathetic, and directly address the customer's concern. Prioritize using KB information. If KB is sparse for the specific objection, use general knowledge to structure a helpful response while still grounding it in the product context.")}),p=d.Ik({name:d.Yj().describe("Name of the knowledge base item (e.g., file name, text entry title, or 'User-Provided Prompt')."),textContent:d.Yj().optional().describe("Full text content if the item is a text entry from KB, a small directly uploaded text file, or the direct user prompt."),isTextEntry:d.zM().describe("Whether this item is a direct text entry from the KB or a direct user prompt."),fileType:d.Yj().optional().describe("MIME type of the file, if applicable (especially for direct uploads). Will be 'text/plain' for prompts.")}),q=d.Ik({product:d.Yj().describe("The product (ET or TOI) the training material is for."),deckFormatHint:d.k5(["PDF","Word Doc","PPT","Brochure"]).describe("The intended output format (influences content structure suggestion)."),knowledgeBaseItems:d.YO(p).describe("An array of contextual items: selected KB items, items derived from direct file uploads, OR a single item representing a direct user prompt. For KB files or larger/binary direct uploads, only name/type is primary context unless textContent is provided. For text entries from KB or direct prompts, full textContent is available."),generateFromAllKb:d.zM().describe("If true, knowledgeBaseItems represents the entire KB relevant to the product (and direct uploads/prompts are ignored)."),sourceDescriptionForAi:d.Yj().optional().describe("A brief description of the source of the knowledgeBaseItems (e.g., 'selected KB items', 'entire KB for ET', 'directly uploaded files: report.docx, notes.txt', 'a direct user-provided prompt requesting ET Prime Sales Training'). This helps the AI understand the context source.")}),r=d.Ik({title:d.Yj().describe("The title of this section/slide/panel."),content:d.Yj().describe("The main content for this section, formatted with bullet points, paragraphs, or concise statements as appropriate for the target format. Keep content focused for each section. For brochures, content should be persuasive and benefit-oriented, including textual suggestions for visuals e.g., (Visual: Happy customer using product)."),notes:d.Yj().optional().describe("Optional speaker notes for slides, or internal notes/suggestions for brochure panels (e.g., 'Use vibrant background', 'Feature customer testimonial', 'Visual Suggestion Detail: ...').")}),s=d.Ik({deckTitle:d.Yj().describe("The overall title for the training material (deck or brochure)."),sections:d.YO(r).min(3).describe("An array of at least 3 sections/slides/panels. For decks: intro, content, conclusion. For brochures: cover panel, internal panels, call-to-action panel.")}),t=d.Ik({action:d.k5(["START_CONVERSATION","PROCESS_USER_RESPONSE","END_CALL"]),product:d.Yj(),productDisplayName:d.Yj(),brandName:d.Yj().optional(),brandUrl:d.Yj().url().optional(),salesPlan:d.Yj().optional(),specialPlanConfigurations:d.Yj().optional(),offer:d.Yj().optional(),customerCohort:d.Yj(),agentName:d.Yj().optional(),userName:d.Yj().optional(),knowledgeBaseContext:d.Yj(),conversationHistory:d.YO(d.Ie()),currentPitchState:d.Ie().nullable(),currentUserInputText:d.Yj().optional(),inactivityCounter:d.ai().optional()}),u=d.Ik({conversationTurns:d.YO(d.Ie()),currentAiResponseText:d.Yj().optional(),generatedPitch:d.Ie().nullable(),nextExpectedAction:d.k5(["USER_RESPONSE","END_CALL_NO_SCORE","INTERACTION_ENDED"]),errorMessage:d.Yj().optional()}),v=d.Ik({product:d.Yj(),agentName:d.Yj().optional().describe("Name of the AI agent (for dialogue)."),userName:d.Yj().optional().describe("Name of the user/customer (for dialogue)."),userQuery:d.Yj().min(1,"User query text must be provided."),knowledgeBaseContext:d.Yj().min(10,"Knowledge base context is required and must be provided."),conversationHistory:d.YO(d.Ie()).optional(),brandUrl:d.Yj().url().optional()}),w=d.Ik({aiResponseText:d.Yj().optional(),escalationSuggested:d.zM().default(!1),sourcesUsed:d.YO(d.Yj()).optional(),errorMessage:d.Yj().optional()}),x=d.Ik({conversationHistory:d.YO(d.Ie()).optional().describe("The full history of the conversation, with 'AI' and 'User' speakers."),agentVoiceProfile:d.Yj().optional().describe("The voice profile ID from Google's catalog (e.g., 'en-IN-Wavenet-D')."),singleSpeakerText:d.Yj().optional().describe("If provided, generate audio for this single text string instead of the conversation history.")}),y=d.Ik({audioDataUri:d.Yj().describe("The Data URI of the generated WAV audio file for the full call."),errorMessage:d.Yj().optional()}),z=d.Ik({fileName:d.Yj(),scoreOutput:d.Ie()}),A=d.Ik({callReports:d.YO(z).min(1,"At least one call report is required."),product:d.Yj().describe("The product focus for this batch of calls."),overallAnalysisGoal:d.Yj().optional().describe("Optional: A specific goal or focus for this combined analysis (e.g., 'Identify reasons for low conversion in this batch', 'Assess consistency in objection handling').")}),B=d.Ik({reportTitle:d.Yj().describe("Title for the combined analysis report (e.g., 'Combined Analysis for ET - Batch of 5 Calls')."),productFocus:d.Yj().describe("The product focus for this batch of calls."),numberOfCallsAnalyzed:d.ai().int().describe("Total number of calls included in this combined analysis."),averageOverallScore:d.ai().optional().describe("The average overall score calculated across all valid individual reports. Omit if not calculable."),overallBatchCategorization:d.Yj().optional().describe("A qualitative categorization for the entire batch (e.g., 'Generally Strong Performance with room for improvement in X', 'Mixed Results - Significant inconsistencies noted')."),batchExecutiveSummary:d.Yj().min(1).describe("A concise (2-4 sentences) high-level summary of the most critical findings and actionable insights from the entire batch of calls."),commonStrengthsObserved:d.YO(d.Yj()).describe("List 2-4 key strengths that were commonly observed across multiple calls in the batch."),commonAreasForImprovement:d.YO(d.Yj()).describe("List 2-4 common areas for improvement identified from the batch."),commonRedFlags:d.YO(d.Yj()).optional().describe("A list of critical flaws or 'red flags' that appeared more than once across the batch of calls (e.g. compliance issues, rude behavior)."),keyThemesAndTrends:d.YO(d.Ik({theme:d.Yj().describe("A key theme or trend observed (e.g., 'Price Sensitivity Dominant Objection', 'Customer Confusion on Feature X')."),description:d.Yj().describe("Brief description or examples illustrating this theme from the calls."),frequency:d.Yj().optional().describe("Qualitative frequency of this theme (e.g., 'Observed in most calls', 'Appeared in approximately half of the calls').")})).min(1).describe("At least 1-3 notable themes, trends, or patterns observed across the batch of calls."),metricPerformanceSummary:d.YO(d.Ik({metricName:d.Yj().describe("Name of a key performance metric (e.g., 'Opening & Rapport Building', 'Objection Handling Effectiveness')."),batchPerformanceAssessment:d.Yj().describe("A qualitative summary of how this metric was performed across the batch."),averageScore:d.ai().optional().describe("If calculable, the average score for this metric across the batch (1-5)."),specificObservations:d.Yj().optional().describe("Brief, specific observations or examples related to this metric from the batch.")})).describe("Summary of performance across 3-5 key metrics for the batch."),individualCallHighlights:d.YO(d.Ik({fileName:d.Yj(),overallScore:d.ai(),briefSummary:d.Yj().max(150).describe("A one or two-sentence summary highlighting the most notable aspect of this individual call.")})).optional().describe("Optional: Brief highlights from up to 3-5 notable individual calls that exemplify key findings.")}),C=d.Ik({product:d.Yj(),cohortsToOptimize:d.YO(d.Yj()).min(1),analysisReport:B,knowledgeBaseContext:d.Yj()}),D=d.Ik({optimizedPitches:d.YO(d.Ik({cohort:d.Yj(),pitch:m}))})}};