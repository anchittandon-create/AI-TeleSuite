exports.id=5938,exports.ids=[5938],exports.modules={85:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){this.ktype=a,this.vtype=b,this.ktype.rw.width&&this.vtype.rw.width?this.poolByteLength=this.mapFixFixbyteLength:this.ktype.rw.width?this.poolByteLength=this.mapFixVarbyteLength:this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),d.Base.call(this)}e(g,d.Base),g.prototype.poolByteLength=function(a,b){for(var c=6,d=0;d<b.length;d++){var e=this.ktype.rw.poolByteLength(a,b[d][0]);if(e.err||(c+=e.length,(e=this.vtype.rw.poolByteLength(a,b[d][1])).err))return e;c+=e.length}return a.reset(null,c)},g.prototype.mapVarFixbyteLength=function(a,b){for(var c=6+b.length*this.vtype.rw.width,d=0;d<b.length;d++){var e=this.ktype.rw.poolByteLength(a,b[d][0]);if(e.err)return e;c+=e.length}return a.reset(null,c)},g.prototype.mapFixVarbyteLength=function(a,b){for(var c=6+b.length*this.ktype.rw.width,d=0;d<b.length;d++){var e=this.vtype.rw.poolByteLength(a,b[d][1]);if(e.err)return e;c+=e.length}return a.reset(null,c)},g.prototype.mapFixFixbyteLength=function(a,b){var c=6+b.length*this.ktype.rw.width+b.length*this.vtype.rw.width;return a.reset(null,c)},g.prototype.poolWriteInto=function(a,b,c,e){var f=d.UInt8.poolWriteInto(a,this.ktype.typeid,c,e);if(f.err||(e=f.offset,(f=d.UInt8.poolWriteInto(a,this.vtype.typeid,c,e)).err)||(e=f.offset,(f=d.UInt32BE.poolWriteInto(a,b.length,c,e)).err))return f;e=f.offset;for(var g=0;g<b.length;g++){var h=b[g];if((f=this.ktype.rw.poolWriteInto(a,h[0],c,e)).err||(e=f.offset,(f=this.vtype.rw.poolWriteInto(a,h[1],c,e)).err))return f;e=f.offset}return a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var g=e.value;if(g!==this.ktype.typeid)return a.reset(f.MapKeyTypeIdMismatch({encoded:g,expected:this.ktype.name,expectedId:this.ktype.typeid}),c);if((e=d.UInt8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h!==this.vtype.typeid)return a.reset(f.MapValTypeIdMismatch({encoded:h,expected:this.vtype.name,expectedId:this.vtype.typeid}),c);if((e=d.UInt32BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;for(var i=e.value,j=[],k=0;k<i;k++){if((e=this.ktype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var l=e.value;if((e=this.vtype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var m=e.value;j.push([l,m])}return a.reset(null,c,j)},a.exports.MapEntriesRW=g},103:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[c(30620).default]},144:(a,b,c)=>{"use strict";c.d(b,{u:()=>k});var d=c(595),e=c(89162),f=c(28617),g=c(79361),h=c(24774),i=c(66336),j=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=function(a){function b(b,c,d){void 0===b&&(b={});var j=a.call(this,b)||this;return j.DEFAULT_HEADERS={},j._contentType=d,b.metadata&&g.s.warn("Metadata cannot be set when using http"),j.headers=Object.assign(j.DEFAULT_HEADERS,(0,e.QG)(b.headers),h.parseKeyPairsIntoRecord((0,i._)().OTEL_EXPORTER_OTLP_HEADERS)),j.agent=(0,f.KX)(b),j.compression=(0,f.Ft)(b.compression),j._serializer=c,j}return j(b,a),b.prototype.onInit=function(a){},b.prototype.send=function(a,b,c){var d=this;if(this._shutdownOnce.isCalled)return void g.s.debug("Shutdown already started. Cannot send objects");var e=new Promise(function(b,c){var e;(0,f.Pk)(d,null!=(e=d._serializer.serializeRequest(a))?e:new Uint8Array,d._contentType,b,c)}).then(b,c);this._sendingPromises.push(e);var h=function(){var a=d._sendingPromises.indexOf(e);d._sendingPromises.splice(a,1)};e.then(h,h)},b.prototype.onShutdown=function(){},b}(d.S)},305:(a,b,c)=>{"use strict";var d,e,f=a.exports=c(16813),g=c(468);f.codegen=c(736),f.fetch=c(19687),f.path=c(37970),f.fs=f.inquire("fs"),f.toArray=function(a){if(a){for(var b=Object.keys(a),c=Array(b.length),d=0;d<b.length;)c[d]=a[b[d++]];return c}return[]},f.toObject=function(a){for(var b={},c=0;c<a.length;){var d=a[c++],e=a[c++];void 0!==e&&(b[d]=e)}return b};var h=/\\/g,i=/"/g;f.isReserved=function(a){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(a)},f.safeProp=function(a){return!/^[$\w_]+$/.test(a)||f.isReserved(a)?'["'+a.replace(h,"\\\\").replace(i,'\\"')+'"]':"."+a},f.ucFirst=function(a){return a.charAt(0).toUpperCase()+a.substring(1)};var j=/_([a-z])/g;f.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(j,function(a,b){return b.toUpperCase()})},f.compareFieldsById=function(a,b){return a.id-b.id},f.decorateType=function(a,b){if(a.$type)return b&&a.$type.name!==b&&(f.decorateRoot.remove(a.$type),a.$type.name=b,f.decorateRoot.add(a.$type)),a.$type;d||(d=c(68069));var e=new d(b||a.name);return f.decorateRoot.add(e),e.ctor=a,Object.defineProperty(a,"$type",{value:e,enumerable:!1}),Object.defineProperty(a.prototype,"$type",{value:e,enumerable:!1}),e};var k=0;f.decorateEnum=function(a){if(a.$type)return a.$type;e||(e=c(67958));var b=new e("Enum"+k++,a);return f.decorateRoot.add(b),Object.defineProperty(a,"$type",{value:b,enumerable:!1}),b},f.setProperty=function(a,b,c,d){function e(a,b,c){var f=b.shift();if("__proto__"===f||"prototype"===f)return a;if(b.length>0)a[f]=e(a[f]||{},b,c);else{var g=a[f];if(g&&d)return a;g&&(c=[].concat(g).concat(c)),a[f]=c}return a}if("object"!=typeof a)throw TypeError("dst must be an object");if(!b)throw TypeError("path must be specified");return e(a,b=b.split("."),c)},Object.defineProperty(f,"decorateRoot",{get:function(){return g.decorated||(g.decorated=new(c(31705)))}})},382:(a,b,c)=>{"use strict";a.exports=f;var d=c(32795);((f.prototype=Object.create(d.prototype)).constructor=f).className="Method";var e=c(305);function f(a,b,c,f,g,h,i,j,k){if(e.isObject(g)?(i=g,g=h=void 0):e.isObject(h)&&(i=h,h=void 0),!(void 0===b||e.isString(b)))throw TypeError("type must be a string");if(!e.isString(c))throw TypeError("requestType must be a string");if(!e.isString(f))throw TypeError("responseType must be a string");d.call(this,a,i),this.type=b||"rpc",this.requestType=c,this.requestStream=!!g||void 0,this.responseType=f,this.responseStream=!!h||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=j,this.parsedOptions=k}f.fromJSON=function(a,b){return new f(a,b.type,b.requestType,b.responseType,b.requestStream,b.responseStream,b.options,b.comment,b.parsedOptions)},f.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return e.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",b?this.comment:void 0,"parsedOptions",this.parsedOptions])},f.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},465:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OTLPGRPCExporterNodeBase=void 0;let d=c(68948),e=c(41625),f=c(83442),g=c(96786),h=c(60664);class i extends f.OTLPExporterBase{constructor(a={},b,c,f,i){var j;super(a),this.grpcQueue=[],this._serializer=i,a.headers&&d.diag.warn("Headers cannot be set when using grpc");let k=Object.assign({},e.baggageUtils.parseKeyPairsIntoRecord((0,e.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),b),l=()=>(0,h.configureCredentials)(void 0,this.getUrlFromConfig(a));if(null!=a.credentials){let b=a.credentials;l=()=>b}let m=null==(j=a.metadata)?void 0:j.clone(),n=()=>{let a=null!=m?m:(0,g.createEmptyMetadata)();for(let[b,c]of Object.entries(k))a.get(b).length<1&&a.set(b,c);return a};this.compression=(0,h.configureCompression)(a.compression),this._transport=new g.GrpcExporterTransport({address:this.getDefaultUrl(a),compression:this.compression,credentials:l,grpcName:c,grpcPath:f,metadata:n,timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(a,b,c){if(this._shutdownOnce.isCalled)return void d.diag.debug("Shutdown already started. Cannot send objects");let e=this._serializer.serializeRequest(a);if(null==e)return void c(Error("Could not serialize message"));let g=this._transport.send(e).then(a=>{if("success"===a.status)return void b();"failure"===a.status&&a.error&&c(a.error),c(new f.OTLPExporterError("Export failed with unknown error"))},c);this._sendingPromises.push(g);let h=()=>{let a=this._sendingPromises.indexOf(g);this._sendingPromises.splice(a,1)};g.then(h,h)}}b.OTLPGRPCExporterNodeBase=i},468:a=>{"use strict";a.exports={}},470:(a,b,c)=>{"use strict";var d=c(42218),e=c(89390),f=c(72125),g=c(54726),h=c(28832);class i extends g.YAMLSeq{constructor(){super(),this.add=f.YAMLMap.prototype.add.bind(this),this.delete=f.YAMLMap.prototype.delete.bind(this),this.get=f.YAMLMap.prototype.get.bind(this),this.has=f.YAMLMap.prototype.has.bind(this),this.set=f.YAMLMap.prototype.set.bind(this),this.tag=i.tag}toJSON(a,b){if(!b)return super.toJSON(a);let c=new Map;for(let a of(b?.onCreate&&b.onCreate(c),this.items)){let f,g;if(d.isPair(a)?(f=e.toJS(a.key,"",b),g=e.toJS(a.value,f,b)):f=e.toJS(a,"",b),c.has(f))throw Error("Ordered maps must not include duplicate keys");c.set(f,g)}return c}static from(a,b,c){let d=h.createPairs(a,b,c),e=new this;return e.items=d.items,e}}i.tag="tag:yaml.org,2002:omap";let j={collection:"seq",identify:a=>a instanceof Map,nodeClass:i,default:!1,tag:"tag:yaml.org,2002:omap",resolve(a,b){let c=h.resolvePairs(a,b),e=[];for(let{key:a}of c.items)d.isScalar(a)&&(e.includes(a.value)?b(`Ordered maps must not include duplicate keys: ${a.value}`):e.push(a.value));return Object.assign(new i,c)},createNode:(a,b,c)=>i.from(a,b,c)};b.YAMLOMap=i,b.omap=j},477:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(16800),e=c(70149);let f=(a,b)=>{let c;switch(a.code){case d.eq.invalid_type:c=a.received===e.Zp.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case d.eq.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.ZS.jsonStringifyReplacer)}`;break;case d.eq.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.ZS.joinValues(a.keys,", ")}`;break;case d.eq.invalid_union:c="Invalid input";break;case d.eq.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.ZS.joinValues(a.options)}`;break;case d.eq.invalid_enum_value:c=`Invalid enum value. Expected ${e.ZS.joinValues(a.options)}, received '${a.received}'`;break;case d.eq.invalid_arguments:c="Invalid function arguments";break;case d.eq.invalid_return_type:c="Invalid function return type";break;case d.eq.invalid_date:c="Invalid date";break;case d.eq.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.ZS.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case d.eq.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case d.eq.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case d.eq.custom:c="Invalid input";break;case d.eq.invalid_intersection_types:c="Intersection results could not be merged";break;case d.eq.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case d.eq.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.ZS.assertNever(a)}return{message:c}}},595:(a,b,c)=>{"use strict";c.d(b,{S:()=>h});var d=c(79361),e=c(51064),f=c(4875),g=c(89162),h=function(){function a(a){void 0===a&&(a={}),this._sendingPromises=[],this.url=this.getDefaultUrl(a),"string"==typeof a.hostname&&(this.hostname=a.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new e.I(this._shutdown,this),this._concurrencyLimit="number"==typeof a.concurrencyLimit?a.concurrencyLimit:30,this.timeoutMillis=(0,g.rH)(a.timeoutMillis),this.onInit(a)}return a.prototype.export=function(a,b){return this._shutdownOnce.isCalled?void b({code:f.V.FAILED,error:Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?void b({code:f.V.FAILED,error:Error("Concurrent export limit reached")}):void this._export(a).then(function(){b({code:f.V.SUCCESS})}).catch(function(a){b({code:f.V.FAILED,error:a})})},a.prototype._export=function(a){var b=this;return new Promise(function(c,e){try{d.s.debug("items to be sent",a),b.send(a,c,e)}catch(a){e(a)}})},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},a.prototype._shutdown=function(){return d.s.debug("shutdown started"),this.onShutdown(),this.forceFlush()},a}()},611:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClientDuplexStreamImpl=b.ClientWritableStreamImpl=b.ClientReadableStreamImpl=b.ClientUnaryCallImpl=void 0,b.callErrorFromStatus=g;let d=c(94735),e=c(27910),f=c(56458);function g(a,b){let c=`${a.code} ${f.Status[a.code]}: ${a.details}`,d=Error(c),e=`${d.stack}
for call at
${b}`;return Object.assign(Error(c),a,{stack:e})}class h extends d.EventEmitter{constructor(){super()}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}}b.ClientUnaryCallImpl=h;class i extends e.Readable{constructor(a){super({objectMode:!0}),this.deserialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_read(a){var b;null==(b=this.call)||b.startRead()}}b.ClientReadableStreamImpl=i;class j extends e.Writable{constructor(a){super({objectMode:!0}),this.serialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}b.ClientWritableStreamImpl=j;class k extends e.Duplex{constructor(a,b){super({objectMode:!0}),this.serialize=a,this.deserialize=b}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_read(a){var b;null==(b=this.call)||b.startRead()}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}b.ClientDuplexStreamImpl=k},736:a=>{"use strict";function b(a,c){"string"==typeof a&&(c=a,a=void 0);var d=[];function e(a){if("string"!=typeof a){var c=f();if(b.verbose&&console.log("codegen: "+c),c="return "+c,a){for(var g=Object.keys(a),h=Array(g.length+1),i=Array(g.length),j=0;j<g.length;)h[j]=g[j],i[j]=a[g[j++]];return h[j]=c,Function.apply(null,h).apply(null,i)}return Function(c)()}for(var k=Array(arguments.length-1),l=0;l<k.length;)k[l]=arguments[++l];if(l=0,a=a.replace(/%([%dfijs])/g,function(a,b){var c=k[l++];switch(b){case"d":case"f":return String(Number(c));case"i":return String(Math.floor(c));case"j":return JSON.stringify(c);case"s":return String(c)}return"%"}),l!==k.length)throw Error("parameter count mismatch");return d.push(a),e}function f(b){return"function "+(b||c||"")+"("+(a&&a.join(",")||"")+"){\n  "+d.join("\n  ")+"\n}"}return e.toString=f,e}a.exports=b,b.verbose=!1},955:(a,b)=>{"use strict";b.resolveEnd=function(a,b,c,d){let e="";if(a){let f=!1,g="";for(let h of a){let{source:a,type:i}=h;switch(i){case"space":f=!0;break;case"comment":{c&&!f&&d(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let b=a.substring(1)||" ";e?e+=g+b:e=b,g="";break}case"newline":e&&(g+=a),f=!0;break;default:d(h,"UNEXPECTED_TOKEN",`Unexpected ${i} at node end`)}b+=a.length}}return{comment:e,offset:b}}},1134:a=>{"use strict";a.exports=function a(a){for(;;){var b=a.indexOf("\x1b[");if(b<0)return a;var c=a.indexOf("m",b);if(c<0)return a;a=a.slice(0,b)+a.slice(c+1)}}},1148:(a,b,c)=>{"use strict";var d=c(82740),e=Object.create(null);e[d.BOOL]="BOOL",e[d.VOID]="VOID",e[d.BYTE]="BYTE",e[d.DOUBLE]="DOUBLE",e[d.I16]="I16",e[d.I32]="I32",e[d.I64]="I64",e[d.STRING]="STRING",e[d.MAP]="MAP",e[d.LIST]="LIST",e[d.SET]="SET",e[d.STRUCT]="STRUCT",a.exports=e},1302:(a,b,c)=>{"use strict";c.d(b,{$L:()=>bP,$R:()=>cv,$T:()=>cB,$c:()=>dA,AC:()=>bA,AS:()=>cH,AV:()=>bL,BF:()=>a0,BT:()=>dd,BY:()=>b1,Bt:()=>a1,C3:()=>bK,Cg:()=>cW,Cn:()=>bE,DL:()=>cU,Dn:()=>aT,E3:()=>aG,Eh:()=>b_,Fz:()=>cG,HE:()=>dw,HF:()=>bT,HP:()=>bc,I2:()=>a$,IG:()=>be,Iq:()=>aJ,JO:()=>cq,JW:()=>c8,Jn:()=>cF,Ky:()=>bf,L6:()=>cw,MK:()=>aP,Mm:()=>a3,Nw:()=>aH,OZ:()=>cT,PL:()=>bN,PO:()=>a6,PU:()=>bl,PZ:()=>aX,Pb:()=>bk,Pi:()=>dg,Pl:()=>bQ,RB:()=>aZ,RK:()=>a8,S5:()=>dt,SA:()=>aM,SV:()=>aK,Su:()=>bs,TH:()=>bj,Tg:()=>cx,Tl:()=>bh,U1:()=>bV,U2:()=>bG,UQ:()=>cR,Uf:()=>a2,VH:()=>aL,Vf:()=>cr,Vm:()=>cu,Vx:()=>cp,Vy:()=>bw,WC:()=>cn,WE:()=>cl,WN:()=>bU,XE:()=>du,Xm:()=>b0,Yb:()=>bH,Yh:()=>c7,ZZ:()=>aU,Zf:()=>aO,_2:()=>bW,a1:()=>cA,aA:()=>aV,an:()=>aS,ar:()=>bM,av:()=>cS,be:()=>bb,cJ:()=>de,cV:()=>bJ,do:()=>bo,du:()=>dx,f8:()=>bp,fP:()=>bC,g9:()=>bd,gJ:()=>bi,gT:()=>bv,h0:()=>dh,h7:()=>db,hQ:()=>bz,hi:()=>cQ,ig:()=>cV,ik:()=>by,jN:()=>dB,jV:()=>b3,k7:()=>bn,kE:()=>a9,kn:()=>bq,ko:()=>bx,kv:()=>bm,ky:()=>bB,l9:()=>df,lO:()=>a4,lb:()=>bI,mA:()=>aF,mc:()=>bt,nA:()=>bS,ns:()=>cC,o2:()=>dv,oH:()=>ct,op:()=>cm,ov:()=>b2,p7:()=>co,pV:()=>bg,qB:()=>cy,qF:()=>aR,qN:()=>cz,rK:()=>br,sS:()=>da,so:()=>cP,tD:()=>dc,tP:()=>dz,tn:()=>a_,uB:()=>aY,uh:()=>dC,uu:()=>a5,ux:()=>aW,v0:()=>aQ,wE:()=>dy,wP:()=>dD,x2:()=>bF,xC:()=>aI,xG:()=>c9,xQ:()=>bD,xR:()=>c6,xs:()=>bO,y$:()=>bR,yB:()=>aN,yT:()=>ba,z3:()=>bu,zF:()=>cs,zs:()=>a7});var d=c(66556),e="cloud.provider",f="cloud.account.id",g="cloud.region",h="cloud.availability_zone",i="cloud.platform",j="aws.ecs.container.arn",k="aws.ecs.cluster.arn",l="aws.ecs.launchtype",m="aws.ecs.task.arn",n="aws.ecs.task.family",o="aws.ecs.task.revision",p="aws.eks.cluster.arn",q="aws.log.group.names",r="aws.log.group.arns",s="aws.log.stream.names",t="aws.log.stream.arns",u="container.name",v="container.id",w="container.runtime",x="container.image.name",y="container.image.tag",z="deployment.environment",A="device.id",B="device.model.identifier",C="device.model.name",D="faas.name",E="faas.id",F="faas.version",G="faas.instance",H="faas.max_memory",I="host.id",J="host.name",K="host.type",L="host.arch",M="host.image.name",N="host.image.id",O="host.image.version",P="k8s.cluster.name",Q="k8s.node.name",R="k8s.node.uid",S="k8s.namespace.name",T="k8s.pod.uid",U="k8s.pod.name",V="k8s.container.name",W="k8s.replicaset.uid",X="k8s.replicaset.name",Y="k8s.deployment.uid",Z="k8s.deployment.name",$="k8s.statefulset.uid",_="k8s.statefulset.name",aa="k8s.daemonset.uid",ab="k8s.daemonset.name",ac="k8s.job.uid",ad="k8s.job.name",ae="k8s.cronjob.uid",af="k8s.cronjob.name",ag="os.type",ah="os.description",ai="os.name",aj="os.version",ak="process.pid",al="process.executable.name",am="process.executable.path",an="process.command",ao="process.command_line",ap="process.command_args",aq="process.owner",ar="process.runtime.name",as="process.runtime.version",at="process.runtime.description",au="service.name",av="service.namespace",aw="service.instance.id",ax="service.version",ay="telemetry.sdk.name",az="telemetry.sdk.language",aA="telemetry.sdk.version",aB="telemetry.auto.version",aC="webengine.name",aD="webengine.version",aE="webengine.description",aF=e,aG=f,aH=g,aI=h,aJ=i,aK=j,aL=k,aM=l,aN=m,aO=n,aP=o,aQ=p,aR=q,aS=r,aT=s,aU=t,aV=u,aW=v,aX=w,aY=x,aZ=y,a$=z,a_=A,a0=B,a1=C,a2=D,a3=E,a4=F,a5=G,a6=H,a7=I,a8=J,a9=K,ba=L,bb=M,bc=N,bd=O,be=P,bf=Q,bg=R,bh=S,bi=T,bj=U,bk=V,bl=W,bm=X,bn=Y,bo=Z,bp=$,bq=_,br=aa,bs=ab,bt=ac,bu=ad,bv=ae,bw=af,bx=ag,by=ah,bz=ai,bA=aj,bB=ak,bC=al,bD=am,bE=an,bF=ao,bG=ap,bH=aq,bI=ar,bJ=as,bK=at,bL=au,bM=av,bN=aw,bO=ax,bP=ay,bQ=az,bR=aA,bS=aB,bT=aC,bU=aD,bV=aE,bW=(0,d.O)([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE]),bX="alibaba_cloud",bY="aws",bZ="azure",b$="gcp",b_=bX,b0=bY,b1=bZ,b2=b$,b3=(0,d.O)([bX,bY,bZ,b$]),b4="alibaba_cloud_ecs",b5="alibaba_cloud_fc",b6="aws_ec2",b7="aws_ecs",b8="aws_eks",b9="aws_lambda",ca="aws_elastic_beanstalk",cb="azure_vm",cc="azure_container_instances",cd="azure_aks",ce="azure_functions",cf="azure_app_service",cg="gcp_compute_engine",ch="gcp_cloud_run",ci="gcp_kubernetes_engine",cj="gcp_cloud_functions",ck="gcp_app_engine",cl=b4,cm=b5,cn=b6,co=b7,cp=b8,cq=b9,cr=ca,cs=cb,ct=cc,cu=cd,cv=ce,cw=cf,cx=cg,cy=ch,cz=ci,cA=cj,cB=ck,cC=(0,d.O)([b4,b5,b6,b7,b8,b9,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck]),cD="ec2",cE="fargate",cF=cD,cG=cE,cH=(0,d.O)([cD,cE]),cI="amd64",cJ="arm32",cK="arm64",cL="ia64",cM="ppc32",cN="ppc64",cO="x86",cP=cI,cQ=cJ,cR=cK,cS=cL,cT=cM,cU=cN,cV=cO,cW=(0,d.O)([cI,cJ,cK,cL,cM,cN,cO]),cX="windows",cY="linux",cZ="darwin",c$="freebsd",c_="netbsd",c0="openbsd",c1="dragonflybsd",c2="hpux",c3="aix",c4="solaris",c5="z_os",c6=cX,c7=cY,c8=cZ,c9=c$,da=c_,db=c0,dc=c1,dd=c2,de=c3,df=c4,dg=c5,dh=(0,d.O)([cX,cY,cZ,c$,c_,c0,c1,c2,c3,c4,c5]),di="cpp",dj="dotnet",dk="erlang",dl="go",dm="java",dn="nodejs",dp="php",dq="python",dr="ruby",ds="webjs",dt=di,du=dj,dv=dk,dw=dl,dx=dm,dy=dn,dz=dp,dA=dq,dB=dr,dC=ds,dD=(0,d.O)([di,dj,dk,dl,dm,dn,dp,dq,dr,ds])},1735:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNeverDef=void 0;let d=c(10715);b.parseNeverDef=function(a){return"openAi"===a.target?void 0:{not:(0,d.parseAnyDef)({...a,currentPath:[...a.currentPath,"not"]})}}},1961:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64062),b),e(c(11293),b),e(c(80526),b),e(c(78404),b),e(c(61937),b),e(c(3667),b)},1998:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CommonRetrieverOptionsSchema:()=>A,Document:()=>n.Document,DocumentDataSchema:()=>n.DocumentDataSchema,IndexerInfoSchema:()=>C,RetrieverInfoSchema:()=>r,defineIndexer:()=>w,defineRetriever:()=>u,defineSimpleRetriever:()=>G,index:()=>z,indexer:()=>x,indexerRef:()=>D,retrieve:()=>y,retriever:()=>v,retrieverRef:()=>B}),a.exports=i(j);var k=c(40979),l=c(76944),m=c(25399),n=c(25399);let o=k.z.object({query:m.DocumentDataSchema,options:k.z.any().optional()}),p=k.z.object({documents:k.z.array(m.DocumentDataSchema)}),q=k.z.object({documents:k.z.array(m.DocumentDataSchema),options:k.z.any().optional()}),r=k.z.object({label:k.z.string().optional(),supports:k.z.object({media:k.z.boolean().optional()}).optional()});function s(a,b){let c=a;return c.__configSchema=b,c}function t(a,b){let c=a;return c.__configSchema=b,c}function u(a,b,c){let d=v(b,c);return a.registerAction("retriever",d),d}function v(a,b){return s((0,k.action)({actionType:"retriever",name:a.name,inputSchema:a.configSchema?o.extend({options:a.configSchema.optional()}):o,outputSchema:p,metadata:{type:"retriever",info:a.info,retriever:{customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(new m.Document(a.query),a.options)),a.configSchema)}function w(a,b,c){let d=x(b,c);return a.registerAction("indexer",d),d}function x(a,b){return t((0,k.action)({actionType:"indexer",name:a.name,inputSchema:a.configSchema?q.extend({options:a.configSchema.optional()}):q,outputSchema:k.z.void(),metadata:{type:"indexer",embedderInfo:a.embedderInfo,indexer:{customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(a.documents.map(a=>new m.Document(a)),a.options)),a.configSchema)}async function y(a,b){let c;if(!(c="string"==typeof b.retriever?await a.lookupAction(`/retriever/${b.retriever}`):Object.hasOwnProperty.call(b.retriever,"info")?await a.lookupAction(`/retriever/${b.retriever.name}`):b.retriever))throw Error("Unable to resolve the retriever");return(await c({query:"string"==typeof b.query?m.Document.fromText(b.query):b.query,options:b.options})).documents.map(a=>new m.Document(a))}async function z(a,b){let c;if(!(c="string"==typeof b.indexer?await a.lookupAction(`/indexer/${b.indexer}`):Object.hasOwnProperty.call(b.indexer,"info")?await a.lookupAction(`/indexer/${b.indexer.name}`):b.indexer))throw Error("Unable to utilize the provided indexer");return await c({documents:b.documents,options:b.options})}let A=k.z.object({k:k.z.number().describe("Number of documents to retrieve").optional()});function B(a){return{...a}}let C=r;function D(a){return{...a}}function E(a,b){if(!a)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"Items returned from simple retriever must be non-null."});if("string"==typeof a)return m.Document.fromText(a);if("function"==typeof b.content){let c=b.content(a);return"string"==typeof c?m.Document.fromText(c):new m.Document({content:c})}if("string"==typeof b.content&&"object"==typeof a)return m.Document.fromText(a[b.content]);throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot convert item to document without content option. Item: ${JSON.stringify(a)}`})}function F(a,b){if("string"!=typeof a){if(Array.isArray(b.metadata)&&"object"==typeof a){let c={};return b.metadata.forEach(b=>c[b]=a[b]),c}if("function"==typeof b.metadata)return b.metadata(a);if(!b.metadata&&"object"==typeof a){let c={...a};return"string"==typeof b.content&&delete c[b.content],c}throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Unable to extract metadata from item with supplied options. Item: ${JSON.stringify(a)}`})}}function G(a,b,c){return u(a,{name:b.name,configSchema:b.configSchema},async(a,d)=>({documents:(await c(a,d)).map(a=>{let c=E(a,b);return"string"!=typeof a&&(c.metadata=F(a,b)),c})}))}},2495:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(72125);class g extends f.YAMLMap{constructor(a){super(a),this.tag=g.tag}add(a){let b;b=d.isPair(a)?a:a&&"object"==typeof a&&"key"in a&&"value"in a&&null===a.value?new e.Pair(a.key,null):new e.Pair(a,null),f.findPair(this.items,b.key)||this.items.push(b)}get(a,b){let c=f.findPair(this.items,a);return!b&&d.isPair(c)?d.isScalar(c.key)?c.key.value:c.key:c}set(a,b){if("boolean"!=typeof b)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof b}`);let c=f.findPair(this.items,a);c&&!b?this.items.splice(this.items.indexOf(c),1):!c&&b&&this.items.push(new e.Pair(a))}toJSON(a,b){return super.toJSON(a,b,Set)}toString(a,b,c){if(!a)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},a,{allNullValues:!0}),b,c);throw Error("Set items must all have null values")}static from(a,b,c){let{replacer:d}=c,f=new this(a);if(b&&Symbol.iterator in Object(b))for(let a of b)"function"==typeof d&&(a=d.call(b,a,a)),f.items.push(e.createPair(a,null,c));return f}}g.tag="tag:yaml.org,2002:set";let h={collection:"map",identify:a=>a instanceof Set,nodeClass:g,default:!1,tag:"tag:yaml.org,2002:set",createNode:(a,b,c)=>g.from(a,b,c),resolve(a,b){if(d.isMap(a))if(a.hasAllNullValues(!0))return Object.assign(new g,a);else b("Set items must all have null values");else b("Expected a mapping for this tag");return a}};b.YAMLSet=g,b.set=h},2799:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};function i(){let a,b,c=new Promise((c,d)=>([a,b]=[c,d]));return{resolve:a,reject:b,promise:c}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{Channel:()=>j,LazyPromise:()=>k,lazy:()=>l}),a.exports=g(h);class j{ready=i();buffer=[];err=null;send(a){this.buffer.push(a),this.ready.resolve()}close(){this.buffer.push(null),this.ready.resolve()}error(a){this.err=a,this.ready.reject(a)}[Symbol.asyncIterator](){return{next:async()=>{if(this.err)throw this.err;this.buffer.length||await this.ready.promise;let a=this.buffer.shift();return this.buffer.length||(this.ready=i()),{value:a,done:!a}}}}}class k{executor;promise;constructor(a){this.executor=a}then(a,b){return this.promise??=new Promise(this.executor),this.promise.then(a,b)}}function l(a){return new k((b,c)=>{try{b(a())}catch(a){c(a)}})}},2851:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(56222),e=c(44464);b.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},3642:(a,b,c)=>{"use strict";var d=c(79428),e=c(8408),f=c(41604);b.binary={identify:a=>a instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(a,b){if("function"==typeof d.Buffer)return d.Buffer.from(a,"base64");if("function"!=typeof atob)return b("This environment does not support reading binary tags; either Buffer or atob is required"),a;{let b=atob(a.replace(/[\n\r]/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;++a)c[a]=b.charCodeAt(a);return c}},stringify({comment:a,type:b,value:c},g,h,i){let j;if(!c)return"";let k=c;if("function"==typeof d.Buffer)j=k instanceof d.Buffer?k.toString("base64"):d.Buffer.from(k.buffer).toString("base64");else if("function"==typeof btoa){let a="";for(let b=0;b<k.length;++b)a+=String.fromCharCode(k[b]);j=btoa(a)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(b??(b=e.Scalar.BLOCK_LITERAL),b!==e.Scalar.QUOTE_DOUBLE){let a=Math.max(g.options.lineWidth-g.indent.length,g.options.minContentWidth),c=Math.ceil(j.length/a),d=Array(c);for(let b=0,e=0;b<c;++b,e+=a)d[b]=j.substr(e,a);j=d.join(b===e.Scalar.BLOCK_LITERAL?"\n":" ")}return f.stringifyString({comment:a,type:b,value:j},g,h,i)}}},3667:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ZodError=b.quotelessJson=b.ZodIssueCode=void 0;let d=c(78404);b.ZodIssueCode=d.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),b.quotelessJson=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class e extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof e))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}b.ZodError=e,e.create=a=>new e(a)},3774:(a,b,c)=>{"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.parseWithoutProcessing=k,b.parse=l;var f=e(c(39584)),g=e(c(71918)),h=d(c(83096)),i=c(80496);b.parser=f.default;var j={};function k(a,b){return"Program"===a.type?a:(f.default.yy=j,j.locInfo=function(a){return new j.SourceLocation(b&&b.srcName,a)},f.default.parse(a))}function l(a,b){var c=k(a,b);return new g.default(b).accept(c)}i.extend(j,h)},3872:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;let d=c(53864),e=c(51018),f=c(28872),g=c(38595);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())}function j({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}function k(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}b.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,i=b.macro.call(h.self,f,g,h),j=k(c,e,i);!1!==h.opts.validateSchema&&h.self.validateSchema(i,!0);let l=c.name("valid");a.subschema({schema:i,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:j,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},b.funcKeywordCode=function(a,b){var c;let{gen:g,keyword:l,schema:m,parentSchema:n,$data:o,it:p}=a;j(p,b);let q=k(g,l,!o&&b.compile?b.compile.call(p.self,m,n,p):b.validate),r=g.let("valid");function s(){if(!1===b.errors)v(),b.modifying&&h(a),w(()=>a.error());else{let c=b.async?t():u();b.modifying&&h(a),w(()=>i(a,c))}}function t(){let a=g.let("ruleErrs",null);return g.try(()=>v((0,d._)`await `),b=>g.assign(r,!1).if((0,d._)`${b} instanceof ${p.ValidationError}`,()=>g.assign(a,(0,d._)`${b}.errors`),()=>g.throw(b))),a}function u(){let a=(0,d._)`${q}.errors`;return g.assign(a,null),v(d.nil),a}function v(c=b.async?(0,d._)`await `:d.nil){let h=p.opts.passContext?e.default.this:e.default.self,i=!("compile"in b&&!o||!1===b.schema);g.assign(r,(0,d._)`${c}${(0,f.callValidateCode)(a,q,h,i)}`,b.modifying)}function w(a){var c;g.if((0,d.not)(null!=(c=b.valid)?c:r),a)}a.block$data(r,s),a.ok(null!=(c=b.valid)?c:r)},b.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},b.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},4066:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{textFormatter:()=>i}),a.exports=g(h);let i={name:"text",config:{contentType:"text/plain"},handler:()=>({parseChunk:a=>a.text,parseMessage:a=>a.text})}},4132:a=>{"use strict";a.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},4481:(a,b,c)=>{"use strict";c.d(b,{D:()=>i});var d=c(29021),e=c(13590),f=c(79361),g=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},h=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};function i(){return g(this,void 0,void 0,function(){var a,b,c;return h(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,d.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,(a=g.sent()).trim()];case 2:return b=g.sent(),f.s.debug("error reading machine id: "+b),[3,3];case 3:return g.trys.push([3,5,,6]),[4,(0,e.q)("kenv -q smbios.system.uuid")];case 4:return[2,(a=g.sent()).stdout.trim()];case 5:return c=g.sent(),f.s.debug("error reading machine id: "+c),[3,6];case 6:return[2,""]}})})}},4581:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(80017);b.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},4607:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{LlmResponseSchema:()=>p,LlmStatsSchema:()=>m,ToolCallSchema:()=>o,ToolSchema:()=>n,toToolWireFormat:()=>q}),a.exports=i(j);var k=c(40979),l=c(76944);let m=k.z.object({latencyMs:k.z.number().optional(),inputTokenCount:k.z.number().optional(),outputTokenCount:k.z.number().optional()}),n=k.z.object({name:k.z.string(),description:k.z.string().optional(),schema:k.z.any()}),o=k.z.object({toolName:k.z.string(),arguments:k.z.any()}),p=k.z.object({completion:k.z.string(),toolCalls:k.z.array(o).optional(),stats:m});function q(a){if(a)return a.map(a=>({name:a.__action.name,description:a.__action.description,schema:{input:(0,l.toJsonSchema)({schema:a.__action.inputSchema,jsonSchema:a.__action.inputJsonSchema}),output:(0,l.toJsonSchema)({schema:a.__action.outputSchema,jsonSchema:a.__action.outputJsonSchema})}}))}},4875:(a,b,c)=>{"use strict";var d;c.d(b,{V:()=>d}),function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(d||(d={}))},4919:(a,b,c)=>{"use strict";var d=c(73355),e=c(12412),f=c(25088),g=Object.prototype.toString,h="[object Error]",i=/\{causeMessage\}/g,j=/\{origMessage\}/g;function k(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function l(a){return g.call(a)===h}a.exports=function a(a){e(a,"WrappedError: must specify options"),e(a.type,"WrappedError: must specify type"),e(a.message,"WrappedError: must specify message"),e(!k(a,"cause"),"WrappedError: cause field is reserved"),e(!k(a,"fullType"),"WrappedError: fullType field is reserved"),e(!k(a,"causeMessage"),"WrappedError: causeMessage field is reserved"),e(!k(a,"origMessage"),"WrappedError: origMessage field is reserved");var b=f(a);return d(c,a),c._name=a.name,c;function c(c,f){e(c,"an error is required"),e(l(c),"WrappedError: first argument must be an error");var g=c.message;g.indexOf("{causeMessage}")>=0&&(g=g.replace(i,"$INVALID_CAUSE_MESSAGE_LITERAL")),g.indexOf("{origMessage}")>=0&&(g=g.replace(j,"$INVALID_ORIG_MESSAGE_LITERAL"));var h=!1,m=d({},f,{causeMessage:g,origMessage:g});k(c,"code")&&!k(m,"code")&&(m.code=c.code),k(c,"errno")&&!k(m,"errno")&&(m.errno=c.errno,h=!0),k(c,"syscall")&&!k(m,"syscall")&&(m.syscall=c.syscall,h=!0);var n=c.type;n=!n&&h?"error.wrapped-io."+(c.syscall||"unknown")+"."+(c.errno||"unknown"):"error.wrapped-unknown",m.fullType=a.type+"~!~"+(c.fullType||c.type||n);var o=b(m);return Object.defineProperty(o,"cause",{value:c,configurable:!0,enumerable:!1}),o}}},5030:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{augmentWithContext:()=>k.augmentWithContext,downloadRequestMedia:()=>k.downloadRequestMedia,simulateSystemPrompt:()=>k.simulateSystemPrompt,validateSupport:()=>k.validateSupport}),a.exports=i(j);var k=c(29706)},5338:function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(b,"__esModule",{value:!0});var e=c(72204),f=c(76303),g=function(a){function b(b){var c=a.call(this)||this;return c._mockTracer=b,c._uuid=c._generateUUID(),c._startMs=Date.now(),c._finishMs=0,c._operationName="",c._tags={},c._logs=[],c}return d(b,a),b.prototype._context=function(){return new f.default(this)},b.prototype._setOperationName=function(a){this._operationName=a},b.prototype._addTags=function(a){for(var b=Object.keys(a),c=0,d=b;c<d.length;c++){var e=d[c];this._tags[e]=a[e]}},b.prototype._log=function(a,b){this._logs.push({fields:a,timestamp:b})},b.prototype._finish=function(a){this._finishMs=a||Date.now()},b.prototype.uuid=function(){return this._uuid},b.prototype.operationName=function(){return this._operationName},b.prototype.durationMs=function(){return this._finishMs-this._startMs},b.prototype.tags=function(){return this._tags},b.prototype.tracer=function(){return this._mockTracer},b.prototype._generateUUID=function(){return""+("00000000"+Math.abs(0xffffffff*Math.random()|0).toString(16)).substr(-8)+("00000000"+Math.abs(0xffffffff*Math.random()|0).toString(16)).substr(-8)},b.prototype.addReference=function(a){},b.prototype.debug=function(){var a={uuid:this._uuid,operation:this._operationName,millis:[this._finishMs-this._startMs,this._startMs,this._finishMs]};return Object.keys(this._tags).length&&(a.tags=this._tags),a},b}(e.Span);b.MockSpan=g,b.default=g},5852:(a,b,c)=>{"use strict";let d=c(26220);a.exports=(a,b)=>a.sort((a,c)=>d(c,a,b))},5853:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=b.Ajv=void 0;let d=c(72693),e=c(37387),f=c(33124),g=c(4132),h=["/properties"],i="http://json-schema.org/draft-07/schema";class j extends d.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let a=this.opts.$data?this.$dataMetaSchema(g,h):g;this.addMetaSchema(a,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}b.Ajv=j,a.exports=b=j,a.exports.Ajv=j,Object.defineProperty(b,"__esModule",{value:!0}),b.default=j;var k=c(18601);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return k.KeywordCxt}});var l=c(53864);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=c(42945);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return m.default}});var n=c(53910);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return n.default}})},5872:(a,b)=>{"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.default=c,a.exports=b.default},6068:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(72125),g=c(54726),h=c(73838),i=c(40613),j=c(24241);function k(a,b,c,d,e,f){let g="block-map"===c.type?h.resolveBlockMap(a,b,c,d,f):"block-seq"===c.type?i.resolveBlockSeq(a,b,c,d,f):j.resolveFlowCollection(a,b,c,d,f),k=g.constructor;return"!"===e||e===k.tagName?g.tag=k.tagName:e&&(g.tag=e),g}b.composeCollection=function(a,b,c,h,i){let j=h.tag,l=j?b.directives.tagName(j.source,a=>i(j,"TAG_RESOLVE_FAILED",a)):null;if("block-seq"===c.type){let{anchor:a,newlineAfterProp:b}=h,c=a&&j?a.offset>j.offset?a:j:a??j;c&&(!b||b.offset<c.offset)&&i(c,"MISSING_CHAR","Missing newline after block sequence props")}let m="block-map"===c.type?"map":"block-seq"===c.type?"seq":"{"===c.start.source?"map":"seq";if(!j||!l||"!"===l||l===f.YAMLMap.tagName&&"map"===m||l===g.YAMLSeq.tagName&&"seq"===m)return k(a,b,c,i,l);let n=b.schema.tags.find(a=>a.tag===l&&a.collection===m);if(!n){let d=b.schema.knownTags[l];if(!d||d.collection!==m)return d?i(j,"BAD_COLLECTION_TYPE",`${d.tag} used for ${m} collection, but expects ${d.collection??"scalar"}`,!0):i(j,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),k(a,b,c,i,l);b.schema.tags.push(Object.assign({},d,{default:!1})),n=d}let o=k(a,b,c,i,l,n),p=n.resolve?.(o,a=>i(j,"TAG_RESOLVE_FAILED",a),b.options)??o,q=d.isNode(p)?p:new e.Scalar(p);return q.range=o.range,q.tag=l,n?.format&&(q.format=n.format),q}},6206:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=d(c(35800)),f=d(c(68747)),g=c(3774),h=c(58062),i=d(c(74718)),j=d(c(70553)),k=d(c(54999)),l=e.default.create;function m(){var a=l();return a.compile=function(b,c){return h.compile(b,c,a)},a.precompile=function(b,c){return h.precompile(b,c,a)},a.AST=f.default,a.Compiler=h.Compiler,a.JavaScriptCompiler=i.default,a.Parser=g.parser,a.parse=g.parse,a.parseWithoutProcessing=g.parseWithoutProcessing,a}var n=m();n.create=m,k.default(n),n.Visitor=j.default,n.default=n,b.default=n,a.exports=b.default},6250:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j=a=>h(d({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(k,{Genkit:()=>l.Genkit,genkit:()=>l.genkit}),a.exports=j(k),i(k,c(38157),a.exports);var l=c(92172)},6305:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496);b.default=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b.default},6455:(a,b,c)=>{"use strict";var d=a.exports=c(62048);d.build="full",d.tokenize=c(14846),d.parse=c(30738),d.common=c(39790),d.Root._configure(d.Type,d.parse,d.common)},6528:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.createProtoAccessControl=h,b.resultIsAllowed=i,b.resetLoggedProperties=l;var e=c(64905),f=d(c(75905)),g=Object.create(null);function h(a){var b=Object.create(null);b.constructor=!1,b.__defineGetter__=!1,b.__defineSetter__=!1,b.__lookupGetter__=!1;var c=Object.create(null);return c.__proto__=!1,{properties:{whitelist:e.createNewLookupObject(c,a.allowedProtoProperties),defaultValue:a.allowProtoPropertiesByDefault},methods:{whitelist:e.createNewLookupObject(b,a.allowedProtoMethods),defaultValue:a.allowProtoMethodsByDefault}}}function i(a,b,c){return"function"==typeof a?j(b.methods,c):j(b.properties,c)}function j(a,b){return void 0!==a.whitelist[b]?!0===a.whitelist[b]:void 0!==a.defaultValue?a.defaultValue:(k(b),!1)}function k(a){!0!==g[a]&&(g[a]=!0,f.default.log("error",'Handlebars: Access has been denied to resolve the property "'+a+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function l(){Object.keys(g).forEach(function(a){delete g[a]})}},6677:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(59762);b.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},7261:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=b.createCertificateProviderChannelCredentials=b.FileWatcherCertificateProvider=b.createCertificateProviderServerCredentials=b.createServerCredentialsWithInterceptors=b.BaseSubchannelWrapper=b.registerAdminService=b.FilterStackFactory=b.BaseFilter=b.statusOrFromError=b.statusOrFromValue=b.PickResultType=b.QueuePicker=b.UnavailablePicker=b.ChildLoadBalancerHandler=b.EndpointMap=b.endpointHasAddress=b.endpointToString=b.subchannelAddressToString=b.LeafLoadBalancer=b.isLoadBalancerNameRegistered=b.parseLoadBalancingConfig=b.selectLbConfigFromList=b.registerLoadBalancerType=b.createChildChannelControlHelper=b.BackoffTimeout=b.parseDuration=b.durationToMs=b.splitHostPort=b.uriToString=b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=b.createResolver=b.registerResolver=b.log=b.trace=void 0;var d=c(38702);Object.defineProperty(b,"trace",{enumerable:!0,get:function(){return d.trace}}),Object.defineProperty(b,"log",{enumerable:!0,get:function(){return d.log}});var e=c(43313);Object.defineProperty(b,"registerResolver",{enumerable:!0,get:function(){return e.registerResolver}}),Object.defineProperty(b,"createResolver",{enumerable:!0,get:function(){return e.createResolver}}),Object.defineProperty(b,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:!0,get:function(){return e.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var f=c(9413);Object.defineProperty(b,"uriToString",{enumerable:!0,get:function(){return f.uriToString}}),Object.defineProperty(b,"splitHostPort",{enumerable:!0,get:function(){return f.splitHostPort}});var g=c(27615);Object.defineProperty(b,"durationToMs",{enumerable:!0,get:function(){return g.durationToMs}}),Object.defineProperty(b,"parseDuration",{enumerable:!0,get:function(){return g.parseDuration}});var h=c(9251);Object.defineProperty(b,"BackoffTimeout",{enumerable:!0,get:function(){return h.BackoffTimeout}});var i=c(20606);Object.defineProperty(b,"createChildChannelControlHelper",{enumerable:!0,get:function(){return i.createChildChannelControlHelper}}),Object.defineProperty(b,"registerLoadBalancerType",{enumerable:!0,get:function(){return i.registerLoadBalancerType}}),Object.defineProperty(b,"selectLbConfigFromList",{enumerable:!0,get:function(){return i.selectLbConfigFromList}}),Object.defineProperty(b,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return i.parseLoadBalancingConfig}}),Object.defineProperty(b,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return i.isLoadBalancerNameRegistered}});var j=c(8557);Object.defineProperty(b,"LeafLoadBalancer",{enumerable:!0,get:function(){return j.LeafLoadBalancer}});var k=c(41835);Object.defineProperty(b,"subchannelAddressToString",{enumerable:!0,get:function(){return k.subchannelAddressToString}}),Object.defineProperty(b,"endpointToString",{enumerable:!0,get:function(){return k.endpointToString}}),Object.defineProperty(b,"endpointHasAddress",{enumerable:!0,get:function(){return k.endpointHasAddress}}),Object.defineProperty(b,"EndpointMap",{enumerable:!0,get:function(){return k.EndpointMap}});var l=c(89092);Object.defineProperty(b,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return l.ChildLoadBalancerHandler}});var m=c(96269);Object.defineProperty(b,"UnavailablePicker",{enumerable:!0,get:function(){return m.UnavailablePicker}}),Object.defineProperty(b,"QueuePicker",{enumerable:!0,get:function(){return m.QueuePicker}}),Object.defineProperty(b,"PickResultType",{enumerable:!0,get:function(){return m.PickResultType}});var n=c(13685);Object.defineProperty(b,"statusOrFromValue",{enumerable:!0,get:function(){return n.statusOrFromValue}}),Object.defineProperty(b,"statusOrFromError",{enumerable:!0,get:function(){return n.statusOrFromError}});var o=c(74029);Object.defineProperty(b,"BaseFilter",{enumerable:!0,get:function(){return o.BaseFilter}});var p=c(27398);Object.defineProperty(b,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var q=c(10272);Object.defineProperty(b,"registerAdminService",{enumerable:!0,get:function(){return q.registerAdminService}});var r=c(35210);Object.defineProperty(b,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return r.BaseSubchannelWrapper}});var s=c(65875);Object.defineProperty(b,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return s.createServerCredentialsWithInterceptors}}),Object.defineProperty(b,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return s.createCertificateProviderServerCredentials}});var t=c(51694);Object.defineProperty(b,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return t.FileWatcherCertificateProvider}});var u=c(97945);Object.defineProperty(b,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return u.createCertificateProviderChannelCredentials}});var v=c(82126);Object.defineProperty(b,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return v.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})},7588:(a,b,c)=>{"use strict";let d=c(32665),e=c(96775);a.exports=(a,b,c)=>{let f=[],g=null,h=null,i=a.sort((a,b)=>e(a,b,c));for(let a of i)d(a,b,c)?(h=a,g||(g=a)):(h&&f.push([g,h]),h=null,g=null);g&&f.push([g,null]);let j=[];for(let[a,b]of f)a===b?j.push(a):b||a!==i[0]?b?a===i[0]?j.push(`<=${b}`):j.push(`${a} - ${b}`):j.push(`>=${a}`):j.push("*");let k=j.join(" || "),l="string"==typeof b.raw?b.raw:String(b);return k.length<l.length?k:b}},7650:(a,b,c)=>{"use strict";a.exports=e;var d=c(16813);function e(a,b,c){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!c}(e.prototype=Object.create(d.EventEmitter.prototype)).constructor=e,e.prototype.rpcCall=function a(b,c,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return d.asPromise(a,h,b,c,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,c[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},e.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7769:(a,b,c)=>{"use strict";var d=c(12412),e=c(28354),f=c(29021),g=c(33873),h=c(82499),i=c(32527),j=c(66229),k=c(46585).P,l=c(63211).N1,m=c(19509).j,n=c(78087).$,o=c(34410).ThriftVoid,p=c(95912).ThriftBoolean,q=c(85371).ThriftString,r=c(60583).ThriftBinary,s=c(69443).ThriftI8,t=c(58948).ThriftI16,u=c(91790).ThriftI32,v=c(39547).ThriftI64,w=c(27151).ThriftDouble,x=c(88900).ThriftList,y=c(88180).ThriftSet,z=c(39838).U,A=c(96457).Z,B=c(43909).n,C=c(24024).Literal,D=c(53365).QB,E=c(53365).bX,F=c(53365).UI,G=/^[a-zA-Z_][a-zA-Z0-9_\.]+$/;function H(a){d(a,"options required"),d("object"==typeof a,"options must be object"),d(a.source||a.entryPoint,"opts.entryPoint required"),a.source&&(d("string"==typeof a.source,"source must be string"),a.entryPoint="service.thrift",a.idls={"service.thrift":a.source}),this.idls=a.idls||Object.create(null),this.asts=a.asts||Object.create(null),this.memo=a.memo||Object.create(null),this.fs=a.fs,a.allowFilesystemAccess&&(this.fs=f),this.strict=void 0===a.strict||a.strict,this.defaultValueDefinition=new C(a.defaultAsUndefined?void 0:null),this.defaultAsUndefined=a.defaultAsUndefined,this.models=Object.create(null),this.services=Object.create(null),this.consts=Object.create(null),this.enums=Object.create(null),this.structs=Object.create(null),this.exceptions=Object.create(null),this.unions=Object.create(null),this.typedefs=Object.create(null),this.modules=Object.create(null),this.surface=this,this.linked=!1,this.releaseSources=a.releaseSources||!1,this.allowIncludeAlias=a.allowIncludeAlias||!1,this.allowOptionalArguments=a.allowOptionalArguments||!1,this.filename=a.entryPoint,this.dirname=g.dirname(this.filename),this.memo[this.filename]=this;var b=this.asts[a.entryPoint],c=this.idls[a.entryPoint];c||b||(d.ok(this.fs,this.filename+": Thrift must be constructed with either a complete set of options.idls, options.asts, or options.fs access"),d.ok(this.filename,"Thrift must be constructed with a options.entryPoint"),this.filename=g.resolve(this.filename),c=this.fs.readFileSync(this.filename,"ascii"),this.idls[this.filename]=c),this.exception=null,this.compile(c),a.noLink||this.link()}H.prototype.models="module",H.prototype.Message=D,H.prototype.getType=function(a){return this.getTypeResult(a).toValue()},H.prototype.getTypeResult=function(a){var b=this.models[a];return b&&"type"===b.models?new i(null,b.link(this)):new i(Error(e.format("type %s not found",a)))},H.prototype.getSources=function(){for(var a=Object.keys(this.idls),b=j.longestCommonPath(a),c={},d=0;d<a.length;d++){var e=a[d];c[e.slice(b.length)]=this.idls[e]}return{entryPoint:this.filename.slice(b.length),idls:c}},H.prototype.toJSON=function(){for(var a=Object.keys(this.idls),b=j.longestCommonPath(a),c={},d=0;d<a.length;d++){var e=a[d];c[e.slice(b.length)]=this.asts[e]}return{entryPoint:this.filename.slice(b.length),asts:c}},H.prototype.getServiceEndpoints=function(a){a=a||null;for(var b=Object.keys(this.services),c=[],d=0;d<b.length;d++){var e=this.models[b[d]];if(!a||a===e.name)for(var f=0;f<e.functions.length;f++)c.push(e.name+"::"+e.functions[f].name)}return c},H.prototype.baseTypes={void:o,bool:p,byte:s,i8:s,i16:t,i32:u,i64:v,double:w,string:q,binary:r},H.prototype.compile=function(a){var b=this.asts[this.filename];b||(b=h.parse(a),this.asts[this.filename]=b),d.equal(b.type,"Program","expected a program"),this._compile(b.headers),this._compile(b.definitions),this.compileEnum(F),this.exception=this.compileStruct(E)},H.prototype.define=function(a,b,c){d(!this.models[a],"duplicate reference to "+a+" at "+b.line+":"+b.column),this.models[a]=c},H.prototype.compilers={Const:"compileConst",Enum:"compileEnum",Exception:"compileException",Include:"compileInclude",Service:"compileService",Struct:"compileStruct",Typedef:"compileTypedef",Union:"compileUnion"},H.prototype._compile=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=this.compilers[c.type];d&&this[d](c)}},H.prototype.compileInclude=function(a){if(0!==a.id.lastIndexOf("/",0)){var b,c=a.namespace&&a.namespace.name,d=g.join(this.dirname,a.id);if(!this.allowIncludeAlias||!c){var e=g.basename(a.id);if(c=e.slice(0,e.length-7),!G.test(c))throw Error("Thrift include filename is not valid thrift identifier")}b=this.memo[d]?this.memo[d]:new H({entryPoint:d,fs:this.fs,idls:this.idls,asts:this.asts,memo:this.memo,strict:this.strict,allowIncludeAlias:!0,allowOptionalArguments:this.allowOptionalArguments,noLink:!0,releaseSources:this.releaseSources,defaultAsUndefined:this.defaultAsUndefined}),this.define(c,a,b),this.modules[c]=b,/^[a-z]/.test(c)||(this[c]=b)}else throw Error("Include path string must not be an absolute path")},H.prototype.compileStruct=function(a){var b=new l({strict:this.strict,defaultValueDefinition:this.defaultValueDefinition});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileException=function(a){var b=new l({strict:this.strict,isException:!0});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileUnion=function(a){var b=new m({strict:this.strict});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileTypedef=function(a){var b=new B({strict:this.strict});return b.compile(a,this),this.define(b.name,a,b),b},H.prototype.compileService=function(a){var b=new k({strict:this.strict});b.compile(a,this),this.define(b.name,a.id,b)},H.prototype.compileConst=function(a,b){var c=new A(a);this.define(a.id.name,a.id,c)},H.prototype.compileEnum=function(a){var b=new n;b.compile(a,this),this.define(b.name,a.id,b)},H.prototype.link=function(){if(this.linked)return this;this.linked=!0;for(var a=Object.keys(this.models),b=0;b<a.length;b++)this.models[a[b]].link(this);return this.exception.link(this),this.releaseSources&&(this.idls=null,this.asts=null,this.memo=null),this},H.prototype.resolve=function(a){return"BaseType"===a.type?new this.baseTypes[a.baseType](a.annotations):"Identifier"===a.type?this.resolveIdentifier(a,a.name,"type"):"List"===a.type?new x(this.resolve(a.valueType),a.annotations):"Set"===a.type?new y(this.resolve(a.valueType),a.annotations):"Map"===a.type?new z(this.resolve(a.keyType),this.resolve(a.valueType),a.annotations):void d.fail(e.format("Can't get reader/writer for definition with unknown type %s at %s:%s",a.type,a.line,a.column))},H.prototype.resolveValue=function(a){if(!a)return null;if("Literal"===a.type)return a.value;if("ConstList"===a.type)return this.resolveListConst(a);if("ConstMap"===a.type)return this.resolveMapConst(a);if("Identifier"===a.type)return"true"===a.name||"false"!==a.name&&this.resolveIdentifier(a,a.name,"value").value;d.fail("unrecognized const type "+a.type)},H.prototype.resolveListConst=function(a){for(var b=[],c=0;c<a.values.length;c++)b.push(this.resolveValue(a.values[c]));return b},H.prototype.resolveMapConst=function(a){for(var b={},c=0;c<a.entries.length;c++)b[this.resolveValue(a.entries[c].key)]=this.resolveValue(a.entries[c].value);return b},H.prototype.resolveIdentifier=function(a,b,c){if(this.models[b]){if((d=this.models[b].link(this)).models!==c)throw(e=Error("type mismatch for "+a.name+" at "+a.line+":"+a.column+", expects "+c+", got "+d.models)).line=a.line,e.column=a.column,e;return d}var d,e,f=b.split("."),g=this.modules[f.shift()];if(g)return g.resolveIdentifier(a,f.join("."),c);throw(e=Error("cannot resolve reference to "+a.name+" at "+a.line+":"+a.column)).line=a.line,e.column=a.column,e},a.exports.Thrift=H},7986:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};async function i(a,b){let c=await fetch(`${a}/v1beta/models?pageSize=1000&key=${b}`,{method:"GET",headers:{"Content-Type":"application/json"}});return JSON.parse(await c.text()).models}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{listModels:()=>i}),a.exports=g(h)},8049:(a,b,c)=>{"use strict";let d=c(26220);a.exports=(a,b)=>a.sort((a,c)=>d(a,c,b))},8104:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{enumFormatter:()=>l}),a.exports=i(j);var k=c(40979);let l={name:"enum",config:{contentType:"text/enum",constrained:!0},handler:a=>{let b;if(a&&"string"!==a.type&&"enum"!==a.type)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a 'string' or 'enum' schema type when using the enum parser format."});return a?.enum&&(b=`Output should be ONLY one of the following enum values. Do not output any additional information or add quotes.

${a.enum.map(a=>a.toString()).join("\n")}`),{parseMessage:a=>a.text.replace(/['"]/g,"").trim(),instructions:b}}}},8110:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{EmbedderInfoSchema:()=>k.EmbedderInfoSchema,embedderRef:()=>k.embedderRef}),a.exports=i(j);var k=c(13672)},8116:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},8193:(a,b,c)=>{"use strict";var d=c(25088),e=c(4919);function f(a){switch(a.type){case"bufrw.broken-reader-state":case"bufrw.unstable-rw":return"Internal";case"bufrw.invalid-argument":case"bufrw.read.invalid-switch-value":case"bufrw.short-buffer":case"bufrw.short-read":case"bufrw.truncated-read":case"bufrw.zero-length-chunk":return"Read";case"bufrw.fixed-length-mismatch":case"bufrw.missing.struct-field":case"bufrw.range-error":case"bufrw.short-write":case"bufrw.write.invalid-switch-value":return"Write";default:return null}}a.exports.expected=function(b,c){return a.exports.InvalidArgument({expected:c,argType:typeof b,argConstructor:b&&b.constructor.name})},a.exports.BrokenReaderState=d({type:"bufrw.broken-reader-state",message:"reader in invalid state {state} expecting {expecting} avail {aval}",state:null,expecting:null,avail:null}),a.exports.FixedLengthMismatch=d({type:"bufrw.fixed-length-mismatch",message:"supplied length {got} mismatches fixed length {expected}",expected:null,got:null}),a.exports.RangeError=d({type:"bufrw.range-error",message:"value {value} out of range, min: {min} max: {max}",value:null,min:null,max:null}),a.exports.InvalidArgument=d({type:"bufrw.invalid-argument",message:"invalid argument, expected {expected}",expected:null,argType:null,argConstructor:null}),a.exports.ReadInvalidSwitchValue=d({type:"bufrw.read.invalid-switch-value",message:"read invalid switch value {value}",value:null}),a.exports.WriteInvalidSwitchValue=d({type:"bufrw.write.invalid-switch-value",message:"write invalid switch value {value}",value:null}),a.exports.MissingStructField=d({type:"bufrw.missing.struct-field",message:"missing field {field} on {struct}",field:null,struct:null}),a.exports.ShortBuffer=d({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @{offset}",expected:null,actual:null,buffer:null,offset:null}),a.exports.ShortBufferRanged=d({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @[{offset}:{endOffset}]",expected:null,actual:null,offset:null,endOffset:null}),a.exports.ShortRead=d({type:"bufrw.short-read",message:"short read, {remaining} byte left over after consuming {offset}",remaining:null,buffer:null,offset:null}),a.exports.ShortWrite=d({type:"bufrw.short-write",message:"short write, {remaining} byte left over after writing {offset}",remaining:null,buffer:null,offset:null}),a.exports.TruncatedRead=d({type:"bufrw.truncated-read",message:"read truncated by end of stream with {length} bytes in buffer",length:null,buffer:null,state:null,expecting:null}),a.exports.UnstableRW=e({type:"bufrw.unstable-rw",message:"Unstable RW error: {origMessage} (other: {otherMessage})",otherMessage:null}),a.exports.ZeroLengthChunk=d({type:"bufrw.zero-length-chunk",message:"zero length chunk encountered"}),a.exports.classify=f},8265:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(b,a,c)},8319:(a,b)=>{"use strict";function c(...a){let b=1/0;for(let c of a){let a=c instanceof Date?c.getTime():c;a<b&&(b=a)}return b}Object.defineProperty(b,"__esModule",{value:!0}),b.minDeadline=c,b.getDeadlineTimeoutString=e,b.getRelativeTimeout=g,b.deadlineToString=h,b.formatDateDifference=i;let d=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function e(a){let b=new Date().getTime();a instanceof Date&&(a=a.getTime());let c=Math.max(a-b,0);for(let[a,b]of d){let d=c/b;if(d<1e8)return String(Math.ceil(d))+a}throw Error("Deadline is too far in the future")}let f=0x7fffffff;function g(a){let b=(a instanceof Date?a.getTime():a)-new Date().getTime();return b<0?0:b>f?1/0:b}function h(a){if(a instanceof Date)return a.toISOString();{let b=new Date(a);return Number.isNaN(b.getTime())?""+a:b.toISOString()}}function i(a,b){return((b.getTime()-a.getTime())/1e3).toFixed(3)+"s"}},8408:(a,b,c)=>{"use strict";var d=c(42218),e=c(89344),f=c(89390);let g=a=>!a||"function"!=typeof a&&"object"!=typeof a;class h extends e.NodeBase{constructor(a){super(d.SCALAR),this.value=a}toJSON(a,b){return b?.keep?this.value:f.toJS(this.value,a,b)}toString(){return String(this.value)}}h.BLOCK_FOLDED="BLOCK_FOLDED",h.BLOCK_LITERAL="BLOCK_LITERAL",h.PLAIN="PLAIN",h.QUOTE_DOUBLE="QUOTE_DOUBLE",h.QUOTE_SINGLE="QUOTE_SINGLE",b.Scalar=h,b.isScalarValue=g},8557:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LeafLoadBalancer=b.PickFirstLoadBalancer=b.PickFirstLoadBalancingConfig=void 0,b.shuffled=s,b.setup=y;let d=c(20606),e=c(80158),f=c(96269),g=c(41835),h=c(38702),i=c(56458),j=c(41835),k=c(91645),l=c(13685),m="pick_first";function n(a){h.trace(i.LogVerbosity.DEBUG,m,a)}let o="pick_first",p=250;class q{constructor(a){this.shuffleAddressList=a}getLoadBalancerName(){return o}toJsonObject(){return{[o]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(a){if("shuffleAddressList"in a&&"boolean"!=typeof a.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new q(!0===a.shuffleAddressList)}}b.PickFirstLoadBalancingConfig=q;class r{constructor(a){this.subchannel=a}pick(a){return{pickResultType:f.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function s(a){let b=a.slice();for(let a=b.length-1;a>1;a--){let c=Math.floor(Math.random()*(a+1)),d=b[a];b[a]=b[c],b[c]=d}return b}function t(a){if(0===a.length)return[];let b=[],c=[],d=[],e=(0,j.isTcpSubchannelAddress)(a[0])&&(0,k.isIPv6)(a[0].host);for(let b of a)(0,j.isTcpSubchannelAddress)(b)&&(0,k.isIPv6)(b.host)?c.push(b):d.push(b);let f=e?c:d,g=e?d:c;for(let a=0;a<Math.max(f.length,g.length);a++)a<f.length&&b.push(f[a]),a<g.length&&b.push(g[a]);return b}let u="grpc-node.internal.pick-first.report_health_status";class v{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(a,b,c,d,e)=>{this.onSubchannelStateUpdate(a,b,c,e)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(a=>a.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(a=>a.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var a;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let a=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.READY,new r(this.currentPick),null);else if((null==(a=this.latestAddressList)?void 0:a.length)===0){let a=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else if(0===this.children.length)this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let a=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode)return void this.calculateAndReportNewState();for(let{subchannel:a}of(this.stickyTransientFailureMode=!0,this.children))a.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){null!==this.currentPick&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(a,b,c,d){var f;if(null==(f=this.currentPick)?void 0:f.realSubchannelEquals(a)){c!==e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[b,f]of this.children.entries())if(a.realSubchannelEquals(f.subchannel)){c===e.ConnectivityState.READY&&this.pickSubchannel(f.subchannel),c===e.ConnectivityState.TRANSIENT_FAILURE&&(f.hasReportedTransientFailure=!0,d&&(this.lastError=d),this.maybeEnterStickyTransientFailureMode(),b===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(b+1)),f.subchannel.startConnecting();return}}startNextSubchannelConnecting(a){for(let[b,c]of(clearTimeout(this.connectionDelayTimeout),this.children.entries()))if(b>=a){let a=c.subchannel.getConnectivityState();if(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.CONNECTING)return void this.startConnecting(b)}this.maybeEnterStickyTransientFailureMode()}startConnecting(a){var b,c;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=a,this.children[a].subchannel.getConnectivityState()===e.ConnectivityState.IDLE&&(n("Start connecting to subchannel with address "+this.children[a].subchannel.getAddress()),process.nextTick(()=>{var b;null==(b=this.children[a])||b.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(a+1)},p),null==(c=(b=this.connectionDelayTimeout).unref)||c.call(b)}pickSubchannel(a){n("Pick subchannel with address "+a.getAddress()),this.stickyTransientFailureMode=!1,a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),a.addConnectivityStateListener(this.subchannelStateListener),a.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=a,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(a,b,c){n(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}resetSubchannelList(){for(let a of this.children)a.subchannel.removeConnectivityStateListener(this.subchannelStateListener),a.subchannel.unref(),this.channelControlHelper.removeChannelzChild(a.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(a,b){n("connectToAddressList(["+a.map(a=>(0,g.subchannelAddressToString)(a))+"])");let c=a.map(a=>({subchannel:this.channelControlHelper.createSubchannel(a,b),hasReportedTransientFailure:!1}));for(let{subchannel:a}of c)if(a.getConnectivityState()===e.ConnectivityState.READY)return void this.pickSubchannel(a);for(let{subchannel:a}of c)a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef());for(let{subchannel:a}of(this.resetSubchannelList(),this.children=c,this.children))a.addConnectivityStateListener(this.subchannelStateListener);for(let a of this.children)a.subchannel.getConnectivityState()===e.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(a,b,c,d){if(!(b instanceof q))return!1;if(!a.ok)return 0===this.children.length&&null===this.currentPick&&this.channelControlHelper.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker(a.error),a.error.details),!0;let h=a.value;this.reportHealthStatus=c[u],b.getShuffleAddressList()&&(h=s(h));let i=[].concat(...h.map(a=>a.addresses));n("updateAddressList(["+i.map(a=>(0,g.subchannelAddressToString)(a))+"])");let j=t(i);return this.latestAddressList=j,this.latestOptions=c,this.connectToAddressList(j,c),this.latestResolutionNote=d,i.length>0||(this.lastError="No addresses resolved",!1)}exitIdle(){this.currentState===e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return o}}b.PickFirstLoadBalancer=v;let w=new q(!1);class x{constructor(a,b,c,g){this.endpoint=a,this.options=c,this.resolutionNote=g,this.latestState=e.ConnectivityState.IDLE;let h=(0,d.createChildChannelControlHelper)(b,{updateState:(a,c,d)=>{this.latestState=a,this.latestPicker=c,b.updateState(a,c,d)}});this.pickFirstBalancer=new v(h),this.latestPicker=new f.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList((0,l.statusOrFromValue)([this.endpoint]),w,Object.assign(Object.assign({},this.options),{[u]:!0}),this.resolutionNote)}updateEndpoint(a,b){this.options=b,this.endpoint=a,this.latestState!==e.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}function y(){(0,d.registerLoadBalancerType)(o,v,q),(0,d.registerDefaultLoadBalancerType)(o)}b.LeafLoadBalancer=x},8567:(a,b,c)=>{"use strict";c.d(b,{genkit:()=>e.genkit});var d=c(38157);c.o(d,"embedderActionMetadata")&&c.d(b,{embedderActionMetadata:function(){return d.embedderActionMetadata}}),c.o(d,"embedderRef")&&c.d(b,{embedderRef:function(){return d.embedderRef}}),c.o(d,"modelActionMetadata")&&c.d(b,{modelActionMetadata:function(){return d.modelActionMetadata}});var e=c(92172)},8625:(a,b)=>{"use strict";function c(a){return"("===a[0]&&a.endsWith(")")}function d(a){return a.startsWith("@")&&"@children"!==a}function e(a,b){if(a.includes(f)){let a=JSON.stringify(b);return"{}"!==a?f+"?"+a:f}return a}Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DEFAULT_SEGMENT_KEY:function(){return g},PAGE_SEGMENT_KEY:function(){return f},addSearchParamsIfPageSegment:function(){return e},isGroupSegment:function(){return c},isParallelRouteSegment:function(){return d}});let f="__PAGE__",g="__DEFAULT__"},8911:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(87101),e=c(75526),f=c(32686),g=c(85069),h=c(96445),i=c(26962),j=c(78942),k=c(46732),l=c(9378),m=c(98926);b.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},8919:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MockContext=c(76303).default,b.MockSpan=c(5338).default,b.MockTracer=c(34245).default},8980:(a,b,c)=>{"use strict";var d=c(99308);function e(a){switch(a){case void 0:case" ":case"\n":case"\r":case"	":return!0;default:return!1}}let f=new Set("0123456789ABCDEFabcdef"),g=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),h=new Set(",[]{}"),i=new Set(" ,[]{}\n\r	"),j=a=>!a||i.has(a);class k{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(a,b=!1){if(a){if("string"!=typeof a)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+a:a,this.lineEndPos=null}this.atEnd=!b;let c=this.next??"stream";for(;c&&(b||this.hasChars(1));)c=yield*this.parseNext(c)}atLineEnd(){let a=this.pos,b=this.buffer[a];for(;" "===b||"	"===b;)b=this.buffer[++a];return!b||"#"===b||"\n"===b||"\r"===b&&"\n"===this.buffer[a+1]}charAt(a){return this.buffer[this.pos+a]}continueScalar(a){let b=this.buffer[a];if(this.indentNext>0){let c=0;for(;" "===b;)b=this.buffer[++c+a];if("\r"===b){let b=this.buffer[c+a+1];if("\n"===b||!b&&!this.atEnd)return a+c+1}return"\n"!==b&&!(c>=this.indentNext)&&(b||this.atEnd)?-1:a+c}if("-"===b||"."===b){let b=this.buffer.substr(a,3);if(("---"===b||"..."===b)&&e(this.buffer[a+3]))return -1}return a}getLine(){let a=this.lineEndPos;return(("number"!=typeof a||-1!==a&&a<this.pos)&&(a=this.buffer.indexOf("\n",this.pos),this.lineEndPos=a),-1===a)?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[a-1]&&(a-=1),this.buffer.substring(this.pos,a))}hasChars(a){return this.pos+a<=this.buffer.length}setNext(a){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=a,null}peek(a){return this.buffer.substr(this.pos,a)}*parseNext(a){switch(a){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let a=this.getLine();if(null===a)return this.setNext("stream");if(a[0]===d.BOM&&(yield*this.pushCount(1),a=a.substring(1)),"%"===a[0]){let b=a.length,c=a.indexOf("#");for(;-1!==c;){let d=a[c-1];if(" "===d||"	"===d){b=c-1;break}c=a.indexOf("#",c+1)}for(;;){let c=a[b-1];if(" "===c||"	"===c)b-=1;else break}let d=(yield*this.pushCount(b))+(yield*this.pushSpaces(!0));return yield*this.pushCount(a.length-d),this.pushNewline(),"stream"}if(this.atLineEnd()){let b=yield*this.pushSpaces(!0);return yield*this.pushCount(a.length-b),yield*this.pushNewline(),"stream"}return yield d.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let a=this.charAt(0);if(!a&&!this.atEnd)return this.setNext("line-start");if("-"===a||"."===a){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let a=this.peek(3);if(("---"===a||"..."===a)&&e(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===a?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!e(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[a,b]=this.peek(2);if(!b&&!this.atEnd)return this.setNext("block-start");if(("-"===a||"?"===a||":"===a)&&e(b)){let a=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=a,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let a=this.getLine();if(null===a)return this.setNext("doc");let b=yield*this.pushIndicators();switch(a[b]){case"#":yield*this.pushCount(a.length-b);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(j),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return b+=yield*this.parseBlockScalarHeader(),b+=yield*this.pushSpaces(!0),yield*this.pushCount(a.length-b),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let a,b,c=-1;do(a=yield*this.pushNewline())>0?(b=yield*this.pushSpaces(!1),this.indentValue=c=b):b=0,b+=yield*this.pushSpaces(!0);while(a+b>0);let f=this.getLine();if(null===f)return this.setNext("flow");if((-1!==c&&c<this.indentNext&&"#"!==f[0]||0===c&&(f.startsWith("---")||f.startsWith("..."))&&e(f[3]))&&(c!==this.indentNext-1||1!==this.flowLevel||"]"!==f[0]&&"}"!==f[0]))return this.flowLevel=0,yield d.FLOW_END,yield*this.parseLineStart();let g=0;for(;","===f[g];)g+=yield*this.pushCount(1),g+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(f[g+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(f.length-g),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(j),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let a=this.charAt(1);if(this.flowKey||e(a)||","===a)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let a=this.charAt(0),b=this.buffer.indexOf(a,this.pos+1);if("'"===a)for(;-1!==b&&"'"===this.buffer[b+1];)b=this.buffer.indexOf("'",b+2);else for(;-1!==b;){let a=0;for(;"\\"===this.buffer[b-1-a];)a+=1;if(a%2==0)break;b=this.buffer.indexOf('"',b+1)}let c=this.buffer.substring(0,b),d=c.indexOf("\n",this.pos);if(-1!==d){for(;-1!==d;){let a=this.continueScalar(d+1);if(-1===a)break;d=c.indexOf("\n",a)}-1!==d&&(b=d-("\r"===c[d-1]?2:1))}if(-1===b){if(!this.atEnd)return this.setNext("quoted-scalar");b=this.buffer.length}return yield*this.pushToIndex(b+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let a=this.pos;for(;;){let b=this.buffer[++a];if("+"===b)this.blockScalarKeep=!0;else if(b>"0"&&b<="9")this.blockScalarIndent=Number(b)-1;else if("-"!==b)break}return yield*this.pushUntil(a=>e(a)||"#"===a)}*parseBlockScalar(){let a,b=this.pos-1,c=0;a:for(let d=this.pos;a=this.buffer[d];++d)switch(a){case" ":c+=1;break;case"\n":b=d,c=0;break;case"\r":{let a=this.buffer[d+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if("\n"===a)break}default:break a}if(!a&&!this.atEnd)return this.setNext("block-scalar");if(c>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=c:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{let a=this.continueScalar(b+1);if(-1===a)break;b=this.buffer.indexOf("\n",a)}while(-1!==b);if(-1===b){if(!this.atEnd)return this.setNext("block-scalar");b=this.buffer.length}}let e=b+1;for(a=this.buffer[e];" "===a;)a=this.buffer[++e];if("	"===a){for(;"	"===a||" "===a||"\r"===a||"\n"===a;)a=this.buffer[++e];b=e-1}else if(!this.blockScalarKeep)for(;;){let a=b-1,d=this.buffer[a];"\r"===d&&(d=this.buffer[--a]);let e=a;for(;" "===d;)d=this.buffer[--a];if("\n"===d&&a>=this.pos&&a+1+c>e)b=a;else break}return yield d.SCALAR,yield*this.pushToIndex(b+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let a,b=this.flowLevel>0,c=this.pos-1,f=this.pos-1;for(;a=this.buffer[++f];)if(":"===a){let a=this.buffer[f+1];if(e(a)||b&&h.has(a))break;c=f}else if(e(a)){let d=this.buffer[f+1];if("\r"===a&&("\n"===d?(f+=1,a="\n",d=this.buffer[f+1]):c=f),"#"===d||b&&h.has(d))break;if("\n"===a){let a=this.continueScalar(f+1);if(-1===a)break;f=Math.max(f,a-2)}}else{if(b&&h.has(a))break;c=f}return a||this.atEnd?(yield d.SCALAR,yield*this.pushToIndex(c+1,!0),b?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(a){return a>0?(yield this.buffer.substr(this.pos,a),this.pos+=a,a):0}*pushToIndex(a,b){let c=this.buffer.slice(this.pos,a);return c?(yield c,this.pos+=c.length,c.length):(b&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(j))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let a=this.flowLevel>0,b=this.charAt(1);if(e(b)||a&&h.has(b))return a?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let a=this.pos+2,b=this.buffer[a];for(;!e(b)&&">"!==b;)b=this.buffer[++a];return yield*this.pushToIndex(">"===b?a+1:a,!1)}{let a=this.pos+1,b=this.buffer[a];for(;b;)if(g.has(b))b=this.buffer[++a];else if("%"===b&&f.has(this.buffer[a+1])&&f.has(this.buffer[a+2]))b=this.buffer[a+=3];else break;return yield*this.pushToIndex(a,!1)}}*pushNewline(){let a=this.buffer[this.pos];return"\n"===a?yield*this.pushCount(1):"\r"===a&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(a){let b,c=this.pos-1;do b=this.buffer[++c];while(" "===b||a&&"	"===b);let d=c-this.pos;return d>0&&(yield this.buffer.substr(this.pos,d),this.pos=c),d}*pushUntil(a){let b=this.pos,c=this.buffer[b];for(;!a(c);)c=this.buffer[++b];return yield*this.pushToIndex(b,!1)}}b.Lexer=k},8991:(a,b)=>{"use strict";function c(a){return a.startsWith("/")?a:"/"+a}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ensureLeadingSlash",{enumerable:!0,get:function(){return c}})},9028:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a){var b=this;this.spans=a,this.spansByUUID={},this.spansByTag={},this.debugSpans=[],this.unfinishedSpans=[],a.forEach(function(a){0===a._finishMs&&b.unfinishedSpans.push(a),b.spansByUUID[a.uuid()]=a,b.debugSpans.push(a.debug());var c=a.tags();Object.keys(c).forEach(function(d){var e=c[d];b.spansByTag[d]=b.spansByTag[d]||{},b.spansByTag[d][e]=b.spansByTag[d][e]||[],b.spansByTag[d][e].push(a)})})}return a.prototype.firstSpanWithTagValue=function(a,b){var c=this.spansByTag[a];if(!c)return null;var d=c[b];return d?d[0]:null},a}();b.MockReport=c,b.default=c},9251:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BackoffTimeout=void 0;let d=c(56458),e=c(38702),f="backoff",g=1e3,h=1.6,i=12e4,j=.2;function k(a,b){return Math.random()*(b-a)+a}class l{constructor(a,b){this.callback=a,this.initialDelay=g,this.multiplier=h,this.maxDelay=i,this.jitter=j,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=l.getNextId(),b&&(b.initialDelay&&(this.initialDelay=b.initialDelay),b.multiplier&&(this.multiplier=b.multiplier),b.jitter&&(this.jitter=b.jitter),b.maxDelay&&(this.maxDelay=b.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(a){e.trace(d.LogVerbosity.DEBUG,f,"{"+this.id+"} "+a)}runTimer(a){var b,c;this.trace("runTimer(delay="+a+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+a),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},a),this.hasRef||null==(c=(b=this.timerId).unref)||c.call(b)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let a=Math.min(this.nextDelay*this.multiplier,this.maxDelay),b=a*this.jitter;this.nextDelay=a+k(-b,b)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let a=new Date,b=this.startTime;b.setMilliseconds(b.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),a<b?this.runTimer(b.getTime()-a.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var a,b;this.hasRef=!0,null==(b=(a=this.timerId).ref)||b.call(a)}unref(){var a,b;this.hasRef=!1,null==(b=(a=this.timerId).unref)||b.call(a)}getEndTime(){return this.endTime}}b.BackoffTimeout=l,l.nextId=0},9378:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762),f=c(20241);b.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},9413:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUri=d,b.splitHostPort=f,b.combineHostPort=g,b.uriToString=h;let c=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function d(a){let b=c.exec(a);return null===b?null:{scheme:b[1],authority:b[2],path:b[3]}}let e=/^\d+$/;function f(a){if(a.startsWith("[")){let b=a.indexOf("]");if(-1===b)return null;let c=a.substring(1,b);if(-1===c.indexOf(":"))return null;if(!(a.length>b+1))return{host:c};if(":"!==a[b+1])return null;{let d=a.substring(b+2);return e.test(d)?{host:c,port:+d}:null}}{let b=a.split(":");return 2!==b.length?{host:a}:e.test(b[1])?{host:b[0],port:+b[1]}:null}}function g(a){return void 0===a.port?a.host:a.host.includes(":")?`[${a.host}]:${a.port}`:`${a.host}:${a.port}`}function h(a){let b="";return void 0!==a.scheme&&(b+=a.scheme+":"),void 0!==a.authority&&(b+="//"+a.authority+"/"),b+=a.path}},9907:(a,b,c)=>{"use strict";var d=c(28354),e=c(10407),f={stream:!0};function g(a,b){if(a){var c=a[b[0]];if(a=c&&c[b[2]])c=a.name;else{if(!(a=c&&c["*"]))throw Error('Could not find the module "'+b[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');c=b[2]}return 4===b.length?[a.id,a.chunks,c,1]:[a.id,a.chunks,c]}return b}function h(a,b){var c="",d=a[b];if(d)c=d.name;else{var e=b.lastIndexOf("#");if(-1!==e&&(c=b.slice(e+1),d=a[b.slice(0,e)]),!d)throw Error('Could not find the module "'+b+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return d.async?[d.id,d.chunks,c,1]:[d.id,d.chunks,c]}var i=new Map;function j(a){var b=globalThis.__next_require__(a);return"function"!=typeof b.then||"fulfilled"===b.status?null:(b.then(function(a){b.status="fulfilled",b.value=a},function(a){b.status="rejected",b.reason=a}),b)}function k(){}function l(a){for(var b=a[1],d=[],e=0;e<b.length;){var f=b[e++];b[e++];var g=i.get(f);if(void 0===g){g=c.e(f),d.push(g);var h=i.set.bind(i,f,null);g.then(h,k),i.set(f,g)}else null!==g&&d.push(g)}return 4===a.length?0===d.length?j(a[0]):Promise.all(d).then(function(){return j(a[0])}):0<d.length?Promise.all(d):null}function m(a){var b=globalThis.__next_require__(a[0]);if(4===a.length&&"function"==typeof b.then)if("fulfilled"===b.status)b=b.value;else throw b.reason;return"*"===a[2]?b:""===a[2]?b.__esModule?b.default:b:b[a[2]]}function n(a,b,c){if(null!==a)for(var d=1;d<b.length;d+=2){var e=c,f=o.d,g=f.X,h=a.prefix+b[d],i=a.crossOrigin;i="string"==typeof i?"use-credentials"===i?i:"":void 0,g.call(f,h,{crossOrigin:i,nonce:e})}}var o=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p=Symbol.for("react.transitional.element"),q=Symbol.for("react.lazy"),r=Symbol.iterator;function s(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=r&&a[r]||a["@@iterator"])?a:null}var t=Symbol.asyncIterator,u=Array.isArray,v=Object.getPrototypeOf,w=Object.prototype,x=new WeakMap;function y(a){return Number.isFinite(a)?0===a&&-1/0==1/a?"$-0":a:1/0===a?"$Infinity":-1/0===a?"$-Infinity":"$NaN"}function z(a,b,c,d,e){function f(a,c){c=new Blob([new Uint8Array(c.buffer,c.byteOffset,c.byteLength)]);var d=m++;return null===o&&(o=new FormData),o.append(b+d,c),"$"+a+d.toString(16)}function g(a){function c(i){i.done?(i=m++,f.append(b+i,new Blob(h)),f.append(b+g,'"$o'+i.toString(16)+'"'),f.append(b+g,"C"),0==--n&&d(f)):(h.push(i.value),a.read(new Uint8Array(1024)).then(c,e))}null===o&&(o=new FormData);var f=o;n++;var g=m++,h=[];return a.read(new Uint8Array(1024)).then(c,e),"$r"+g.toString(16)}function h(a){function c(h){if(h.done)f.append(b+g,"C"),0==--n&&d(f);else try{var i=JSON.stringify(h.value,k);f.append(b+g,i),a.read().then(c,e)}catch(a){e(a)}}null===o&&(o=new FormData);var f=o;n++;var g=m++;return a.read().then(c,e),"$R"+g.toString(16)}function i(a){try{var b=a.getReader({mode:"byob"})}catch(b){return h(a.getReader())}return g(b)}function j(a,c){function f(a){if(a.done){if(void 0===a.value)g.append(b+h,"C");else try{var i=JSON.stringify(a.value,k);g.append(b+h,"C"+i)}catch(a){e(a);return}0==--n&&d(g)}else try{var j=JSON.stringify(a.value,k);g.append(b+h,j),c.next().then(f,e)}catch(a){e(a)}}null===o&&(o=new FormData);var g=o;n++;var h=m++;return a=a===c,c.next().then(f,e),"$"+(a?"x":"X")+h.toString(16)}function k(a,g){if(null===g)return null;if("object"==typeof g){switch(g.$$typeof){case p:if(void 0!==c&&-1===a.indexOf(":")){var h=r.get(this);if(void 0!==h)return c.set(h+":"+a,g),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case q:h=g._payload;var A=g._init;null===o&&(o=new FormData),n++;try{var B=A(h),C=m++,D=l(B,C);return o.append(b+C,D),"$"+C.toString(16)}catch(a){if("object"==typeof a&&null!==a&&"function"==typeof a.then){n++;var E=m++;return h=function(){try{var a=l(g,E),c=o;c.append(b+E,a),n--,0===n&&d(c)}catch(a){e(a)}},a.then(h,h),"$"+E.toString(16)}return e(a),null}finally{n--}}if("function"==typeof g.then){null===o&&(o=new FormData),n++;var F=m++;return g.then(function(a){try{var c=l(a,F);(a=o).append(b+F,c),n--,0===n&&d(a)}catch(a){e(a)}},e),"$@"+F.toString(16)}if(void 0!==(h=r.get(g)))if(z!==g)return h;else z=null;else -1===a.indexOf(":")&&void 0!==(h=r.get(this))&&(a=h+":"+a,r.set(g,a),void 0!==c&&c.set(a,g));if(u(g))return g;if(g instanceof FormData){null===o&&(o=new FormData);var G=o,H=b+(a=m++)+"_";return g.forEach(function(a,b){G.append(H+b,a)}),"$K"+a.toString(16)}if(g instanceof Map)return a=m++,h=l(Array.from(g),a),null===o&&(o=new FormData),o.append(b+a,h),"$Q"+a.toString(16);if(g instanceof Set)return a=m++,h=l(Array.from(g),a),null===o&&(o=new FormData),o.append(b+a,h),"$W"+a.toString(16);if(g instanceof ArrayBuffer)return a=new Blob([g]),h=m++,null===o&&(o=new FormData),o.append(b+h,a),"$A"+h.toString(16);if(g instanceof Int8Array)return f("O",g);if(g instanceof Uint8Array)return f("o",g);if(g instanceof Uint8ClampedArray)return f("U",g);if(g instanceof Int16Array)return f("S",g);if(g instanceof Uint16Array)return f("s",g);if(g instanceof Int32Array)return f("L",g);if(g instanceof Uint32Array)return f("l",g);if(g instanceof Float32Array)return f("G",g);if(g instanceof Float64Array)return f("g",g);if(g instanceof BigInt64Array)return f("M",g);if(g instanceof BigUint64Array)return f("m",g);if(g instanceof DataView)return f("V",g);if("function"==typeof Blob&&g instanceof Blob)return null===o&&(o=new FormData),a=m++,o.append(b+a,g),"$B"+a.toString(16);if(a=s(g))return(h=a.call(g))===g?(a=m++,h=l(Array.from(h),a),null===o&&(o=new FormData),o.append(b+a,h),"$i"+a.toString(16)):Array.from(h);if("function"==typeof ReadableStream&&g instanceof ReadableStream)return i(g);if("function"==typeof(a=g[t]))return j(g,a.call(g));if((a=v(g))!==w&&(null===a||null!==v(a))){if(void 0===c)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return g}if("string"==typeof g)return"Z"===g[g.length-1]&&this[a]instanceof Date?"$D"+g:a="$"===g[0]?"$"+g:g;if("boolean"==typeof g)return g;if("number"==typeof g)return y(g);if(void 0===g)return"$undefined";if("function"==typeof g){if(void 0!==(h=x.get(g)))return a=JSON.stringify({id:h.id,bound:h.bound},k),null===o&&(o=new FormData),h=m++,o.set(b+h,a),"$F"+h.toString(16);if(void 0!==c&&-1===a.indexOf(":")&&void 0!==(h=r.get(this)))return c.set(h+":"+a,g),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof g){if(void 0!==c&&-1===a.indexOf(":")&&void 0!==(h=r.get(this)))return c.set(h+":"+a,g),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof g)return"$n"+g.toString(10);throw Error("Type "+typeof g+" is not supported as an argument to a Server Function.")}function l(a,b){return"object"==typeof a&&null!==a&&(b="$"+b.toString(16),r.set(a,b),void 0!==c&&c.set(b,a)),z=a,JSON.stringify(a,k)}var m=1,n=0,o=null,r=new WeakMap,z=a,A=l(a,0);return null===o?d(A):(o.set(b+"0",A),0===n&&d(o)),function(){0<n&&(n=0,null===o?d(A):d(o))}}var A=new WeakMap;function B(a){var b,c,d=new Promise(function(a,d){b=a,c=d});return z(a,"",void 0,function(a){if("string"==typeof a){var c=new FormData;c.append("0",a),a=c}d.status="fulfilled",d.value=a,b(a)},function(a){d.status="rejected",d.reason=a,c(a)}),d}function C(a){var b=x.get(this);if(!b)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var c=null;if(null!==b.bound){if((c=A.get(b))||(c=B({id:b.id,bound:b.bound}),A.set(b,c)),"rejected"===c.status)throw c.reason;if("fulfilled"!==c.status)throw c;b=c.value;var d=new FormData;b.forEach(function(b,c){d.append("$ACTION_"+a+":"+c,b)}),c=d,b="$ACTION_REF_"+a}else b="$ACTION_ID_"+b.id;return{name:b,method:"POST",encType:"multipart/form-data",data:c}}function D(a,b){var c=x.get(this);if(!c)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(c.id!==a)return!1;var d=c.bound;if(null===d)return 0===b;switch(d.status){case"fulfilled":return d.value.length===b;case"pending":throw d;case"rejected":throw d.reason;default:throw"string"!=typeof d.status&&(d.status="pending",d.then(function(a){d.status="fulfilled",d.value=a},function(a){d.status="rejected",d.reason=a})),d}}function E(a,b,c,d){x.has(a)||(x.set(a,{id:b,originalBind:a.bind,bound:c}),Object.defineProperties(a,{$$FORM_ACTION:{value:void 0===d?C:function(){var a=x.get(this);if(!a)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var b=a.bound;return null===b&&(b=Promise.resolve([])),d(a.id,b)}},$$IS_SIGNATURE_EQUAL:{value:D},bind:{value:H}}))}var F=Function.prototype.bind,G=Array.prototype.slice;function H(){var a=x.get(this);if(!a)return F.apply(this,arguments);var b=a.originalBind.apply(this,arguments),c=G.call(arguments,1),d=null;return d=null!==a.bound?Promise.resolve(a.bound).then(function(a){return a.concat(c)}):Promise.resolve(c),x.set(b,{id:a.id,originalBind:b.bind,bound:d}),Object.defineProperties(b,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:D},bind:{value:H}}),b}function I(a,b,c){function d(){var a=Array.prototype.slice.call(arguments);return f?"fulfilled"===f.status?b(e,f.value.concat(a)):Promise.resolve(f).then(function(c){return b(e,c.concat(a))}):b(e,a)}var e=a.id,f=a.bound;return E(d,e,f,c),d}function J(a,b,c){function d(){var c=Array.prototype.slice.call(arguments);return b(a,c)}return E(d,a,null,c),d}function K(a,b,c){this.status=a,this.value=b,this.reason=c}function L(a){switch(a.status){case"resolved_model":W(a);break;case"resolved_module":X(a)}switch(a.status){case"fulfilled":return a.value;case"pending":case"blocked":case"halted":throw a;default:throw a.reason}}function M(a,b){for(var c=0;c<a.length;c++){var d=a[c];"function"==typeof d?d(b):_(d,b)}}function N(a,b){for(var c=0;c<a.length;c++){var d=a[c];"function"==typeof d?d(b):aa(d,b)}}function O(a,b){var c=b.handler.chunk;if(null===c)return null;if(c===a)return b.handler;if(null!==(b=c.value))for(c=0;c<b.length;c++){var d=b[c];if("function"!=typeof d&&null!==(d=O(a,d)))return d}return null}function P(a,b,c){switch(a.status){case"fulfilled":M(b,a.value);break;case"blocked":for(var d=0;d<b.length;d++){var e=b[d];if("function"!=typeof e){var f=O(a,e);null!==f&&(_(e,f.value),b.splice(d,1),d--,null!==c&&-1!==(e=c.indexOf(e))&&c.splice(e,1))}}case"pending":if(a.value)for(d=0;d<b.length;d++)a.value.push(b[d]);else a.value=b;if(a.reason){if(c)for(b=0;b<c.length;b++)a.reason.push(c[b])}else a.reason=c;break;case"rejected":c&&N(c,a.reason)}}function Q(a,b,c){"pending"!==b.status&&"blocked"!==b.status?b.reason.error(c):(a=b.reason,b.status="rejected",b.reason=c,null!==a&&N(a,c))}function R(a,b,c){return new K("resolved_model",(c?'{"done":true,"value":':'{"done":false,"value":')+b+"}",a)}function S(a,b,c,d){T(a,b,(d?'{"done":true,"value":':'{"done":false,"value":')+c+"}")}function T(a,b,c){if("pending"!==b.status)b.reason.enqueueModel(c);else{var d=b.value,e=b.reason;b.status="resolved_model",b.value=c,b.reason=a,null!==d&&(W(b),P(b,d,e))}}function U(a,b,c){if("pending"===b.status||"blocked"===b.status){a=b.value;var d=b.reason;b.status="resolved_module",b.value=c,null!==a&&(X(b),P(b,a,d))}}K.prototype=Object.create(Promise.prototype),K.prototype.then=function(a,b){switch(this.status){case"resolved_model":W(this);break;case"resolved_module":X(this)}switch(this.status){case"fulfilled":"function"==typeof a&&a(this.value);break;case"pending":case"blocked":"function"==typeof a&&(null===this.value&&(this.value=[]),this.value.push(a)),"function"==typeof b&&(null===this.reason&&(this.reason=[]),this.reason.push(b));break;case"halted":break;default:"function"==typeof b&&b(this.reason)}};var V=null;function W(a){var b=V;V=null;var c=a.value,d=a.reason;a.status="blocked",a.value=null,a.reason=null;try{var e=JSON.parse(c,d._fromJSON),f=a.value;if(null!==f&&(a.value=null,a.reason=null,M(f,e)),null!==V){if(V.errored)throw V.reason;if(0<V.deps){V.value=e,V.chunk=a;return}}a.status="fulfilled",a.value=e}catch(b){a.status="rejected",a.reason=b}finally{V=b}}function X(a){try{var b=m(a.value);a.status="fulfilled",a.value=b}catch(b){a.status="rejected",a.reason=b}}function Y(a,b){a._closed=!0,a._closedReason=b,a._chunks.forEach(function(c){"pending"===c.status&&Q(a,c,b)})}function Z(a){return{$$typeof:q,_payload:a,_init:L}}function $(a,b){var c=a._chunks,d=c.get(b);return d||(d=a._closed?new K("rejected",null,a._closedReason):new K("pending",null,null),c.set(b,d)),d}function _(a,b){for(var c=a.response,d=a.handler,e=a.parentObject,f=a.key,g=a.map,h=a.path,i=1;i<h.length;i++){for(;b.$$typeof===q;)if((b=b._payload)===d.chunk)b=d.value;else{switch(b.status){case"resolved_model":W(b);break;case"resolved_module":X(b)}switch(b.status){case"fulfilled":b=b.value;continue;case"blocked":var j=O(b,a);if(null!==j){b=j.value;continue}case"pending":h.splice(0,i-1),null===b.value?b.value=[a]:b.value.push(a),null===b.reason?b.reason=[a]:b.reason.push(a);return;case"halted":return;default:aa(a,b.reason);return}}b=b[h[i]]}a=g(c,b,e,f),e[f]=a,""===f&&null===d.value&&(d.value=a),e[0]===p&&"object"==typeof d.value&&null!==d.value&&d.value.$$typeof===p&&(e=d.value,"3"===f)&&(e.props=a),d.deps--,0===d.deps&&null!==(f=d.chunk)&&"blocked"===f.status&&(e=f.value,f.status="fulfilled",f.value=d.value,f.reason=d.reason,null!==e&&M(e,d.value))}function aa(a,b){var c=a.handler;a=a.response,c.errored||(c.errored=!0,c.value=null,c.reason=b,null!==(c=c.chunk)&&"blocked"===c.status&&Q(a,c,b))}function ab(a,b,c,d,e,f){if(V){var g=V;g.deps++}else g=V={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1};return b={response:d,handler:g,parentObject:b,key:c,map:e,path:f},null===a.value?a.value=[b]:a.value.push(b),null===a.reason?a.reason=[b]:a.reason.push(b),null}function ac(a,b,c,d){if(!a._serverReferenceConfig)return I(b,a._callServer,a._encodeFormAction);var e=h(a._serverReferenceConfig,b.id),f=l(e);if(f)b.bound&&(f=Promise.all([f,b.bound]));else{if(!b.bound)return E(f=m(e),b.id,b.bound,a._encodeFormAction),f;f=Promise.resolve(b.bound)}if(V){var g=V;g.deps++}else g=V={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1};return f.then(function(){var f=m(e);if(b.bound){var h=b.bound.value.slice(0);h.unshift(null),f=f.bind.apply(f,h)}E(f,b.id,b.bound,a._encodeFormAction),c[d]=f,""===d&&null===g.value&&(g.value=f),c[0]===p&&"object"==typeof g.value&&null!==g.value&&g.value.$$typeof===p&&(h=g.value,"3"===d)&&(h.props=f),g.deps--,0===g.deps&&null!==(f=g.chunk)&&"blocked"===f.status&&(h=f.value,f.status="fulfilled",f.value=g.value,null!==h&&M(h,g.value))},function(b){if(!g.errored){g.errored=!0,g.value=null,g.reason=b;var c=g.chunk;null!==c&&"blocked"===c.status&&Q(a,c,b)}}),null}function ad(a,b,c,d,e){var f=parseInt((b=b.split(":"))[0],16);switch((f=$(a,f)).status){case"resolved_model":W(f);break;case"resolved_module":X(f)}switch(f.status){case"fulfilled":var g=f.value;for(f=1;f<b.length;f++){for(;g.$$typeof===q;){switch((g=g._payload).status){case"resolved_model":W(g);break;case"resolved_module":X(g)}switch(g.status){case"fulfilled":g=g.value;break;case"blocked":case"pending":return ab(g,c,d,a,e,b.slice(f-1));case"halted":return V?(a=V,a.deps++):V={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1},null;default:return V?(V.errored=!0,V.value=null,V.reason=g.reason):V={parent:null,chunk:null,value:null,reason:g.reason,deps:0,errored:!0},null}}g=g[b[f]]}return e(a,g,c,d);case"pending":case"blocked":return ab(f,c,d,a,e,b);case"halted":return V?(a=V,a.deps++):V={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1},null;default:return V?(V.errored=!0,V.value=null,V.reason=f.reason):V={parent:null,chunk:null,value:null,reason:f.reason,deps:0,errored:!0},null}}function ae(a,b){return new Map(b)}function af(a,b){return new Set(b)}function ag(a,b){return new Blob(b.slice(1),{type:b[0]})}function ah(a,b){a=new FormData;for(var c=0;c<b.length;c++)a.append(b[c][0],b[c][1]);return a}function ai(a,b){return b[Symbol.iterator]()}function aj(a,b){return b}function ak(a,b,c,d){if("$"===d[0]){if("$"===d)return null!==V&&"0"===c&&(V={parent:V,chunk:null,value:null,reason:null,deps:0,errored:!1}),p;switch(d[1]){case"$":return d.slice(1);case"L":return Z(a=$(a,b=parseInt(d.slice(2),16)));case"@":return $(a,b=parseInt(d.slice(2),16));case"S":return Symbol.for(d.slice(2));case"F":return ad(a,d=d.slice(2),b,c,ac);case"T":if(b="$"+d.slice(2),null==(a=a._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return a.get(b);case"Q":return ad(a,d=d.slice(2),b,c,ae);case"W":return ad(a,d=d.slice(2),b,c,af);case"B":return ad(a,d=d.slice(2),b,c,ag);case"K":return ad(a,d=d.slice(2),b,c,ah);case"Z":return av();case"i":return ad(a,d=d.slice(2),b,c,ai);case"I":return 1/0;case"-":return"$-0"===d?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(d.slice(2)));case"n":return BigInt(d.slice(2));default:return ad(a,d=d.slice(1),b,c,aj)}}return d}function al(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function am(a,b,c,e,f,g,h){var i=new Map;this._bundlerConfig=a,this._serverReferenceConfig=b,this._moduleLoading=c,this._callServer=void 0!==e?e:al,this._encodeFormAction=f,this._nonce=g,this._chunks=i,this._stringDecoder=new d.TextDecoder,this._fromJSON=null,this._closed=!1,this._closedReason=null,this._tempRefs=h,this._fromJSON=aB(this)}function an(){return{_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]}}function ao(a,b,c){var d=(a=a._chunks).get(b);d&&"pending"!==d.status?d.reason.enqueueValue(c):a.set(b,new K("fulfilled",c,null))}function ap(a,b,c){var d=a._chunks,e=d.get(b);c=JSON.parse(c,a._fromJSON);var f=g(a._bundlerConfig,c);if(n(a._moduleLoading,c[1],a._nonce),c=l(f)){if(e){var h=e;h.status="blocked"}else h=new K("blocked",null,null),d.set(b,h);c.then(function(){return U(a,h,f)},function(b){return Q(a,h,b)})}else e?U(a,e,f):d.set(b,new K("resolved_module",f,null))}function aq(a,b,c,d){var e=a._chunks;(a=e.get(b))?"pending"===a.status&&(b=a.value,a.status="fulfilled",a.value=c,a.reason=d,null!==b&&M(b,a.value)):e.set(b,new K("fulfilled",c,d))}function ar(a,b,c){var d=null;c=new ReadableStream({type:c,start:function(a){d=a}});var e=null;aq(a,b,c,{enqueueValue:function(a){null===e?d.enqueue(a):e.then(function(){d.enqueue(a)})},enqueueModel:function(b){if(null===e){var c=new K("resolved_model",b,a);W(c),"fulfilled"===c.status?d.enqueue(c.value):(c.then(function(a){return d.enqueue(a)},function(a){return d.error(a)}),e=c)}else{c=e;var f=new K("pending",null,null);f.then(function(a){return d.enqueue(a)},function(a){return d.error(a)}),e=f,c.then(function(){e===f&&(e=null),T(a,f,b)})}},close:function(){if(null===e)d.close();else{var a=e;e=null,a.then(function(){return d.close()})}},error:function(a){if(null===e)d.error(a);else{var b=e;e=null,b.then(function(){return d.error(a)})}}})}function as(){return this}function at(a){return(a={next:a})[t]=as,a}function au(a,b,c){var d=[],e=!1,f=0,g={};g[t]=function(){var a=0;return at(function(b){if(void 0!==b)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(a===d.length){if(e)return new K("fulfilled",{done:!0,value:void 0},null);d[a]=new K("pending",null,null)}return d[a++]})},aq(a,b,c?g[t]():g,{enqueueValue:function(a){if(f===d.length)d[f]=new K("fulfilled",{done:!1,value:a},null);else{var b=d[f],c=b.value,e=b.reason;b.status="fulfilled",b.value={done:!1,value:a},null!==c&&P(b,c,e)}f++},enqueueModel:function(b){f===d.length?d[f]=R(a,b,!1):S(a,d[f],b,!1),f++},close:function(b){for(e=!0,f===d.length?d[f]=R(a,b,!0):S(a,d[f],b,!0),f++;f<d.length;)S(a,d[f++],'"$undefined"',!0)},error:function(b){for(e=!0,f===d.length&&(d[f]=new K("pending",null,null));f<d.length;)Q(a,d[f++],b)}})}function av(){var a=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return a.stack="Error: "+a.message,a}function aw(a,b){for(var c=a.length,d=b.length,e=0;e<c;e++)d+=a[e].byteLength;d=new Uint8Array(d);for(var f=e=0;f<c;f++){var g=a[f];d.set(g,e),e+=g.byteLength}return d.set(b,e),d}function ax(a,b,c,d,e,f){ao(a,b,e=new e((c=0===c.length&&0==d.byteOffset%f?d:aw(c,d)).buffer,c.byteOffset,c.byteLength/f))}function ay(a,b,c,d,e){switch(c){case 65:ao(a,b,aw(d,e).buffer);return;case 79:ax(a,b,d,e,Int8Array,1);return;case 111:ao(a,b,0===d.length?e:aw(d,e));return;case 85:ax(a,b,d,e,Uint8ClampedArray,1);return;case 83:ax(a,b,d,e,Int16Array,2);return;case 115:ax(a,b,d,e,Uint16Array,2);return;case 76:ax(a,b,d,e,Int32Array,4);return;case 108:ax(a,b,d,e,Uint32Array,4);return;case 71:ax(a,b,d,e,Float32Array,4);return;case 103:ax(a,b,d,e,Float64Array,8);return;case 77:ax(a,b,d,e,BigInt64Array,8);return;case 109:ax(a,b,d,e,BigUint64Array,8);return;case 86:ax(a,b,d,e,DataView,1);return}for(var g=a._stringDecoder,h="",i=0;i<d.length;i++)h+=g.decode(d[i],f);az(a,b,c,h+=g.decode(e))}function az(a,b,c,d){switch(c){case 73:ap(a,b,d);break;case 72:switch(b=d[0],a=JSON.parse(d=d.slice(1),a._fromJSON),d=o.d,b){case"D":d.D(a);break;case"C":"string"==typeof a?d.C(a):d.C(a[0],a[1]);break;case"L":b=a[0],c=a[1],3===a.length?d.L(b,c,a[2]):d.L(b,c);break;case"m":"string"==typeof a?d.m(a):d.m(a[0],a[1]);break;case"X":"string"==typeof a?d.X(a):d.X(a[0],a[1]);break;case"S":"string"==typeof a?d.S(a):d.S(a[0],0===a[1]?void 0:a[1],3===a.length?a[2]:void 0);break;case"M":"string"==typeof a?d.M(a):d.M(a[0],a[1])}break;case 69:var e=(c=a._chunks).get(b);d=JSON.parse(d);var f=av();f.digest=d.digest,e?Q(a,e,f):c.set(b,new K("rejected",null,f));break;case 84:(c=(a=a._chunks).get(b))&&"pending"!==c.status?c.reason.enqueueValue(d):a.set(b,new K("fulfilled",d,null));break;case 78:case 68:case 74:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:ar(a,b,void 0);break;case 114:ar(a,b,"bytes");break;case 88:au(a,b,!1);break;case 120:au(a,b,!0);break;case 67:(a=a._chunks.get(b))&&"fulfilled"===a.status&&a.reason.close(""===d?'"$undefined"':d);break;default:(e=(c=a._chunks).get(b))?T(a,e,d):c.set(b,new K("resolved_model",d,a))}}function aA(a,b,c){for(var d=0,e=b._rowState,f=b._rowID,g=b._rowTag,h=b._rowLength,i=b._buffer,j=c.length;d<j;){var k=-1;switch(e){case 0:58===(k=c[d++])?e=1:f=f<<4|(96<k?k-87:k-48);continue;case 1:84===(e=c[d])||65===e||79===e||111===e||85===e||83===e||115===e||76===e||108===e||71===e||103===e||77===e||109===e||86===e?(g=e,e=2,d++):64<e&&91>e||35===e||114===e||120===e?(g=e,e=3,d++):(g=0,e=3);continue;case 2:44===(k=c[d++])?e=4:h=h<<4|(96<k?k-87:k-48);continue;case 3:k=c.indexOf(10,d);break;case 4:(k=d+h)>c.length&&(k=-1)}var l=c.byteOffset+d;if(-1<k)ay(a,f,g,i,h=new Uint8Array(c.buffer,l,k-d)),d=k,3===e&&d++,h=f=g=e=0,i.length=0;else{a=new Uint8Array(c.buffer,l,c.byteLength-d),i.push(a),h-=a.byteLength;break}}b._rowState=e,b._rowID=f,b._rowTag=g,b._rowLength=h}function aB(a){return function(b,c){if("string"==typeof c)return ak(a,this,b,c);if("object"==typeof c&&null!==c){if(c[0]===p){if(b={$$typeof:p,type:c[1],key:c[2],ref:null,props:c[3]},null!==V){if(V=(c=V).parent,c.errored)b=Z(b=new K("rejected",null,c.reason));else if(0<c.deps){var d=new K("blocked",null,null);c.value=b,c.chunk=d,b=Z(d)}}}else b=c;return b}return c}}function aC(a){Y(a,Error("Connection closed."))}function aD(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function aE(a){return new am(a.serverConsumerManifest.moduleMap,a.serverConsumerManifest.serverModuleMap,a.serverConsumerManifest.moduleLoading,aD,a.encodeFormAction,"string"==typeof a.nonce?a.nonce:void 0,a&&a.temporaryReferences?a.temporaryReferences:void 0)}function aF(a,b){function c(b){var g=b.value;if(!b.done)return aA(a,e,g),f.read().then(c).catch(d);aC(a)}function d(b){Y(a,b)}var e=an(),f=b.getReader();f.read().then(c).catch(d)}function aG(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}b.createFromFetch=function(a,b){var c=aE(b);return a.then(function(a){aF(c,a.body)},function(a){Y(c,a)}),$(c,0)},b.createFromNodeStream=function(a,b,c){var d=new am(b.moduleMap,b.serverModuleMap,b.moduleLoading,aG,c?c.encodeFormAction:void 0,c&&"string"==typeof c.nonce?c.nonce:void 0,void 0),e=an();return a.on("data",function(a){if("string"==typeof a){for(var b=0,c=e._rowState,f=e._rowID,g=e._rowTag,h=e._rowLength,i=e._buffer,j=a.length;b<j;){var k=-1;switch(c){case 0:58===(k=a.charCodeAt(b++))?c=1:f=f<<4|(96<k?k-87:k-48);continue;case 1:84===(c=a.charCodeAt(b))||65===c||79===c||111===c||85===c||83===c||115===c||76===c||108===c||71===c||103===c||77===c||109===c||86===c?(g=c,c=2,b++):64<c&&91>c||114===c||120===c?(g=c,c=3,b++):(g=0,c=3);continue;case 2:44===(k=a.charCodeAt(b++))?c=4:h=h<<4|(96<k?k-87:k-48);continue;case 3:k=a.indexOf("\n",b);break;case 4:if(84!==g)throw Error("Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.");if(h<a.length||a.length>3*h)throw Error("String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.");k=a.length}if(-1<k){if(0<i.length)throw Error("String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.");az(d,f,g,b=a.slice(b,k)),b=k,3===c&&b++,h=f=g=c=0,i.length=0}else if(a.length!==b)throw Error("String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.")}e._rowState=c,e._rowID=f,e._rowTag=g,e._rowLength=h}else aA(d,e,a)}),a.on("error",function(a){Y(d,a)}),a.on("end",function(){return aC(d)}),$(d,0)},b.createFromReadableStream=function(a,b){return aF(b=aE(b),a),$(b,0)},b.createServerReference=function(a){return J(a,aD)},b.createTemporaryReferenceSet=function(){return new Map},b.encodeReply=function(a,b){return new Promise(function(c,d){var e=z(a,"",b&&b.temporaryReferences?b.temporaryReferences:void 0,c,d);if(b&&b.signal){var f=b.signal;if(f.aborted)e(f.reason);else{var g=function(){e(f.reason),f.removeEventListener("abort",g)};f.addEventListener("abort",g)}}})},b.registerServerReference=function(a,b,c){return E(a,b,null,c),a}},10272:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.registerAdminService=d,b.addAdminServicesToServer=e;let c=[];function d(a,b){c.push({getServiceDefinition:a,getHandlers:b})}function e(a){for(let{getServiceDefinition:b,getHandlers:d}of c)a.addService(b(),d())}},10407:(a,b,c)=>{"use strict";a.exports=c(49754).vendored["react-rsc"].ReactDOM},10433:(a,b,c)=>{"use strict";var d=c(8408),e=c(24148);let f={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:a=>"nan"===a.slice(-3).toLowerCase()?NaN:"-"===a[0]?-1/0:1/0,stringify:e.stringifyNumber},g={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:a=>parseFloat(a.replace(/_/g,"")),stringify(a){let b=Number(a.value);return isFinite(b)?b.toExponential():e.stringifyNumber(a)}};b.float={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(a){let b=new d.Scalar(parseFloat(a.replace(/_/g,""))),c=a.indexOf(".");if(-1!==c){let d=a.substring(c+1).replace(/_/g,"");"0"===d[d.length-1]&&(b.minFractionDigits=d.length)}return b},stringify:e.stringifyNumber},b.floatExp=g,b.floatNaN=f},10499:(a,b,c)=>{"use strict";a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.length=a}d(h,f),h.prototype.poolByteLength=function(a,b){return b.length!==this.length?a.reset(g.FixedLengthMismatch({expected:this.length,got:b.length}),null):a.reset(null,this.length)},h.prototype.poolWriteInto=function(a,b,c,d){return b.length!==this.length?a.reset(g.FixedLengthMismatch({expected:this.length,got:b.length}),d):(b.copy(c,d),a.reset(null,d+this.length))},h.prototype.poolReadFrom=function(a,b,c){var d=c+this.length;return d>b.length?e.poolShortError(a,this.length,b.length-c,c):a.reset(null,d,b.slice(c,d))}},10589:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CallCredentials=void 0;let d=c(33604);function e(a){return"getRequestHeaders"in a&&"function"==typeof a.getRequestHeaders}class f{static createFromMetadataGenerator(a){return new h(a)}static createFromGoogleCredential(a){return f.createFromMetadataGenerator((b,c)=>{let f;(f=e(a)?a.getRequestHeaders(b.service_url):new Promise((c,d)=>{a.getRequestMetadata(b.service_url,(a,b)=>a?void d(a):b?void c(b):void d(Error("Headers not set by metadata plugin")))})).then(a=>{let b=new d.Metadata;for(let c of Object.keys(a))b.add(c,a[c]);c(null,b)},a=>{c(a)})})}static createEmpty(){return new i}}b.CallCredentials=f;class g extends f{constructor(a){super(),this.creds=a}async generateMetadata(a){let b=new d.Metadata;for(let c of(await Promise.all(this.creds.map(b=>b.generateMetadata(a)))))b.merge(c);return b}compose(a){return new g(this.creds.concat([a]))}_equals(a){return this===a||a instanceof g&&this.creds.every((b,c)=>b._equals(a.creds[c]))}}class h extends f{constructor(a){super(),this.metadataGenerator=a}generateMetadata(a){return new Promise((b,c)=>{this.metadataGenerator(a,(a,d)=>{void 0!==d?b(d):c(a)})})}compose(a){return new g([this,a])}_equals(a){return this===a||a instanceof h&&this.metadataGenerator===a.metadataGenerator}}class i extends f{generateMetadata(a){return Promise.resolve(new d.Metadata)}compose(a){return a}_equals(a){return a instanceof i}}},10715:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseAnyDef=void 0;let d=c(90737);b.parseAnyDef=function(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?(0,d.getRelativePath)(b,a.currentPath):b.join("/")}}},11108:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(){}return a.prototype.toTraceId=function(){return""},a.prototype.toSpanId=function(){return""},a}();b.SpanContext=c,b.default=c},11194:(a,b,c)=>{"use strict";c.d(b,{B:()=>k,L:()=>j});var d=c(91178),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(){function a(a){this._entries=a?new Map(a):new Map}return a.prototype.getEntry=function(a){var b=this._entries.get(a);if(b)return Object.assign({},b)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(a){var b=e(a,2);return[b[0],b[1]]})},a.prototype.setEntry=function(b,c){var d=new a(this._entries);return d._entries.set(b,c),d},a.prototype.removeEntry=function(b){var c=new a(this._entries);return c._entries.delete(b),c},a.prototype.removeEntries=function(){for(var b,c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var g=new a(this._entries);try{for(var h=f(d),i=h.next();!i.done;i=h.next()){var j=i.value;g._entries.delete(j)}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}return g},a.prototype.clear=function(){return new a},a}(),h=Symbol("BaggageEntryMetadata"),i=d.K.instance();function j(a){return void 0===a&&(a={}),new g(new Map(Object.entries(a)))}function k(a){return"string"!=typeof a&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:h,toString:function(){return a}}}},11293:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.isAsync=b.isValid=b.isDirty=b.isAborted=b.OK=b.DIRTY=b.INVALID=b.ParseStatus=b.EMPTY_PATH=b.makeIssue=void 0,b.addIssueToContext=g;let e=c(64062),f=d(c(51809));function g(a,c){let d=(0,e.getErrorMap)(),g=(0,b.makeIssue)({issueData:c,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,d,d===f.default?void 0:f.default].filter(a=>!!a)});a.common.issues.push(g)}b.makeIssue=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}},b.EMPTY_PATH=[];class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,c){let d=[];for(let e of c){if("aborted"===e.status)return b.INVALID;"dirty"===e.status&&a.dirty(),d.push(e.value)}return{status:a.value,value:d}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return h.mergeObjectSync(a,c)}static mergeObjectSync(a,c){let d={};for(let e of c){let{key:c,value:f}=e;if("aborted"===c.status||"aborted"===f.status)return b.INVALID;"dirty"===c.status&&a.dirty(),"dirty"===f.status&&a.dirty(),"__proto__"!==c.value&&(void 0!==f.value||e.alwaysSet)&&(d[c.value]=f.value)}return{status:a.value,value:d}}}b.ParseStatus=h,b.INVALID=Object.freeze({status:"aborted"}),b.DIRTY=a=>({status:"dirty",value:a}),b.OK=a=>({status:"valid",value:a}),b.isAborted=a=>"aborted"===a.status,b.isDirty=a=>"dirty"===a.status,b.isValid=a=>"valid"===a.status,b.isAsync=a=>"undefined"!=typeof Promise&&a instanceof Promise},11394:(a,b,c)=>{"use strict";c.r(b),c.d(b,{NOOP_LOGGER:()=>e.G,NOOP_LOGGER_PROVIDER:()=>g,NoopLogger:()=>e.P,NoopLoggerProvider:()=>f,SeverityNumber:()=>d,logs:()=>m}),function(a){a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.TRACE=1]="TRACE",a[a.TRACE2=2]="TRACE2",a[a.TRACE3=3]="TRACE3",a[a.TRACE4=4]="TRACE4",a[a.DEBUG=5]="DEBUG",a[a.DEBUG2=6]="DEBUG2",a[a.DEBUG3=7]="DEBUG3",a[a.DEBUG4=8]="DEBUG4",a[a.INFO=9]="INFO",a[a.INFO2=10]="INFO2",a[a.INFO3=11]="INFO3",a[a.INFO4=12]="INFO4",a[a.WARN=13]="WARN",a[a.WARN2=14]="WARN2",a[a.WARN3=15]="WARN3",a[a.WARN4=16]="WARN4",a[a.ERROR=17]="ERROR",a[a.ERROR2=18]="ERROR2",a[a.ERROR3=19]="ERROR3",a[a.ERROR4=20]="ERROR4",a[a.FATAL=21]="FATAL",a[a.FATAL2=22]="FATAL2",a[a.FATAL3=23]="FATAL3",a[a.FATAL4=24]="FATAL4"}(d||(d={}));var d,e=c(24405),f=function(){function a(){}return a.prototype.getLogger=function(a,b,c){return new e.P},a}(),g=new f,h="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),j=h;function k(a,b,c){return function(d){return d===a?b:c}}var l=1,m=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalLoggerProvider=function(a){return j[i]?this.getLoggerProvider():(j[i]=k(l,a,g),a)},a.prototype.getLoggerProvider=function(){var a,b;return null!=(b=null==(a=j[i])?void 0:a.call(j,l))?b:g},a.prototype.getLogger=function(a,b,c){return this.getLoggerProvider().getLogger(a,b,c)},a.prototype.disable=function(){delete j[i]},a})().getInstance()},11438:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{cacheConfigDetailsSchema:()=>m,cacheConfigSchema:()=>l}),a.exports=i(j);var k=c(6250);let l=k.z.union([k.z.boolean(),k.z.object({ttlSeconds:k.z.number().optional()}).passthrough()]),m=k.z.object({cacheConfig:l,endOfCachedContents:k.z.number()})},11638:(a,b,c)=>{"use strict";var d=c(34275),e=c(65444),f=c(62147),g=c(68423),h=c(20992),i=c(42218),j=c(74648),k=c(8408),l=c(72125),m=c(54726),n=c(99308),o=c(8980),p=c(79159),q=c(69731),r=c(81390),s=c(25283);b.Composer=d.Composer,b.Document=e.Document,b.Schema=f.Schema,b.YAMLError=g.YAMLError,b.YAMLParseError=g.YAMLParseError,b.YAMLWarning=g.YAMLWarning,b.Alias=h.Alias,b.isAlias=i.isAlias,b.isCollection=i.isCollection,b.isDocument=i.isDocument,b.isMap=i.isMap,b.isNode=i.isNode,b.isPair=i.isPair,b.isScalar=i.isScalar,b.isSeq=i.isSeq,b.Pair=j.Pair,b.Scalar=k.Scalar,b.YAMLMap=l.YAMLMap,b.YAMLSeq=m.YAMLSeq,b.CST=n,b.Lexer=o.Lexer,b.LineCounter=p.LineCounter,b.Parser=q.Parser,b.parse=r.parse,b.parseAllDocuments=r.parseAllDocuments,b.parseDocument=r.parseDocument,b.stringify=r.stringify,b.visit=s.visit,b.visitAsync=s.visitAsync},11659:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367);b.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},11779:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.TracerProviderWithEnvExporters=void 0;let e=c(68948),f=c(41625),g=c(51859),h=c(19889),i=c(97798),j=c(81096),k=c(72626),l=c(63663);class m extends h.NodeTracerProvider{constructor(a={}){super(a),this._configuredExporters=[],this._hasSpanProcessors=!1;let b=this.filterBlanksAndNulls(Array.from(new Set((0,f.getEnv)().OTEL_TRACES_EXPORTER.split(","))));"none"===b[0]?e.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):0===b.length?(e.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),b=["otlp"],this.createExportersFromList(b),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):(b.length>1&&b.includes("none")&&(e.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),b=["otlp"]),this.createExportersFromList(b),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):e.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let a=this.getOtlpProtocol();switch(a){case"grpc":return new k.OTLPTraceExporter;case"http/json":return new j.OTLPTraceExporter;case"http/protobuf":return new i.OTLPTraceExporter;default:return e.diag.warn(`Unsupported OTLP traces protocol: ${a}. Using http/protobuf.`),new i.OTLPTraceExporter}}static getOtlpProtocol(){var a,b,c;let d=(0,f.getEnvWithoutDefaults)();return null!=(c=null!=(b=null!=(a=d.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)?a:d.OTEL_EXPORTER_OTLP_PROTOCOL)?b:(0,f.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)?c:(0,f.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:a}=c(50496);return new a}catch(a){throw Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${a}`)}}addSpanProcessor(a){super.addSpanProcessor(a),this._hasSpanProcessors=!0}register(a){this._hasSpanProcessors&&super.register(a)}createExportersFromList(a){a.forEach(a=>{let b=this._getSpanExporter(a);b?this._configuredExporters.push(b):e.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${a}.`)})}configureSpanProcessors(a){return a.map(a=>a instanceof g.ConsoleSpanExporter?new g.SimpleSpanProcessor(a):new g.BatchSpanProcessor(a))}filterBlanksAndNulls(a){return a.map(a=>a.trim()).filter(a=>"null"!==a&&""!==a)}}b.TracerProviderWithEnvExporters=m,d=m,m._registeredExporters=new Map([["otlp",()=>d.configureOtlp()],["zipkin",()=>new l.ZipkinExporter],["jaeger",()=>d.configureJaeger()],["console",()=>new g.ConsoleSpanExporter]])},12118:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762);b.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=c,i=b.let("valid",!1),j=b.let("passing",null),k=b.name("_valid");function l(){h.forEach((c,f)=>{let h;(0,e.alwaysValidSchema)(g,c)?b.var(k,!0):h=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},k),f>0&&b.if((0,d._)`${k} && ${i}`).assign(i,!1).assign(j,(0,d._)`[${j}, ${f}]`).else(),b.if(k,()=>{b.assign(i,!0),b.assign(j,f),h&&a.mergeEvaluated(h,d.Name)})})}a.setParams({passing:j}),b.block(l),a.result(i,()=>a.reset(),()=>a.error(!0))}}},12255:(a,b,c)=>{"use strict";c.d(b,{_:()=>n});var d=c(76956),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(){}return a.prototype.active=function(){return d.l},a.prototype.with=function(a,b,c){for(var d=[],g=3;g<arguments.length;g++)d[g-3]=arguments[g];return b.call.apply(b,f([c],e(d),!1))},a.prototype.bind=function(a,b){return b},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),h=c(60233),i=c(91178),j=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},k=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},l="context",m=new g,n=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(a){return(0,h.$G)(l,a,i.K.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(a,b,c){for(var d,e=[],f=3;f<arguments.length;f++)e[f-3]=arguments[f];return(d=this._getContextManager()).with.apply(d,k([a,b,c],j(e),!1))},a.prototype.bind=function(a,b){return this._getContextManager().bind(a,b)},a.prototype._getContextManager=function(){return(0,h.mS)(l)||m},a.prototype.disable=function(){this._getContextManager().disable(),(0,h.kv)(l,i.K.instance())},a}()},12351:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55423),e=c(96535),f=c(71367);b.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?m():n(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){if(l||i)a.block$data(e.nil,o);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}function n(){let e=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>p(e,c)),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,e)),(0,d.reportMissingProp)(a,e),b.else()}function o(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}function p(c,f){a.setParams({missingProperty:c}),b.forOf(c,g,()=>{b.assign(f,(0,d.propertyInData)(b,h,c,k.ownProperties)),b.if((0,e.not)(f),()=>{a.error(),b.break()})},e.nil)}}}},12383:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(70387),e=c(95291),f=c(86224);b.childOf=function(a){return a instanceof f.default&&(a=a.context()),new e.default(d.REFERENCE_CHILD_OF,a)},b.followsFrom=function(a){return a instanceof f.default&&(a=a.context()),new e.default(d.REFERENCE_FOLLOWS_FROM,a)}},12582:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Client=void 0;let d=c(611),e=c(83640),f=c(80158),g=c(56458),h=c(33604),i=c(73475),j=Symbol(),k=Symbol(),l=Symbol(),m=Symbol();function n(a){return"function"==typeof a}function o(a){var b;return(null==(b=a.stack)?void 0:b.split("\n").slice(1).join("\n"))||"no stack trace available"}class p{constructor(a,b,c={}){var d,f;if(c=Object.assign({},c),this[k]=null!=(d=c.interceptors)?d:[],delete c.interceptors,this[l]=null!=(f=c.interceptor_providers)?f:[],delete c.interceptor_providers,this[k].length>0&&this[l].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[m]=c.callInvocationTransformer,delete c.callInvocationTransformer,c.channelOverride)this[j]=c.channelOverride;else if(c.channelFactoryOverride){let d=c.channelFactoryOverride;delete c.channelFactoryOverride,this[j]=d(a,b,c)}else this[j]=new e.ChannelImplementation(a,b,c)}close(){this[j].close()}getChannel(){return this[j]}waitForReady(a,b){let c=d=>{let e;if(d)return void b(Error("Failed to connect before the deadline"));try{e=this[j].getConnectivityState(!0)}catch(a){b(Error("The channel has been closed"));return}if(e===f.ConnectivityState.READY)b();else try{this[j].watchConnectivityState(e,a,c)}catch(a){b(Error("The channel has been closed"))}};setImmediate(c)}checkOptionalUnaryResponseArguments(a,b,c){if(n(a))return{metadata:new h.Metadata,options:{},callback:a};if(n(b))if(a instanceof h.Metadata)return{metadata:a,options:{},callback:b};else return{metadata:new h.Metadata,options:a,callback:b};if(!(a instanceof h.Metadata&&b instanceof Object&&n(c)))throw Error("Incorrect arguments passed");return{metadata:a,options:b,callback:c}}makeUnaryRequest(a,b,c,e,f,h,n){var p,q;let r=this.checkOptionalUnaryResponseArguments(f,h,n),s={path:a,requestStream:!1,responseStream:!1,requestSerialize:b,responseDeserialize:c},t={argument:e,metadata:r.metadata,call:new d.ClientUnaryCallImpl,channel:this[j],methodDefinition:s,callOptions:r.options,callback:r.callback};this[m]&&(t=this[m](t));let u=t.call,v={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(p=t.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(q=t.callOptions.interceptor_providers)?q:[]},w=(0,i.getInterceptingCall)(v,t.methodDefinition,t.callOptions,t.channel);u.call=w;let x=null,y=!1,z=Error();return w.start(t.metadata,{onReceiveMetadata:a=>{u.emit("metadata",a)},onReceiveMessage(a){null!==x&&w.cancelWithStatus(g.Status.UNIMPLEMENTED,"Too many responses received"),x=a},onReceiveStatus(a){if(!y){if(y=!0,a.code===g.Status.OK)if(null===x){let b=o(z);t.callback((0,d.callErrorFromStatus)({code:g.Status.UNIMPLEMENTED,details:"No message received",metadata:a.metadata},b))}else t.callback(null,x);else{let b=o(z);t.callback((0,d.callErrorFromStatus)(a,b))}z=null,u.emit("status",a)}}}),w.sendMessage(e),w.halfClose(),u}makeClientStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkOptionalUnaryResponseArguments(e,f,h),r={path:a,requestStream:!0,responseStream:!1,requestSerialize:b,responseDeserialize:c},s={metadata:q.metadata,call:new d.ClientWritableStreamImpl(b),channel:this[j],methodDefinition:r,callOptions:q.options,callback:q.callback};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=null,x=!1,y=Error();return v.start(s.metadata,{onReceiveMetadata:a=>{t.emit("metadata",a)},onReceiveMessage(a){null!==w&&v.cancelWithStatus(g.Status.UNIMPLEMENTED,"Too many responses received"),w=a,v.startRead()},onReceiveStatus(a){if(!x){if(x=!0,a.code===g.Status.OK)if(null===w){let b=o(y);s.callback((0,d.callErrorFromStatus)({code:g.Status.UNIMPLEMENTED,details:"No message received",metadata:a.metadata},b))}else s.callback(null,w);else{let b=o(y);s.callback((0,d.callErrorFromStatus)(a,b))}y=null,t.emit("status",a)}}}),t}checkMetadataAndOptions(a,b){let c,d;return a instanceof h.Metadata?(c=a,d=b||{}):(d=a||{},c=new h.Metadata),{metadata:c,options:d}}makeServerStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkMetadataAndOptions(f,h),r={path:a,requestStream:!1,responseStream:!0,requestSerialize:b,responseDeserialize:c},s={argument:e,metadata:q.metadata,call:new d.ClientReadableStreamImpl(c),channel:this[j],methodDefinition:r,callOptions:q.options};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=!1,x=Error();return v.start(s.metadata,{onReceiveMetadata(a){t.emit("metadata",a)},onReceiveMessage(a){t.push(a)},onReceiveStatus(a){if(!w){if(w=!0,t.push(null),a.code!==g.Status.OK){let b=o(x);t.emit("error",(0,d.callErrorFromStatus)(a,b))}x=null,t.emit("status",a)}}}),v.sendMessage(e),v.halfClose(),t}makeBidiStreamRequest(a,b,c,e,f){var h,n;let p=this.checkMetadataAndOptions(e,f),q={path:a,requestStream:!0,responseStream:!0,requestSerialize:b,responseDeserialize:c},r={metadata:p.metadata,call:new d.ClientDuplexStreamImpl(b,c),channel:this[j],methodDefinition:q,callOptions:p.options};this[m]&&(r=this[m](r));let s=r.call,t={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(h=r.callOptions.interceptors)?h:[],callInterceptorProviders:null!=(n=r.callOptions.interceptor_providers)?n:[]},u=(0,i.getInterceptingCall)(t,r.methodDefinition,r.callOptions,r.channel);s.call=u;let v=!1,w=Error();return u.start(r.metadata,{onReceiveMetadata(a){s.emit("metadata",a)},onReceiveMessage(a){s.push(a)},onReceiveStatus(a){if(!v){if(v=!0,s.push(null),a.code!==g.Status.OK){let b=o(w);s.emit("error",(0,d.callErrorFromStatus)(a,b))}w=null,s.emit("status",a)}}}),s}}b.Client=p},12788:(a,b,c)=>{"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=k(c(19185));k(c(29021)),k(c(33873));var f=c(77848),g=k(c(97866)),h=k(c(30178)),i=k(c(80579)),j=k(c(24818));function k(a){return a&&a.__esModule?a:{default:a}}function l(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var m="localhost",n=6832,o="udp4",p=65e3;b.default=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,a),this._host=c.host||m,this._port=c.port||n,this._socketType=c.socketType||o,this._maxPacketSize=c.maxPacketSize||p,this._logger=c.logger||new g.default,this._client=e.default.createSocket(this._socketType),this._client.on("error",function(a){b._logger.error("error sending spans over UDP: "+a)}),this._agentThrift=new f.Thrift({entryPoint:i.default.buildAgentThriftPath(),allowOptionalArguments:!0,allowFilesystemAccess:!0}),this._jaegerThrift=new f.Thrift({source:i.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._totalSpanBytes=0}return d(a,[{key:"_calcBatchSize",value:function(a){return this._agentThrift.Agent.emitBatch.argumentsMessageRW.byteLength(this._convertBatchToThriftMessage()).length}},{key:"_calcSpanSize",value:function(a){return this._jaegerThrift.Span.rw.byteLength(new this._jaegerThrift.Span(a))}},{key:"setProcess",value:function(a){this._process=a,this._batch={process:this._process,spans:[]},this._thriftProcessMessage=h.default.convertProcessToThrift(this._jaegerThrift,a),this._emitSpanBatchOverhead=this._calcBatchSize(this._batch),this._maxSpanBytes=this._maxPacketSize-this._emitSpanBatchOverhead}},{key:"append",value:function(a,b){var c=this,d=this._calcSpanSize(a),e=d.err,f=d.length;if(e)return void h.default.invokeCallback(b,1,"error converting span to Thrift: "+e);var g=f;return g>this._maxSpanBytes?void h.default.invokeCallback(b,1,"span size "+g+" is larger than maxSpanSize "+this._maxSpanBytes):this._totalSpanBytes+g<=this._maxSpanBytes?(this._batch.spans.push(a),this._totalSpanBytes+=g,this._totalSpanBytes<this._maxSpanBytes)?void h.default.invokeCallback(b,0):void this.flush(b):void this.flush(function(d,e){c._batch.spans.push(a),c._totalSpanBytes+=g,h.default.invokeCallback(b,d,e)})}},{key:"flush",value:function(a){var b=this._batch.spans.length;if(!b)return void h.default.invokeCallback(a,0);var c=this._totalSpanBytes+this._emitSpanBatchOverhead,d=j.default.newBuffer(c),e=this._agentThrift.Agent.emitBatch.argumentsMessageRW.writeInto(this._convertBatchToThriftMessage(),d,0);if(this._reset(),e.err)return void h.default.invokeCallback(a,b,"error writing Thrift object: "+e.err);this._client.send(d,0,d.length,this._port,this._host,function(c,d){if(c){var f=c&&"error sending spans over UDP: "+c+", packet size: "+e.offset+", bytes sent: "+d;h.default.invokeCallback(a,b,f)}else h.default.invokeCallback(a,b)})}},{key:"_convertBatchToThriftMessage",value:function(){for(var a=[],b=0;b<this._batch.spans.length;b++){var c=this._batch.spans[b];a.push(new this._jaegerThrift.Span(c))}return new this._agentThrift.Agent.emitBatch.ArgumentsMessage({version:1,id:0,body:{batch:new this._jaegerThrift.Batch({process:this._thriftProcessMessage,spans:a})}})}},{key:"_reset",value:function(){this._batch.spans=[],this._totalSpanBytes=0}},{key:"close",value:function(){this._client.close()}}]),a}()},12834:(a,b,c)=>{"use strict";a.exports=h;var d=c(31162);((h.prototype=Object.create(d.prototype)).constructor=h).className="Service";var e=c(382),f=c(305),g=c(91754);function h(a,b){d.call(this,a,b),this.methods={},this._methodsArray=null}function i(a){return a._methodsArray=null,a}h.fromJSON=function(a,b){var c=new h(a,b.options);if(b.methods)for(var d=Object.keys(b.methods),f=0;f<d.length;++f)c.add(e.fromJSON(d[f],b.methods[d[f]]));return b.nested&&c.addJSON(b.nested),b.edition&&(c._edition=b.edition),c.comment=b.comment,c._defaultEdition="proto3",c},h.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"methods",d.arrayToJSON(this.methodsArray,a)||{},"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},Object.defineProperty(h.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=f.toArray(this.methods))}}),h.prototype.get=function(a){return this.methods[a]||d.prototype.get.call(this,a)},h.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolve.call(this);for(var a=this.methodsArray,b=0;b<a.length;++b)a[b].resolve();return this},h.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.methodsArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},h.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof e?(this.methods[a.name]=a,a.parent=this,i(this)):d.prototype.add.call(this,a)},h.prototype.remove=function(a){if(a instanceof e){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,i(this)}return d.prototype.remove.call(this,a)},h.prototype.create=function(a,b,c){for(var d,e=new g.Service(a,b,c),h=0;h<this.methodsArray.length;++h){var i=f.lcFirst((d=this._methodsArray[h]).resolve().name).replace(/[^$\w_]/g,"");e[i]=f.codegen(["r","c"],f.isReserved(i)?i+"_":i)("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor})}return e}},13098:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(25967),e=c(88182),f=c(48146),g=c(71650),h=c(93521),i=c(89521),j=c(11659),k=c(76930),l=c(48097),m=c(92851),n=c(99937),o=c(14987),p=c(46189),q=c(42007),r=c(53083),s=c(57136);b.default=function(a=!1){let b=[n.default,o.default,p.default,q.default,r.default,s.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},13590:(a,b,c)=>{"use strict";c.d(b,{q:()=>e});var d=c(57265),e=c(28354).promisify(d.exec)},13672:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{EmbedderInfoSchema:()=>x,EmbeddingSchema:()=>n,defineEmbedder:()=>t,embed:()=>u,embedMany:()=>w,embedder:()=>r,embedderActionMetadata:()=>z,embedderRef:()=>y}),a.exports=i(j);var k=c(40979),l=c(76944),m=c(25399);let n=k.z.object({embedding:k.z.array(k.z.number()),metadata:k.z.record(k.z.string(),k.z.unknown()).optional()}),o=k.z.object({input:k.z.array(m.DocumentDataSchema),options:k.z.any().optional()}),p=k.z.object({embeddings:k.z.array(n)});function q(a,b){let c=a;return c.__configSchema=b,c}function r(a,b){return q((0,k.action)(s(a),(a,c)=>b({input:a.input.map(a=>new m.Document(a)),options:a.options},c)),a.configSchema)}function s(a){return{actionType:"embedder",name:a.name,inputSchema:o,outputSchema:p,metadata:{type:"embedder",info:a.info,embedder:{customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0}}}}function t(a,b,c){return q((0,k.defineAction)(a,s(b),a=>c(a.input.map(a=>new m.Document(a)),a.options)),b.configSchema)}async function u(a,b){let c=await v(a,b);if(!c.embedderAction){let a;throw a="string"==typeof b.embedder?b.embedder:b.embedder?.__action?.name?b.embedder.__action.name:b.embedder.name,Error(`Unable to resolve embedder ${a}`)}return(await c.embedderAction({input:"string"==typeof b.content?[m.Document.fromText(b.content,b.metadata)]:[b.content],options:{version:c.version,...c.config,...b.options}})).embeddings}async function v(a,b){if("string"==typeof b.embedder)return{embedderAction:await a.lookupAction(`/embedder/${b.embedder}`)};if(Object.hasOwnProperty.call(b.embedder,"__action"))return{embedderAction:b.embedder};if(Object.hasOwnProperty.call(b.embedder,"name")){let c=b.embedder;return{embedderAction:await a.lookupAction(`/embedder/${b.embedder.name}`),config:{...c.config},version:c.version}}throw Error(`failed to resolve embedder ${b.embedder}`)}async function w(a,b){let c;if(!(c="string"==typeof b.embedder?await a.lookupAction(`/embedder/${b.embedder}`):Object.hasOwnProperty.call(b.embedder,"info")?await a.lookupAction(`/embedder/${b.embedder.name}`):b.embedder))throw Error("Unable to utilize the provided embedder");return(await c({input:b.content.map(a=>"string"==typeof a?m.Document.fromText(a,b.metadata):a),options:b.options})).embeddings}let x=k.z.object({label:k.z.string().optional(),supports:k.z.object({input:k.z.array(k.z.enum(["text","image","video"])).optional(),multilingual:k.z.boolean().optional()}).optional(),dimensions:k.z.number().optional()});function y(a){let b=a.name;return a.namespace&&!b.startsWith(a.namespace+"/")&&(b=`${a.namespace}/${b}`),{...a,name:b}}function z({name:a,info:b,configSchema:c}){return{actionType:"embedder",name:a,inputJsonSchema:(0,l.toJsonSchema)({schema:o}),outputJsonSchema:(0,l.toJsonSchema)({schema:p}),metadata:{embedder:{...b,customOptions:c?(0,l.toJsonSchema)({schema:c}):void 0}}}}},13685:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterceptingListenerImpl=void 0,b.statusOrFromValue=e,b.statusOrFromError=f,b.isInterceptingListener=g;let d=c(33604);function e(a){return{ok:!0,value:a}}function f(a){var b;return{ok:!1,error:Object.assign(Object.assign({},a),{metadata:null!=(b=a.metadata)?b:new d.Metadata})}}function g(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length}class h{constructor(a,b){this.listener=a,this.nextListener=b,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(a){this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(a){this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingStatus())})}onReceiveStatus(a){this.listener.onReceiveStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextListener.onReceiveStatus(a)})}}b.InterceptingListenerImpl=h},13781:(a,b,c)=>{"use strict";c.d(b,{N:()=>e});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.name="OTLPExporterError",e.data=d,e.code=c,e}return d(b,a),b}(Error)},13852:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{checkOperation:()=>l}),a.exports=i(j);var k=c(40979);async function l(a,b){if(!b.action)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"Provided operation is missing original request information"});let c=await a.lookupBackgroundAction(b.action);if(!c)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Failed to resolve background action from original request: ${b.action}`});return await c.check(b)}},13951:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},13981:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367),f=c(78457);b.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxLength"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} characters`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},14015:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CandidateErrorSchema:()=>z,CandidateSchema:()=>y,FinishReasonSchema:()=>x,GenerateActionOptionsSchema:()=>F,GenerateActionOutputConfig:()=>E,GenerateRequestSchema:()=>v,GenerateResponseChunkSchema:()=>D,GenerateResponseSchema:()=>B,GenerationCommonConfigDescriptions:()=>r,GenerationCommonConfigSchema:()=>s,GenerationUsageSchema:()=>w,MessageSchema:()=>o,ModelInfoSchema:()=>p,ModelRequestSchema:()=>u,ModelResponseChunkSchema:()=>C,ModelResponseSchema:()=>A,OutputConfigSchema:()=>t,PartSchema:()=>m,RoleSchema:()=>n,ToolDefinitionSchema:()=>q}),a.exports=i(j);var k=c(40979),l=c(25399);let m=k.z.union([l.TextPartSchema,l.MediaPartSchema,l.ToolRequestPartSchema,l.ToolResponsePartSchema,l.DataPartSchema,l.CustomPartSchema,l.ReasoningPartSchema,l.ResourcePartSchema]),n=k.z.enum(["system","user","model","tool"]),o=k.z.object({role:n,content:k.z.array(m),metadata:k.z.record(k.z.unknown()).optional()}),p=k.z.object({versions:k.z.array(k.z.string()).optional(),label:k.z.string().optional(),configSchema:k.z.record(k.z.any()).optional(),supports:k.z.object({multiturn:k.z.boolean().optional(),media:k.z.boolean().optional(),tools:k.z.boolean().optional(),systemRole:k.z.boolean().optional(),output:k.z.array(k.z.string()).optional(),contentType:k.z.array(k.z.string()).optional(),context:k.z.boolean().optional(),constrained:k.z.enum(["none","all","no-tools"]).optional(),toolChoice:k.z.boolean().optional()}).optional(),stage:k.z.enum(["featured","stable","unstable","legacy","deprecated"]).optional()}),q=k.z.object({name:k.z.string(),description:k.z.string(),inputSchema:k.z.record(k.z.any()).describe("Valid JSON Schema representing the input of the tool.").nullish(),outputSchema:k.z.record(k.z.any()).describe("Valid JSON Schema describing the output of the tool.").nullish(),metadata:k.z.record(k.z.any()).describe("additional metadata for this tool definition").optional()}),r={temperature:"Controls the degree of randomness in token selection. A lower value is good for a more predictable response. A higher value leads to more diverse or unexpected results.",maxOutputTokens:"The maximum number of tokens to include in the response.",topK:"The maximum number of tokens to consider when sampling.",topP:"Decides how many possible words to consider. A higher value means that the model looks at more possible words, even the less likely ones, which makes the generated text more diverse."},s=k.z.object({version:k.z.string().describe("A specific version of a model family, e.g. `gemini-2.0-flash` for the `googleai` family.").optional(),temperature:k.z.number().describe(r.temperature).optional(),maxOutputTokens:k.z.number().describe(r.maxOutputTokens).optional(),topK:k.z.number().describe(r.topK).optional(),topP:k.z.number().describe(r.topP).optional(),stopSequences:k.z.array(k.z.string()).max(5).describe("Set of character sequences (up to 5) that will stop output generation.").optional()}).passthrough(),t=k.z.object({format:k.z.string().optional(),schema:k.z.record(k.z.any()).optional(),constrained:k.z.boolean().optional(),contentType:k.z.string().optional()}),u=k.z.object({messages:k.z.array(o),config:k.z.any().optional(),tools:k.z.array(q).optional(),toolChoice:k.z.enum(["auto","required","none"]).optional(),output:t.optional(),docs:k.z.array(l.DocumentDataSchema).optional()}),v=u.extend({candidates:k.z.number().optional()}),w=k.z.object({inputTokens:k.z.number().optional(),outputTokens:k.z.number().optional(),totalTokens:k.z.number().optional(),inputCharacters:k.z.number().optional(),outputCharacters:k.z.number().optional(),inputImages:k.z.number().optional(),outputImages:k.z.number().optional(),inputVideos:k.z.number().optional(),outputVideos:k.z.number().optional(),inputAudioFiles:k.z.number().optional(),outputAudioFiles:k.z.number().optional(),custom:k.z.record(k.z.number()).optional(),thoughtsTokens:k.z.number().optional(),cachedContentTokens:k.z.number().optional()}),x=k.z.enum(["stop","length","blocked","interrupted","other","unknown"]),y=k.z.object({index:k.z.number(),message:o,usage:w.optional(),finishReason:x,finishMessage:k.z.string().optional(),custom:k.z.unknown()}),z=k.z.object({index:k.z.number(),code:k.z.enum(["blocked","other","unknown"]),message:k.z.string().optional()}),A=k.z.object({message:o.optional(),finishReason:x,finishMessage:k.z.string().optional(),latencyMs:k.z.number().optional(),usage:w.optional(),custom:k.z.unknown(),raw:k.z.unknown(),request:v.optional(),operation:k.OperationSchema.optional()}),B=A.extend({candidates:k.z.array(y).optional(),finishReason:x.optional()}),C=k.z.object({role:n.optional(),index:k.z.number().optional(),content:k.z.array(m),custom:k.z.unknown().optional(),aggregated:k.z.boolean().optional()}),D=C,E=k.z.object({format:k.z.string().optional(),contentType:k.z.string().optional(),instructions:k.z.union([k.z.boolean(),k.z.string()]).optional(),jsonSchema:k.z.any().optional(),constrained:k.z.boolean().optional()}),F=k.z.object({model:k.z.string(),docs:k.z.array(l.DocumentDataSchema).optional(),messages:k.z.array(o),tools:k.z.array(k.z.string()).optional(),resources:k.z.array(k.z.string()).optional(),toolChoice:k.z.enum(["auto","required","none"]).optional(),config:k.z.any().optional(),output:E.optional(),resume:k.z.object({respond:k.z.array(l.ToolResponsePartSchema).optional(),restart:k.z.array(l.ToolRequestPartSchema).optional(),metadata:k.z.record(k.z.any()).optional()}).optional(),returnToolRequests:k.z.boolean().optional(),maxTurns:k.z.number().optional(),stepName:k.z.string().optional()})},14067:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SubchannelPool=void 0,b.getSubchannelPool=l;let d=c(31365),e=c(27128),f=c(41835),g=c(9413),h=c(89922),i=1e4;class j{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let a=!0;for(let b in this.pool){let c=this.pool[b].filter(a=>!a.subchannel.unrefIfOneRef());c.length>0&&(a=!1),this.pool[b]=c}a&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var a,b;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},i),null==(b=(a=this.cleanupTimer).unref)||b.call(a))}getOrCreateSubchannel(a,b,c,i){this.ensureCleanupTask();let j=(0,g.uriToString)(a);if(j in this.pool){for(let a of this.pool[j])if((0,f.subchannelAddressEqual)(b,a.subchannelAddress)&&(0,d.channelOptionsEqual)(c,a.channelArguments)&&i._equals(a.channelCredentials))return a.subchannel}let k=new e.Subchannel(a,b,c,i,new h.Http2SubchannelConnector(a));return j in this.pool||(this.pool[j]=[]),this.pool[j].push({subchannelAddress:b,channelArguments:c,channelCredentials:i,subchannel:k}),k.ref(),k}}b.SubchannelPool=j;let k=new j;function l(a){return a?k:new j}},14223:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(35196),e=c(96535),f=c(71367),g=c(51702);b.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),n=j.items?(0,d.getSchemaTypes)(j.items):[];function o(){let d=b.let("i",(0,e._)`${c}.length`),f=b.let("j");a.setParams({i:d,j:f}),b.assign(m,!0),b.if((0,e._)`${d} > 1`,()=>(p()?q:r)(d,f))}function p(){return n.length>0&&!n.some(a=>"object"===a||"array"===a)}function q(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(n,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),n.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}function r(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))}a.block$data(m,o,(0,e._)`${k} === false`),a.ok(m)}}},14752:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(80496),f=d(c(99008));b.default=function(a){a.registerHelper("each",function(a,b){if(!b)throw new f.default("Must pass iterator to #each");var c=b.fn,d=b.inverse,g=0,h="",i=void 0,j=void 0;function k(b,d,f){i&&(i.key=b,i.index=d,i.first=0===d,i.last=!!f,j&&(i.contextPath=j+b)),h+=c(a[b],{data:i,blockParams:e.blockParams([a[b],b],[j+b,null])})}if(b.data&&b.ids&&(j=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(i=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;g<l;g++)g in a&&k(g,g,g===a.length-1);else if("function"==typeof Symbol&&a[Symbol.iterator]){for(var m=[],n=a[Symbol.iterator](),o=n.next();!o.done;o=n.next())m.push(o.value);a=m;for(var l=a.length;g<l;g++)k(g,g,g===a.length-1)}else!function(){var b=void 0;Object.keys(a).forEach(function(a){void 0!==b&&k(b,g-1),b=a,g++}),void 0!==b&&k(b,g-1,!0)}();return 0===g&&(h=d(this)),h})},a.exports=b.default},14755:(a,b,c)=>{"use strict";var d=c(20992),e=c(42218),f=c(8408);let g="tag:yaml.org,2002:";function h(a,b,c){if(b){let a=c.filter(a=>a.tag===b),d=a.find(a=>!a.format)??a[0];if(!d)throw Error(`Tag ${b} not found`);return d}return c.find(b=>b.identify?.(a)&&!b.format)}b.createNode=function(a,b,c){let i;if(e.isDocument(a)&&(a=a.contents),e.isNode(a))return a;if(e.isPair(a)){let b=c.schema[e.MAP].createNode?.(c.schema,null,c);return b.items.push(a),b}(a instanceof String||a instanceof Number||a instanceof Boolean||"undefined"!=typeof BigInt&&a instanceof BigInt)&&(a=a.valueOf());let{aliasDuplicateObjects:j,onAnchor:k,onTagObj:l,schema:m,sourceObjects:n}=c;if(j&&a&&"object"==typeof a){if(i=n.get(a))return i.anchor??(i.anchor=k(a)),new d.Alias(i.anchor);i={anchor:null,node:null},n.set(a,i)}b?.startsWith("!!")&&(b=g+b.slice(2));let o=h(a,b,m.tags);if(!o){if(a&&"function"==typeof a.toJSON&&(a=a.toJSON()),!a||"object"!=typeof a){let b=new f.Scalar(a);return i&&(i.node=b),b}o=a instanceof Map?m[e.MAP]:Symbol.iterator in Object(a)?m[e.SEQ]:m[e.MAP]}l&&(l(o),delete c.onTagObj);let p=o?.createNode?o.createNode(c.schema,a,c):"function"==typeof o?.nodeClass?.from?o.nodeClass.from(c.schema,a,c):new f.Scalar(a);return b?p.tag=b:o.default||(p.tag=o.tag),i&&(i.node=p),p}},14846:a=>{"use strict";a.exports=l;var b=/[\s{}=;:[\],'"()<>]/g,c=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,d=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,e=/^ *[*/]+ */,f=/^\s*\*?\/*/,g=/\n/g,h=/\s/,i=/\\(.?)/g,j={0:"\0",r:"\r",n:"\n",t:"	"};function k(a){return a.replace(i,function(a,b){switch(b){case"\\":case"":return b;default:return j[b]||""}})}function l(a,i){a=a.toString();var j=0,l=a.length,m=1,n=0,o={},p=[],q=null;function r(a){return Error("illegal "+a+" (line "+m+")")}function s(){var b="'"===q?d:c;b.lastIndex=j-1;var e=b.exec(a);if(!e)throw r("string");return j=b.lastIndex,y(q),q=null,k(e[1])}function t(b){return a.charAt(b)}function u(b,c,d){var h,j={type:a.charAt(b++),lineEmpty:!1,leading:d},k=b-(i?2:3);do if(--k<0||"\n"===(h=a.charAt(k))){j.lineEmpty=!0;break}while(" "===h||"	"===h);for(var l=a.substring(b,c).split(g),p=0;p<l.length;++p)l[p]=l[p].replace(i?f:e,"").trim();j.text=l.join("\n").trim(),o[m]=j,n=m}function v(b){var c=w(b),d=a.substring(b,c);return/^\s*\/\//.test(d)}function w(a){for(var b=a;b<l&&"\n"!==t(b);)b++;return b}function x(){if(p.length>0)return p.shift();if(q)return s();var c,d,e,f,g,k=0===j;do{if(j===l)return null;for(c=!1;h.test(e=t(j));)if("\n"===e&&(k=!0,++m),++j===l)return null;if("/"===t(j)){if(++j===l)throw r("comment");if("/"===t(j))if(i){if(f=j,g=!1,v(j-1)){g=!0;do if((j=w(j))===l||(j++,!k))break;while(v(j))}else j=Math.min(l,w(j)+1);g&&(u(f,j,k),k=!0),m++,c=!0}else{for(g="/"===t(f=j+1);"\n"!==t(++j);)if(j===l)return null;++j,g&&(u(f,j-1,k),k=!0),++m,c=!0}else{if("*"!==(e=t(j)))return"/";f=j+1,g=i||"*"===t(f);do{if("\n"===e&&++m,++j===l)throw r("comment");d=e,e=t(j)}while("*"!==d||"/"!==e);++j,g&&(u(f,j-2,k),k=!0),c=!0}}}while(c);var n=j;if(b.lastIndex=0,!b.test(t(n++)))for(;n<l&&!b.test(t(n));)++n;var o=a.substring(j,j=n);return('"'===o||"'"===o)&&(q=o),o}function y(a){p.push(a)}function z(){if(!p.length){var a=x();if(null===a)return null;y(a)}return p[0]}function A(a,b){var c=z();if(c===a)return x(),!0;if(!b)throw r("token '"+c+"', '"+a+"' expected");return!1}function B(a){var b,c=null;return void 0===a?(b=o[m-1],delete o[m-1],b&&(i||"*"===b.type||b.lineEmpty)&&(c=b.leading?b.text:null)):(n<a&&z(),b=o[a],delete o[a],b&&!b.lineEmpty&&(i||"/"===b.type)&&(c=b.leading?null:b.text)),c}return Object.defineProperty({next:x,peek:z,push:y,skip:A,cmnt:B},"line",{get:function(){return m}})}l.unescape=k},14987:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:c(55423).validateUnion,error:{message:"must match a schema in anyOf"}}},15080:(a,b,c)=>{"use strict";b.__esModule=!0;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));b.default=function(a){a.registerHelper("helperMissing",function(){if(1!=arguments.length)throw new d.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b.default},15696:a=>{"use strict";a.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},15750:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{ATTR_PREFIX:()=>p,SPAN_TYPE_ATTR:()=>q,appendSpan:()=>u,disableOTelRootSpanDetection:()=>G,runInNewSpan:()=>t,setCustomMetadataAttribute:()=>x,setCustomMetadataAttributes:()=>y,spanMetadataAlsKey:()=>o,toDisplayPath:()=>z}),a.exports=i(j);var k=c(68948),l=c(643),m=c(50673),n=c(64089);let o="core.tracing.instrumentation.span",p="genkit",q=p+":type",r="genkit-tracer",s="v1";async function t(a,b,c){let d,e;3==arguments.length?(d=b,e=c):(d=a,e=b),await (0,n.ensureBasicTelemetryInstrumentation)();let f=k.trace.getTracer(r,s),g=(0,m.getAsyncContext)().getStore(o),h=g?.metadata?.isRoot===!0;g||(d.metadata.isRoot||=!0);let i={links:d.links};return F()||(i.root=d.metadata.isRoot),await f.startActiveSpan(d.metadata.name,i,async a=>{d.labels&&a.setAttributes(d.labels);let b={...g,metadata:d.metadata};try{d.metadata.path=B(d.metadata.name,g?.metadata?.path||"",d.labels);let c=await (0,m.getAsyncContext)().run(o,b,()=>e(d.metadata,a,h));return"error"!==d.metadata.state&&(d.metadata.state="success"),C(d.metadata,b),c}catch(c){throw C(d.metadata,b,c),d.metadata.state="error",a.setStatus({code:k.SpanStatusCode.ERROR,message:v(c)}),c instanceof Error&&a.recordException(c),"object"==typeof c&&(c.ignoreFailedSpan||(d.metadata.isFailureSource=!0),c.ignoreFailedSpan=!0),c}finally{a.setAttributes(w(d.metadata)),a.end()}})}async function u(a,b,c,d){await (0,n.ensureBasicTelemetryInstrumentation)();let e=k.trace.getTracer(r,s),f=k.trace.setSpanContext(k.ROOT_CONTEXT,{traceId:a,traceFlags:1,spanId:b}),g=e.startSpan(c.name,{},f);g.setAttributes(w(c)),d&&g.setAttributes(d),g.end()}function v(a){return a instanceof Error?a.message:`${a}`}function w(a){let b={};return Object.keys(a).forEach(c=>{"metadata"===c&&"object"==typeof a[c]&&a.metadata?Object.entries(a.metadata).forEach(([a,c])=>{b[p+":metadata:"+a]=c}):"input"===c||"object"==typeof a[c]?b[p+":"+c]=JSON.stringify(a[c]):b[p+":"+c]=a[c]}),b}function x(a,b){let c=A();c&&(c.metadata||(c.metadata={}),c.metadata[a]=b)}function y(a){let b=A();if(b)for(let[c,d]of(b.metadata||(b.metadata={}),Object.entries(a)))b.metadata[c]=d}function z(a){let b=/\{([^\,}]+),[^\}]+\}/g;return Array.from(a.matchAll(b),a=>a[1]).join(" > ")}function A(){let a=(0,m.getAsyncContext)().getStore(o);if(!a)throw Error("running outside step context");return a.metadata}function B(a,b,c){let d=c&&c["genkit:type"]?`,t:${"flow"===c["genkit:metadata:subtype"]?"flow":c["genkit:type"]}`:"";return b+`/{${a}${d}}`}function C(a,b,c){let d=a.path||"",e=D(a),f=Array.from(b?.paths||new Set),g=c?"failure":"success";if(!f.some(a=>a.path.startsWith(d)&&a.status===g)){let a=l.performance.now(),d=b?.timestamp||a;b?.paths?.add({path:e,error:c?.name,latency:a-d,status:g})}a.path=e}function D(a){if(!a.path)return"";let b=a.path.split("}/{");if(1==b.length)return a.path;let c=a.metadata&&a.metadata.subtype?`,s:${a.metadata.subtype}`:"";return`${b.slice(0,-1).join("}/{")}}/{${b.at(-1)?.slice(0,-1)}${c}}`}let E="__genkit_disableRootSpanDetection";function F(){return!0===global[E]}function G(){global[E]=!0}},15792:a=>{"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},15999:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.StreamDecoder=void 0,function(a){a[a.NO_DATA=0]="NO_DATA",a[a.READING_SIZE=1]="READING_SIZE",a[a.READING_MESSAGE=2]="READING_MESSAGE"}(c||(c={}));class d{constructor(a){this.maxReadMessageLength=a,this.readState=c.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(a){let b,d=0,e=[];for(;d<a.length;)switch(this.readState){case c.NO_DATA:this.readCompressFlag=a.slice(d,d+1),d+=1,this.readState=c.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case c.READING_SIZE:if(b=Math.min(a.length-d,this.readSizeRemaining),a.copy(this.readPartialSize,4-this.readSizeRemaining,d,d+b),this.readSizeRemaining-=b,d+=b,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=c.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=c.NO_DATA,e.push(a)}}break;case c.READING_MESSAGE:if(b=Math.min(a.length-d,this.readMessageRemaining),this.readPartialMessage.push(a.slice(d,d+b)),this.readMessageRemaining-=b,d+=b,0===this.readMessageRemaining){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),b=Buffer.concat(a,this.readMessageSize+5);this.readState=c.NO_DATA,e.push(b)}break;default:throw Error("Unexpected read state")}return e}}b.StreamDecoder=d},16260:(a,b,c)=>{"use strict";let d=c(40329),e=c(45053),f=c(78871),g=c(59218),h=c(71635),i=c(71780),j=c(57593),k=c(86038),l=c(95956),m=c(58337),n=c(57317),o=c(33160),p=c(57976),q=c(96775),r=c(8265),s=c(28570),t=c(26220),u=c(8049),v=c(5852),w=c(85327),x=c(59366),y=c(23948),z=c(97106),A=c(94764),B=c(97579),C=c(67418),D=c(21609),E=c(50403),F=c(24346),G=c(32665),H=c(34906),I=c(32843),J=c(37905),K=c(17376),L=c(28581),M=c(74502),N=c(69774),O=c(93689),P=c(47443);a.exports={parse:h,valid:i,clean:j,inc:k,diff:l,major:m,minor:n,patch:o,prerelease:p,compare:q,rcompare:r,compareLoose:s,compareBuild:t,sort:u,rsort:v,gt:w,lt:x,eq:y,neq:z,gte:A,lte:B,cmp:C,coerce:D,Comparator:E,Range:F,satisfies:G,toComparators:H,maxSatisfying:I,minSatisfying:J,minVersion:K,validRange:L,outside:M,gtr:N,ltr:O,intersects:P,simplifyRange:c(7588),subset:c(23439),SemVer:f,re:d.re,src:d.src,tokens:d.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:g.compareIdentifiers,rcompareIdentifiers:g.rcompareIdentifiers}},16390:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.restrictControlPlaneStatusCode=f;let d=c(56458),e=[d.Status.OK,d.Status.INVALID_ARGUMENT,d.Status.NOT_FOUND,d.Status.ALREADY_EXISTS,d.Status.FAILED_PRECONDITION,d.Status.ABORTED,d.Status.OUT_OF_RANGE,d.Status.DATA_LOSS];function f(a,b){return e.includes(a)?{code:d.Status.INTERNAL,details:`Invalid status from control plane: ${a} ${d.Status[a]} ${b}`}:{code:a,details:b}}},16426:(a,b,c)=>{"use strict";c.d(b,{Az:()=>n,II:()=>g,SP:()=>i,qd:()=>f,z3:()=>h});var d=c(99591),e=c(61367);function f(a){var b=BigInt(1e9);return BigInt(a[0])*b+BigInt(a[1])}function g(a){return{low:Number(BigInt.asUintN(32,a)),high:Number(BigInt.asUintN(32,a>>BigInt(32)))}}function h(a){return g(f(a))}function i(a){return f(a).toString()}var j="undefined"!=typeof BigInt?i:d.u5;function k(a){return a}function l(a){if(void 0!==a)return(0,e.Q)(a)}var m={encodeHrTime:h,encodeSpanContext:e.Q,encodeOptionalSpanContext:l};function n(a){if(void 0===a)return m;var b,c,d=null==(b=a.useLongBits)||b,f=null!=(c=a.useHex)&&c;return{encodeHrTime:d?h:j,encodeSpanContext:f?k:e.Q,encodeOptionalSpanContext:f?k:l}}},16591:a=>{"use strict";a.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},16800:(a,b,c)=>{"use strict";c.d(b,{G:()=>g,WI:()=>f,eq:()=>e});var d=c(70149);let e=d.ZS.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),f=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class g extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof g))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.ZS.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}g.create=a=>new g(a)},16813:function(a,b,c){"use strict";var d=b;function e(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function f(a){function b(a,c){if(!(this instanceof b))return new b(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&e(this,c)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}d.asPromise=c(94964),d.base64=c(86526),d.EventEmitter=c(90641),d.float=c(22981),d.inquire=c(40312),d.utf8=c(81126),d.pool=c(74389),d.LongBits=c(86210),d.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),d.global=d.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},d.isString=function(a){return"string"==typeof a||a instanceof String},d.isObject=function(a){return a&&"object"==typeof a},d.isset=d.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},d.Buffer=function(){try{var a=d.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(a){return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=function(a){return"number"==typeof a?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):"undefined"==typeof Uint8Array?a:new Uint8Array(a)},d.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},d.longFromHash=function(a,b){var c=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)},d.merge=e,d.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},d.newError=f,d.ProtocolError=f("ProtocolError"),d.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},d.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var a=d.Buffer;if(!a){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},d._Buffer_allocUnsafe=a.allocUnsafe||function(b){return new a(b)}}},16960:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResolvingLoadBalancer=void 0;let d=c(20606),e=c(63971),f=c(80158),g=c(43313),h=c(96269),i=c(9251),j=c(56458),k=c(33604),l=c(38702),m=c(56458),n=c(9413),o=c(89092),p="resolving_load_balancer";function q(a){l.trace(m.LogVerbosity.DEBUG,p,a)}let r=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function s(a,b,c,d){for(let e of c.name)switch(d){case"EMPTY":if(!e.service&&!e.method)return!0;break;case"SERVICE":if(e.service===a&&!e.method)return!0;break;case"SERVICE_AND_METHOD":if(e.service===a&&e.method===b)return!0}return!1}function t(a,b,c,d){for(let e of c)if(s(a,b,e,d))return e;return null}function u(a){return{invoke(b,c){var d,e;let f=b.split("/").filter(a=>a.length>0),g=null!=(d=f[0])?d:"",h=null!=(e=f[1])?e:"";if(a&&a.methodConfig)for(let b of r){let c=t(g,h,a.methodConfig,b);if(c)return{methodConfig:c,pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class v{constructor(a,b,c,d,j){this.target=a,this.channelControlHelper=b,this.channelOptions=c,this.onSuccessfulResolution=d,this.onFailedResolution=j,this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,c["grpc.service_config"]?this.defaultServiceConfig=(0,e.validateServiceConfig)(JSON.parse(c["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(f.ConnectivityState.IDLE,new h.QueuePicker(this),null),this.childLoadBalancer=new o.ChildLoadBalancerHandler({createSubchannel:b.createSubchannel.bind(b),requestReresolution:()=>{this.backoffTimeout.isRunning()?(q("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,b,c)=>{this.latestChildState=a,this.latestChildPicker=b,this.latestChildErrorMessage=c,this.updateState(a,b,c)},addChannelzChild:b.addChannelzChild.bind(b),removeChannelzChild:b.removeChannelzChild.bind(b)}),this.innerResolver=(0,g.createResolver)(a,this.handleResolverResult.bind(this),c);let k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},k),this.backoffTimeout.unref()}handleResolverResult(a,b,c,e){var f,h;this.backoffTimeout.stop(),this.backoffTimeout.reset();let i=!0,l=null;if(null===c?l=this.defaultServiceConfig:c.ok?l=c.value:null!==this.previousServiceConfig?l=this.previousServiceConfig:(i=!1,this.handleResolutionFailure(c.error)),null!==l){let c=null!=(f=null==l?void 0:l.loadBalancingConfig)?f:[],g=(0,d.selectLbConfigFromList)(c,!0);null===g?(i=!1,this.handleResolutionFailure({code:j.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new k.Metadata})):i=this.childLoadBalancer.updateAddressList(a,g,Object.assign(Object.assign({},this.channelOptions),b),e)}return i&&this.onSuccessfulResolution(l,null!=(h=b[g.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])?h:u(l)),i}updateResolution(){this.innerResolver.updateResolution(),this.currentState===f.ConnectivityState.IDLE&&this.updateState(f.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(a,b,c){q((0,n.uriToString)(this.target)+" "+f.ConnectivityState[this.currentState]+" -> "+f.ConnectivityState[a]),a===f.ConnectivityState.IDLE&&(b=new h.QueuePicker(this,b)),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}handleResolutionFailure(a){this.latestChildState===f.ConnectivityState.IDLE&&(this.updateState(f.ConnectivityState.TRANSIENT_FAILURE,new h.UnavailablePicker(a),a.details),this.onFailedResolution(a))}exitIdle(){(this.currentState===f.ConnectivityState.IDLE||this.currentState===f.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(a,b){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}b.ResolvingLoadBalancer=v},17191:(a,b,c)=>{"use strict";let d,e,f,g,h,i,j,k,l,m,n,o,p,q;c.r(b),c.d(b,{default:()=>N});var r={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},s={isSpaceSeparator:a=>"string"==typeof a&&r.Space_Separator.test(a),isIdStartChar:a=>"string"==typeof a&&(a>="a"&&a<="z"||a>="A"&&a<="Z"||"$"===a||"_"===a||r.ID_Start.test(a)),isIdContinueChar:a=>"string"==typeof a&&(a>="a"&&a<="z"||a>="A"&&a<="Z"||a>="0"&&a<="9"||"$"===a||"_"===a||"‌"===a||"‍"===a||r.ID_Continue.test(a)),isDigit:a=>"string"==typeof a&&/[0-9]/.test(a),isHexDigit:a=>"string"==typeof a&&/[0-9A-Fa-f]/.test(a)},t=function(a,b){d=String(a),e="start",f=[],g=0,h=1,i=0,j=void 0,k=void 0,l=void 0;do j=v(),E[e]();while("eof"!==j.type);return"function"==typeof b?u({"":l},"",b):l};function u(a,b,c){let d=a[b];if(null!=d&&"object"==typeof d)if(Array.isArray(d))for(let a=0;a<d.length;a++){let b=String(a),e=u(d,b,c);void 0===e?delete d[b]:Object.defineProperty(d,b,{value:e,writable:!0,enumerable:!0,configurable:!0})}else for(let a in d){let b=u(d,a,c);void 0===b?delete d[a]:Object.defineProperty(d,a,{value:b,writable:!0,enumerable:!0,configurable:!0})}return c.call(a,b,d)}function v(){for(m="default",n="",o=!1,p=1;;){q=w();let a=y[m]();if(a)return a}}function w(){if(d[g])return String.fromCodePoint(d.codePointAt(g))}function x(){let a=w();return"\n"===a?(h++,i=0):a?i+=a.length:i++,a&&(g+=a.length),a}let y={default(){switch(q){case"	":case"\v":case"\f":case" ":case"\xa0":case"\uFEFF":case"\n":case"\r":case"\u2028":case"\u2029":x();return;case"/":x(),m="comment";return;case void 0:return x(),z("eof")}return s.isSpaceSeparator(q)?void x():y[e]()},comment(){switch(q){case"*":x(),m="multiLineComment";return;case"/":x(),m="singleLineComment";return}throw H(x())},multiLineComment(){switch(q){case"*":x(),m="multiLineCommentAsterisk";return;case void 0:throw H(x())}x()},multiLineCommentAsterisk(){switch(q){case"*":x();return;case"/":x(),m="default";return;case void 0:throw H(x())}x(),m="multiLineComment"},singleLineComment(){switch(q){case"\n":case"\r":case"\u2028":case"\u2029":x(),m="default";return;case void 0:return x(),z("eof")}x()},value(){switch(q){case"{":case"[":return z("punctuator",x());case"n":return x(),A("ull"),z("null",null);case"t":return x(),A("rue"),z("boolean",!0);case"f":return x(),A("alse"),z("boolean",!1);case"-":case"+":"-"===x()&&(p=-1),m="sign";return;case".":n=x(),m="decimalPointLeading";return;case"0":n=x(),m="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=x(),m="decimalInteger";return;case"I":return x(),A("nfinity"),z("numeric",1/0);case"N":return x(),A("aN"),z("numeric",NaN);case'"':case"'":o='"'===x(),n="",m="string";return}throw H(x())},identifierNameStartEscape(){if("u"!==q)throw H(x());x();let a=D();switch(a){case"$":case"_":break;default:if(!s.isIdStartChar(a))throw J()}n+=a,m="identifierName"},identifierName(){switch(q){case"$":case"_":case"‌":case"‍":n+=x();return;case"\\":x(),m="identifierNameEscape";return}if(s.isIdContinueChar(q)){n+=x();return}return z("identifier",n)},identifierNameEscape(){if("u"!==q)throw H(x());x();let a=D();switch(a){case"$":case"_":case"‌":case"‍":break;default:if(!s.isIdContinueChar(a))throw J()}n+=a,m="identifierName"},sign(){switch(q){case".":n=x(),m="decimalPointLeading";return;case"0":n=x(),m="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=x(),m="decimalInteger";return;case"I":return x(),A("nfinity"),z("numeric",1/0*p);case"N":return x(),A("aN"),z("numeric",NaN)}throw H(x())},zero(){switch(q){case".":n+=x(),m="decimalPoint";return;case"e":case"E":n+=x(),m="decimalExponent";return;case"x":case"X":n+=x(),m="hexadecimal";return}return z("numeric",0*p)},decimalInteger(){switch(q){case".":n+=x(),m="decimalPoint";return;case"e":case"E":n+=x(),m="decimalExponent";return}if(s.isDigit(q)){n+=x();return}return z("numeric",p*Number(n))},decimalPointLeading(){if(s.isDigit(q)){n+=x(),m="decimalFraction";return}throw H(x())},decimalPoint(){switch(q){case"e":case"E":n+=x(),m="decimalExponent";return}if(s.isDigit(q)){n+=x(),m="decimalFraction";return}return z("numeric",p*Number(n))},decimalFraction(){switch(q){case"e":case"E":n+=x(),m="decimalExponent";return}if(s.isDigit(q)){n+=x();return}return z("numeric",p*Number(n))},decimalExponent(){switch(q){case"+":case"-":n+=x(),m="decimalExponentSign";return}if(s.isDigit(q)){n+=x(),m="decimalExponentInteger";return}throw H(x())},decimalExponentSign(){if(s.isDigit(q)){n+=x(),m="decimalExponentInteger";return}throw H(x())},decimalExponentInteger(){if(s.isDigit(q)){n+=x();return}return z("numeric",p*Number(n))},hexadecimal(){if(s.isHexDigit(q)){n+=x(),m="hexadecimalInteger";return}throw H(x())},hexadecimalInteger(){if(s.isHexDigit(q)){n+=x();return}return z("numeric",p*Number(n))},string(){switch(q){case"\\":x(),n+=B();return;case'"':if(o)return x(),z("string",n);n+=x();return;case"'":if(!o)return x(),z("string",n);n+=x();return;case"\n":case"\r":case void 0:throw H(x());case"\u2028":case"\u2029":K(q)}n+=x()},start(){switch(q){case"{":case"[":return z("punctuator",x())}m="value"},beforePropertyName(){switch(q){case"$":case"_":n=x(),m="identifierName";return;case"\\":x(),m="identifierNameStartEscape";return;case"}":return z("punctuator",x());case'"':case"'":o='"'===x(),m="string";return}if(s.isIdStartChar(q)){n+=x(),m="identifierName";return}throw H(x())},afterPropertyName(){if(":"===q)return z("punctuator",x());throw H(x())},beforePropertyValue(){m="value"},afterPropertyValue(){switch(q){case",":case"}":return z("punctuator",x())}throw H(x())},beforeArrayValue(){if("]"===q)return z("punctuator",x());m="value"},afterArrayValue(){switch(q){case",":case"]":return z("punctuator",x())}throw H(x())},end(){throw H(x())}};function z(a,b){return{type:a,value:b,line:h,column:i}}function A(a){for(let b of a){if(w()!==b)throw H(x());x()}}function B(){switch(w()){case"b":return x(),"\b";case"f":return x(),"\f";case"n":return x(),"\n";case"r":return x(),"\r";case"t":return x(),"	";case"v":return x(),"\v";case"0":if(x(),s.isDigit(w()))throw H(x());return"\0";case"x":return x(),C();case"u":return x(),D();case"\n":case"\u2028":case"\u2029":return x(),"";case"\r":return x(),"\n"===w()&&x(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw H(x())}return x()}function C(){let a="",b=w();if(!s.isHexDigit(b)||(a+=x(),b=w(),!s.isHexDigit(b)))throw H(x());return String.fromCodePoint(parseInt(a+=x(),16))}function D(){let a="",b=4;for(;b-- >0;){let b=w();if(!s.isHexDigit(b))throw H(x());a+=x()}return String.fromCodePoint(parseInt(a,16))}let E={start(){if("eof"===j.type)throw I();F()},beforePropertyName(){switch(j.type){case"identifier":case"string":k=j.value,e="afterPropertyName";return;case"punctuator":G();return;case"eof":throw I()}},afterPropertyName(){if("eof"===j.type)throw I();e="beforePropertyValue"},beforePropertyValue(){if("eof"===j.type)throw I();F()},beforeArrayValue(){if("eof"===j.type)throw I();if("punctuator"===j.type&&"]"===j.value)return void G();F()},afterPropertyValue(){if("eof"===j.type)throw I();switch(j.value){case",":e="beforePropertyName";return;case"}":G()}},afterArrayValue(){if("eof"===j.type)throw I();switch(j.value){case",":e="beforeArrayValue";return;case"]":G()}},end(){}};function F(){let a;switch(j.type){case"punctuator":switch(j.value){case"{":a={};break;case"[":a=[]}break;case"null":case"boolean":case"numeric":case"string":a=j.value}if(void 0===l)l=a;else{let b=f[f.length-1];Array.isArray(b)?b.push(a):Object.defineProperty(b,k,{value:a,writable:!0,enumerable:!0,configurable:!0})}if(null!==a&&"object"==typeof a)f.push(a),e=Array.isArray(a)?"beforeArrayValue":"beforePropertyName";else{let a=f[f.length-1];e=null==a?"end":Array.isArray(a)?"afterArrayValue":"afterPropertyValue"}}function G(){f.pop();let a=f[f.length-1];e=null==a?"end":Array.isArray(a)?"afterArrayValue":"afterPropertyValue"}function H(a){return void 0===a?M(`JSON5: invalid end of input at ${h}:${i}`):M(`JSON5: invalid character '${L(a)}' at ${h}:${i}`)}function I(){return M(`JSON5: invalid end of input at ${h}:${i}`)}function J(){return i-=5,M(`JSON5: invalid identifier character at ${h}:${i}`)}function K(a){console.warn(`JSON5: '${L(a)}' in strings is not valid ECMAScript; consider escaping`)}function L(a){let b={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(b[a])return b[a];if(a<" "){let b=a.charCodeAt(0).toString(16);return"\\x"+("00"+b).substring(b.length)}return a}function M(a){let b=SyntaxError(a);return b.lineNumber=h,b.columnNumber=i,b}let N={parse:t,stringify:function(a,b,c){let d,e,f,g=[],h="",i="";if(null==b||"object"!=typeof b||Array.isArray(b)||(c=b.space,f=b.quote,b=b.replacer),"function"==typeof b)e=b;else if(Array.isArray(b))for(let a of(d=[],b)){let b;"string"==typeof a?b=a:("number"==typeof a||a instanceof String||a instanceof Number)&&(b=String(a)),void 0!==b&&0>d.indexOf(b)&&d.push(b)}return c instanceof Number?c=Number(c):c instanceof String&&(c=String(c)),"number"==typeof c?c>0&&(c=Math.min(10,Math.floor(c)),i="          ".substr(0,c)):"string"==typeof c&&(i=c.substr(0,10)),j("",{"":a});function j(a,b){let c=b[a];switch(null!=c&&("function"==typeof c.toJSON5?c=c.toJSON5(a):"function"==typeof c.toJSON&&(c=c.toJSON(a))),e&&(c=e.call(b,a,c)),c instanceof Number?c=Number(c):c instanceof String?c=String(c):c instanceof Boolean&&(c=c.valueOf()),c){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof c?k(c,!1):"number"==typeof c?String(c):"object"==typeof c?Array.isArray(c)?n(c):l(c):void 0}function k(a){let b={"'":.1,'"':.2},c={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},d="";for(let e=0;e<a.length;e++){let f=a[e];switch(f){case"'":case'"':b[f]++,d+=f;continue;case"\0":if(s.isDigit(a[e+1])){d+="\\x00";continue}}if(c[f]){d+=c[f];continue}if(f<" "){let a=f.charCodeAt(0).toString(16);d+="\\x"+("00"+a).substring(a.length);continue}d+=f}let e=f||Object.keys(b).reduce((a,c)=>b[a]<b[c]?a:c);return d=d.replace(RegExp(e,"g"),c[e]),e+d+e}function l(a){let b;if(g.indexOf(a)>=0)throw TypeError("Converting circular structure to JSON5");g.push(a);let c=h;h+=i;let e=d||Object.keys(a),f=[];for(let b of e){let c=j(b,a);if(void 0!==c){let a=m(b)+":";""!==i&&(a+=" "),a+=c,f.push(a)}}if(0===f.length)b="{}";else{let a;if(""===i)b="{"+(a=f.join(","))+"}";else{let d=",\n"+h;a=f.join(d),b="{\n"+h+a+",\n"+c+"}"}}return g.pop(),h=c,b}function m(a){if(0===a.length)return k(a,!0);let b=String.fromCodePoint(a.codePointAt(0));if(!s.isIdStartChar(b))return k(a,!0);for(let c=b.length;c<a.length;c++)if(!s.isIdContinueChar(String.fromCodePoint(a.codePointAt(c))))return k(a,!0);return a}function n(a){let b;if(g.indexOf(a)>=0)throw TypeError("Converting circular structure to JSON5");g.push(a);let c=h;h+=i;let d=[];for(let b=0;b<a.length;b++){let c=j(String(b),a);d.push(void 0!==c?c:"null")}if(0===d.length)b="[]";else if(""===i)b="["+d.join(",")+"]";else{let a=",\n"+h,e=d.join(a);b="[\n"+h+e+",\n"+c+"]"}return g.pop(),h=c,b}}}},17216:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEnumDef=void 0,b.parseEnumDef=function(a){return{type:"string",enum:Array.from(a.values)}}},17249:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PriorityQueue=void 0;let c=0,d=a=>Math.floor(a/2),e=a=>2*a+1,f=a=>2*a+2;class g{constructor(a=(a,b)=>a>b){this.comparator=a,this.heap=[]}size(){return this.heap.length}isEmpty(){return 0==this.size()}peek(){return this.heap[c]}push(...a){return a.forEach(a=>{this.heap.push(a),this.siftUp()}),this.size()}pop(){let a=this.peek(),b=this.size()-1;return b>c&&this.swap(c,b),this.heap.pop(),this.siftDown(),a}replace(a){let b=this.peek();return this.heap[c]=a,this.siftDown(),b}greater(a,b){return this.comparator(this.heap[a],this.heap[b])}swap(a,b){[this.heap[a],this.heap[b]]=[this.heap[b],this.heap[a]]}siftUp(){let a=this.size()-1;for(;a>c&&this.greater(a,d(a));)this.swap(a,d(a)),a=d(a)}siftDown(){let a=c;for(;e(a)<this.size()&&this.greater(e(a),a)||f(a)<this.size()&&this.greater(f(a),a);){let b=f(a)<this.size()&&this.greater(f(a),e(a))?f(a):e(a);this.swap(a,b),a=b}}}b.PriorityQueue=g},17293:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Allow=b.ALL=b.COLLECTION=b.ATOM=b.SPECIAL=b.INF=b._INFINITY=b.INFINITY=b.NAN=b.BOOL=b.NULL=b.OBJ=b.ARR=b.NUM=b.STR=void 0,b.STR=1,b.NUM=2,b.ARR=4,b.OBJ=8,b.NULL=16,b.BOOL=32,b.NAN=64,b.INFINITY=128,b._INFINITY=256,b.INF=b.INFINITY|b._INFINITY,b.SPECIAL=b.NULL|b.BOOL|b.INF|b.NAN,b.ATOM=b.STR|b.NUM|b.SPECIAL,b.COLLECTION=b.ARR|b.OBJ,b.ALL=b.ATOM|b.COLLECTION,b.Allow={STR:b.STR,NUM:b.NUM,ARR:b.ARR,OBJ:b.OBJ,NULL:b.NULL,BOOL:b.BOOL,NAN:b.NAN,INFINITY:b.INFINITY,_INFINITY:b._INFINITY,INF:b.INF,SPECIAL:b.SPECIAL,ATOM:b.ATOM,COLLECTION:b.COLLECTION,ALL:b.ALL},b.default=b.Allow},17342:(a,b,c)=>{"use strict";var d=c(42218);b.mapIncludes=function(a,b,c){let{uniqueKeys:e}=a.options;if(!1===e)return!1;let f="function"==typeof e?e:(a,b)=>a===b||d.isScalar(a)&&d.isScalar(b)&&a.value===b.value;return b.some(a=>f(a.key,c))}},17350:(a,b,c)=>{"use strict";var d=c(42218),e=c(72125);b.map={collection:"map",default:!0,nodeClass:e.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(a,b)=>(d.isMap(a)||b("Expected a mapping for this tag"),a),createNode:(a,b,c)=>e.YAMLMap.from(a,b,c)}},17376:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346),f=c(85327);a.exports=(a,b)=>{a=new e(a,b);let c=new d("0.0.0");if(a.test(c)||(c=new d("0.0.0-0"),a.test(c)))return c;c=null;for(let b=0;b<a.set.length;++b){let e=a.set[b],g=null;e.forEach(a=>{let b=new d(a.semver.version);switch(a.operator){case">":0===b.prerelease.length?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!g||f(b,g))&&(g=b);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${a.operator}`)}}),g&&(!c||f(c,g))&&(c=g)}return c&&a.test(c)?c:null}},17456:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){if(!(this instanceof g))return new g(a,b);this.etypeid=a,this.elements=b||[]}function h(a){if(!(this instanceof h))return new h(a);this.ttypes=a.ttypes}e(h,d.Base),h.prototype.headerRW=d.Series([d.Int8,d.Int32BE]),h.prototype.poolByteLength=function(a,b){var c,d=this.ttypes[b.etypeid];if(!d)return a.reset(f.InvalidTypeidError({typeid:b.etypeid,what:"list::etype"}));for(var e=5,g=0;g<b.elements.length;g++){if((c=d.poolByteLength(a,b.elements[g])).err)return c;e+=c.length}return a.reset(null,e)},h.prototype.poolWriteInto=function(a,b,c,d){var e=this.ttypes[b.etypeid];if(!e)return a.reset(f.InvalidTypeidError({typeid:b.etypeid,what:"list::etype"}));var g=this.headerRW.poolWriteInto(a,[b.etypeid,b.elements.length],c,d);if(g.err)return g;d=g.offset;for(var h=0;h<b.elements.length;h++){if((g=e.poolWriteInto(a,b.elements[h],c,d)).err)return g;d=g.offset}return a.reset(null,d)},h.prototype.poolReadFrom=function(a,b,c){var d=this.headerRW.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value[0],h=d.value[1];if(h<0)return a.reset(f.InvalidSizeError({size:h,what:"list::size"}),c);var i=new g(e),j=this.ttypes[i.etypeid];if(!j)return a.reset(f.InvalidTypeidError({typeid:i.etypeid,what:"list::etype"}),c);for(var k=0;k<h;k++){if((d=j.poolReadFrom(a,b,c)).err)return d;c=d.offset,i.elements.push(d.value)}return a.reset(null,c,i)},a.exports.TList=g,a.exports.TListRW=h},17916:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{normalizeAppPath:function(){return f},normalizeRscURL:function(){return g}});let d=c(8991),e=c(8625);function f(a){return(0,d.ensureLeadingSlash)(a.split("/").reduce((a,b,c,d)=>!b||(0,e.isGroupSegment)(b)||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b,""))}function g(a){return a.replace(/\.rsc($|\?)/,"$1")}},18601:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;let d=c(37030),e=c(39279),f=c(46558),g=c(39279),h=c(48709),i=c(3872),j=c(81894),k=c(53864),l=c(51018),m=c(50398),n=c(59762),o=c(38595);function p({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{a.code((0,k._)`"use strict"; ${u(c,e)}`),r(a,e),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${q(e)}`,d.$async,()=>a.code(u(c,e)).code(f))}function q(a){return(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${a.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`}function r(a,b){a.if(l.default.valCxt,()=>{a.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),a.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),a.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),a.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{a.var(l.default.instancePath,(0,k._)`""`),a.var(l.default.parentData,(0,k._)`undefined`),a.var(l.default.parentDataProperty,(0,k._)`undefined`),a.var(l.default.rootData,l.default.data),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`{}`)})}function s(a){let{schema:b,opts:c,gen:d}=a;p(a,()=>{c.$comment&&b.$comment&&F(a),C(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&t(a),A(a),G(a)})}function t(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}function u(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function v(a,b){if(x(a)&&(z(a),w(a)))return void y(a,b);(0,d.boolOrEmptySchema)(a,b)}function w({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function x(a){return"boolean"!=typeof a.schema}function y(a,b){let{schema:c,gen:d,opts:e}=a;e.$comment&&c.$comment&&F(a),D(a),E(a);let f=d.const("_errs",l.default.errors);A(a,f),d.var(b,(0,k._)`${f} === ${l.default.errors}`)}function z(a){(0,n.checkUnknownRules)(a),B(a)}function A(a,b){if(a.opts.jtd)return I(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);I(a,c,!d,b)}function B(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,n.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}function C(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,n.checkStrictMode)(a,"default is ignored in the schema root")}function D(a){let b=a.schema[a.opts.schemaId];b&&(a.baseId=(0,m.resolveUrl)(a.opts.uriResolver,a.baseId,b))}function E(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}function F({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function G(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&H(a),b.return((0,k._)`${l.default.errors} === 0`))}function H({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}function I(a,b,c,d){let{gen:e,schema:h,data:i,allErrors:j,opts:m,self:o}=a,{RULES:p}=o;if(h.$ref&&(m.ignoreKeywordsWithRef||!(0,n.schemaHasRulesButRef)(h,p)))return void e.block(()=>T(a,"$ref",p.all.$ref.definition));function q(n){(0,f.shouldUseGroup)(h,n)&&(n.type?(e.if((0,g.checkDataType)(n.type,i,m.strictNumbers)),J(a,n),1===b.length&&b[0]===n.type&&c&&(e.else(),(0,g.reportTypeError)(a)),e.endIf()):J(a,n),j||e.if((0,k._)`${l.default.errors} === ${d||0}`))}m.jtd||K(a,b),e.block(()=>{for(let a of p.rules)q(a);q(p.post)})}function J(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&T(a,c.keyword,c.definition,b.type)})}function K(a,b){!a.schemaEnv.meta&&a.opts.strictTypes&&(L(a,b),a.opts.allowUnionTypes||M(a,b),N(a,a.dataTypes))}function L(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{P(a.dataTypes,b)||R(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),Q(a,b)}}function M(a,b){b.length>1&&!(2===b.length&&b.includes("null"))&&R(a,"use allowUnionTypes to allow union type keyword")}function N(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>O(b,a))&&R(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}function O(a,b){return a.includes(b)||"number"===b&&a.includes("integer")}function P(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function Q(a,b){let c=[];for(let d of a.dataTypes)P(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}function R(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,n.checkStrictMode)(a,b,a.opts.strictTypes)}b.validateFunctionCode=function(a){if(x(a)&&(z(a),w(a)))return void s(a);p(a,()=>(0,d.topBoolOrEmptySchema)(a))};class S{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,n.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",W(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?o.reportExtraError:o.reportError)(this,this.def.error,b)}$dataError(){(0,o.reportError)(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,o.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(f(),h());function f(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}function h(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let d={...this.it,...c,items:void 0,props:void 0};return v(d,b),d}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=n.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=n.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function T(a,b,c,d){let e=new S(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}b.KeywordCxt=S;let U=/^\/(?:[^~]|~0|~1)*$/,V=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!U.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=V.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,n.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}b.getData=W},18633:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{METADATA_BOUNDARY_NAME:function(){return c},OUTLET_BOUNDARY_NAME:function(){return e},ROOT_LAYOUT_BOUNDARY_NAME:function(){return f},VIEWPORT_BOUNDARY_NAME:function(){return d}});let c="__next_metadata_boundary__",d="__next_viewport_boundary__",e="__next_outlet_boundary__",f="__next_root_layout_boundary__"},18710:(a,b,c)=>{"use strict";var d=c(19879);a.exports=b=d.descriptor=d.Root.fromJSON(c(43436)).lookup(".google.protobuf");var e=d.Namespace,f=d.Root,g=d.Enum,h=d.Type,i=d.Field,j=d.MapField,k=d.OneOf,l=d.Service,m=d.Method;function n(a,c,d){var j=b.FileDescriptorProto.create({name:a.filename||(a.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});E(d,j),a instanceof f||(j.package=a.fullName.substring(1));for(var k,m=0;m<a.nestedArray.length;++m)(k=a._nestedArray[m])instanceof h?j.messageType.push(k.toDescriptor(d)):k instanceof g?j.enumType.push(k.toDescriptor()):k instanceof i?j.extension.push(k.toDescriptor(d)):k instanceof l?j.service.push(k.toDescriptor()):k instanceof e&&n(k,c,d);j.options=A(a.options,b.FileOptions),j.messageType.length+j.enumType.length+j.extension.length+j.service.length&&c.push(j)}f.fromDescriptor=function(a){"number"==typeof a.length&&(a=b.FileDescriptorSet.decode(a));var c=new f;if(a.file)for(var d,e,j,k=0;k<a.file.length;++k){e=c,(d=a.file[k]).package&&d.package.length&&(e=c.define(d.package));var m=D(d);if(d.name&&d.name.length&&c.files.push(e.filename=d.name),d.messageType)for(j=0;j<d.messageType.length;++j)e.add(h.fromDescriptor(d.messageType[j],m));if(d.enumType)for(j=0;j<d.enumType.length;++j)e.add(g.fromDescriptor(d.enumType[j],m));if(d.extension)for(j=0;j<d.extension.length;++j)e.add(i.fromDescriptor(d.extension[j],m));if(d.service)for(j=0;j<d.service.length;++j)e.add(l.fromDescriptor(d.service[j],m));var n=y(d.options,b.FileOptions);if(n){var o=Object.keys(n);for(j=0;j<o.length;++j)e.setOption(o[j],n[o[j]])}}return c.resolveAll()},f.prototype.toDescriptor=function(a){var c=b.FileDescriptorSet.create();return n(this,c.file,a),c};var o=0;h.fromDescriptor=function(a,c,d){"number"==typeof a.length&&(a=b.DescriptorProto.decode(a));var e,f=new h(a.name.length?a.name:"Type"+o++,y(a.options,b.MessageOptions));if(d||(f._edition=c),a.oneofDecl)for(e=0;e<a.oneofDecl.length;++e)f.add(k.fromDescriptor(a.oneofDecl[e]));if(a.field)for(e=0;e<a.field.length;++e){var j=i.fromDescriptor(a.field[e],c,!0);f.add(j),a.field[e].hasOwnProperty("oneofIndex")&&f.oneofsArray[a.field[e].oneofIndex].add(j)}if(a.extension)for(e=0;e<a.extension.length;++e)f.add(i.fromDescriptor(a.extension[e],c,!0));if(a.nestedType)for(e=0;e<a.nestedType.length;++e)f.add(h.fromDescriptor(a.nestedType[e],c,!0)),a.nestedType[e].options&&a.nestedType[e].options.mapEntry&&f.setOption("map_entry",!0);if(a.enumType)for(e=0;e<a.enumType.length;++e)f.add(g.fromDescriptor(a.enumType[e],c,!0));if(a.extensionRange&&a.extensionRange.length)for(e=0,f.extensions=[];e<a.extensionRange.length;++e)f.extensions.push([a.extensionRange[e].start,a.extensionRange[e].end]);if(a.reservedRange&&a.reservedRange.length||a.reservedName&&a.reservedName.length){if(f.reserved=[],a.reservedRange)for(e=0;e<a.reservedRange.length;++e)f.reserved.push([a.reservedRange[e].start,a.reservedRange[e].end]);if(a.reservedName)for(e=0;e<a.reservedName.length;++e)f.reserved.push(a.reservedName[e])}return f},h.prototype.toDescriptor=function(a){var c,d,e=b.DescriptorProto.create({name:this.name});for(d=0;d<this.fieldsArray.length;++d)if(e.field.push(c=this._fieldsArray[d].toDescriptor(a)),this._fieldsArray[d]instanceof j){var f=w(this._fieldsArray[d].keyType,this._fieldsArray[d].resolvedKeyType,!1),k=w(this._fieldsArray[d].type,this._fieldsArray[d].resolvedType,!1),l=11===k||14===k?this._fieldsArray[d].resolvedType&&B(this.parent,this._fieldsArray[d].resolvedType)||this._fieldsArray[d].type:void 0;e.nestedType.push(b.DescriptorProto.create({name:c.typeName,field:[b.FieldDescriptorProto.create({name:"key",number:1,label:1,type:f}),b.FieldDescriptorProto.create({name:"value",number:2,label:1,type:k,typeName:l})],options:b.MessageOptions.create({mapEntry:!0})}))}for(d=0;d<this.oneofsArray.length;++d)e.oneofDecl.push(this._oneofsArray[d].toDescriptor());for(d=0;d<this.nestedArray.length;++d)this._nestedArray[d]instanceof i?e.field.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof h?e.nestedType.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof g&&e.enumType.push(this._nestedArray[d].toDescriptor());if(this.extensions)for(d=0;d<this.extensions.length;++d)e.extensionRange.push(b.DescriptorProto.ExtensionRange.create({start:this.extensions[d][0],end:this.extensions[d][1]}));if(this.reserved)for(d=0;d<this.reserved.length;++d)"string"==typeof this.reserved[d]?e.reservedName.push(this.reserved[d]):e.reservedRange.push(b.DescriptorProto.ReservedRange.create({start:this.reserved[d][0],end:this.reserved[d][1]}));return e.options=A(this.options,b.MessageOptions),e};var p=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;i.fromDescriptor=function(a,c,d){if("number"==typeof a.length&&(a=b.DescriptorProto.decode(a)),"number"!=typeof a.number)throw Error("missing field id");switch(e=a.typeName&&a.typeName.length?a.typeName:u(a.type),a.label){case 1:f=void 0;break;case 2:f="required";break;case 3:f="repeated";break;default:throw Error("illegal label: "+a.label)}var e,f,g=a.extendee;void 0!==a.extendee&&(g=g.length?g:void 0);var h=new i(a.name.length?a.name:"field"+a.number,a.number,e,f,g);if(d||(h._edition=c),h.options=y(a.options,b.FieldOptions),a.proto3_optional&&(h.options.proto3_optional=!0),a.defaultValue&&a.defaultValue.length){var j=a.defaultValue;switch(j){case"true":case"TRUE":j=!0;break;case"false":case"FALSE":j=!1;break;default:p.exec(j)&&(j=parseInt(j))}h.setOption("default",j)}return v(a.type)&&("proto3"===c?a.options&&!a.options.packed&&h.setOption("packed",!1):(!c||"proto2"===c)&&a.options&&a.options.packed&&h.setOption("packed",!0)),h},i.prototype.toDescriptor=function(a){var c=b.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)c.type=11,c.typeName=d.util.ucFirst(this.name),c.label=3;else{switch(c.type=w(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:c.typeName=this.resolvedType?B(this.parent,this.resolvedType):this.type}"repeated"===this.rule?c.label=3:this.required&&"proto2"===a?c.label=2:c.label=1}if(c.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(c.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(c.options=A(this.options,b.FieldOptions),null!=this.options.default&&(c.defaultValue=String(this.options.default)),this.options.proto3_optional&&(c.proto3_optional=!0)),"proto3"===a?this.packed||((c.options||(c.options=b.FieldOptions.create())).packed=!1):(!a||"proto2"===a)&&this.packed&&((c.options||(c.options=b.FieldOptions.create())).packed=!0),c};var q=0;g.fromDescriptor=function(a,c,d){"number"==typeof a.length&&(a=b.EnumDescriptorProto.decode(a));var e={};if(a.value)for(var f=0;f<a.value.length;++f){var h=a.value[f].name,i=a.value[f].number||0;e[h&&h.length?h:"NAME"+i]=i}var j=new g(a.name&&a.name.length?a.name:"Enum"+q++,e,y(a.options,b.EnumOptions));return d||(j._edition=c),j},g.prototype.toDescriptor=function(){for(var a=[],c=0,d=Object.keys(this.values);c<d.length;++c)a.push(b.EnumValueDescriptorProto.create({name:d[c],number:this.values[d[c]]}));return b.EnumDescriptorProto.create({name:this.name,value:a,options:A(this.options,b.EnumOptions)})};var r=0;k.fromDescriptor=function(a){return"number"==typeof a.length&&(a=b.OneofDescriptorProto.decode(a)),new k(a.name&&a.name.length?a.name:"oneof"+r++)},k.prototype.toDescriptor=function(){return b.OneofDescriptorProto.create({name:this.name})};var s=0;l.fromDescriptor=function(a,c,d){"number"==typeof a.length&&(a=b.ServiceDescriptorProto.decode(a));var e=new l(a.name&&a.name.length?a.name:"Service"+s++,y(a.options,b.ServiceOptions));if(d||(e._edition=c),a.method)for(var f=0;f<a.method.length;++f)e.add(m.fromDescriptor(a.method[f]));return e},l.prototype.toDescriptor=function(){for(var a=[],c=0;c<this.methodsArray.length;++c)a.push(this._methodsArray[c].toDescriptor());return b.ServiceDescriptorProto.create({name:this.name,method:a,options:A(this.options,b.ServiceOptions)})};var t=0;function u(a){switch(a){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+a)}function v(a){switch(a){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function w(a,b,c){switch(a){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(b instanceof g)return 14;if(b instanceof h)return c?10:11;throw Error("illegal type: "+a)}function x(a,b){for(var c,d,e={},f=0;f<b.fieldsArray.length;++f)if("uninterpretedOption"!==(d=(c=b._fieldsArray[f]).name)&&Object.prototype.hasOwnProperty.call(a,d)){var i=C(d);c.resolvedType instanceof h?e[i]=x(a[d],c.resolvedType):c.resolvedType instanceof g?e[i]=c.resolvedType.valuesById[a[d]]:e[i]=a[d]}return e}function y(a,b){if(a)return x(b.toObject(a),b)}function z(a,b){for(var c={},e=Object.keys(a),f=0;f<e.length;++f){var g=e[f],i=d.util.camelCase(g);if(Object.prototype.hasOwnProperty.call(b.fields,i)){var j=b.fields[i];j.resolvedType instanceof h?c[i]=z(a[g],j.resolvedType):c[i]=a[g],j.repeated&&!Array.isArray(c[i])&&(c[i]=[c[i]])}}return c}function A(a,b){if(a)return b.fromObject(z(a,b))}function B(a,b){var c=a.fullName.split("."),d=b.fullName.split("."),g=0,h=0,i=d.length-1;if(!(a instanceof f)&&b instanceof e)for(;g<c.length&&h<i&&c[g]===d[h];){var j=b.lookup(c[g++],!0);if(null!==j&&j!==b)break;++h}else for(;g<c.length&&h<i&&c[g]===d[h];++g,++h);return d.slice(h).join(".")}function C(a){return a.substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(a,b){return"_"+b.toLowerCase()})}function D(a){if("editions"===a.syntax)if(a.edition===b.Edition.EDITION_2023)return"2023";else throw Error("Unsupported edition "+a.edition);return"proto3"===a.syntax?"proto3":"proto2"}function E(a,c){if(a)if("proto2"===a||"proto3"===a)c.syntax=a;else if(c.syntax="editions","2023"===a)c.edition=b.Edition.EDITION_2023;else throw Error("Unsupported edition "+a)}m.fromDescriptor=function(a){return"number"==typeof a.length&&(a=b.MethodDescriptorProto.decode(a)),new m(a.name&&a.name.length?a.name:"Method"+t++,"rpc",a.inputType,a.outputType,!!a.clientStreaming,!!a.serverStreaming,y(a.options,b.MethodOptions))},m.prototype.toDescriptor=function(){return b.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:A(this.options,b.MethodOptions)})}},18831:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncLocalStorageContextManager=b.AsyncHooksContextManager=void 0;var d=c(43103);Object.defineProperty(b,"AsyncHooksContextManager",{enumerable:!0,get:function(){return d.AsyncHooksContextManager}});var e=c(94286);Object.defineProperty(b,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return e.AsyncLocalStorageContextManager}})},18975:(a,b,c)=>{"use strict";var d=c(28354),e=c(94678);function f(a){if(!(this instanceof f))return new f(a);a||(a={}),e.call(this,a);var b=this;"function"==typeof a.header?b.header=a.header:"object"==typeof a.header?b.header=g(a.header):"string"==typeof a.header?b.header=g({label:a.header}):b.header=g(),b.chunkNum=0}function g(a){var b="-- ";return(a=a||{}).label&&(b+=a.label+" "),b+="chunk[%s] length: %s (0x%s)\n",function(a,c){var e=c.length,f=e.toString(16);return d.format(b,a,e,f)}}d.inherits(f,e),f.prototype._transform=function(a,b,c){var d=this;d.totalOffset&&d.reset(),++d.chunkNum;var f=d.header(d.chunkNum,a);f.length&&d.push(f),e.prototype._transform.call(d,a,b,function(a){d.reset(),c(a)})},a.exports=f},19092:a=>{"use strict";a.exports={rE:"1.14.0"}},19136:(a,b,c)=>{"use strict";var d;c.d(b,{U:()=>d}),function(a){a.NONE="none",a.GZIP="gzip"}(d||(d={}))},19509:(a,b,c)=>{"use strict";var d=c(28354),e=c(63211).N1;function f(a){e.call(this,a)}d.inherits(f,e),f.prototype.isUnion=!0,f.prototype.models="type",f.prototype.createConstructor=function(a,b){return function(a){if(this.type=null,"object"==typeof a)for(var b in a)hasOwnProperty.call(a,b)&&null!==a[b]&&(this.type=b,this[b]=a[b])}},f.prototype.set=function(a,b,c){a.type=b,a[b]=c},a.exports.j=f},19518:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultOptions=b.defaultOptions=b.jsonDescription=b.ignoreOverride=void 0,b.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),b.jsonDescription=(a,b)=>{if(b.description)try{return{...a,...JSON.parse(b.description)}}catch{}return a},b.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};let c=a=>"string"==typeof a?{...b.defaultOptions,name:a}:{...b.defaultOptions,...a};b.getDefaultOptions=c},19606:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{defineGenerateAction:()=>u,generateHelper:()=>v,inferRoleFromParts:()=>C,shouldInjectFormatInstructions:()=>y}),a.exports=i(j);var k=c(40979),l=c(42656),m=c(64089),n=c(24317),o=c(67113),p=c(25835),q=c(95403),r=c(84596),s=c(50438),t=c(35970);function u(a){return(0,k.defineAction)(a,{actionType:"util",name:"generate",inputSchema:q.GenerateActionOptionsSchema,outputSchema:q.GenerateResponseSchema,streamSchema:q.GenerateResponseChunkSchema},async(b,{streamingRequested:c,sendChunk:d})=>{let e=c=>A(a,{rawRequest:b,currentTurn:0,messageIndex:0,middleware:[],streamingCallback:c});return c?e(a=>d(a.toJSON?a.toJSON():a)):e()})}async function v(a,b){let c=b.currentTurn??0,d=b.messageIndex??0;return await (0,m.runInNewSpan)(a,{metadata:{name:b.rawRequest.stepName||"generate"},labels:{[m.SPAN_TYPE_ATTR]:"util"}},async e=>{e.name=b.rawRequest.stepName||"generate",e.input=b.rawRequest;let f=await A(a,{rawRequest:b.rawRequest,middleware:b.middleware,currentTurn:c,messageIndex:d,abortSignal:b.abortSignal,streamingCallback:b.streamingCallback});return e.output=JSON.stringify(f),f})}async function w(a,b){let[c,d,e,f]=await Promise.all([(0,q.resolveModel)(a,b.model,{warnDeprecated:!0}).then(a=>a.modelAction),(0,s.resolveTools)(a,b.tools),(0,r.resolveResources)(a,b.resources),(0,n.resolveFormat)(a,b.output)]);return{model:c,tools:d,resources:e,format:f}}function x(a,b){let c={...a};a.output?.jsonSchema&&!a.output?.format&&(c.output={...a.output,format:"json"});let d=(0,n.resolveInstructions)(b,c.output?.jsonSchema,c?.output?.instructions);return b&&(y(b.config,a?.output)&&(c.messages=(0,n.injectInstructions)(c.messages,d)),c.output={...b.config,...c.output}),c}function y(a,b){return a?.defaultInstructions!==!1||b?.instructions}function z(a,b){return b?(0,k.stripUndefinedProps)({...a,messages:[...(0,o.tagAsPreamble)(b.messages),...a.messages.filter(a=>!a.metadata?.preamble)],toolChoice:b.toolChoice||a.toolChoice,tools:b.tools||a.tools,config:b.config||a.config}):a}async function A(a,{rawRequest:b,middleware:c,currentTurn:d,messageIndex:e,abortSignal:f,streamingCallback:g}){var h;let{model:i,tools:j,resources:l,format:m}=await w(a,b);b=x(b,m),b=await E(a,b,l),await (0,t.assertValidToolNames)(j);let{revisedRequest:n,interruptedResponse:q,toolMessage:r}=await (0,t.resolveResumeOption)(a,b);if(q)throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"One or more tools triggered an interrupt during a restarted execution.",detail:{message:q.message}});b=n;let s=await B(b,j,m,i),u=[],y="model",A=(a,b)=>{a!==y&&u.length&&e++,y=a;let c=[...u];return u.push(b),new p.GenerateResponseChunk(b,{index:e,role:a,previousChunks:c,parser:m?.handler(s.output?.schema).parseChunk})};r&&g&&g(A("tool",r));let C=async(a,b)=>c&&a!==c.length?(0,c[a])(b,async c=>C(a+1,c||b)):await i(b,{abortSignal:f,onChunk:g&&(a=>g&&g(A("model",a)))}),D=await C(0,s);if(h="background-model"===i.__action.actionType?new o.GenerateResponse({operation:D},{request:s,parser:m?.handler(s.output?.schema).parseMessage}):new o.GenerateResponse(D,{request:s,parser:m?.handler(s.output?.schema).parseMessage}),"background-model"===i.__action.actionType)return h.toJSON();h.assertValid();let F=h.message,G=F.content.filter(a=>!!a.toolRequest);if(b.returnToolRequests||0===G.length)return 0===G.length&&h.assertValidSchema(s),h.toJSON();let H=b.maxTurns??5;if(d+1>H)throw new o.GenerationResponseError(h,`Exceeded maximum tool call iterations (${H})`,"ABORTED",{request:s});let{revisedModelMessage:I,toolMessage:J,transferPreamble:K}=await (0,t.resolveToolRequests)(a,b,F);if(I)return{...h.toJSON(),finishReason:"interrupted",finishMessage:"One or more tool calls resulted in interrupts.",message:I};g?.(A("tool",{content:J.content}));let L={...b,messages:[...b.messages,F.toJSON(),J]};return L=z(L,K),await v(a,{rawRequest:L,middleware:c,currentTurn:d+1,messageIndex:e+1,streamingCallback:g,abortSignal:f})}async function B(a,b,c,d){let e=d.__action.metadata?.model;(a.tools?.length??0)>0&&e?.supports&&!e?.supports?.tools&&l.logger.warn(`The model '${d.__action.name}' does not support tools (you set: ${a.tools?.length} tools). The model may not behave the way you expect.`),a.toolChoice&&e?.supports&&!e?.supports?.toolChoice&&l.logger.warn(`The model '${d.__action.name}' does not support the 'toolChoice' option (you set: ${a.toolChoice}). The model may not behave the way you expect.`);let f={messages:a.messages,config:a.config,docs:a.docs,tools:b?.map(s.toToolDefinition)||[],output:(0,k.stripUndefinedProps)({constrained:a.output?.constrained,contentType:a.output?.contentType,format:a.output?.format,schema:a.output?.jsonSchema})};return a.toolChoice&&(f.toolChoice=a.toolChoice),f.output&&!f.output.schema&&delete f.output.schema,f}function C(a){let b=new Set;for(let c of a){let a=D(c);if(b.add(a),b.size>1)throw Error("Contents contain mixed roles")}return Array.from(b)[0]}function D(a){if(void 0!==a.toolRequest)return"model";if(void 0!==a.toolResponse)return"tool";if(void 0!==a.text||void 0!==a.media||void 0!==a.data)return"user";throw Error("No recognized fields in content")}async function E(a,b,c){if(!b.messages.find(a=>!!a.content.find(a=>a.resource)))return b;let d=[];for(let e of b.messages){if(!e.content.find(a=>a.resource)){d.push(e);continue}let b=[];for(let d of e.content){if(!d.resource){b.push(d);continue}let e=await (0,r.findMatchingResource)(a,c,d.resource);if(!e)throw new k.GenkitError({status:"NOT_FOUND",message:`failed to find matching resource for ${d.resource.uri}`});let f=await e(d.resource);b.push(...f.content)}d.push({...e,content:b})}return{...b,messages:d}}},19646:(a,b,c)=>{"use strict";c.d(b,{Bk:()=>i,Bx:()=>j,EW:()=>k,fU:()=>h,g_:()=>l,w8:()=>m});var d=c(76956),e=c(62367),f=c(12255),g=(0,d.n)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(){return h(f._.getInstance().active())}function j(a,b){return a.setValue(g,b)}function k(a){return a.deleteValue(g)}function l(a,b){return j(a,new e.d(b))}function m(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},19687:(a,b,c)=>{"use strict";a.exports=f;var d=c(94964),e=c(40312)("fs");function f(a,b,c){return("function"==typeof b?(c=b,b={}):b||(b={}),c)?!b.xhr&&e&&e.readFile?e.readFile(a,function(d,e){return d&&"undefined"!=typeof XMLHttpRequest?f.xhr(a,b,c):d?c(d):c(null,b.binary?e:e.toString("utf8"))}):f.xhr(a,b,c):d(f,this,a,b)}f.xhr=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){if(0!==d.status&&200!==d.status)return c(Error("status "+d.status));if(b.binary){var a=d.response;if(!a){a=[];for(var e=0;e<d.responseText.length;++e)a.push(255&d.responseText.charCodeAt(e))}return c(null,"undefined"!=typeof Uint8Array?new Uint8Array(a):a)}return c(null,d.responseText)}},b.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer"),d.open("GET",a),d.send()}},19879:(a,b,c)=>{"use strict";a.exports=c(6455)},19889:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(50227),b),e(c(51859),b)},20192:(a,b,c)=>{"use strict";var d=c(82740),e=c(8193),f=c(89220),g=c(32437),h=c(82762).TMapRW.prototype.headerRW,i=c(17456).TListRW.prototype.headerRW,j=c(85371).StringRW,k=c(95912).BooleanRW,l=Object.create(null);l[d.VOID]=0;var m=Object.create(null);function n(a,b,c,d){var f;if(void 0!==m[d]){if((f=m[d](a,b,c)).err)return f;c=f.offset}else{if(void 0===l[d])return a.reset(g.InvalidTypeidError({typeid:d,what:"field::type"}),c);var h=l[d];if(c+h>b.length)return a.reset(e.ShortBuffer({expected:c+h,actual:b.length,buffer:b,offset:c}),c);c+=h}return a.reset(null,c,f&&f.value)}function o(a,b,c){return k.poolReadFrom(a,b,c)}function p(a,b,c){return f.DoubleBE.poolReadFrom(a,b,c)}function q(a,b,c){return f.Int8.poolReadFrom(a,b,c)}function r(a,b,c){return f.Int16BE.poolReadFrom(a,b,c)}function s(a,b,c){return f.Int32BE.poolReadFrom(a,b,c)}m[d.BOOL]=o,m[d.BYTE]=q,m[d.DOUBLE]=p,m[d.I8]=q,m[d.I16]=r,m[d.I32]=s,m[d.I64]=u,m[d.STRING]=v,m[d.STRUCT]=w,m[d.MAP]=x,m[d.SET]=y,m[d.LIST]=y;var t=f.FixedWidth(8);function u(a,b,c){return t.poolReadFrom(a,b,c)}function v(a,b,c){return j.poolReadFrom(a,b,c)}function w(a,b,c){for(var e,g={};;){if((e=f.Int8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h===d.STOP)return a.reset(null,c,g);if((e=f.Int16BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;var i=e.value;if(e=n(a,b,c,h),g[i]=e.value,e.err)return e;c=e.offset}}function x(a,b,c){var d,e,f={};if((d=h.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var g=d.value,i=g[0],j=g[1],k=g[2],l=0;l<k;l++){if((d=n(a,b,c,i)).err||(c=d.offset,e=d.value,(d=n(a,b,c,j)).err))return d;c=d.offset,f[e]=d.value}return a.reset(null,c,f)}function y(a,b,c){var d,e=[];if((d=i.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var f=d.value,g=f[0],h=f[1],j=0;j<h;j++){if((d=n(a,b,c,g)).err)return d;c=d.offset,e.push(d.value)}return a.reset(null,c,e)}a.exports.h=n},20241:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(15792);d.code='require("ajv/dist/runtime/equal").default',b.default=d},20482:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRefs=void 0;let d=c(19518);b.getRefs=a=>{let b=(0,d.getDefaultOptions)(a),c=void 0!==b.name?[...b.basePath,b.definitionPath,b.name]:b.basePath;return{...b,flags:{hasReferencedOpenAiAnyType:!1},currentPath:c,propertyPath:void 0,seen:new Map(Object.entries(b.definitions).map(([a,c])=>[c._def,{def:c._def,path:[...b.basePath,b.definitionPath,a],jsonSchema:void 0}]))}}},20523:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(59762);b.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},20531:(a,b,c)=>{"use strict";c.d(b,{_:()=>d});var d=c(12255)._.getInstance()},20606:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createChildChannelControlHelper=f,b.registerLoadBalancerType=i,b.registerDefaultLoadBalancerType=j,b.createLoadBalancer=k,b.isLoadBalancerNameRegistered=l,b.parseLoadBalancingConfig=m,b.getDefaultConfig=n,b.selectLbConfigFromList=o;let d=c(38702),e=c(56458);function f(a,b){var c,d,e,f,g,h,i,j,k,l;return{createSubchannel:null!=(d=null==(c=b.createSubchannel)?void 0:c.bind(b))?d:a.createSubchannel.bind(a),updateState:null!=(f=null==(e=b.updateState)?void 0:e.bind(b))?f:a.updateState.bind(a),requestReresolution:null!=(h=null==(g=b.requestReresolution)?void 0:g.bind(b))?h:a.requestReresolution.bind(a),addChannelzChild:null!=(j=null==(i=b.addChannelzChild)?void 0:i.bind(b))?j:a.addChannelzChild.bind(a),removeChannelzChild:null!=(l=null==(k=b.removeChannelzChild)?void 0:k.bind(b))?l:a.removeChannelzChild.bind(a)}}let g={},h=null;function i(a,b,c){g[a]={LoadBalancer:b,LoadBalancingConfig:c}}function j(a){h=a}function k(a,b){let c=a.getLoadBalancerName();return c in g?new g[c].LoadBalancer(b):null}function l(a){return a in g}function m(a){let b=Object.keys(a);if(1!==b.length)throw Error("Provided load balancing config has multiple conflicting entries");let c=b[0];if(c in g)try{return g[c].LoadBalancingConfig.createFromJson(a[c])}catch(a){throw Error(`${c}: ${a.message}`)}throw Error(`Unrecognized load balancing config name ${c}`)}function n(){if(!h)throw Error("No default load balancer type registered");return new g[h].LoadBalancingConfig}function o(a,b=!1){for(let b of a)try{return m(b)}catch(a){(0,d.log)(e.LogVerbosity.DEBUG,"Config parsing failed with error",a.message);continue}return b&&h?new g[h].LoadBalancingConfig:null}},20672:(a,b,c)=>{"use strict";var d,e;d={value:!0},d=d=d=b.Yi=d=b.Ib=d=d=void 0;let f=c(56867),g=c(19879),h=c(18710),i=c(90008);d=c(74781),d=function(a){return"@type"in a&&"string"==typeof a["@type"]},function(a){a.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",a.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",a.IDEMPOTENT="IDEMPOTENT"}(e=b.Ib||(b.Ib={}));let j={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function k(a,b){return""===a?b:a+"."+b}function l(a){return a instanceof g.Service||a instanceof g.Type||a instanceof g.Enum}function m(a){return a instanceof g.Namespace||a instanceof g.Root}function n(a,b){let c=k(b,a.name);return l(a)?[[c,a]]:m(a)&&void 0!==a.nested?Object.keys(a.nested).map(b=>n(a.nested[b],c)).reduce((a,b)=>a.concat(b),[]):[]}function o(a,b){return function(c){return a.toObject(a.decode(c),b)}}function p(a){return function(b){if(Array.isArray(b))throw Error(`Failed to serialize message: expected object with ${a.name} structure, got array instead`);let c=a.fromObject(b);return a.encode(c).finish()}}function q(a){return(a||[]).reduce((a,b)=>{for(let[c,d]of Object.entries(b))"uninterpreted_option"===c?a.uninterpreted_option.push(b.uninterpreted_option):a[c]=d;return a},{deprecated:!1,idempotency_level:e.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function r(a,b,c,d){let e=a.resolvedRequestType,g=a.resolvedResponseType;return{path:"/"+b+"/"+a.name,requestStream:!!a.requestStream,responseStream:!!a.responseStream,requestSerialize:p(e),requestDeserialize:o(e,c),responseSerialize:p(g),responseDeserialize:o(g,c),originalName:f(a.name),requestType:t(e,c,d),responseType:t(g,c,d),options:q(a.parsedOptions)}}function s(a,b,c,d){let e={};for(let f of a.methodsArray)e[f.name]=r(f,b,c,d);return e}function t(a,b,c){let d=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:d.$type.toObject(d,j),fileDescriptorProtos:c,serialize:p(a),deserialize:o(a,b)}}function u(a,b){let c=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:c.$type.toObject(c,j),fileDescriptorProtos:b}}function v(a,b,c,d){if(a instanceof g.Service)return s(a,b,c,d);if(a instanceof g.Type)return t(a,c,d);if(a instanceof g.Enum)return u(a,d);throw Error("Type mismatch in reflection object handling")}function w(a,b){let c={};a.resolveAll();let d=a.toDescriptor("proto3").file.map(a=>Buffer.from(h.FileDescriptorProto.encode(a).finish()));for(let[e,f]of n(a,""))c[e]=v(f,e,b,d);return c}function x(a,b){b=b||{};let c=g.Root.fromDescriptor(a);return c.resolveAll(),w(c,b)}d=function(a,b){return(0,i.loadProtosWithOptions)(a,b).then(a=>w(a,b))},b.Yi=function(a,b){return w((0,i.loadProtosWithOptionsSync)(a,b),b)},d=function(a,b){b=b||{};let c=g.Root.fromJSON(a);return c.resolveAll(),w(c,b)},d=function(a,b){return x(h.FileDescriptorSet.decode(a),b)},d=function(a,b){return x(h.FileDescriptorSet.fromObject(a),b)},(0,i.addCommonProtos)()},20689:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Message:()=>l}),a.exports=i(j);var k=c(44175);class l{role;content;metadata;parser;static parseData(a,b="user"){return"string"==typeof a?{role:b,content:[{text:a}]}:{...a,content:l.parseContent(a.content)}}static parse(a){return new l(l.parseData(a))}static parseContent(a){return"string"==typeof a?[{text:a}]:Array.isArray(a)?a.map(a=>"string"==typeof a?{text:a}:a):[a]}constructor(a,b){this.role=a.role,this.content=a.content,this.metadata=a.metadata,this.parser=b?.parser}get output(){return this.parser?.(this)||this.data||(0,k.extractJson)(this.text)}toolResponseParts(){return this.content.filter(a=>!!a.toolResponse)}get text(){return this.content.map(a=>a.text||"").join("")}get reasoning(){return this.content.map(a=>a.reasoning||"").join("")}get media(){return this.content.find(a=>a.media)?.media||null}get data(){return this.content.find(a=>a.data)?.data}get toolRequests(){return this.content.filter(a=>!!a.toolRequest)}get interrupts(){return this.toolRequests.filter(a=>!!a.metadata?.interrupt)}toJSON(){let a={role:this.role,content:[...this.content]};return this.metadata&&(a.metadata=this.metadata),a}}},20790:(a,b,c)=>{"use strict";a=c.nmd(a);var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{ReflectionServer:()=>y,RunActionResponseSchema:()=>x}),a.exports=l(m);var n=k(c(7252)),o=k(c(79748)),p=k(c(28200)),q=k(c(33873)),r=k(c(62934)),s=c(24275),t=c(40979),u=c(42656),v=c(76944),w=c(64089);let x=r.object({result:r.unknown().optional(),error:r.unknown().optional(),telemetry:r.object({traceId:r.string().optional()}).optional()});class y{static RUNNING_SERVERS=[];registry;options;port=null;server=null;runtimeFilePath=null;constructor(a,b){this.registry=a,this.options={port:3100,bodyLimit:"30mb",configuredEnvs:["dev"],...b}}async findPort(){let a=this.options.port,b=await (0,p.default)({port:(0,p.makeRange)(a,a+100)});return b!==a&&u.logger.warn(`Port ${a} is already in use, using next available port ${b} instead.`),b}async start(){let a=(0,n.default)();a.use(n.default.json({limit:this.options.bodyLimit})),a.use((a,b,c)=>{b.header("x-genkit-version",t.GENKIT_VERSION),c()}),a.get("/api/__health",async(a,b)=>{await this.registry.listActions(),b.status(200).send("OK")}),a.get("/api/__quitquitquit",async(a,b)=>{u.logger.debug("Received quitquitquit"),b.status(200).send("OK"),await this.stop()}),a.get("/api/actions",async(a,b,c)=>{u.logger.debug("Fetching actions.");try{let a=await this.registry.listResolvableActions(),c={};Object.keys(a).forEach(b=>{let d=a[b];c[b]={key:b,name:d.name,description:d.description,metadata:d.metadata},(d.inputSchema||d.inputJsonSchema)&&(c[b].inputSchema=(0,v.toJsonSchema)({schema:d.inputSchema,jsonSchema:d.inputJsonSchema})),(d.outputSchema||d.outputJsonSchema)&&(c[b].outputSchema=(0,v.toJsonSchema)({schema:d.outputSchema,jsonSchema:d.outputJsonSchema}))}),b.send(c)}catch(d){let{message:a,stack:b}=d;c({message:a,stack:b})}}),a.post("/api/runAction",async(a,b,c)=>{let{key:d,input:e,context:f,telemetryLabels:g}=a.body,{stream:h}=a.query;u.logger.debug(`Running action \`${d}\` with stream=${h}...`);try{let a=await this.registry.lookupAction(d);if(!a)return void b.status(404).send(`action ${d} not found`);if("true"===h)try{let c=a=>{b.write(JSON.stringify(a)+"\n")},d=await a.run(e,{context:f,onChunk:c,telemetryLabels:g});await (0,w.flushTracing)(),b.write(JSON.stringify({result:d.result,telemetry:{traceId:d.telemetry.traceId}})),b.end()}catch(e){let{message:a,stack:c}=e,d={code:s.StatusCodes.INTERNAL,message:a,details:{stack:c}};e.traceId&&(d.details.traceId=e.traceId),b.write(JSON.stringify({error:d})),b.end()}else{let c=await a.run(e,{context:f,telemetryLabels:g});await (0,w.flushTracing)(),b.send({result:c.result,telemetry:{traceId:c.telemetry.traceId}})}}catch(e){let{message:a,stack:b,traceId:d}=e;c({message:a,stack:b,traceId:d})}}),a.get("/api/envs",async(a,b)=>{b.json(this.options.configuredEnvs)}),a.post("/api/notify",async(a,b)=>{let{telemetryServerUrl:c,reflectionApiSpecVersion:d}=a.body;process.env.GENKIT_TELEMETRY_SERVER||"string"!=typeof c||((0,w.setTelemetryServerUrl)(c),u.logger.debug(`Connected to telemetry server on ${c}`)),d!==t.GENKIT_REFLECTION_API_SPEC_VERSION&&(!d||d<t.GENKIT_REFLECTION_API_SPEC_VERSION?u.logger.warn("WARNING: Genkit CLI version may be outdated. Please update `genkit-cli` to the latest version."):u.logger.warn(`Genkit CLI is newer than runtime library. Some feature may not be supported. Consider upgrading your runtime library version (debug info: expected ${t.GENKIT_REFLECTION_API_SPEC_VERSION}, got ${d}).`)),b.status(200).send("OK")}),a.use((a,b,c,d)=>{u.logger.error(a.stack);let{message:e,stack:f}=a,g={code:s.StatusCodes.INTERNAL,message:e,details:{stack:f}};a.traceId&&(g.details.traceId=a.traceId),c.status(500).json(g)}),this.port=await this.findPort(),this.server=a.listen(this.port,async()=>{u.logger.debug(`Reflection server (${process.pid}) running on http://localhost:${this.port}`),y.RUNNING_SERVERS.push(this),await this.writeRuntimeFile()})}async stop(){if(this.server)return new Promise(async(a,b)=>{await this.cleanupRuntimeFile(),this.server.close(async c=>{c&&(u.logger.error(`Error shutting down reflection server on port ${this.port}: ${c}`),b(c));let d=y.RUNNING_SERVERS.indexOf(this);d>-1&&y.RUNNING_SERVERS.splice(d,1),u.logger.debug(`Reflection server on port ${this.port} has successfully shut down.`),this.port=null,this.server=null,a()})})}async writeRuntimeFile(){try{let a=await z(),b=q.default.join(a,".genkit","runtimes"),c=new Date,d=c.getTime(),e=c.toISOString(),f=`${process.pid}${null!==this.port?`-${this.port}`:""}`;this.runtimeFilePath=q.default.join(b,`${f}-${d}.json`);let g=JSON.stringify({id:process.env.GENKIT_RUNTIME_ID||f,pid:process.pid,name:this.options.name,reflectionServerUrl:`http://localhost:${this.port}`,timestamp:e,genkitVersion:`nodejs/${t.GENKIT_VERSION}`,reflectionApiSpecVersion:t.GENKIT_REFLECTION_API_SPEC_VERSION},null,2);await o.default.mkdir(b,{recursive:!0}),await o.default.writeFile(this.runtimeFilePath,g,"utf8"),u.logger.debug(`Runtime file written: ${this.runtimeFilePath}`)}catch(a){u.logger.error(`Error writing runtime file: ${a}`)}}async cleanupRuntimeFile(){if(this.runtimeFilePath)try{let a=await o.default.readFile(this.runtimeFilePath,"utf8");JSON.parse(a).pid===process.pid&&(await o.default.unlink(this.runtimeFilePath),u.logger.debug(`Runtime file cleaned up: ${this.runtimeFilePath}`))}catch(a){u.logger.error(`Error cleaning up runtime file: ${a}`)}}static async stopAll(){return Promise.all(y.RUNNING_SERVERS.map(a=>a.stop()))}}async function z(){let a=process.cwd();for(;a!==q.default.parse(a).root;){let b=q.default.join(a,"package.json");try{return await o.default.access(b),a}catch{a=q.default.dirname(a)}}throw Error("Could not find project root (package.json not found)")}"hot"in a&&(a.hot.accept(),a.hot.dispose(async()=>{u.logger.debug("Cleaning up reflection server(s) before module reload..."),await y.stopAll()}))},20793:(a,b,c)=>{"use strict";a.exports=f;var d=c(44044);(f.prototype=Object.create(d.prototype)).constructor=f;var e=c(16813);function f(){d.call(this)}function g(a,b,c){a.length<40?e.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}f._configure=function(){f.alloc=e._Buffer_allocUnsafe,f.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},f.prototype.bytes=function(a){e.isString(a)&&(a=e._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(f.writeBytesBuffer,b,a),this},f.prototype.string=function(a){var b=e.Buffer.byteLength(a);return this.uint32(b),b&&this._push(g,b,a),this},f._configure()},20795:(a,b,c)=>{"use strict";c.d(b,{Dm:()=>o,nW:()=>p,xc:()=>n});var d=c(41490),e=c(80764),f=c(44080),g=c(28392),h=d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,i=d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,j=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,k=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,l=d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,m=d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,n={serializeRequest:function(a){var b=(0,g.W)(a);return i.encode(b).finish()},deserializeResponse:function(a){return h.decode(a)}},o={serializeRequest:function(a){var b=(0,f.K)(a);return k.encode(b).finish()},deserializeResponse:function(a){return j.decode(a)}},p={serializeRequest:function(a){var b=(0,e.s)(a);return m.encode(b).finish()},deserializeResponse:function(a){return l.decode(a)}}},20861:(a,b,c)=>{"use strict";a.exports=c(51753)},20992:(a,b,c)=>{"use strict";var d=c(32355),e=c(25283),f=c(42218),g=c(89344),h=c(89390);class i extends g.NodeBase{constructor(a){super(f.ALIAS),this.source=a,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(a,b){let c,d;for(let g of(b?.aliasResolveCache?c=b.aliasResolveCache:(c=[],e.visit(a,{Node:(a,b)=>{(f.isAlias(b)||f.hasAnchor(b))&&c.push(b)}}),b&&(b.aliasResolveCache=c)),c)){if(g===this)break;g.anchor===this.source&&(d=g)}return d}toJSON(a,b){if(!b)return{source:this.source};let{anchors:c,doc:d,maxAliasCount:e}=b,f=this.resolve(d,b);if(!f)throw ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let g=c.get(f);if(g||(h.toJS(f,null,b),g=c.get(f)),!g||void 0===g.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(e>=0&&(g.count+=1,0===g.aliasCount&&(g.aliasCount=j(d,f,c)),g.count*g.aliasCount>e))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return g.res}toString(a,b,c){let e=`*${this.source}`;if(a){if(d.anchorIsValid(this.source),a.options.verifyAliasOrder&&!a.anchors.has(this.source))throw Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(a.implicitKey)return`${e} `}return e}}function j(a,b,c){if(f.isAlias(b)){let d=b.resolve(a),e=c&&d&&c.get(d);return e?e.count*e.aliasCount:0}if(f.isCollection(b)){let d=0;for(let e of b.items){let b=j(a,e,c);b>d&&(d=b)}return d}return f.isPair(b)?Math.max(j(a,b.key,c),j(a,b.value,c)):1}b.Alias=i},21087:a=>{for(var b=0x100000000,c=[],d=0;d<256;d++)c[d]=(d>15?"":"0")+d.toString(16);var e=a.exports=function(a,b){a instanceof Buffer?(this.buffer=a,this.offset=b||0):"[object Uint8Array]"==Object.prototype.toString.call(a)?(this.buffer=new Buffer(a),this.offset=b||0):(this.buffer=this.buffer||new Buffer(8),this.offset=0,this.setValue.apply(this,arguments))};e.MAX_INT=0x20000000000000,e.MIN_INT=-0x20000000000000,e.prototype={constructor:e,_2scomp:function(){for(var a=this.buffer,b=this.offset,c=1,d=b+7;d>=b;d--){var e=(255^a[d])+c;a[d]=255&e,c=e>>8}},setValue:function(a,c){var d=!1;if(1==arguments.length)if("number"==typeof a){if(d=a<0,c=(a=Math.abs(a))%b,(a/=b)>b)throw RangeError(a+" is outside Int64 range");a|=0}else if("string"==typeof a)c=(a=(a+"").replace(/^0x/,"")).substr(-8),a=parseInt(a=a.length>8?a.substr(0,a.length-8):"",16),c=parseInt(c,16);else throw Error(a+" must be a Number or String");for(var e=this.buffer,f=this.offset,g=7;g>=0;g--)e[f+g]=255&c,c=4==g?a:c>>>8;d&&this._2scomp()},toNumber:function(a){for(var b=this.buffer,c=this.offset,d=128&b[c],f=0,g=1,h=7,i=1;h>=0;h--,i*=256){var j=b[c+h];d&&(g=(j=(255^j)+g)>>8,j&=255),f+=j*i}return!a&&f>=e.MAX_INT?d?-1/0:1/0:d?-f:f},valueOf:function(){return this.toNumber(!1)},toString:function(a){return this.valueOf().toString(a||10)},toOctetString:function(a){for(var b=Array(8),d=this.buffer,e=this.offset,f=0;f<8;f++)b[f]=c[d[e+f]];return b.join(a||"")},toBuffer:function(a){if(a&&0===this.offset)return this.buffer;var b=new Buffer(8);return this.buffer.copy(b,0,this.offset,this.offset+8),b},copy:function(a,b){this.buffer.copy(a,b||0,this.offset,this.offset+8)},compare:function(a){if((128&this.buffer[this.offset])!=(128&a.buffer[a.offset]))return a.buffer[a.offset]-this.buffer[this.offset];for(var b=0;b<8;b++)if(this.buffer[this.offset+b]!==a.buffer[a.offset+b])return this.buffer[this.offset+b]-a.buffer[a.offset+b];return 0},equals:function(a){return 0===this.compare(a)},inspect:function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"}}},21257:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseObjectDef=void 0;let d=c(31958);function e(a,b){if("ZodNever"!==a.catchall._def.typeName)return(0,d.parseDef)(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}function f(a){try{return a.isOptional()}catch{return!0}}b.parseObjectDef=function(a,b){let c="openAi"===b.target,g={type:"object",properties:{}},h=[],i=a.shape();for(let a in i){let e=i[a];if(void 0===e||void 0===e._def)continue;let j=f(e);j&&c&&("ZodOptional"===e._def.typeName&&(e=e._def.innerType),e.isNullable()||(e=e.nullable()),j=!1);let k=(0,d.parseDef)(e._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==k&&(g.properties[a]=k,j||h.push(a))}h.length&&(g.required=h);let j=e(a,b);return void 0!==j&&(g.additionalProperties=j),g}},21370:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="0.52.1"},21381:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367),f=c(51702);b.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},21609:(a,b,c)=>{"use strict";let d=c(78871),e=c(71635),{safeRe:f,t:g}=c(40329);a.exports=(a,b)=>{if(a instanceof d)return a;if("number"==typeof a&&(a=String(a)),"string"!=typeof a)return null;let c=null;if((b=b||{}).rtl){let d,e=b.includePrerelease?f[g.COERCERTLFULL]:f[g.COERCERTL];for(;(d=e.exec(a))&&(!c||c.index+c[0].length!==a.length);)c&&d.index+d[0].length===c.index+c[0].length||(c=d),e.lastIndex=d.index+d[1].length+d[2].length;e.lastIndex=-1}else c=a.match(b.includePrerelease?f[g.COERCEFULL]:f[g.COERCE]);if(null===c)return null;let h=c[2],i=c[3]||"0",j=c[4]||"0",k=b.includePrerelease&&c[5]?`-${c[5]}`:"",l=b.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${h}.${i}.${j}${k}${l}`,b)}},21807:a=>{"use strict";function b(a){return"function"==typeof a}var c=console.error.bind(console);function d(a,b,c){var d=!!a[b]&&a.propertyIsEnumerable(b);Object.defineProperty(a,b,{configurable:!0,enumerable:d,writable:!0,value:c})}function e(a){a&&a.logger&&(b(a.logger)?c=a.logger:c("new logger isn't a function, not replacing"))}function f(a,e,f){if(!a||!a[e])return void c("no original function "+e+" to wrap");if(!f){c("no wrapper function"),c(Error().stack);return}if(!b(a[e])||!b(f))return void c("original object and wrapper must be functions");var g=a[e],h=f(g,e);return d(h,"__original",g),d(h,"__unwrap",function(){a[e]===h&&d(a,e,g)}),d(h,"__wrapped",!0),d(a,e,h),h}function g(a,b,d){if(a)Array.isArray(a)||(a=[a]);else{c("must provide one or more modules to patch"),c(Error().stack);return}if(!(b&&Array.isArray(b)))return void c("must provide one or more functions to wrap on modules");a.forEach(function(a){b.forEach(function(b){f(a,b,d)})})}function h(a,b){if(!a||!a[b]){c("no function to unwrap."),c(Error().stack);return}if(a[b].__unwrap)return a[b].__unwrap();c("no original to unwrap to -- has "+b+" already been unwrapped?")}function i(a,b){if(a)Array.isArray(a)||(a=[a]);else{c("must provide one or more modules to patch"),c(Error().stack);return}if(!(b&&Array.isArray(b)))return void c("must provide one or more functions to unwrap on modules");a.forEach(function(a){b.forEach(function(b){h(a,b)})})}e.wrap=f,e.massWrap=g,e.unwrap=h,e.massUnwrap=i,a.exports=e},21813:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(65165),e=c(97988),f=c(53864),g=new f.Name("fullFormats"),h=new f.Name("fastFormats"),i=(a,b={keywords:!0})=>{if(Array.isArray(b))return j(a,b,d.fullFormats,g),a;let[c,f]="fast"===b.mode?[d.fastFormats,h]:[d.fullFormats,g];return j(a,b.formats||d.formatNames,c,f),b.keywords&&(0,e.default)(a),a};function j(a,b,c,d){var e,g;for(let h of(null!=(e=(g=a.opts.code).formats)||(g.formats=(0,f._)`require("ajv-formats/dist/formats").${d}`),b))a.addFormat(h,c[h])}i.get=(a,b="full")=>{let c=("fast"===b?d.fastFormats:d.fullFormats)[a];if(!c)throw Error(`Unknown format "${a}"`);return c},a.exports=b=i,Object.defineProperty(b,"__esModule",{value:!0}),b.default=i},22328:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;let d=c(98601),e=c(35196),f=c(95435),g=c(35196),h=c(28370),i=c(28465),j=c(22391),k=c(96535),l=c(27017),m=c(63197),n=c(71367),o=c(78562);function p({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{a.code((0,k._)`"use strict"; ${u(c,e)}`),r(a,e),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${q(e)}`,d.$async,()=>a.code(u(c,e)).code(f))}function q(a){return(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${a.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`}function r(a,b){a.if(l.default.valCxt,()=>{a.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),a.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),a.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),a.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{a.var(l.default.instancePath,(0,k._)`""`),a.var(l.default.parentData,(0,k._)`undefined`),a.var(l.default.parentDataProperty,(0,k._)`undefined`),a.var(l.default.rootData,l.default.data),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`{}`)})}function s(a){let{schema:b,opts:c,gen:d}=a;p(a,()=>{c.$comment&&b.$comment&&F(a),C(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&t(a),A(a),G(a)})}function t(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}function u(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function v(a,b){if(x(a)&&(z(a),w(a)))return void y(a,b);(0,d.boolOrEmptySchema)(a,b)}function w({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function x(a){return"boolean"!=typeof a.schema}function y(a,b){let{schema:c,gen:d,opts:e}=a;e.$comment&&c.$comment&&F(a),D(a),E(a);let f=d.const("_errs",l.default.errors);A(a,f),d.var(b,(0,k._)`${f} === ${l.default.errors}`)}function z(a){(0,n.checkUnknownRules)(a),B(a)}function A(a,b){if(a.opts.jtd)return I(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);I(a,c,!d,b)}function B(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,n.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}function C(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,n.checkStrictMode)(a,"default is ignored in the schema root")}function D(a){let b=a.schema[a.opts.schemaId];b&&(a.baseId=(0,m.resolveUrl)(a.opts.uriResolver,a.baseId,b))}function E(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}function F({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function G(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&H(a),b.return((0,k._)`${l.default.errors} === 0`))}function H({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}function I(a,b,c,d){let{gen:e,schema:h,data:i,allErrors:j,opts:m,self:o}=a,{RULES:p}=o;if(h.$ref&&(m.ignoreKeywordsWithRef||!(0,n.schemaHasRulesButRef)(h,p)))return void e.block(()=>T(a,"$ref",p.all.$ref.definition));function q(n){(0,f.shouldUseGroup)(h,n)&&(n.type?(e.if((0,g.checkDataType)(n.type,i,m.strictNumbers)),J(a,n),1===b.length&&b[0]===n.type&&c&&(e.else(),(0,g.reportTypeError)(a)),e.endIf()):J(a,n),j||e.if((0,k._)`${l.default.errors} === ${d||0}`))}m.jtd||K(a,b),e.block(()=>{for(let a of p.rules)q(a);q(p.post)})}function J(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&T(a,c.keyword,c.definition,b.type)})}function K(a,b){!a.schemaEnv.meta&&a.opts.strictTypes&&(L(a,b),a.opts.allowUnionTypes||M(a,b),N(a,a.dataTypes))}function L(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{P(a.dataTypes,b)||R(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),Q(a,b)}}function M(a,b){b.length>1&&!(2===b.length&&b.includes("null"))&&R(a,"use allowUnionTypes to allow union type keyword")}function N(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>O(b,a))&&R(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}function O(a,b){return a.includes(b)||"number"===b&&a.includes("integer")}function P(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function Q(a,b){let c=[];for(let d of a.dataTypes)P(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}function R(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,n.checkStrictMode)(a,b,a.opts.strictTypes)}b.validateFunctionCode=function(a){if(x(a)&&(z(a),w(a)))return void s(a);p(a,()=>(0,d.topBoolOrEmptySchema)(a))};class S{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,n.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",W(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?o.reportExtraError:o.reportError)(this,this.def.error,b)}$dataError(){(0,o.reportError)(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,o.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(f(),h());function f(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}function h(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let d={...this.it,...c,items:void 0,props:void 0};return v(d,b),d}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=n.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=n.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function T(a,b,c,d){let e=new S(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}b.KeywordCxt=S;let U=/^\/(?:[^~]|~0|~1)*$/,V=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!U.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=V.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,n.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}b.getData=W},22351:(a,b,c)=>{"use strict";c.r(b),c.d(b,{B3InjectEncoding:()=>d,B3Propagator:()=>H,B3_CONTEXT_HEADER:()=>j,X_B3_FLAGS:()=>o,X_B3_PARENT_SPAN_ID:()=>n,X_B3_SAMPLED:()=>m,X_B3_SPAN_ID:()=>l,X_B3_TRACE_ID:()=>k});var d,e=c(81588),f=c(54616),g=c(88018),h=c(58746),i=(0,c(76956).n)("OpenTelemetry Context Key B3 Debug Flag"),j="b3",k="x-b3-traceid",l="x-b3-spanid",m="x-b3-sampled",n="x-b3-parentspanid",o="x-b3-flags",p=new Set([!0,"true","True","1",1]),q=new Set([!1,"false","False","0",0]);function r(a){return a===f.X.SAMPLED||a===f.X.NONE}function s(a){return Array.isArray(a)?a[0]:a}function t(a,b,c){return s(b.get(a,c))}function u(a,b){var c=t(a,b,k);return"string"==typeof c?c.padStart(32,"0"):""}function v(a,b){var c=t(a,b,l);return"string"==typeof c?c:""}function w(a,b){return"1"===t(a,b,o)?"1":void 0}function x(a,b){var c=t(a,b,m);return"1"===w(a,b)||p.has(c)?f.X.SAMPLED:void 0===c||q.has(c)?f.X.NONE:void 0}var y=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=g.u.getSpanContext(a);if(!(!d||!(0,h.YA)(d)||(0,e.Zf)(a))){var j=a.getValue(i);c.set(b,k,d.traceId),c.set(b,l,d.spanId),"1"===j?c.set(b,o,j):void 0!==d.traceFlags&&c.set(b,m,(f.X.SAMPLED&d.traceFlags)===f.X.SAMPLED?"1":"0")}},a.prototype.extract=function(a,b,c){var d=u(b,c),e=v(b,c),f=x(b,c),j=w(b,c);return(0,h.hX)(d)&&(0,h.wN)(e)&&r(f)?(a=a.setValue(i,j),g.u.setSpanContext(a,{traceId:d,spanId:e,isRemote:!0,traceFlags:f})):a},a.prototype.fields=function(){return[k,l,o,m,n]},a}(),z=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},A=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,B="0".repeat(16),C=new Set(["d","1"]),D="d";function E(a){return 32===a.length?a:""+B+a}function F(a){return a&&C.has(a)?f.X.SAMPLED:f.X.NONE}var G=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=g.u.getSpanContext(a);if(!(!d||!(0,h.YA)(d)||(0,e.Zf)(a))){var f=a.getValue(i)||1&d.traceFlags,k=d.traceId+"-"+d.spanId+"-"+f;c.set(b,j,k)}},a.prototype.extract=function(a,b,c){var d=c.get(b,j),e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;var f=e.match(A);if(!f)return a;var k=z(f,4),l=k[1],m=k[2],n=k[3],o=E(l);if(!(0,h.hX)(o)||!(0,h.wN)(m))return a;var p=F(n);return n===D&&(a=a.setValue(i,n)),g.u.setSpanContext(a,{traceId:o,spanId:m,isRemote:!0,traceFlags:p})},a.prototype.fields=function(){return[j]},a}();!function(a){a[a.SINGLE_HEADER=0]="SINGLE_HEADER",a[a.MULTI_HEADER=1]="MULTI_HEADER"}(d||(d={}));var H=function(){function a(a){void 0===a&&(a={}),this._b3MultiPropagator=new y,this._b3SinglePropagator=new G,a.injectEncoding===d.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}return a.prototype.inject=function(a,b,c){(0,e.Zf)(a)||this._inject(a,b,c)},a.prototype.extract=function(a,b,c){var d=c.get(b,j);return(Array.isArray(d)?d[0]:d)?this._b3SinglePropagator.extract(a,b,c):this._b3MultiPropagator.extract(a,b,c)},a.prototype.fields=function(){return this._fields},a}()},22354:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CompressionFilterFactory=b.CompressionFilter=void 0;let d=c(74075),e=c(81842),f=c(56458),g=c(74029),h=c(38702),i=a=>"number"==typeof a&&"string"==typeof e.CompressionAlgorithms[a];class j{async writeMessage(a,b){let c=a;b&&(c=await this.compressMessage(c));let d=Buffer.allocUnsafe(c.length+5);return d.writeUInt8(+!!b,0),d.writeUInt32BE(c.length,1),c.copy(d,5),d}async readMessage(a){let b=1===a.readUInt8(0),c=a.slice(5);return b&&(c=await this.decompressMessage(c)),c}}class k extends j{async compressMessage(a){return a}async writeMessage(a,b){let c=Buffer.allocUnsafe(a.length+5);return c.writeUInt8(0,0),c.writeUInt32BE(a.length,1),a.copy(c,5),c}decompressMessage(a){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class l extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.deflate(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createInflate();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class m extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.gzip(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createGunzip();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class n extends j{constructor(a){super(),this.compressionName=a}compressMessage(a){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(a){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function o(a,b){switch(a){case"identity":return new k;case"deflate":return new l(b);case"gzip":return new m(b);default:return new n(a)}}class p extends g.BaseFilter{constructor(a,b){var c,d,g;super(),this.sharedFilterConfig=b,this.sendCompression=new k,this.receiveCompression=new k,this.currentCompressionAlgorithm="identity";let j=a["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!=(c=a["grpc.max_receive_message_length"])?c:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=null!=(d=a["grpc.max_send_message_length"])?d:f.DEFAULT_MAX_SEND_MESSAGE_LENGTH,void 0!==j)if(i(j)){let a=e.CompressionAlgorithms[j],c=null==(g=b.serverSupportedEncodingHeader)?void 0:g.split(",");(!c||c.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=o(this.currentCompressionAlgorithm,-1))}else h.log(f.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${j}`)}async sendMetadata(a){let b=await a;return b.set("grpc-accept-encoding","identity,deflate,gzip"),b.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?b.remove("grpc-encoding"):b.set("grpc-encoding",this.currentCompressionAlgorithm),b}receiveMetadata(a){let b=a.get("grpc-encoding");if(b.length>0){let a=b[0];"string"==typeof a&&(this.receiveCompression=o(a,this.maxReceiveMessageLength))}a.remove("grpc-encoding");let c=a.get("grpc-accept-encoding")[0];return c&&(this.sharedFilterConfig.serverSupportedEncodingHeader=c,c.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new k,this.currentCompressionAlgorithm="identity")),a.remove("grpc-accept-encoding"),a}async sendMessage(a){var b;let c,d=await a;if(-1!==this.maxSendMessageLength&&d.message.length>this.maxSendMessageLength)throw{code:f.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};return c=!(this.sendCompression instanceof k)&&((null!=(b=d.flags)?b:0)&2)==0,{message:await this.sendCompression.writeMessage(d.message,c),flags:d.flags}}async receiveMessage(a){return this.receiveCompression.readMessage(await a)}}b.CompressionFilter=p;class q{constructor(a,b){this.options=b,this.sharedFilterConfig={}}createFilter(){return new p(this.options,this.sharedFilterConfig)}}b.CompressionFilterFactory=q},22391:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;let d=c(96535),e=c(71367);b.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},b.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},b.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},22709:(a,b,c)=>{"use strict";var d=c(42218),e=c(25283);let f={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},g=a=>a.replace(/[!,[\]{}]/g,a=>f[a]);class h{constructor(a,b){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},h.defaultYaml,a),this.tags=Object.assign({},h.defaultTags,b)}clone(){let a=new h(this.yaml,this.tags);return a.docStart=this.docStart,a}atDocument(){let a=new h(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:h.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},h.defaultTags)}return a}add(a,b){this.atNextDocument&&(this.yaml={explicit:h.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},h.defaultTags),this.atNextDocument=!1);let c=a.trim().split(/[ \t]+/),d=c.shift();switch(d){case"%TAG":{if(2!==c.length&&(b(0,"%TAG directive should contain exactly two parts"),c.length<2))return!1;let[a,d]=c;return this.tags[a]=d,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==c.length)return b(0,"%YAML directive should contain exactly one part"),!1;let[a]=c;if("1.1"===a||"1.2"===a)return this.yaml.version=a,!0;{let c=/^\d+\.\d+$/.test(a);return b(6,`Unsupported YAML version ${a}`,c),!1}}default:return b(0,`Unknown directive ${d}`,!0),!1}}tagName(a,b){if("!"===a)return"!";if("!"!==a[0])return b(`Not a valid tag: ${a}`),null;if("<"===a[1]){let c=a.slice(2,-1);return"!"===c||"!!"===c?(b(`Verbatim tags aren't resolved, so ${a} is invalid.`),null):(">"!==a[a.length-1]&&b("Verbatim tags must end with a >"),c)}let[,c,d]=a.match(/^(.*!)([^!]*)$/s);d||b(`The ${a} tag has no suffix`);let e=this.tags[c];if(e)try{return e+decodeURIComponent(d)}catch(a){return b(String(a)),null}return"!"===c?a:(b(`Could not resolve tag: ${a}`),null)}tagString(a){for(let[b,c]of Object.entries(this.tags))if(a.startsWith(c))return b+g(a.substring(c.length));return"!"===a[0]?a:`!<${a}>`}toString(a){let b,c=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],f=Object.entries(this.tags);if(a&&f.length>0&&d.isNode(a.contents)){let c={};e.visit(a.contents,(a,b)=>{d.isNode(b)&&b.tag&&(c[b.tag]=!0)}),b=Object.keys(c)}else b=[];for(let[d,e]of f)("!!"!==d||"tag:yaml.org,2002:"!==e)&&(!a||b.some(a=>a.startsWith(e)))&&c.push(`%TAG ${d} ${e}`);return c.join("\n")}}h.defaultYaml={explicit:!1,version:"1.2"},h.defaultTags={"!!":"tag:yaml.org,2002:"},b.Directives=h},22844:(a,b,c)=>{"use strict";var d=c(24148);let e=a=>"bigint"==typeof a||Number.isInteger(a);function f(a,b,c,{intAsBigInt:d}){let e=a[0];if(("-"===e||"+"===e)&&(b+=1),a=a.substring(b).replace(/_/g,""),d){switch(c){case 2:a=`0b${a}`;break;case 8:a=`0o${a}`;break;case 16:a=`0x${a}`}let b=BigInt(a);return"-"===e?BigInt(-1)*b:b}let f=parseInt(a,c);return"-"===e?-1*f:f}function g(a,b,c){let{value:f}=a;if(e(f)){let a=f.toString(b);return f<0?"-"+c+a.substr(1):c+a}return d.stringifyNumber(a)}let h={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(a,b,c)=>f(a,2,2,c),stringify:a=>g(a,2,"0b")},i={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(a,b,c)=>f(a,1,8,c),stringify:a=>g(a,8,"0")},j={identify:e,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(a,b,c)=>f(a,0,10,c),stringify:d.stringifyNumber},k={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(a,b,c)=>f(a,2,16,c),stringify:a=>g(a,16,"0x")};b.int=j,b.intBin=h,b.intHex=k,b.intOct=i},22981:a=>{"use strict";function b(a){return"undefined"!=typeof Float32Array?!function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():!function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function g(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,c),a.writeFloatBE=b.bind(null,d),a.readFloatLE=g.bind(null,e),a.readFloatBE=g.bind(null,f)}(),"undefined"!=typeof Float64Array?!function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():!function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function g(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,c,0,4),a.writeDoubleBE=b.bind(null,d,4,0),a.readDoubleLE=g.bind(null,e,0,4),a.readDoubleBE=g.bind(null,f,4,0)}(),a}function c(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function d(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function e(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function f(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}a.exports=b(b)},23017:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{initNodeFeatures:()=>m}),a.exports=i(j);var k=c(45644),l=c(59368);function m(){(0,k.initNodeAsyncContext)(),(0,l.initNodeTelemetryProvider)()}},23221:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{jsonFormatter:()=>l}),a.exports=i(j);var k=c(44175);let l={name:"json",config:{format:"json",contentType:"application/json",constrained:!0,defaultInstructions:!1},handler:a=>{let b;return a&&(b=`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(a)}
\`\`\`
`),{parseChunk:a=>(0,k.extractJson)(a.accumulatedText),parseMessage:a=>(0,k.extractJson)(a.text),instructions:b}}}},23439:(a,b,c)=>{"use strict";let d=c(24346),e=c(50403),{ANY:f}=e,g=c(32665),h=c(96775),i=(a,b,c={})=>{if(a===b)return!0;a=new d(a,c),b=new d(b,c);let e=!1;b:for(let d of a.set){for(let a of b.set){let b=l(d,a,c);if(e=e||null!==b,b)continue b}if(e)return!1}return!0},j=[new e(">=0.0.0-0")],k=[new e(">=0.0.0")],l=(a,b,c)=>{let d,e,i,l,o,p,q;if(a===b)return!0;if(1===a.length&&a[0].semver===f)if(1===b.length&&b[0].semver===f)return!0;else a=c.includePrerelease?j:k;if(1===b.length&&b[0].semver===f)if(c.includePrerelease)return!0;else b=k;let r=new Set;for(let b of a)">"===b.operator||">="===b.operator?d=m(d,b,c):"<"===b.operator||"<="===b.operator?e=n(e,b,c):r.add(b.semver);if(r.size>1)return null;if(d&&e&&((i=h(d.semver,e.semver,c))>0||0===i&&(">="!==d.operator||"<="!==e.operator)))return null;for(let a of r){if(d&&!g(a,String(d),c)||e&&!g(a,String(e),c))return null;for(let d of b)if(!g(a,String(d),c))return!1;return!0}let s=!!e&&!c.includePrerelease&&!!e.semver.prerelease.length&&e.semver,t=!!d&&!c.includePrerelease&&!!d.semver.prerelease.length&&d.semver;for(let a of(s&&1===s.prerelease.length&&"<"===e.operator&&0===s.prerelease[0]&&(s=!1),b)){if(q=q||">"===a.operator||">="===a.operator,p=p||"<"===a.operator||"<="===a.operator,d){if(t&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===t.major&&a.semver.minor===t.minor&&a.semver.patch===t.patch&&(t=!1),">"===a.operator||">="===a.operator){if((l=m(d,a,c))===a&&l!==d)return!1}else if(">="===d.operator&&!g(d.semver,String(a),c))return!1}if(e){if(s&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===s.major&&a.semver.minor===s.minor&&a.semver.patch===s.patch&&(s=!1),"<"===a.operator||"<="===a.operator){if((o=n(e,a,c))===a&&o!==e)return!1}else if("<="===e.operator&&!g(e.semver,String(a),c))return!1}if(!a.operator&&(e||d)&&0!==i)return!1}return(!d||!p||!!e||0===i)&&(!e||!q||!!d||0===i)&&!t&&!s&&!0},m=(a,b,c)=>{if(!a)return b;let d=h(a.semver,b.semver,c);return d>0?a:d<0||">"===b.operator&&">="===a.operator?b:a},n=(a,b,c)=>{if(!a)return b;let d=h(a.semver,b.semver,c);return d<0?a:d>0||"<"===b.operator&&"<="===a.operator?b:a};a.exports=i},23615:(a,b,c)=>{"use strict";var d;c.d(b,{R:()=>d}),function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(d||(d={}))},23733:(a,b,c)=>{"use strict";c.d(b,{n:()=>n});var d="[_0-9a-z-*/]",e=RegExp("^(?:[a-z]"+d+"{0,255}|"+("[a-z0-9]"+d+"{0,240}@[a-z]"+d)+"{0,13})$"),f=/^[ -~]{0,255}[!-~]$/,g=/,|=/;function h(a){return e.test(a)}function i(a){return f.test(a)&&!g.test(a)}var j=32,k=512,l=",",m="=",n=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+m+a.get(c)),b},[]).join(l)},a.prototype._parse=function(a){!(a.length>k)&&(this._internalState=a.split(l).reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf(m);if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);h(e)&&i(f)&&a.set(e,f)}return a},new Map),this._internalState.size>j&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,j))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}()},23919:(a,b,c)=>{"use strict";let{isUUID:d}=c(64508),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,f=["http","https","ws","wss","urn","urn:uuid"];function g(a){return -1!==f.indexOf(a)}function h(a){return!0===a.secure||!1!==a.secure&&!!a.scheme&&3===a.scheme.length&&("w"===a.scheme[0]||"W"===a.scheme[0])&&("s"===a.scheme[1]||"S"===a.scheme[1])&&("s"===a.scheme[2]||"S"===a.scheme[2])}function i(a){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a}function j(a){let b="https"===String(a.scheme).toLowerCase();return(a.port===(b?443:80)||""===a.port)&&(a.port=void 0),a.path||(a.path="/"),a}function k(a){return a.secure=h(a),a.resourceName=(a.path||"/")+(a.query?"?"+a.query:""),a.path=void 0,a.query=void 0,a}function l(a){if((a.port===(h(a)?443:80)||""===a.port)&&(a.port=void 0),"boolean"==typeof a.secure&&(a.scheme=a.secure?"wss":"ws",a.secure=void 0),a.resourceName){let[b,c]=a.resourceName.split("?");a.path=b&&"/"!==b?b:void 0,a.query=c,a.resourceName=void 0}return a.fragment=void 0,a}function m(a,b){if(!a.path)return a.error="URN can not be parsed",a;let c=a.path.match(e);if(c){let d=b.scheme||a.scheme||"urn";a.nid=c[1].toLowerCase(),a.nss=c[2];let e=v(`${d}:${b.nid||a.nid}`);a.path=void 0,e&&(a=e.parse(a,b))}else a.error=a.error||"URN can not be parsed.";return a}function n(a,b){if(void 0===a.nid)throw Error("URN without nid cannot be serialized");let c=b.scheme||a.scheme||"urn",d=a.nid.toLowerCase(),e=v(`${c}:${b.nid||d}`);e&&(a=e.serialize(a,b));let f=a,g=a.nss;return f.path=`${d||b.nid}:${g}`,b.skipEscape=!0,f}function o(a,b){let c=a;return c.uuid=c.nss,c.nss=void 0,b.tolerant||c.uuid&&d(c.uuid)||(c.error=c.error||"UUID is not valid."),c}function p(a){let b=a;return b.nss=(a.uuid||"").toLowerCase(),b}let q={scheme:"http",domainHost:!0,parse:i,serialize:j},r={scheme:"https",domainHost:q.domainHost,parse:i,serialize:j},s={scheme:"ws",domainHost:!0,parse:k,serialize:l},t={scheme:"wss",domainHost:s.domainHost,parse:s.parse,serialize:s.serialize},u={http:q,https:r,ws:s,wss:t,urn:{scheme:"urn",parse:m,serialize:n,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:o,serialize:p,skipNormalize:!0}};function v(a){return a&&(u[a]||u[a.toLowerCase()])||void 0}Object.setPrototypeOf(u,null),a.exports={wsIsSecure:h,SCHEMES:u,isValidSchemeName:g,getSchemeHandler:v}},23948:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0===d(a,b,c)},23998:(a,b)=>{"use strict";function c(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isThenable",{enumerable:!0,get:function(){return c}})},24024:a=>{"use strict";var b={};function c(a,b){this.type="Program",this.headers=a,this.definitions=b}function d(a,b,c){this.type="Identifier",this.name=a,this.line=b,this.column=c,this.as=null}function e(a,b,c,d){this.type="Include",this.id=a,this.namespace=b,this.line=c,this.column=d}function f(a,b){this.type="Namespace",this.id=a,this.scope=b}function g(a,c,d){this.type="Typedef",this.valueType=a,this.id=c,this.annotations=d||b}function h(a,c){this.type="BaseType",this.baseType=a,this.annotations=c||b}function i(a,c,d){this.type="Enum",this.id=a,this.definitions=c,this.annotations=d||b}function j(a,c,d){this.type="EnumDefinition",this.fieldType=new h("i32"),this.id=a,this.value=c,this.annotations=d||b}function k(a,c,d){this.type="Senum",this.id=a,this.senumDefinitions=c,this.annotations=d||b}function l(a,b,c){this.type="Const",this.id=a,this.fieldType=b,this.value=c}function m(a){this.type="ConstList",this.values=a}function n(a){this.type="ConstMap",this.entries=a}function o(a,b){this.type="ConstEntry",this.key=a,this.value=b}function p(a,c,d){this.type="Struct",this.id=a,this.fields=c,this.isArgument=!1,this.isResult=!1,this.annotations=d||b}function q(a,c,d){this.type="Union",this.id=a,this.fields=c,this.annotations=d||b}function r(a,c,d){this.type="Exception",this.id=a,this.fields=c,this.annotations=d||b}function s(a,c,d,e){this.type="Service",this.id=a,this.functions=c,this.baseService=e,this.annotations=d||b}function t(a,c,d,e,f,g){this.type="Function",this.id=a,this.returns=d,this.fields=c,this.fields.isArgument=!0,this.throws=e,this.oneway=g,this.annotations=f||b}function u(a,c,d,e,f,g){this.type="Field",this.id=a,this.name=d,this.valueType=c,this.required="required"===e,this.optional="optional"===e,this.defaultValue=f,this.annotations=g||b}function v(a,b,c){this.type="FieldIdentifier",this.value=a,this.line=b,this.column=c}function w(a,c,d){this.type="Map",this.keyType=a,this.valueType=c,this.annotations=d||b}function x(a,c){this.type="Set",this.valueType=a,this.annotations=c||b}function y(a,c){this.type="List",this.valueType=a,this.annotations=c||b}function z(a,b){this.type="TypeAnnotation",this.name=a,this.value=b}function A(a){this.type="Comment",this.value=a}function B(a){this.type="Literal",this.value=a}a.exports.Program=c,a.exports.Identifier=d,a.exports.Include=e,a.exports.Namespace=f,a.exports.Typedef=g,a.exports.BaseType=h,a.exports.Enum=i,a.exports.EnumDefinition=j,a.exports.Senum=k,a.exports.Const=l,a.exports.ConstList=m,a.exports.ConstMap=n,a.exports.ConstEntry=o,a.exports.Struct=p,a.exports.Union=q,a.exports.Exception=r,a.exports.Service=s,a.exports.FunctionDefinition=t,a.exports.Field=u,a.exports.FieldIdentifier=v,a.exports.MapType=w,a.exports.SetType=x,a.exports.ListType=y,a.exports.TypeAnnotation=z,a.exports.Comment=A,a.exports.Literal=B},24148:(a,b)=>{"use strict";b.stringifyNumber=function({format:a,minFractionDigits:b,tag:c,value:d}){if("bigint"==typeof d)return String(d);let e="number"==typeof d?d:Number(d);if(!isFinite(e))return isNaN(e)?".nan":e<0?"-.inf":".inf";let f=JSON.stringify(d);if(!a&&b&&(!c||"tag:yaml.org,2002:float"===c)&&/^\d/.test(f)){let a=f.indexOf(".");a<0&&(a=f.length,f+=".");let c=b-(f.length-a-1);for(;c-- >0;)f+="0"}return f}},24241:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(72125),g=c(54726),h=c(955),i=c(68042),j=c(27714),k=c(17342);let l="Block collections are not allowed within flow collections",m=a=>a&&("block-map"===a.type||"block-seq"===a.type);b.resolveFlowCollection=function({composeNode:a,composeEmptyNode:b},c,n,o,p){let q="{"===n.start.source,r=q?"flow map":"flow sequence",s=new(p?.nodeClass??(q?f.YAMLMap:g.YAMLSeq))(c.schema);s.flow=!0;let t=c.atRoot;t&&(c.atRoot=!1),c.atKey&&(c.atKey=!1);let u=n.offset+n.start.source.length;for(let g=0;g<n.items.length;++g){let h=n.items[g],{start:p,key:t,sep:v,value:w}=h,x=i.resolveProps(p,{flow:r,indicator:"explicit-key-ind",next:t??v?.[0],offset:u,onError:o,parentIndent:n.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!v&&!w){0===g&&x.comma?o(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`):g<n.items.length-1&&o(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${r}`),x.comment&&(s.comment?s.comment+="\n"+x.comment:s.comment=x.comment),u=x.end;continue}!q&&c.options.strict&&j.containsNewline(t)&&o(t,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===g)x.comma&&o(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`);else if(x.comma||o(x.start,"MISSING_CHAR",`Missing , between ${r} items`),x.comment){let a="";a:for(let b of p)switch(b.type){case"comma":case"space":break;case"comment":a=b.source.substring(1);break a;default:break a}if(a){let b=s.items[s.items.length-1];d.isPair(b)&&(b=b.value??b.key),b.comment?b.comment+="\n"+a:b.comment=a,x.comment=x.comment.substring(a.length+1)}}if(q||v||x.found){c.atKey=!0;let d=x.end,g=t?a(c,t,x,o):b(c,d,p,null,x,o);m(t)&&o(g.range,"BLOCK_IN_FLOW",l),c.atKey=!1;let j=i.resolveProps(v??[],{flow:r,indicator:"map-value-ind",next:w,offset:g.range[2],onError:o,parentIndent:n.indent,startOnNewline:!1});if(j.found){if(!q&&!x.found&&c.options.strict){if(v)for(let a of v){if(a===j.found)break;if("newline"===a.type){o(a,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<j.found.offset-1024&&o(j.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else w&&("source"in w&&w.source&&":"===w.source[0]?o(w,"MISSING_CHAR",`Missing space after : in ${r}`):o(j.start,"MISSING_CHAR",`Missing , or : between ${r} items`));let y=w?a(c,w,j,o):j.found?b(c,j.end,v,null,j,o):null;y?m(w)&&o(y.range,"BLOCK_IN_FLOW",l):j.comment&&(g.comment?g.comment+="\n"+j.comment:g.comment=j.comment);let z=new e.Pair(g,y);if(c.options.keepSourceTokens&&(z.srcToken=h),q){let a=s;k.mapIncludes(c,a.items,g)&&o(d,"DUPLICATE_KEY","Map keys must be unique"),a.items.push(z)}else{let a=new f.YAMLMap(c.schema);a.flow=!0,a.items.push(z);let b=(y??g).range;a.range=[g.range[0],b[1],b[2]],s.items.push(a)}u=y?y.range[2]:j.end}else{let d=w?a(c,w,x,o):b(c,x.end,v,null,x,o);s.items.push(d),u=d.range[2],m(w)&&o(d.range,"BLOCK_IN_FLOW",l)}}let v=q?"}":"]",[w,...x]=n.end,y=u;if(w&&w.source===v)y=w.offset+w.source.length;else{let a=r[0].toUpperCase()+r.substring(1),b=t?`${a} must end with a ${v}`:`${a} in block collection must be sufficiently indented and end with a ${v}`;o(u,t?"MISSING_CHAR":"BAD_INDENT",b),w&&1!==w.source.length&&x.unshift(w)}if(x.length>0){let a=h.resolveEnd(x,y,c.options.strict,o);a.comment&&(s.comment?s.comment+="\n"+a.comment:s.comment=a.comment),s.range=[n.offset,y,a.offset]}else s.range=[n.offset,y,y];return s}},24275:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{StatusCodes:()=>p.StatusCodes,StatusSchema:()=>p.StatusSchema,action:()=>s,actionWithMiddleware:()=>r,defineAction:()=>u,defineActionAsync:()=>v,getStreamingCallback:()=>z,isAction:()=>t,isInRuntimeContext:()=>B,runInActionRuntimeContext:()=>C,runOutsideActionRuntimeContext:()=>D,runWithStreamingCallback:()=>y,sentinelNoopStreamingCallback:()=>x}),a.exports=i(j);var k=c(50673),l=c(2799),m=c(58482),n=c(76944),o=c(64089),p=c(87938);let q=()=>new AbortController().signal;function r(a,b){let c=async(a,b)=>(await c.run(a,b)).result;return c.__action=a.__action,c.run=async(d,e)=>{let f,g=async(c,d,e)=>{if(c===b.length){let b=await a.run(d,e);return f=b.telemetry,b.result}let h=b[c];if(3===h.length)return h(d,e,async(a,b)=>g(c+1,a||d,b||e));if(2===h.length)return h(d,async a=>g(c+1,a||d,e));throw Error("unspported middleware function shape")};return c.stream=a.stream,{result:await g(0,d,e),telemetry:f}},c}function s(a,b){let c="string"==typeof a.name?a.name:`${a.name.pluginId}/${a.name.actionId}`,d={name:c,description:a.description,inputSchema:a.inputSchema,inputJsonSchema:a.inputJsonSchema,outputSchema:a.outputSchema,outputJsonSchema:a.outputJsonSchema,streamSchema:a.streamSchema,metadata:a.metadata,actionType:a.actionType},e=async(a,b)=>(await e.run(a,b)).result;return(e.__action={...d},e.run=async(d,f)=>{let g,h;d=(0,n.parseSchema)(d,{schema:a.inputSchema,jsonSchema:a.inputJsonSchema});let i=await (0,o.runInNewSpan)({metadata:{name:c},labels:{[o.SPAN_TYPE_ATTR]:"action","genkit:metadata:subtype":a.actionType,...f?.telemetryLabels}},async(i,j)=>{(0,o.setCustomMetadataAttributes)({subtype:a.actionType}),f?.context&&(0,o.setCustomMetadataAttributes)({context:JSON.stringify(f.context)}),g=j.spanContext().traceId,h=j.spanContext().spanId,i.name=c,i.input=d;try{let a=()=>b(d,{...f,context:{...e.__registry?.context,...f?.context??(0,m.getContext)()},streamingRequested:!!f?.onChunk&&f.onChunk!==x,sendChunk:f?.onChunk??x,trace:{traceId:g,spanId:h},registry:e.__registry,abortSignal:f?.abortSignal??q()}),c=await (0,m.runWithContext)(f?.context,a);return i.output=JSON.stringify(c),c}catch(a){throw"object"==typeof a&&(a.traceId=g),a}});return{result:i=(0,n.parseSchema)(i,{schema:a.outputSchema,jsonSchema:a.outputJsonSchema}),telemetry:{traceId:g,spanId:h}}},e.stream=(b,c)=>{let d,f=new ReadableStream({start(a){d=a},pull(){},cancel(){}}),g=e.run(a.inputSchema?a.inputSchema.parse(b):b,{onChunk:a=>{d.enqueue(a)},context:{...e.__registry?.context,...c?.context??(0,m.getContext)()},abortSignal:c?.abortSignal,telemetryLabels:c?.telemetryLabels}).then(a=>a.result).finally(()=>{d.close()});return{output:g,stream:async function*(){let a=f.getReader();for(;;){let b=await a.read();if(b.value&&(yield b.value),b.done)break}return await g}()}},a.use)?r(e,a.use):e}function t(a){return"function"==typeof a&&"__action"in a}function u(a,b,c){if(B())throw Error("Cannot define new actions at runtime.\nSee: https://github.com/firebase/genkit/blob/main/docs/errors/no_new_actions_at_runtime.md");let d=s(b,async(b,d)=>(await a.initializeAllPlugins(),await C(()=>c(b,d))));return d.__action.actionType=b.actionType,a.registerAction(b.actionType,d),d}function v(a,b,c,d,e){let f="string"==typeof c?c:`${c.pluginId}/${c.actionId}`,g=(0,l.lazy)(()=>d.then(c=>{let d=s(c,async(b,d)=>(await a.initializeAllPlugins(),await C(()=>c.fn(b,d))));return d.__action.actionType=b,e?.(d),d}));return a.registerActionAsync(b,f,g),g}let w="core.action.streamingCallback",x=()=>null;function y(a,b){return(0,k.getAsyncContext)().run(w,a||x,b)}function z(){let a=(0,k.getAsyncContext)().getStore(w);if(a!==x)return a}let A="core.action.runtimeContext";function B(){return"runtime"===(0,k.getAsyncContext)().getStore(A)}function C(a){return(0,k.getAsyncContext)().run(A,"runtime",a)}function D(a){return(0,k.getAsyncContext)().run(A,"outside",a)}},24317:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{DEFAULT_FORMATS:()=>t,configureFormats:()=>u,defineFormat:()=>p,injectInstructions:()=>s,resolveFormat:()=>q,resolveInstructions:()=>r}),a.exports=i(j);var k=c(76426),l=c(8104),m=c(23221),n=c(77283),o=c(4066);function p(a,b,c){let{name:d,...e}=b,f={config:e,handler:c};return a.registerValue("format",d,f),f}async function q(a,b){if(b){if((b.jsonSchema||b.schema)&&!b.format)return a.lookupValue("format","json");if(b.format)return a.lookupValue("format",b.format)}}function r(a,b,c){return"string"==typeof c?c:!1===c?void 0:a?a.handler(b).instructions:void 0}function s(a,b){if(!b||a.find(a=>a.content.find(a=>a.metadata?.purpose==="output"&&!a.metadata?.pending)))return a;let c={text:b,metadata:{purpose:"output"}},d=a.findIndex(a=>"system"===a.role);if(d<0&&(d=a.map(a=>a.role).lastIndexOf("user")),d<0)return a;let e={...a[d],content:[...a[d].content]},f=e.content.findIndex(a=>a.metadata?.purpose==="output"&&a.metadata?.pending);f>0?e.content.splice(f,1,c):e.content.push(c);let g=[...a];return g.splice(d,1,e),g}let t=[m.jsonFormatter,k.arrayFormatter,o.textFormatter,l.enumFormatter,n.jsonlFormatter];function u(a){for(let b of t)p(a,{name:b.name,...b.config},b.handler)}},24321:(a,b,c)=>{"use strict";c.d(b,{M:()=>e,o:()=>f});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return d(b,a),b}(Error);function f(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new e("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}},24346:(a,b,c)=>{"use strict";let d=/\s+/g;class e{constructor(a,b){if(b=g(b),a instanceof e)if(!!b.loose===a.loose&&!!b.includePrerelease===a.includePrerelease)return a;else return new e(a.raw,b);if(a instanceof h)return this.raw=a.value,this.set=[[a]],this.formatted=void 0,this;if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=a.trim().replace(d," "),this.set=this.raw.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let a=this.set[0];if(this.set=this.set.filter(a=>!r(a[0])),0===this.set.length)this.set=[a];else if(this.set.length>1){for(let a of this.set)if(1===a.length&&s(a[0])){this.set=[a];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let a=0;a<this.set.length;a++){a>0&&(this.formatted+="||");let b=this.set[a];for(let a=0;a<b.length;a++)a>0&&(this.formatted+=" "),this.formatted+=b[a].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(a){let b=((this.options.includePrerelease&&p)|(this.options.loose&&q))+":"+a,c=f.get(b);if(c)return c;let d=this.options.loose,e=d?k[l.HYPHENRANGELOOSE]:k[l.HYPHENRANGE];i("hyphen replace",a=a.replace(e,E(this.options.includePrerelease))),i("comparator trim",a=a.replace(k[l.COMPARATORTRIM],m)),i("tilde trim",a=a.replace(k[l.TILDETRIM],n)),i("caret trim",a=a.replace(k[l.CARETTRIM],o));let g=a.split(" ").map(a=>u(a,this.options)).join(" ").split(/\s+/).map(a=>D(a,this.options));d&&(g=g.filter(a=>(i("loose invalid filter",a,this.options),!!a.match(k[l.COMPARATORLOOSE])))),i("range list",g);let j=new Map;for(let a of g.map(a=>new h(a,this.options))){if(r(a))return[a];j.set(a.value,a)}j.size>1&&j.has("")&&j.delete("");let s=[...j.values()];return f.set(b,s),s}intersects(a,b){if(!(a instanceof e))throw TypeError("a Range is required");return this.set.some(c=>t(c,b)&&a.set.some(a=>t(a,b)&&c.every(c=>a.every(a=>c.intersects(a,b)))))}test(a){if(!a)return!1;if("string"==typeof a)try{a=new j(a,this.options)}catch(a){return!1}for(let b=0;b<this.set.length;b++)if(F(this.set[b],a,this.options))return!0;return!1}}a.exports=e;let f=new(c(92869)),g=c(47586),h=c(50403),i=c(50627),j=c(78871),{safeRe:k,t:l,comparatorTrimReplace:m,tildeTrimReplace:n,caretTrimReplace:o}=c(40329),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:q}=c(45053),r=a=>"<0.0.0-0"===a.value,s=a=>""===a.value,t=(a,b)=>{let c=!0,d=a.slice(),e=d.pop();for(;c&&d.length;)c=d.every(a=>e.intersects(a,b)),e=d.pop();return c},u=(a,b)=>(i("comp",a=a.replace(k[l.BUILD],""),b),i("caret",a=y(a,b)),i("tildes",a=w(a,b)),i("xrange",a=A(a,b)),i("stars",a=C(a,b)),a),v=a=>!a||"x"===a.toLowerCase()||"*"===a,w=(a,b)=>a.trim().split(/\s+/).map(a=>x(a,b)).join(" "),x=(a,b)=>{let c=b.loose?k[l.TILDELOOSE]:k[l.TILDE];return a.replace(c,(b,c,d,e,f)=>{let g;return i("tilde",a,b,c,d,e,f),v(c)?g="":v(d)?g=`>=${c}.0.0 <${+c+1}.0.0-0`:v(e)?g=`>=${c}.${d}.0 <${c}.${+d+1}.0-0`:f?(i("replaceTilde pr",f),g=`>=${c}.${d}.${e}-${f} <${c}.${+d+1}.0-0`):g=`>=${c}.${d}.${e} <${c}.${+d+1}.0-0`,i("tilde return",g),g})},y=(a,b)=>a.trim().split(/\s+/).map(a=>z(a,b)).join(" "),z=(a,b)=>{i("caret",a,b);let c=b.loose?k[l.CARETLOOSE]:k[l.CARET],d=b.includePrerelease?"-0":"";return a.replace(c,(b,c,e,f,g)=>{let h;return i("caret",a,b,c,e,f,g),v(c)?h="":v(e)?h=`>=${c}.0.0${d} <${+c+1}.0.0-0`:v(f)?h="0"===c?`>=${c}.${e}.0${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.0${d} <${+c+1}.0.0-0`:g?(i("replaceCaret pr",g),h="0"===c?"0"===e?`>=${c}.${e}.${f}-${g} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}-${g} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f}-${g} <${+c+1}.0.0-0`):(i("no pr"),h="0"===c?"0"===e?`>=${c}.${e}.${f}${d} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f} <${+c+1}.0.0-0`),i("caret return",h),h})},A=(a,b)=>(i("replaceXRanges",a,b),a.split(/\s+/).map(a=>B(a,b)).join(" ")),B=(a,b)=>{a=a.trim();let c=b.loose?k[l.XRANGELOOSE]:k[l.XRANGE];return a.replace(c,(c,d,e,f,g,h)=>{i("xRange",a,c,d,e,f,g,h);let j=v(e),k=j||v(f),l=k||v(g),m=l;return"="===d&&m&&(d=""),h=b.includePrerelease?"-0":"",j?c=">"===d||"<"===d?"<0.0.0-0":"*":d&&m?(k&&(f=0),g=0,">"===d?(d=">=",k?(e=+e+1,f=0):f=+f+1,g=0):"<="===d&&(d="<",k?e=+e+1:f=+f+1),"<"===d&&(h="-0"),c=`${d+e}.${f}.${g}${h}`):k?c=`>=${e}.0.0${h} <${+e+1}.0.0-0`:l&&(c=`>=${e}.${f}.0${h} <${e}.${+f+1}.0-0`),i("xRange return",c),c})},C=(a,b)=>(i("replaceStars",a,b),a.trim().replace(k[l.STAR],"")),D=(a,b)=>(i("replaceGTE0",a,b),a.trim().replace(k[b.includePrerelease?l.GTE0PRE:l.GTE0],"")),E=a=>(b,c,d,e,f,g,h,i,j,k,l,m)=>(c=v(d)?"":v(e)?`>=${d}.0.0${a?"-0":""}`:v(f)?`>=${d}.${e}.0${a?"-0":""}`:g?`>=${c}`:`>=${c}${a?"-0":""}`,i=v(j)?"":v(k)?`<${+j+1}.0.0-0`:v(l)?`<${j}.${+k+1}.0-0`:m?`<=${j}.${k}.${l}-${m}`:a?`<${j}.${k}.${+l+1}-0`:`<=${i}`,`${c} ${i}`.trim()),F=(a,b,c)=>{for(let c=0;c<a.length;c++)if(!a[c].test(b))return!1;if(b.prerelease.length&&!c.includePrerelease){for(let c=0;c<a.length;c++)if(i(a[c].semver),a[c].semver!==h.ANY&&a[c].semver.prerelease.length>0){let d=a[c].semver;if(d.major===b.major&&d.minor===b.minor&&d.patch===b.patch)return!0}return!1}return!0}},24405:(a,b,c)=>{"use strict";c.d(b,{G:()=>e,P:()=>d});var d=function(){function a(){}return a.prototype.emit=function(a){},a}(),e=new d},24774:(a,b,c)=>{"use strict";c.r(b),c.d(b,{getKeyPairs:()=>h,parseKeyPairsIntoRecord:()=>j,parsePairKeyValue:()=>i,serializeKeyPairs:()=>g});var d=c(11194),e=c(69418),f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function g(a){return a.reduce(function(a,b){var c=""+a+(""!==a?e.EC:"")+b;return c.length>e.kI?a:c},"")}function h(a){return a.getAllEntries().map(function(a){var b=f(a,2),c=b[0],d=b[1],g=encodeURIComponent(c)+"="+encodeURIComponent(d.value);return void 0!==d.metadata&&(g+=e.hN+d.metadata.toString()),g})}function i(a){var b,c=a.split(e.hN);if(!(c.length<=0)){var f=c.shift();if(f){var g=f.indexOf(e.un);if(!(g<=0)){var h=decodeURIComponent(f.substring(0,g).trim()),i=decodeURIComponent(f.substring(g+1).trim());return c.length>0&&(b=(0,d.B)(c.join(e.hN))),{key:h,value:i,metadata:b}}}}}function j(a){return"string"!=typeof a||0===a.length?{}:a.split(e.EC).map(function(a){return i(a)}).filter(function(a){return void 0!==a&&a.value.length>0}).reduce(function(a,b){return a[b.key]=b.value,a},{})}},24818:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=i(c(69686)),f=i(c(21087)),g=i(c(21820)),h=i(c(81630));function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}b.default=function(){function a(){j(this,a)}return d(a,null,[{key:"startsWith",value:function(a,b){return 0===a.indexOf(b)}},{key:"endsWith",value:function(a,b){return a.lastIndexOf(b)===a.length-b.length}},{key:"getRandom64",value:function(){var a=e.default.randomint(),b=this.newBuffer(8);return b.writeUInt32BE(a[0],0),b.writeUInt32BE(a[1],4),b}},{key:"getRandom128",value:function(){var a=e.default.randomint(),b=e.default.randomint(),c=this.newBuffer(16);return c.writeUInt32BE(a[0],0),c.writeUInt32BE(a[1],4),c.writeUInt32BE(b[0],8),c.writeUInt32BE(b[1],12),c}},{key:"encodeInt64",value:function(a){return new f.default(a).toBuffer()}},{key:"removeLeadingZeros",value:function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)if("0"===a.charAt(d))b++;else break;return a.substring(b)}},{key:"myIp",value:function(){var a="0.0.0.0",b=g.default.networkInterfaces(),c=Object.keys(b);c:for(var d=0;d<c.length;d++)for(var e=b[c[d]],f=0;f<e.length;f++)if("IPv4"===e[f].family&&!e[f].internal){a=e[f].address;break c}return a}},{key:"clone",value:function(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}},{key:"convertObjectToTags",value:function(a){var b=[];for(var c in a){var d=a[c];Object.prototype.hasOwnProperty.call(a,c)&&b.push({key:c,value:d})}return b}},{key:"httpGet",value:function(a,b,c,d,e){h.default.get({host:a,port:b,path:c},function(a){a.setEncoding("utf8");var b="";a.on("data",function(a){b+=a}),a.on("end",function(){d(b)})}).on("error",function(a){e(a)})}},{key:"newBufferFromHex",value:function(a){var b="hex";return Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from(a,b):new Buffer(a,b)}},{key:"newBuffer",value:function(a){if(Buffer.alloc)return Buffer.alloc(a);var b=new Buffer(a);return b.fill(0),b}},{key:"countdownCallback",value:function(a,b){var c=0;return function(){++c>=a&&b&&b()}}}]),a}()},24847:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Registry:()=>k.Registry}),a.exports=i(j);var k=c(56280)},25020:(a,b,c)=>{"use strict";var d;c.d(b,{n:()=>d}),function(a){a[a.HISTOGRAM=0]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",a[a.GAUGE=2]="GAUGE",a[a.SUM=3]="SUM"}(d||(d={}))},25088:(a,b,c)=>{"use strict";var d=c(75572),e=c(73355),f=c(12412),g=/[_.-](\w|$)/g;function h(a){return a.replace(g,i)}function i(a,b){return b.toUpperCase()}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=function a(a){f(a,"TypedError: must specify options"),f(a.type,"TypedError: must specify options.type"),f(a.message,"TypedError: must specify options.message"),f(!j(a,"fullType"),"TypedError: fullType field is reserved");var b=a.message;if(a.type&&!a.name){var c=h(a.type)+"Error";a.name=c[0].toUpperCase()+c.substr(1)}return e(g,a),g._name=a.name,g;function g(c){var f=Error();Object.defineProperty(f,"type",{value:f.type,enumerable:!0,writable:!0,configurable:!0});var g=e({},a,c);return g.fullType||(g.fullType=g.type),e(f,g),c&&c.message?f.message=d(c.message,g):b&&(f.message=d(b,g)),f}}},25165:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(94072),e=c(4581),f=c(80017),g=c(49073),h=c(93952),i=c(64488),j=c(52800),k=c(95351),l=c(99828),m=c(80296),n=c(44366),o=c(44056),p=c(12118),q=c(20523),r=c(27306),s=c(6677);b.default=function(a=!1){let b=[n.default,o.default,p.default,q.default,r.default,s.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},25283:(a,b,c)=>{"use strict";var d=c(42218);let e=Symbol("break visit"),f=Symbol("skip children"),g=Symbol("remove node");function h(a,b){let c=l(b);d.isDocument(a)?i(null,a.contents,c,Object.freeze([a]))===g&&(a.contents=null):i(null,a,c,Object.freeze([]))}function i(a,b,c,f){let h=m(a,b,c,f);if(d.isNode(h)||d.isPair(h))return n(a,f,h),i(a,h,c,f);if("symbol"!=typeof h){if(d.isCollection(b)){f=Object.freeze(f.concat(b));for(let a=0;a<b.items.length;++a){let d=i(a,b.items[a],c,f);if("number"==typeof d)a=d-1;else{if(d===e)return e;d===g&&(b.items.splice(a,1),a-=1)}}}else if(d.isPair(b)){f=Object.freeze(f.concat(b));let a=i("key",b.key,c,f);if(a===e)return e;a===g&&(b.key=null);let d=i("value",b.value,c,f);if(d===e)return e;d===g&&(b.value=null)}}return h}async function j(a,b){let c=l(b);d.isDocument(a)?await k(null,a.contents,c,Object.freeze([a]))===g&&(a.contents=null):await k(null,a,c,Object.freeze([]))}async function k(a,b,c,f){let h=await m(a,b,c,f);if(d.isNode(h)||d.isPair(h))return n(a,f,h),k(a,h,c,f);if("symbol"!=typeof h){if(d.isCollection(b)){f=Object.freeze(f.concat(b));for(let a=0;a<b.items.length;++a){let d=await k(a,b.items[a],c,f);if("number"==typeof d)a=d-1;else{if(d===e)return e;d===g&&(b.items.splice(a,1),a-=1)}}}else if(d.isPair(b)){f=Object.freeze(f.concat(b));let a=await k("key",b.key,c,f);if(a===e)return e;a===g&&(b.key=null);let d=await k("value",b.value,c,f);if(d===e)return e;d===g&&(b.value=null)}}return h}function l(a){return"object"==typeof a&&(a.Collection||a.Node||a.Value)?Object.assign({Alias:a.Node,Map:a.Node,Scalar:a.Node,Seq:a.Node},a.Value&&{Map:a.Value,Scalar:a.Value,Seq:a.Value},a.Collection&&{Map:a.Collection,Seq:a.Collection},a):a}function m(a,b,c,e){return"function"==typeof c?c(a,b,e):d.isMap(b)?c.Map?.(a,b,e):d.isSeq(b)?c.Seq?.(a,b,e):d.isPair(b)?c.Pair?.(a,b,e):d.isScalar(b)?c.Scalar?.(a,b,e):d.isAlias(b)?c.Alias?.(a,b,e):void 0}function n(a,b,c){let e=b[b.length-1];if(d.isCollection(e))e.items[a]=c;else if(d.isPair(e))"key"===a?e.key=c:e.value=c;else if(d.isDocument(e))e.contents=c;else{let a=d.isAlias(e)?"alias":"scalar";throw Error(`Cannot replace node with ${a} parent`)}}h.BREAK=e,h.SKIP=f,h.REMOVE=g,j.BREAK=e,j.SKIP=f,j.REMOVE=g,b.visit=h,b.visitAsync=j},25399:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CustomPartSchema:()=>v,DataPartSchema:()=>u,Document:()=>A,DocumentDataSchema:()=>y,MediaPartSchema:()=>p,MediaSchema:()=>o,PartSchema:()=>x,ReasoningPartSchema:()=>n,ResourcePartSchema:()=>w,TextPartSchema:()=>m,ToolRequestPartSchema:()=>r,ToolRequestSchema:()=>q,ToolResponsePartSchema:()=>t,ToolResponseSchema:()=>s,checkUniqueDocuments:()=>B}),a.exports=i(j);var k=c(40979);let l=k.z.object({text:k.z.never().optional(),media:k.z.never().optional(),toolRequest:k.z.never().optional(),toolResponse:k.z.never().optional(),data:k.z.unknown().optional(),metadata:k.z.record(k.z.unknown()).optional(),custom:k.z.record(k.z.unknown()).optional(),reasoning:k.z.never().optional(),resource:k.z.never().optional()}),m=l.extend({text:k.z.string()}),n=l.extend({reasoning:k.z.string()}),o=k.z.object({contentType:k.z.string().optional(),url:k.z.string()}),p=l.extend({media:o}),q=k.z.object({ref:k.z.string().optional(),name:k.z.string(),input:k.z.unknown().optional()}),r=l.extend({toolRequest:q}),s=k.z.object({ref:k.z.string().optional(),name:k.z.string(),output:k.z.unknown().optional()}),t=l.extend({toolResponse:s}),u=l.extend({data:k.z.unknown()}),v=l.extend({custom:k.z.record(k.z.any())}),w=l.extend({resource:k.z.object({uri:k.z.string()})}),x=k.z.union([m,p]),y=k.z.object({content:k.z.array(x),metadata:k.z.record(k.z.string(),k.z.any()).optional()});function z(a){return void 0===a?a:JSON.parse(JSON.stringify(a))}class A{content;metadata;constructor(a){this.content=z(a.content),this.metadata=z(a.metadata)}static fromText(a,b){return new A({content:[{text:a}],metadata:b})}static fromMedia(a,b,c){return new A({content:[{media:{contentType:b,url:a}}],metadata:c})}static fromData(a,b,c){return"text"===b?this.fromText(a,c):this.fromMedia(a,b,c)}get text(){return this.content.map(a=>a.text||"").join("")}get media(){return this.content.filter(a=>a.media&&!a.text).map(a=>a.media)}get data(){return this.text?this.text:this.media?this.media[0].url:""}get dataType(){return this.text?"text":this.media&&this.media[0].contentType?this.media[0].contentType:void 0}toJSON(){return{content:z(this.content),metadata:z(this.metadata)}}getEmbeddingDocuments(a){let b=[];for(let c of a){let a=this.toJSON();c.metadata&&(a.metadata||(a.metadata={}),a.metadata.embedMetadata=c.metadata),b.push(new A(a))}return B(b),b}}function B(a){let b=new Set;for(let c of a){let a=JSON.stringify(c);if(b.has(a))return console.warn("Warning: embedding documents are not unique. Are you missing embed metadata?"),!1;b.add(a)}return!0}},25479:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getNextCallNumber=d;let c=0;function d(){return c++}},25835:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GenerateResponseChunk:()=>m}),a.exports=i(j);var k=c(40979),l=c(44175);class m{index;role;content;custom;previousChunks;parser;constructor(a,b){this.content=a.content||[],this.custom=a.custom,this.previousChunks=b.previousChunks?[...b.previousChunks]:void 0,this.index=b.index,this.role=b.role,this.parser=b.parser}get text(){return this.content.map(a=>a.text||"").join("")}get reasoning(){return this.content.map(a=>a.reasoning||"").join("")}get accumulatedText(){return this.previousText+this.text}get previousText(){if(!this.previousChunks)throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot compose accumulated text without previous chunks."});return this.previousChunks?.map(a=>a.content.map(a=>a.text||"").join("")).join("")}get media(){return this.content.find(a=>a.media)?.media||null}get data(){return this.content.find(a=>a.data)?.data}get toolRequests(){return this.content.filter(a=>!!a.toolRequest)}get output(){return this.parser?this.parser(this):this.data||(0,l.extractJson)(this.accumulatedText)}toJSON(){let a={role:this.role,index:this.index,content:this.content};return this.custom&&(a.custom=this.custom),a}}},25967:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;let d=c(96535),e=c(71367),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;if(!Array.isArray(d))return void(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');g(a,d)}};function g(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let e=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(e),()=>k(e)),a.ok(e)}function k(f){c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},f),i.allErrors||c.if((0,d.not)(f),()=>c.break())})}}b.validateAdditionalItems=g,b.default=f},26061:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>bb,AlwaysOnSampler:()=>bc,AnchoredClock:()=>B,BindOnceFuture:()=>bP,CompositePropagator:()=>aN,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>ay,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>ax,DEFAULT_ENVIRONMENT:()=>aB,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>az,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>aA,ExportResultCode:()=>d,ParentBasedSampler:()=>bd,RPCType:()=>g,RandomIdGenerator:()=>ai,SDK_INFO:()=>an,TRACE_PARENT_HEADER:()=>a0,TRACE_STATE_HEADER:()=>a1,TimeoutError:()=>bG,TraceIdRatioBasedSampler:()=>be,TraceState:()=>a_,TracesSamplerValues:()=>f,VERSION:()=>al,W3CBaggagePropagator:()=>A,W3CTraceContextPropagator:()=>a5,_globalThis:()=>ao,addHrTimes:()=>ad,baggageUtils:()=>bR,callWithTimeout:()=>bH,deleteRPCMetadata:()=>a8,getEnv:()=>aI,getEnvWithoutDefaults:()=>aJ,getRPCMetadata:()=>a9,getTimeOrigin:()=>V,globalErrorHandler:()=>P,hexToBase64:()=>aK,hexToBinary:()=>af,hrTime:()=>W,hrTimeDuration:()=>Y,hrTimeToMicroseconds:()=>aa,hrTimeToMilliseconds:()=>_,hrTimeToNanoseconds:()=>$,hrTimeToTimeStamp:()=>Z,internal:()=>bS,isAttributeKey:()=>G,isAttributeValue:()=>H,isTimeInput:()=>ac,isTimeInputHrTime:()=>ab,isTracingSuppressed:()=>m,isUrlIgnored:()=>bK,isWrapped:()=>bL,loggingErrorHandler:()=>K,merge:()=>bw,millisToHrTime:()=>U,otperformance:()=>Q,parseEnvironment:()=>aH,parseTraceParent:()=>a4,sanitizeAttributes:()=>F,setGlobalErrorHandler:()=>O,setRPCMetadata:()=>a7,suppressTracing:()=>k,timeInputToHrTime:()=>X,unrefTimer:()=>aL,unsuppressTracing:()=>l,urlMatches:()=>bJ});var d,e,f,g,h=c(37002),i=c(76956),j=(0,i.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function k(a){return a.setValue(j,!0)}function l(a){return a.deleteValue(j)}function m(a){return!0===a.getValue(j)}var n="=",o=";",p=",",q="baggage",r=180,s=4096,t=8192,u=c(11194),v=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function w(a){return a.reduce(function(a,b){var c=""+a+(""!==a?p:"")+b;return c.length>t?a:c},"")}function x(a){return a.getAllEntries().map(function(a){var b=v(a,2),c=b[0],d=b[1],e=encodeURIComponent(c)+"="+encodeURIComponent(d.value);return void 0!==d.metadata&&(e+=o+d.metadata.toString()),e})}function y(a){var b,c=a.split(o);if(!(c.length<=0)){var d=c.shift();if(d){var e=d.indexOf(n);if(!(e<=0)){var f=decodeURIComponent(d.substring(0,e).trim()),g=decodeURIComponent(d.substring(e+1).trim());return c.length>0&&(b=(0,u.B)(c.join(o))),{key:f,value:g,metadata:b}}}}}function z(a){return"string"!=typeof a||0===a.length?{}:a.split(p).map(function(a){return y(a)}).filter(function(a){return void 0!==a&&a.value.length>0}).reduce(function(a,b){return a[b.key]=b.value,a},{})}var A=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=h.$.getBaggage(a);if(!(!d||m(a))){var e=x(d).filter(function(a){return a.length<=s}).slice(0,r),f=w(e);f.length>0&&c.set(b,q,f)}},a.prototype.extract=function(a,b,c){var d=c.get(b,q),e=Array.isArray(d)?d.join(p):d;if(!e)return a;var f={};return 0===e.length||(e.split(p).forEach(function(a){var b=y(a);if(b){var c={value:b.value};b.metadata&&(c.metadata=b.metadata),f[b.key]=c}}),0===Object.entries(f).length)?a:h.$.setBaggage(a,h.$.createBaggage(f))},a.prototype.fields=function(){return[q]},a}(),B=function(){function a(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}return a.prototype.now=function(){var a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a},a}(),C=c(79361),D=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function F(a){var b,c,d={};if("object"!=typeof a||null==a)return d;try{for(var e=D(Object.entries(a)),f=e.next();!f.done;f=e.next()){var g=E(f.value,2),h=g[0],i=g[1];if(!G(h)){C.s.warn("Invalid attribute key: "+h);continue}if(!H(i)){C.s.warn("Invalid attribute value set for key: "+h);continue}Array.isArray(i)?d[h]=i.slice():d[h]=i}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}function G(a){return"string"==typeof a&&a.length>0}function H(a){return null==a||(Array.isArray(a)?I(a):J(a))}function I(a){try{for(var b,c,d,e=D(a),f=e.next();!f.done;f=e.next()){var g=f.value;if(null!=g){if(!d){if(J(g)){d=typeof g;continue}return!1}if(typeof g!==d)return!1}}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return!0}function J(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}function K(){return function(a){C.s.error(L(a))}}function L(a){return"string"==typeof a?a:JSON.stringify(M(a))}function M(a){for(var b={},c=a;null!==c;)Object.getOwnPropertyNames(c).forEach(function(a){if(!b[a]){var d=c[a];d&&(b[a]=String(d))}}),c=Object.getPrototypeOf(c);return b}var N=K();function O(a){N=a}function P(a){try{N(a)}catch(a){}}var Q=c(74998).performance,R=9,S=1e6,T=1e9;function U(a){return[Math.trunc(a/1e3),Math.round(a%1e3*S)]}function V(){var a=Q.timeOrigin;if("number"!=typeof a){var b=Q;a=b.timing&&b.timing.fetchStart}return a}function W(a){return ad(U(V()),U("number"==typeof a?a:Q.now()))}function X(a){if(ab(a))return a;if("number"==typeof a)if(a<V())return W(a);else return U(a);if(a instanceof Date)return U(a.getTime());throw TypeError("Invalid input type")}function Y(a,b){var c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=T),[c,d]}function Z(a){var b=R,c=""+"0".repeat(b)+a[1]+"Z",d=c.substring(c.length-b-1);return new Date(1e3*a[0]).toISOString().replace("000Z",d)}function $(a){return a[0]*T+a[1]}function _(a){return 1e3*a[0]+a[1]/1e6}function aa(a){return 1e6*a[0]+a[1]/1e3}function ab(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function ac(a){return ab(a)||"number"==typeof a||a instanceof Date}function ad(a,b){var c=[a[0]+b[0],a[1]+b[1]];return c[1]>=T&&(c[1]-=T,c[0]+=1),c}function ae(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}function af(a){for(var b=new Uint8Array(a.length/2),c=0,d=0;d<a.length;d+=2){var e=ae(a.charCodeAt(d)),f=ae(a.charCodeAt(d+1));b[c++]=e<<4|f}return b}!function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(d||(d={}));var ag=8,ah=16,ai=function(){return function(){this.generateTraceId=ak(ah),this.generateSpanId=ak(ag)}}(),aj=Buffer.allocUnsafe(ah);function ak(a){return function(){for(var b=0;b<a/4;b++)aj.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(aj[b]>0)break;else b===a-1&&(aj[a-1]=1);return aj.toString("hex",0,a)}}var al="1.30.1",am=c(1302),an=((e={})[am.$L]="opentelemetry",e[am.lb]="node",e[am.Pl]=am.wE,e[am.y$]=al,e),ao="object"==typeof globalThis?globalThis:global,ap=c(38380);!function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(f||(f={}));var aq=",",ar=["OTEL_SDK_DISABLED"];function as(a){return ar.indexOf(a)>-1}var at=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function au(a){return at.indexOf(a)>-1}var av=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function aw(a){return av.indexOf(a)>-1}var ax=1/0,ay=128,az=128,aA=128,aB={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:ap.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ax,OTEL_ATTRIBUTE_COUNT_LIMIT:ay,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ax,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ay,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ax,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ay,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:az,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:aA,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:f.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function aC(a,b,c){if(void 0!==c[a]){var d=String(c[a]);b[a]="true"===d.toLowerCase()}}function aD(a,b,c,d,e){if(void 0===d&&(d=-1/0),void 0===e&&(e=1/0),void 0!==c[a]){var f=Number(c[a]);isNaN(f)||(f<d?b[a]=d:f>e?b[a]=e:b[a]=f)}}function aE(a,b,c,d){void 0===d&&(d=aq);var e=c[a];"string"==typeof e&&(b[a]=e.split(d).map(function(a){return a.trim()}))}var aF={ALL:ap.u.ALL,VERBOSE:ap.u.VERBOSE,DEBUG:ap.u.DEBUG,INFO:ap.u.INFO,WARN:ap.u.WARN,ERROR:ap.u.ERROR,NONE:ap.u.NONE};function aG(a,b,c){var d=c[a];if("string"==typeof d){var e=aF[d.toUpperCase()];null!=e&&(b[a]=e)}}function aH(a){var b={};for(var c in aB){var d=c;if("OTEL_LOG_LEVEL"===d)aG(d,b,a);else if(as(d))aC(d,b,a);else if(au(d))aD(d,b,a);else if(aw(d))aE(d,b,a);else{var e=a[d];null!=e&&(b[d]=String(e))}}return b}function aI(){return Object.assign({},aB,aH(process.env))}function aJ(){return aH(process.env)}function aK(a){return Buffer.from(af(a)).toString("base64")}function aL(a){a.unref()}var aM=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},aN=function(){function a(a){var b;void 0===a&&(a={}),this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return"function"==typeof a.fields?a.fields():[]}).reduce(function(a,b){return a.concat(b)},[])))}return a.prototype.inject=function(a,b,c){var d,e;try{for(var f=aM(this._propagators),g=f.next();!g.done;g=f.next()){var h=g.value;try{h.inject(a,b,c)}catch(a){C.s.warn("Failed to inject with "+h.constructor.name+". Err: "+a.message)}}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}},a.prototype.extract=function(a,b,c){return this._propagators.reduce(function(a,d){try{return d.extract(a,b,c)}catch(a){C.s.warn("Failed to extract with "+d.constructor.name+". Err: "+a.message)}return a},a)},a.prototype.fields=function(){return this._fields.slice()},a}(),aO=c(88018),aP=c(58746),aQ=c(54616),aR="[_0-9a-z-*/]",aS=RegExp("^(?:[a-z]"+aR+"{0,255}|"+("[a-z0-9]"+aR+"{0,240}@[a-z]"+aR)+"{0,13})$"),aT=/^[ -~]{0,255}[!-~]$/,aU=/,|=/;function aV(a){return aS.test(a)}function aW(a){return aT.test(a)&&!aU.test(a)}var aX=32,aY=512,aZ=",",a$="=",a_=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+a$+a.get(c)),b},[]).join(aZ)},a.prototype._parse=function(a){!(a.length>aY)&&(this._internalState=a.split(aZ).reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf(a$);if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);aV(e)&&aW(f)&&a.set(e,f)}return a},new Map),this._internalState.size>aX&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,aX))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}(),a0="traceparent",a1="tracestate",a2="00",a3=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a4(a){var b=a3.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}var a5=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=aO.u.getSpanContext(a);if(!(!d||m(a))&&(0,aP.YA)(d)){var e=a2+"-"+d.traceId+"-"+d.spanId+"-0"+Number(d.traceFlags||aQ.X.NONE).toString(16);c.set(b,a0,e),d.traceState&&c.set(b,a1,d.traceState.serialize())}},a.prototype.extract=function(a,b,c){var d=c.get(b,a0);if(!d)return a;var e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;var f=a4(e);if(!f)return a;f.isRemote=!0;var g=c.get(b,a1);if(g){var h=Array.isArray(g)?g.join(","):g;f.traceState=new a_("string"==typeof h?h:void 0)}return aO.u.setSpanContext(a,f)},a.prototype.fields=function(){return[a0,a1]},a}(),a6=(0,i.n)("OpenTelemetry SDK Context Key RPC_METADATA");function a7(a,b){return a.setValue(a6,b)}function a8(a){return a.deleteValue(a6)}function a9(a){return a.getValue(a6)}!function(a){a.HTTP="http"}(g||(g={}));var ba=c(37425),bb=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:ba.i.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),bc=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:ba.i.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),bd=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||(P(Error("ParentBasedSampler must have a root sampler configured")),this._root=new bc),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new bc,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new bb,this._localParentSampled=null!=(d=a.localParentSampled)?d:new bc,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new bb}return a.prototype.shouldSample=function(a,b,c,d,e,f){var g=aO.u.getSpanContext(a);return g&&(0,aP.YA)(g)?g.isRemote?g.traceFlags&aQ.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):g.traceFlags&aQ.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),be=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,aP.hX)(b)&&this._accumulate(b)<this._upperBound?ba.i.RECORD_AND_SAMPLED:ba.i.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),bf="[object Object]",bg="[object Null]",bh="[object Undefined]",bi=Function.prototype.toString,bj=bi.call(Object),bk=bp(Object.getPrototypeOf,Object),bl=Object.prototype,bm=bl.hasOwnProperty,bn=Symbol?Symbol.toStringTag:void 0,bo=bl.toString;function bp(a,b){return function(c){return a(b(c))}}function bq(a){if(!br(a)||bs(a)!==bf)return!1;var b=bk(a);if(null===b)return!0;var c=bm.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&bi.call(c)===bj}function br(a){return null!=a&&"object"==typeof a}function bs(a){return null==a?void 0===a?bh:bg:bn&&bn in Object(a)?bt(a):bu(a)}function bt(a){var b=bm.call(a,bn),c=a[bn],d=!1;try{a[bn]=void 0,d=!0}catch(a){}var e=bo.call(a);return d&&(b?a[bn]=c:delete a[bn]),e}function bu(a){return bo.call(a)}var bv=20;function bw(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=a.shift(),d=new WeakMap;a.length>0;)c=by(c,a.shift(),0,d);return c}function bx(a){return bA(a)?a.slice():a}function by(a,b,c,d){if(void 0===c&&(c=0),!(c>bv)){if(c++,bD(a)||bD(b)||bB(b))e=bx(b);else if(bA(a)){if(e=a.slice(),bA(b))for(var e,f=0,g=b.length;f<g;f++)e.push(bx(b[f]));else if(bC(b))for(var h=Object.keys(b),f=0,g=h.length;f<g;f++){var i=h[f];e[i]=bx(b[i])}}else if(bC(a))if(bC(b)){if(!bE(a,b))return b;e=Object.assign({},a);for(var h=Object.keys(b),f=0,g=h.length;f<g;f++){var i=h[f],j=b[i];if(bD(j))void 0===j?delete e[i]:e[i]=j;else{var k=e[i],l=j;if(bz(a,i,d)||bz(b,i,d))delete e[i];else{if(bC(k)&&bC(l)){var m=d.get(k)||[],n=d.get(l)||[];m.push({obj:a,key:i}),n.push({obj:b,key:i}),d.set(k,m),d.set(l,n)}e[i]=by(e[i],j,c,d)}}}}else e=b;return e}}function bz(a,b,c){for(var d=c.get(a[b])||[],e=0,f=d.length;e<f;e++){var g=d[e];if(g.key===b&&g.obj===a)return!0}return!1}function bA(a){return Array.isArray(a)}function bB(a){return"function"==typeof a}function bC(a){return!bD(a)&&!bA(a)&&!bB(a)&&"object"==typeof a}function bD(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||void 0===a||a instanceof Date||a instanceof RegExp||null===a}function bE(a,b){return!!bq(a)&&!!bq(b)}var bF=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bG=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return bF(b,a),b}(Error);function bH(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new bG("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}var bI=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function bJ(a,b){return"string"==typeof b?a===b:!!a.match(b)}function bK(a,b){var c,d;if(!b)return!1;try{for(var e=bI(b),f=e.next();!f.done;f=e.next()){var g=f.value;if(bJ(a,g))return!0}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!1}function bL(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var bM=function(){function a(){var a=this;this._promise=new Promise(function(b,c){a._resolve=b,a._reject=c})}return Object.defineProperty(a.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),a.prototype.resolve=function(a){this._resolve(a)},a.prototype.reject=function(a){this._reject(a)},a}(),bN=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bO=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},bP=function(){function a(a,b){this._callback=a,this._that=b,this._isCalled=!1,this._deferred=new bM}return Object.defineProperty(a.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),a.prototype.call=function(){for(var a,b=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((a=this._callback).call.apply(a,bO([this._that],bN(c),!1))).then(function(a){return b._deferred.resolve(a)},function(a){return b._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},a}(),bQ=c(20531),bR={getKeyPairs:x,serializeKeyPairs:w,parseKeyPairsIntoRecord:z,parsePairKeyValue:y},bS={_export:function(a,b){return new Promise(function(c){bQ._.with(k(bQ._.active()),function(){a.export(b,function(a){c(a)})})})}}},26083:(a,b,c)=>{"use strict";c.d(b,{D:()=>g});var d=c(79361),e=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},f=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};function g(){return e(this,void 0,void 0,function(){return f(this,function(a){return d.s.debug("could not read machine-id: unsupported platform"),[2,""]})})}},26220:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c)=>{let e=new d(a,c),f=new d(b,c);return e.compare(f)||e.compareBuild(f)}},26469:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OTLPTraceExporter=void 0;let d=c(41625),e=c(95104),f=c(46727),g=c(21370),h={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${g.VERSION}`};class i extends e.OTLPGRPCExporterNodeBase{constructor(a={}){super(a,Object.assign(Object.assign({},h),d.baggageUtils.parseKeyPairsIntoRecord((0,d.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",f.ProtobufTraceSerializer)}getDefaultUrl(a){return(0,e.validateAndNormalizeUrl)(this.getUrlFromConfig(a))}getUrlFromConfig(a){return"string"==typeof a.url?a.url:(0,d.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,d.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||e.DEFAULT_COLLECTOR_URL}}b.OTLPTraceExporter=i},26850:function(a,b,c){"use strict";var d=this&&this.__runInitializers||function(a,b,c){for(var d=arguments.length>2,e=0;e<b.length;e++)c=d?b[e].call(a,c):b[e].call(a);return d?c:void 0},e=this&&this.__esDecorate||function(a,b,c,d,e,f){function g(a){if(void 0!==a&&"function"!=typeof a)throw TypeError("Function expected");return a}for(var h,i=d.kind,j="getter"===i?"get":"setter"===i?"set":"value",k=!b&&a?d.static?a:a.prototype:null,l=b||(k?Object.getOwnPropertyDescriptor(k,d.name):{}),m=!1,n=c.length-1;n>=0;n--){var o={};for(var p in d)o[p]="access"===p?{}:d[p];for(var p in d.access)o.access[p]=d.access[p];o.addInitializer=function(a){if(m)throw TypeError("Cannot add initializers after decoration has completed");f.push(g(a||null))};var q=(0,c[n])("accessor"===i?{get:l.get,set:l.set}:l[j],o);if("accessor"===i){if(void 0===q)continue;if(null===q||"object"!=typeof q)throw TypeError("Object expected");(h=g(q.get))&&(l.get=h),(h=g(q.set))&&(l.set=h),(h=g(q.init))&&e.unshift(h)}else(h=g(q))&&("field"===i?e.unshift(h):l[j]=h)}k&&Object.defineProperty(k,d.name,l),m=!0};Object.defineProperty(b,"__esModule",{value:!0}),b.Server=void 0;let f=c(73496),g=c(28354),h=c(56458),i=c(31539),j=c(65875),k=c(43313),l=c(38702),m=c(41835),n=c(9413),o=c(49682),p=c(53567),q=0x7fffffff,r=0x7fffffff,s=2e4,t=0x7fffffff,{HTTP2_HEADER_PATH:u}=f.constants,v="server",w=Buffer.from("max_age");function x(a){l.trace(h.LogVerbosity.DEBUG,"server_call",a)}function y(){}function z(a){return function(b,c){return g.deprecate(b,a)}}function A(a){return{code:h.Status.UNIMPLEMENTED,details:`The server does not implement the method ${a}`}}function B(a,b){let c=A(b);switch(a){case"unary":return(a,b)=>{b(c,null)};case"clientStream":return(a,b)=>{b(c,null)};case"serverStream":return a=>{a.emit("error",c)};case"bidi":return a=>{a.emit("error",c)};default:throw Error(`Invalid handlerType ${a}`)}}async function C(a,b){let c,d;function e(b,c,d,e){if(b)return void a.sendStatus((0,i.serverErrorToStatus)(b,d));a.sendMessage(c,()=>{a.sendStatus({code:h.Status.OK,details:"OK",metadata:null!=d?d:null})})}let f=null;a.start({onReceiveMetadata(b){d=b,a.startRead()},onReceiveMessage(c){if(f)return void a.sendStatus({code:h.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${b.path}`,metadata:null});f=c,a.startRead()},onReceiveHalfClose(){if(!f)return void a.sendStatus({code:h.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${b.path}`,metadata:null});c=new i.ServerWritableStreamImpl(b.path,a,d,f);try{b.func(c,e)}catch(b){a.sendStatus({code:h.Status.UNKNOWN,details:`Server method handler threw error ${b.message}`,metadata:null})}},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"))}})}function D(a,b){let c;function d(b,c,d,e){if(b)return void a.sendStatus((0,i.serverErrorToStatus)(b,d));a.sendMessage(c,()=>{a.sendStatus({code:h.Status.OK,details:"OK",metadata:null!=d?d:null})})}a.start({onReceiveMetadata(e){c=new i.ServerDuplexStreamImpl(b.path,a,e);try{b.func(c,d)}catch(b){a.sendStatus({code:h.Status.UNKNOWN,details:`Server method handler threw error ${b.message}`,metadata:null})}},onReceiveMessage(a){c.push(a)},onReceiveHalfClose(){c.push(null)},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"),c.destroy())}})}function E(a,b){let c,d,e=null;a.start({onReceiveMetadata(b){d=b,a.startRead()},onReceiveMessage(c){if(e)return void a.sendStatus({code:h.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${b.path}`,metadata:null});e=c,a.startRead()},onReceiveHalfClose(){if(!e)return void a.sendStatus({code:h.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${b.path}`,metadata:null});c=new i.ServerWritableStreamImpl(b.path,a,d,e);try{b.func(c)}catch(b){a.sendStatus({code:h.Status.UNKNOWN,details:`Server method handler threw error ${b.message}`,metadata:null})}},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"),c.destroy())}})}function F(a,b){let c;a.start({onReceiveMetadata(d){c=new i.ServerDuplexStreamImpl(b.path,a,d);try{b.func(c)}catch(b){a.sendStatus({code:h.Status.UNKNOWN,details:`Server method handler threw error ${b.message}`,metadata:null})}},onReceiveMessage(a){c.push(a)},onReceiveHalfClose(){c.push(null)},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"),c.destroy())}})}b.Server=(()=>{var a;let b=[];return a=class{constructor(a){var c,e,f,g,h,i;this.boundPorts=(d(this,b),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=null!=a?a:{},0===this.options["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new o.ChannelzTraceStub,this.callTracker=new o.ChannelzCallTrackerStub,this.listenerChildrenTracker=new o.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new o.ChannelzChildrenTrackerStub):(this.channelzTrace=new o.ChannelzTrace,this.callTracker=new o.ChannelzCallTracker,this.listenerChildrenTracker=new o.ChannelzChildrenTracker,this.sessionChildrenTracker=new o.ChannelzChildrenTracker),this.channelzRef=(0,o.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!=(c=this.options["grpc.max_connection_age_ms"])?c:q,this.maxConnectionAgeGraceMs=null!=(e=this.options["grpc.max_connection_age_grace_ms"])?e:q,this.keepaliveTimeMs=null!=(f=this.options["grpc.keepalive_time_ms"])?f:r,this.keepaliveTimeoutMs=null!=(g=this.options["grpc.keepalive_timeout_ms"])?g:s,this.sessionIdleTimeout=null!=(h=this.options["grpc.max_connection_idle_ms"])?h:t,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=null!=(i=this.options.interceptors)?i:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(a){var b,c,d;let e,f=this.sessions.get(a),g=a.socket,h=g.remoteAddress?(0,m.stringToSubchannelAddress)(g.remoteAddress,g.remotePort):null,i=g.localAddress?(0,m.stringToSubchannelAddress)(g.localAddress,g.localPort):null;if(a.encrypted){let a=g,c=a.getCipher(),d=a.getCertificate(),f=a.getPeerCertificate();e={cipherSuiteStandardName:null!=(b=c.standardName)?b:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else e=null;return{remoteAddress:h,localAddress:i,security:e,remoteName:null,streamsStarted:f.streamTracker.callsStarted,streamsSucceeded:f.streamTracker.callsSucceeded,streamsFailed:f.streamTracker.callsFailed,messagesSent:f.messagesSent,messagesReceived:f.messagesReceived,keepAlivesSent:f.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:f.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:f.lastMessageSentTimestamp,lastMessageReceivedTimestamp:f.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(c=a.state.localWindowSize)?c:null,remoteFlowControlWindow:null!=(d=a.state.remoteWindowSize)?d:null}}trace(a){l.trace(h.LogVerbosity.DEBUG,v,"("+this.channelzRef.id+") "+a)}keepaliveTrace(a){l.trace(h.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+a)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(a,b){if(null===a||"object"!=typeof a||null===b||"object"!=typeof b)throw Error("addService() requires two objects as arguments");let c=Object.keys(a);if(0===c.length)throw Error("Cannot add an empty service to a server");c.forEach(c=>{let d,e,f=a[c];d=f.requestStream?f.responseStream?"bidi":"clientStream":f.responseStream?"serverStream":"unary";let g=b[c];if(void 0===g&&"string"==typeof f.originalName&&(g=b[f.originalName]),e=void 0!==g?g.bind(b):B(d,c),!1===this.register(f.path,e,f.responseSerialize,f.requestDeserialize,d))throw Error(`Method handler for ${f.path} already provided.`)})}removeService(a){if(null===a||"object"!=typeof a)throw Error("removeService() requires object as argument");Object.keys(a).forEach(b=>{let c=a[b];this.unregister(c.path)})}bind(a,b){throw Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(a){return(0,o.registerChannelzSocket)((0,m.subchannelAddressToString)(a),()=>({localAddress:a,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(a){(0,o.unregisterChannelzRef)(a)}createHttp2Server(a){let b;if(a._isSecure()){let c=a._getConstructorOptions(),d=a._getSecureContextOptions(),e=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),c),d),{enableTrace:1===this.options["grpc-node.tls_enable_trace"]}),g=null!==d;this.trace("Initial credentials valid: "+g),(b=f.createSecureServer(e)).prependListener("connection",a=>{g||(this.trace("Dropped connection from "+JSON.stringify(a.address())+" due to unloaded credentials"),a.destroy())}),b.on("secureConnection",a=>{a.on("error",a=>{this.trace("An incoming TLS connection closed with error: "+a.message)})});let i=a=>{if(a){let c=b;try{c.setSecureContext(a)}catch(b){l.log(h.LogVerbosity.ERROR,"Failed to set secure context with error "+b.message),a=null}}g=null!==a,this.trace("Post-update credentials valid: "+g)};a._addWatcher(i),b.on("close",()=>{a._removeWatcher(i)})}else b=f.createServer(this.commonServerOptions);return b.setTimeout(0,y),this._setupHandlers(b,a._getInterceptors()),b}bindOneAddress(a,b){this.trace("Attempting to bind "+(0,m.subchannelAddressToString)(a));let c=this.createHttp2Server(b.credentials);return new Promise((d,e)=>{let f=b=>{this.trace("Failed to bind "+(0,m.subchannelAddressToString)(a)+" with error "+b.message),d({port:"port"in a?a.port:1,error:b.message})};c.once("error",f),c.listen(a,()=>{let a,e=c.address();a="string"==typeof e?{path:e}:{host:e.address,port:e.port};let g=this.experimentalRegisterListenerToChannelz(a);this.listenerChildrenTracker.refChild(g),this.http2Servers.set(c,{channelzRef:g,sessions:new Set,ownsChannelzRef:!0}),b.listeningServers.add(c),this.trace("Successfully bound "+(0,m.subchannelAddressToString)(a)),d({port:"port"in a?a.port:1}),c.removeListener("error",f)})})}async bindManyPorts(a,b){if(0===a.length)return{count:0,port:0,errors:[]};if((0,m.isTcpSubchannelAddress)(a[0])&&0===a[0].port){let c=await this.bindOneAddress(a[0],b);if(c.error){let d=await this.bindManyPorts(a.slice(1),b);return Object.assign(Object.assign({},d),{errors:[c.error,...d.errors]})}{let d=a.slice(1).map(a=>(0,m.isTcpSubchannelAddress)(a)?{host:a.host,port:c.port}:a),e=[c,...await Promise.all(d.map(a=>this.bindOneAddress(a,b)))];return{count:e.filter(a=>void 0===a.error).length,port:c.port,errors:e.filter(a=>a.error).map(a=>a.error)}}}{let c=await Promise.all(a.map(a=>this.bindOneAddress(a,b)));return{count:c.filter(a=>void 0===a.error).length,port:c[0].port,errors:c.filter(a=>a.error).map(a=>a.error)}}}async bindAddressList(a,b){let c=await this.bindManyPorts(a,b);if(c.count>0)return c.count<a.length&&l.log(h.LogVerbosity.INFO,`WARNING Only ${c.count} addresses added out of total ${a.length} resolved`),c.port;{let b=`No address added out of total ${a.length} resolved`;throw l.log(h.LogVerbosity.ERROR,b),Error(`${b} errors: [${c.errors.join(",")}]`)}}resolvePort(a){return new Promise((b,c)=>{let d=!1,e=(e,f,g,h)=>{if(d)return!0;if(d=!0,!e.ok)return c(Error(e.error.details)),!0;let i=[].concat(...e.value.map(a=>a.addresses));return 0===i.length?c(Error(`No addresses resolved for port ${a}`)):b(i),!0};(0,k.createResolver)(a,e,this.options).updateResolution()})}async bindPort(a,b){let c=await this.resolvePort(a);if(b.cancelled)throw this.completeUnbind(b),Error("bindAsync operation cancelled by unbind call");let d=await this.bindAddressList(c,b);if(b.cancelled)throw this.completeUnbind(b),Error("bindAsync operation cancelled by unbind call");return d}normalizePort(a){let b=(0,n.parseUri)(a);if(null===b)throw Error(`Could not parse port "${a}"`);let c=(0,k.mapUriDefaultScheme)(b);if(null===c)throw Error(`Could not get a default scheme for port "${a}"`);return c}bindAsync(a,b,c){if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof a)throw TypeError("port must be a string");if(null===b||!(b instanceof j.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof c)throw TypeError("callback must be a function");this.trace("bindAsync port="+a);let d=this.normalizePort(a),e=(a,b)=>{process.nextTick(()=>c(a,b))},f=this.boundPorts.get((0,n.uriToString)(d));if(f)return b._equals(f.credentials)?(f.cancelled=!1,void(f.completionPromise?f.completionPromise.then(a=>c(null,a),a=>c(a,0)):e(null,f.portNumber))):void e(Error(`${a} already bound with incompatible credentials`),0);f={mapKey:(0,n.uriToString)(d),originalUri:d,completionPromise:null,cancelled:!1,portNumber:0,credentials:b,listeningServers:new Set};let g=(0,n.splitHostPort)(d.path),h=this.bindPort(d,f);f.completionPromise=h,(null==g?void 0:g.port)===0?h.then(a=>{let b={scheme:d.scheme,authority:d.authority,path:(0,n.combineHostPort)({host:g.host,port:a})};f.mapKey=(0,n.uriToString)(b),f.completionPromise=null,f.portNumber=a,this.boundPorts.set(f.mapKey,f),c(null,a)},a=>{c(a,0)}):(this.boundPorts.set(f.mapKey,f),h.then(a=>{f.completionPromise=null,f.portNumber=a,c(null,a)},a=>{c(a,0)}))}registerInjectorToChannelz(){return(0,o.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(a,b,c=!1){if(null===a||!(a instanceof j.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(b);let d=this.createHttp2Server(a),e=new Set;return this.http2Servers.set(d,{channelzRef:b,sessions:e,ownsChannelzRef:c}),{injectConnection:a=>{d.emit("connection",a)},drain:a=>{var b,c;for(let a of e)this.closeSession(a);null==(c=(b=setTimeout(()=>{for(let a of e)a.destroy(f.constants.NGHTTP2_CANCEL)},a)).unref)||c.call(b)},destroy:()=>{for(let a of(this.closeServer(d),e))this.closeSession(a)}}}createConnectionInjector(a){if(null===a||!(a instanceof j.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");let b=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(a,b,!0)}closeServer(a,b){this.trace("Closing server with address "+JSON.stringify(a.address()));let c=this.http2Servers.get(a);a.close(()=>{c&&c.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(c.channelzRef),(0,o.unregisterChannelzRef)(c.channelzRef)),this.http2Servers.delete(a),null==b||b()})}closeSession(a,b){var c;this.trace("Closing session initiated by "+(null==(c=a.socket)?void 0:c.remoteAddress));let d=this.sessions.get(a),e=()=>{d&&(this.sessionChildrenTracker.unrefChild(d.ref),(0,o.unregisterChannelzRef)(d.ref)),null==b||b()};a.closed?queueMicrotask(e):a.close(e)}completeUnbind(a){for(let b of a.listeningServers){let c=this.http2Servers.get(b);if(this.closeServer(b,()=>{a.listeningServers.delete(b)}),c)for(let a of c.sessions)this.closeSession(a)}this.boundPorts.delete(a.mapKey)}unbind(a){this.trace("unbind port="+a);let b=this.normalizePort(a),c=(0,n.splitHostPort)(b.path);if((null==c?void 0:c.port)===0)throw Error("Cannot unbind port 0");let d=this.boundPorts.get((0,n.uriToString)(b));d&&(this.trace("unbinding "+d.mapKey+" originally bound as "+(0,n.uriToString)(d.originalUri)),d.completionPromise?d.cancelled=!0:this.completeUnbind(d))}drain(a,b){var c,d;this.trace("drain port="+a+" graceTimeMs="+b);let e=this.normalizePort(a),g=(0,n.splitHostPort)(e.path);if((null==g?void 0:g.port)===0)throw Error("Cannot drain port 0");let h=this.boundPorts.get((0,n.uriToString)(e));if(!h)return;let i=new Set;for(let a of h.listeningServers){let b=this.http2Servers.get(a);if(b)for(let a of b.sessions)i.add(a),this.closeSession(a,()=>{i.delete(a)})}null==(d=(c=setTimeout(()=>{for(let a of i)a.destroy(f.constants.NGHTTP2_CANCEL)},b)).unref)||d.call(c)}forceShutdown(){for(let a of this.boundPorts.values())a.cancelled=!0;for(let a of(this.boundPorts.clear(),this.http2Servers.keys()))this.closeServer(a);this.sessions.forEach((a,b)=>{this.closeSession(b),b.destroy(f.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,o.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(a,b,c,d,e){return!this.handlers.has(a)&&(this.handlers.set(a,{func:b,serialize:c,deserialize:d,type:e,path:a}),!0)}unregister(a){return this.handlers.delete(a)}start(){if(0===this.http2Servers.size||[...this.http2Servers.keys()].every(a=>!a.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.started=!0}tryShutdown(a){var b;let c=b=>{(0,o.unregisterChannelzRef)(this.channelzRef),a(b)},d=0;function e(){0==--d&&c()}for(let[a,c]of(this.shutdown=!0,this.http2Servers.entries())){d++;let f=c.channelzRef.name;for(let g of(this.trace("Waiting for server "+f+" to close"),this.closeServer(a,()=>{this.trace("Server "+f+" finished closing"),e()}),c.sessions.keys())){d++;let a=null==(b=g.socket)?void 0:b.remoteAddress;this.trace("Waiting for session "+a+" to close"),this.closeSession(g,()=>{this.trace("Session "+a+" finished closing"),e()})}}0===d&&c()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(a,b){let c=b[f.constants.HTTP2_HEADER_CONTENT_TYPE];return"string"==typeof c&&!!c.startsWith("application/grpc")||(a.respond({[f.constants.HTTP2_HEADER_STATUS]:f.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(a){x("Received call to method "+a+" at address "+this.serverAddressString);let b=this.handlers.get(a);return void 0===b?(x("No handler registered for method "+a+". Sending UNIMPLEMENTED status."),null):b}_respondWithError(a,b,c=null){var d,e;let g=Object.assign({"grpc-status":null!=(d=a.code)?d:h.Status.INTERNAL,"grpc-message":a.details,[f.constants.HTTP2_HEADER_STATUS]:f.constants.HTTP_STATUS_OK,[f.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},null==(e=a.metadata)?void 0:e.toHttp2Headers());b.respond(g,{endStream:!0}),this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed()}_channelzHandler(a,b,c){this.onStreamOpened(b);let d=this.sessions.get(b.session);if(this.callTracker.addCallStarted(),null==d||d.streamTracker.addCallStarted(),!this._verifyContentType(b,c)){this.callTracker.addCallFailed(),null==d||d.streamTracker.addCallFailed();return}let e=c[u],f=this._retrieveHandler(e);if(!f)return void this._respondWithError(A(e),b,d);let g={addMessageSent:()=>{d&&(d.messagesSent+=1,d.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{d&&(d.messagesReceived+=1,d.lastMessageReceivedTimestamp=new Date)},onCallEnd:a=>{a.code===h.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:a=>{d&&(a?d.streamTracker.addCallSucceeded():d.streamTracker.addCallFailed())}},i=(0,p.getServerInterceptingCall)([...a,...this.interceptors],b,c,g,f,this.options);this._runHandlerForCall(i,f)||(this.callTracker.addCallFailed(),null==d||d.streamTracker.addCallFailed(),i.sendStatus({code:h.Status.INTERNAL,details:`Unknown handler type: ${f.type}`}))}_streamHandler(a,b,c){if(this.onStreamOpened(b),!0!==this._verifyContentType(b,c))return;let d=c[u],e=this._retrieveHandler(d);if(!e)return void this._respondWithError(A(d),b,null);let f=(0,p.getServerInterceptingCall)([...a,...this.interceptors],b,c,null,e,this.options);this._runHandlerForCall(f,e)||f.sendStatus({code:h.Status.INTERNAL,details:`Unknown handler type: ${e.type}`})}_runHandlerForCall(a,b){let{type:c}=b;if("unary"===c)C(a,b);else if("clientStream"===c)D(a,b);else if("serverStream"===c)E(a,b);else{if("bidi"!==c)return!1;F(a,b)}return!0}_setupHandlers(a,b){if(null===a)return;let c=a.address(),d="null";c&&(d="string"==typeof c?c:c.address+":"+c.port),this.serverAddressString=d;let e=this.channelzEnabled?this._channelzHandler:this._streamHandler,f=this.channelzEnabled?this._channelzSessionHandler(a):this._sessionHandler(a);a.on("stream",e.bind(this,b)),a.on("session",f)}_sessionHandler(a){return b=>{var c,d;let e;null==(c=this.http2Servers.get(a))||c.sessions.add(b);let g=null,h=null,i=null,j=!1,k=this.enableIdleTimeout(b);if(this.maxConnectionAgeMs!==q){let a=this.maxConnectionAgeMs/10,c=Math.random()*a*2-a;null==(d=(g=setTimeout(()=>{var a,c;j=!0,this.trace("Connection dropped by max connection age: "+(null==(a=b.socket)?void 0:a.remoteAddress));try{b.goaway(f.constants.NGHTTP2_NO_ERROR,0x7fffffff,w)}catch(a){b.destroy();return}b.close(),this.maxConnectionAgeGraceMs!==q&&(null==(c=(h=setTimeout(()=>{b.destroy()},this.maxConnectionAgeGraceMs)).unref)||c.call(h))},this.maxConnectionAgeMs+c)).unref)||d.call(g)}let l=()=>{i&&(clearTimeout(i),i=null)},m=()=>!b.destroyed&&this.keepaliveTimeMs<r&&this.keepaliveTimeMs>0,n=()=>{var a;m()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(a=(i=setTimeout(()=>{l(),e()},this.keepaliveTimeMs)).unref)||a.call(i))};e=()=>{var a;if(!m())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let c="";try{b.ping((a,c,d)=>{l(),a?(this.keepaliveTrace("Ping failed with error: "+a.message),j=!0,b.close()):(this.keepaliveTrace("Received ping response"),n())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}if(c){this.keepaliveTrace("Ping send failed: "+c),this.trace("Connection dropped due to ping send error: "+c),j=!0,b.close();return}null==(a=(i=setTimeout(()=>{l(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),j=!0,b.close()},this.keepaliveTimeoutMs)).unref)||a.call(i)},n(),b.on("close",()=>{var c,d;j||this.trace(`Connection dropped by client ${null==(c=b.socket)?void 0:c.remoteAddress}`),g&&clearTimeout(g),h&&clearTimeout(h),l(),null!==k&&(clearTimeout(k.timeout),this.sessionIdleTimeouts.delete(b)),null==(d=this.http2Servers.get(a))||d.sessions.delete(b)})}}_channelzSessionHandler(a){return b=>{var c,d,e,g;let h,i=(0,o.registerChannelzSocket)(null!=(d=null==(c=b.socket)?void 0:c.remoteAddress)?d:"unknown",this.getChannelzSessionInfo.bind(this,b),this.channelzEnabled),j={ref:i,streamTracker:new o.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};null==(e=this.http2Servers.get(a))||e.sessions.add(b),this.sessions.set(b,j);let k=`${b.socket.remoteAddress}:${b.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+k),this.trace("Connection established by client "+k),this.sessionChildrenTracker.refChild(i);let l=null,m=null,n=null,p=!1,s=this.enableIdleTimeout(b);if(this.maxConnectionAgeMs!==q){let a=this.maxConnectionAgeMs/10,c=Math.random()*a*2-a;null==(g=(l=setTimeout(()=>{var a;p=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+k);try{b.goaway(f.constants.NGHTTP2_NO_ERROR,0x7fffffff,w)}catch(a){b.destroy();return}b.close(),this.maxConnectionAgeGraceMs!==q&&(null==(a=(m=setTimeout(()=>{b.destroy()},this.maxConnectionAgeGraceMs)).unref)||a.call(m))},this.maxConnectionAgeMs+c)).unref)||g.call(l)}let t=()=>{n&&(clearTimeout(n),n=null)},u=()=>!b.destroyed&&this.keepaliveTimeMs<r&&this.keepaliveTimeMs>0,v=()=>{var a;u()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(a=(n=setTimeout(()=>{t(),h()},this.keepaliveTimeMs)).unref)||a.call(n))};h=()=>{var a;if(!u())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let c="";try{b.ping((a,c,d)=>{t(),a?(this.keepaliveTrace("Ping failed with error: "+a.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+a.message+" return in "+c),p=!0,b.close()):(this.keepaliveTrace("Received ping response"),v())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}if(c){this.keepaliveTrace("Ping send failed: "+c),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+c),p=!0,b.close();return}j.keepAlivesSent+=1,null==(a=(n=setTimeout(()=>{t(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+k),p=!0,b.close()},this.keepaliveTimeoutMs)).unref)||a.call(n)},v(),b.on("close",()=>{var c;p||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+k),this.sessionChildrenTracker.unrefChild(i),(0,o.unregisterChannelzRef)(i),l&&clearTimeout(l),m&&clearTimeout(m),t(),null!==s&&(clearTimeout(s.timeout),this.sessionIdleTimeouts.delete(b)),null==(c=this.http2Servers.get(a))||c.sessions.delete(b),this.sessions.delete(b)})}}enableIdleTimeout(a){var b,c;if(this.sessionIdleTimeout>=t)return null;let d={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,a),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,a)};null==(c=(b=d.timeout).unref)||c.call(b),this.sessionIdleTimeouts.set(a,d);let{socket:e}=a;return this.trace("Enable idle timeout for "+e.remoteAddress+":"+e.remotePort),d}onIdleTimeout(a,b){let{socket:c}=b,d=a.sessionIdleTimeouts.get(b);void 0!==d&&0===d.activeStreams&&(Date.now()-d.lastIdle>=a.sessionIdleTimeout?(a.trace("Session idle timeout triggered for "+(null==c?void 0:c.remoteAddress)+":"+(null==c?void 0:c.remotePort)+" last idle at "+d.lastIdle),a.closeSession(b)):d.timeout.refresh())}onStreamOpened(a){let b=a.session,c=this.sessionIdleTimeouts.get(b);c&&(c.activeStreams+=1,a.once("close",c.onClose))}onStreamClose(a){var b,c;let d=this.sessionIdleTimeouts.get(a);d&&(d.activeStreams-=1,0===d.activeStreams&&(d.lastIdle=Date.now(),d.timeout.refresh(),this.trace("Session onStreamClose"+(null==(b=a.socket)?void 0:b.remoteAddress)+":"+(null==(c=a.socket)?void 0:c.remotePort)+" at "+d.lastIdle)))}},(()=>{let c="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e(a,null,[z("Calling start() is no longer necessary. It can be safely omitted.")],{kind:"method",name:"start",static:!1,private:!1,access:{has:a=>"start"in a,get:a=>a.start},metadata:c},null,b),c&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),a})()},26962:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(28872),e=c(53864),f=c(59762);b.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?m():n(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){if(l||i)a.block$data(e.nil,o);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}function n(){let e=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>p(e,c)),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,e)),(0,d.reportMissingProp)(a,e),b.else()}function o(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}function p(c,f){a.setParams({missingProperty:c}),b.forOf(c,g,()=>{b.assign(f,(0,d.propertyInData)(b,h,c,k.ownProperties)),b.if((0,e.not)(f),()=>{a.error(),b.break()})},e.nil)}}}},26981:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNativeEnumDef=void 0,b.parseNativeEnumDef=function(a){let b=a.values,c=Object.keys(a.values).filter(a=>"number"!=typeof b[b[a]]).map(a=>b[a]),d=Array.from(new Set(c.map(a=>typeof a)));return{type:1===d.length?"string"===d[0]?"string":"number":["string","number"],enum:c}}},27017:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535);b.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},27128:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Subchannel=void 0;let d=c(80158),e=c(9251),f=c(38702),g=c(56458),h=c(9413),i=c(41835),j=c(49682),k=c(37381),l="subchannel",m=0x7fffffff;class n{constructor(a,b,c,f,g){var h;this.channelTarget=a,this.subchannelAddress=b,this.options=c,this.connector=g,this.connectivityState=d.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.dataProducers=new Map,this.subchannelChannel=null;let k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new e.BackoffTimeout(()=>{this.handleBackoffTimer()},k),this.backoffTimeout.unref(),this.subchannelAddressString=(0,i.subchannelAddressToString)(b),this.keepaliveTime=null!=(h=c["grpc.keepalive_time_ms"])?h:-1,0===c["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new j.ChannelzTraceStub,this.callTracker=new j.ChannelzCallTrackerStub,this.childrenTracker=new j.ChannelzChildrenTrackerStub,this.streamTracker=new j.ChannelzCallTrackerStub):(this.channelzTrace=new j.ChannelzTrace,this.callTracker=new j.ChannelzCallTracker,this.childrenTracker=new j.ChannelzChildrenTracker,this.streamTracker=new j.ChannelzCallTracker),this.channelzRef=(0,j.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(c,void 0,2)),this.secureConnector=f._createSecureConnector(a,c)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(a){f.trace(g.LogVerbosity.DEBUG,l,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}refTrace(a){f.trace(g.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING):this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let a=this.options;if(a["grpc.keepalive_time_ms"]){let b=Math.min(this.keepaliveTime,m);a=Object.assign(Object.assign({},a),{"grpc.keepalive_time_ms":b})}this.connector.connect(this.subchannelAddress,this.secureConnector,a).then(a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.READY)?(this.transport=a,this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),a.addDisconnectListener(a=>{this.transitionToState([d.ConnectivityState.READY],d.ConnectivityState.IDLE),a&&this.keepaliveTime>0&&(this.keepaliveTime*=2,f.log(g.LogVerbosity.ERROR,`Connection to ${(0,h.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):a.shutdown()},a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.TRANSIENT_FAILURE,`${a}`)})}transitionToState(a,b,c){var e,f;if(-1===a.indexOf(this.connectivityState))return!1;c?this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]+' with error "'+c+'"'):this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+d.ConnectivityState[b]);let g=this.connectivityState;switch(this.connectivityState=b,b){case d.ConnectivityState.READY:this.stopBackoff();break;case d.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case d.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(e=this.transport)||e.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case d.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(f=this.transport)||f.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${b}`)}for(let a of this.stateListeners)a(this,g,b,this.keepaliveTime,c);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,j.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([d.ConnectivityState.CONNECTING,d.ConnectivityState.READY],d.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(a,b,c,d){let e;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),e={onCallEnd:a=>{a.code===g.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):e={},this.transport.createCall(a,b,c,d,e)}startConnecting(){process.nextTick(()=>{this.transitionToState([d.ConnectivityState.IDLE],d.ConnectivityState.CONNECTING)||this.connectivityState!==d.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(a){this.stateListeners.add(a)}removeConnectivityStateListener(a){this.stateListeners.delete(a)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(a){}removeHealthStateWatcher(a){}getRealSubchannel(){return this}realSubchannelEquals(a){return a.getRealSubchannel()===this}throttleKeepalive(a){a>this.keepaliveTime&&(this.keepaliveTime=a)}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new k.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(a){throw Error("Not implemented")}getOrCreateDataProducer(a,b){let c=this.dataProducers.get(a);if(c)return c;let d=b(this);return this.dataProducers.set(a,d),d}removeDataProducer(a){this.dataProducers.delete(a)}}b.Subchannel=n},27151:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=d.DoubleBE;function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="double",g.prototype.typeid=e.DOUBLE,g.prototype.surface=Number,g.prototype.models="type",a.exports.DoubleRW=f,a.exports.ThriftDouble=g},27263:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(77750),i=c(85724),j=c(51905);b.schema=[d.map,f.seq,g.string,e.nullTag,h.boolTag,j.intOct,j.int,j.intHex,i.floatNaN,i.floatExp,i.float]},27267:(a,b,c)=>{"use strict";c.d(b,{RH:()=>f,dM:()=>g,w9:()=>e});var d=c(54616),e="0000000000000000",f="00000000000000000000000000000000",g={traceId:f,spanId:e,traceFlags:d.X.NONE}},27306:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}b.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let{gen:b,parentSchema:c,it:g}=a;void 0===c.then&&void 0===c.else&&(0,e.checkStrictMode)(g,'"if" without "then" and "else" is ignored');let h=f(g,"then"),i=f(g,"else");if(!h&&!i)return;let j=b.let("valid",!0),k=b.name("_valid");if(l(),a.reset(),h&&i){let c=b.let("ifClause");a.setParams({ifClause:c}),b.if(k,m("then",c),m("else",c))}else h?b.if(k,m("then")):b.if((0,d.not)(k),m("else"));function l(){let b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);a.mergeEvaluated(b)}function m(c,e){return()=>{let f=a.subschema({keyword:c},k);b.assign(j,k),a.mergeValidEvaluated(f,j),e?b.assign(e,(0,d._)`${c}`):a.setParams({ifClause:c})}}a.pass(j,()=>a.error(!0))}}},27398:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FilterStackFactory=b.FilterStack=void 0;class c{constructor(a){this.filters=a}sendMetadata(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMetadata(b);return b}receiveMetadata(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMetadata(b);return b}sendMessage(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMessage(b);return b}receiveMessage(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMessage(b);return b}receiveTrailers(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveTrailers(b);return b}push(a){this.filters.unshift(...a)}getFilters(){return this.filters}}b.FilterStack=c;class d{constructor(a){this.factories=a}push(a){this.factories.unshift(...a)}clone(){return new d([...this.factories])}createFilter(){return new c(this.factories.map(a=>a.createFilter()))}}b.FilterStackFactory=d},27615:(a,b)=>{"use strict";function c(a){return{seconds:Number.parseInt(a.seconds),nanos:a.nanos}}function d(a){return{seconds:a/1e3|0,nanos:a%1e3*1e6|0}}function e(a){return 1e3*a.seconds+a.nanos/1e6|0}function f(a){return"number"==typeof a.seconds&&"number"==typeof a.nanos}function g(a){return"string"==typeof a.seconds&&"number"==typeof a.nanos}Object.defineProperty(b,"__esModule",{value:!0}),b.durationMessageToDuration=c,b.msToDuration=d,b.durationToMs=e,b.isDuration=f,b.isDurationMessage=g,b.parseDuration=i,b.durationToString=j;let h=/^(\d+)(?:\.(\d+))?s$/;function i(a){let b=a.match(h);return b?{seconds:Number.parseInt(b[1],10),nanos:b[2]?Number.parseInt(b[2].padEnd(9,"0"),10):0}:null}function j(a){let b;return 0===a.nanos?`${a.seconds}s`:(b=a.nanos%1e6==0?1e6:a.nanos%1e3==0?1e3:1,`${a.seconds}.${a.nanos/b}s`)}},27714:(a,b)=>{"use strict";function c(a){if(!a)return null;switch(a.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(a.source.includes("\n"))return!0;if(a.end){for(let b of a.end)if("newline"===b.type)return!0}return!1;case"flow-collection":for(let b of a.items){for(let a of b.start)if("newline"===a.type)return!0;if(b.sep){for(let a of b.sep)if("newline"===a.type)return!0}if(c(b.key)||c(b.value))return!0}return!1;default:return!0}}b.containsNewline=c},27806:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{decryptActionBoundArgs:function(){return u},encryptActionBoundArgs:function(){return t}}),c(95818);let d=c(83183),e=c(51318),f=c(50931),g=c(54210),h=c(63033),i=c(90151),j=k(c(46204));function k(a){return a&&a.__esModule?a:{default:a}}let l=!1,m=new TextEncoder,n=new TextDecoder,o=void 0,p=void 0;async function q(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=atob(b),e=d.slice(0,16),f=d.slice(16),h=n.decode(await (0,g.decrypt)(c,(0,g.stringToUint8Array)(e),(0,g.stringToUint8Array)(f)));if(!h.startsWith(a))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return h.slice(a.length)}async function r(a,b){let c=await (0,g.getActionEncryptionKey)();if(void 0===c)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let d=new Uint8Array(16);h.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(d));let e=(0,g.arrayBufferToString)(d.buffer),f=await (0,g.encrypt)(c,d,m.encode(a+b));return btoa(e+(0,g.arrayBufferToString)(f))}var s=function(a){return a[a.Ready=0]="Ready",a[a.Pending=1]="Pending",a[a.Complete=2]="Complete",a}(s||{});let t=j.default.cache(async function a(b,...c){let e=h.workUnitAsyncStorage.getStore(),j=e?(0,h.getCacheSignal)(e):void 0,{clientModules:k}=(0,g.getClientReferenceManifestForRsc)(),l=Error();Error.captureStackTrace(l,a);let m=!1,n=e?(0,i.createHangingInputAbortSignal)(e):void 0,p=0;function q(){0===p&&(p=1,null==j||j.beginRead())}function s(){1===p&&(null==j||j.endRead()),p=2}n&&j&&n.addEventListener("abort",q,{once:!0});let t=await (0,f.streamToString)((0,d.renderToReadableStream)(c,k,{filterStackFrame:o,signal:n,onError(a){(null==n||!n.aborted)&&(m||(m=!0,l.message=a instanceof Error?a.message:String(a)))}}),n);if(m)throw s(),l;if(!e)return r(b,t);q();let u=(0,h.getPrerenderResumeDataCache)(e),v=(0,h.getRenderResumeDataCache)(e),w=b+t,x=(null==u?void 0:u.encryptedBoundArgs.get(w))??(null==v?void 0:v.encryptedBoundArgs.get(w));if(x)return x;let y=await r(b,t);return s(),null==u||u.encryptedBoundArgs.set(w,y),y});async function u(a,b){let c,d=await b,f=h.workUnitAsyncStorage.getStore();if(f){let b=(0,h.getCacheSignal)(f),e=(0,h.getPrerenderResumeDataCache)(f),g=(0,h.getRenderResumeDataCache)(f);(c=(null==e?void 0:e.decryptedBoundArgs.get(d))??(null==g?void 0:g.decryptedBoundArgs.get(d)))||(null==b||b.beginRead(),c=await q(a,d),null==b||b.endRead(),null==e||e.decryptedBoundArgs.set(d,c))}else c=await q(a,d);let{edgeRscModuleMapping:i,rscModuleMapping:j}=(0,g.getClientReferenceManifestForRsc)();return await (0,e.createFromReadableStream)(new ReadableStream({start(a){switch(a.enqueue(m.encode(c)),null==f?void 0:f.type){case"prerender":case"prerender-runtime":f.renderSignal.aborted?a.close():f.renderSignal.addEventListener("abort",()=>a.close(),{once:!0});break;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return a.close()}}}),{findSourceMapURL:p,serverConsumerManifest:{moduleLoading:null,moduleMap:l?i:j,serverModuleMap:(0,g.getServerModuleMap)()}})}},27845:(a,b,c)=>{"use strict";c.d(b,{u:()=>d});var d=c(74998).performance},28199:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e=void 0;function f(a,b,c){if(d.isArray(a)){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b.wrap(a[f],c));return e}return"boolean"==typeof a||"number"==typeof a?a+"":a}function g(a){this.srcFile=a,this.source=[]}e||((e=function(a,b,c,d){this.src="",d&&this.add(d)}).prototype={add:function(a){d.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){d.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),g.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new e(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof e?a:(a=f(a,this,b),new e(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=this,c=[];Object.keys(a).forEach(function(d){var e=f(a[d],b);"undefined"!==e&&c.push([b.quotedString(d),":",e])});var d=this.generateList(c);return d.prepend("{"),d.add("}"),d},generateList:function(a){for(var b=this.empty(),c=0,d=a.length;c<d;c++)c&&b.add(","),b.add(f(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b.default=g,a.exports=b.default},28200:(a,b,c)=>{"use strict";let d,e=c(91645);class f extends Error{constructor(a){super(`${a} is locked`)}}let g={old:new Set,young:new Set},h=15e3,i=a=>new Promise((b,c)=>{let d=e.createServer();d.unref(),d.on("error",c),d.listen(a,()=>{let{port:a}=d.address();d.close(()=>{b(a)})})}),j=function*(a){a&&(yield*a),yield 0};a.exports=async a=>{let b;for(let c of(a&&(b="number"==typeof a.port?[a.port]:a.port),void 0===d&&(d=setInterval(()=>{g.old=g.young,g.young=new Set},h)).unref&&d.unref(),j(b)))try{let b=await i({...a,port:c});for(;g.old.has(b)||g.young.has(b);){if(0!==c)throw new f(c);b=await i({...a,port:c})}return g.young.add(b),b}catch(a){if(!["EADDRINUSE","EACCES"].includes(a.code)&&!(a instanceof f))throw a}throw Error("No available ports found")},a.exports.makeRange=(a,b)=>{if(!Number.isInteger(a)||!Number.isInteger(b))throw TypeError("`from` and `to` must be integer numbers");if(a<1024||a>65535)throw RangeError("`from` must be between 1024 and 65535");if(b<1024||b>65536)throw RangeError("`to` must be between 1024 and 65536");if(b<a)throw RangeError("`to` must be greater than or equal to `from`");return function*(a,b){for(let c=a;c<=b;c++)yield c}(a,b)}},28232:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}b.default=c},28255:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(80496),f=d(c(99008));b.default=function(a){a.registerHelper("with",function(a,b){if(2!=arguments.length)throw new f.default("#with requires exactly one argument");e.isFunction(a)&&(a=a.call(this));var c=b.fn;if(e.isEmpty(a))return b.inverse(this);var d=b.data;return b.data&&b.ids&&((d=e.createFrame(b.data)).contextPath=e.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:d,blockParams:e.blockParams([a],[d&&d.contextPath])})})},a.exports=b.default},28364:(a,b,c)=>{"use strict";var d;c.d(b,{h:()=>d}),function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE"}(d||(d={}))},28370:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;let d=c(96535),e=c(71367);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}b.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},28392:(a,b,c)=>{"use strict";c.d(b,{W:()=>i});var d=c(16426),e=c(76673),f=c(60012),g=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function i(a,b){return{resourceLogs:k(a,(0,d.Az)(b))}}function j(a){var b,c,d=new Map;try{for(var e=g(a),f=e.next();!f.done;f=e.next()){var h=f.value,i=h.resource,j=h.instrumentationScope,k=j.name,l=j.version,m=void 0===l?"":l,n=j.schemaUrl,o=void 0===n?"":n,p=d.get(i);p||(p=new Map,d.set(i,p));var q=k+"@"+m+":"+o,r=p.get(q);r||(r=[],p.set(q,r)),r.push(h)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}function k(a,b){return Array.from(j(a),function(a){var c=h(a,2),d=c[0],g=c[1];return{resource:(0,f.Z)(d),scopeLogs:Array.from(g,function(a){var c=h(a,2)[1];return{scope:(0,e.d1)(c[0].instrumentationScope),logRecords:c.map(function(a){return l(a,b)}),schemaUrl:c[0].instrumentationScope.schemaUrl}}),schemaUrl:void 0}})}function l(a,b){var c,d,f;return{timeUnixNano:b.encodeHrTime(a.hrTime),observedTimeUnixNano:b.encodeHrTime(a.hrTimeObserved),severityNumber:m(a.severityNumber),severityText:a.severityText,body:(0,e.Ff)(a.body),attributes:n(a.attributes),droppedAttributesCount:a.droppedAttributesCount,flags:null==(c=a.spanContext)?void 0:c.traceFlags,traceId:b.encodeOptionalSpanContext(null==(d=a.spanContext)?void 0:d.traceId),spanId:b.encodeOptionalSpanContext(null==(f=a.spanContext)?void 0:f.spanId)}}function m(a){return a}function n(a){return Object.keys(a).map(function(b){return(0,e.EB)(b,a[b])})}},28465:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;let d=c(96535),e=c(27017),f=c(55423),g=c(78562);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())}function j({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}function k(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}b.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,i=b.macro.call(h.self,f,g,h),j=k(c,e,i);!1!==h.opts.validateSchema&&h.self.validateSchema(i,!0);let l=c.name("valid");a.subschema({schema:i,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:j,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},b.funcKeywordCode=function(a,b){var c;let{gen:g,keyword:l,schema:m,parentSchema:n,$data:o,it:p}=a;j(p,b);let q=k(g,l,!o&&b.compile?b.compile.call(p.self,m,n,p):b.validate),r=g.let("valid");function s(){if(!1===b.errors)v(),b.modifying&&h(a),w(()=>a.error());else{let c=b.async?t():u();b.modifying&&h(a),w(()=>i(a,c))}}function t(){let a=g.let("ruleErrs",null);return g.try(()=>v((0,d._)`await `),b=>g.assign(r,!1).if((0,d._)`${b} instanceof ${p.ValidationError}`,()=>g.assign(a,(0,d._)`${b}.errors`),()=>g.throw(b))),a}function u(){let a=(0,d._)`${q}.errors`;return g.assign(a,null),v(d.nil),a}function v(c=b.async?(0,d._)`await `:d.nil){let h=p.opts.passContext?e.default.this:e.default.self,i=!("compile"in b&&!o||!1===b.schema);g.assign(r,(0,d._)`${c}${(0,f.callValidateCode)(a,q,h,i)}`,b.modifying)}function w(a){var c;g.if((0,d.not)(null!=(c=b.valid)?c:r),a)}a.block$data(r,s),a.ok(null!=(c=b.valid)?c:r)},b.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},b.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},28570:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b)=>d(a,b,!0)},28581:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b)=>{try{return new d(a,b).range||"*"}catch(a){return null}}},28617:(a,b,c)=>{"use strict";c.d(b,{Ft:()=>r,KX:()=>q,Pk:()=>o});var d=c(79551),e=c(81630),f=c(55591),g=c(74075),h=c(27910),i=c(79361),j=c(19136),k=c(66336),l=c(13781),m=c(89162),n=function(){return(n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function o(a,b,c,h,k){var o,q,r=a.timeoutMillis,s=new d.URL(a.url),t=Number(process.versions.node.split(".")[0]),u=!1,v=setTimeout(function(){clearTimeout(o),u=!0,q.destroyed?k(new l.N("Request Timeout")):t>=14?q.destroy():q.abort()},r),w={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:n({"Content-Type":c},a.headers),agent:a.agent},x="http:"===s.protocol?e.request:f.request,y=function(c,d){if(void 0===c&&(c=m.J9),void 0===d&&(d=m.Tj),(q=x(w,function(a){var b="";a.on("data",function(a){return b+=a}),a.on("aborted",function(){u&&k(new l.N("Request Timeout"))}),a.on("end",function(){if(!1===u)if(a.statusCode&&a.statusCode<299)i.s.debug("statusCode: "+a.statusCode,b),h(),clearTimeout(v),clearTimeout(o);else if(a.statusCode&&(0,m.$q)(a.statusCode)&&c>0){var e=void 0;d=m.Q5*d,o=setTimeout(function(){y(c-1,d)},e=a.headers["retry-after"]?(0,m.u6)(a.headers["retry-after"]):Math.round(Math.random()*(m.Rr-d)+d))}else k(new l.N(a.statusMessage,a.statusCode,b)),clearTimeout(v),clearTimeout(o)})})).on("error",function(a){u?k(new l.N("Request Timeout",a.code)):k(a),clearTimeout(v),clearTimeout(o)}),q.on("abort",function(){u&&k(new l.N("Request Timeout")),clearTimeout(v),clearTimeout(o)}),a.compression===j.U.GZIP){q.setHeader("Content-Encoding","gzip");var e=p(b);e.on("error",k).pipe(g.createGzip()).on("error",k).pipe(q)}else q.end(Buffer.from(b))};y()}function p(a){var b=new h.Readable;return b.push(a),b.push(null),b}function q(a){if(a.httpAgentOptions&&!1===a.keepAlive)return void i.s.warn("httpAgentOptions is used only when keepAlive is true");if(!1!==a.keepAlive&&a.url)try{var b=new d.URL(a.url);return new("http:"===b.protocol?e.Agent:f.Agent)(n({keepAlive:!0},a.httpAgentOptions))}catch(a){i.s.error("collector exporter failed to create http agent. err: "+a.message);return}}function r(a){return a||(((0,k._)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,k._)().OTEL_EXPORTER_OTLP_COMPRESSION)===j.U.GZIP?j.U.GZIP:j.U.NONE)}},28832:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(8408),g=c(54726);function h(a,b){if(d.isSeq(a))for(let c=0;c<a.items.length;++c){let g=a.items[c];if(!d.isPair(g)){if(d.isMap(g)){g.items.length>1&&b("Each pair must have its own sequence indicator");let a=g.items[0]||new e.Pair(new f.Scalar(null));if(g.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${g.commentBefore}
${a.key.commentBefore}`:g.commentBefore),g.comment){let b=a.value??a.key;b.comment=b.comment?`${g.comment}
${b.comment}`:g.comment}g=a}a.items[c]=d.isPair(g)?g:new e.Pair(g)}}else b("Expected a sequence for this tag");return a}function i(a,b,c){let{replacer:d}=c,f=new g.YAMLSeq(a);f.tag="tag:yaml.org,2002:pairs";let h=0;if(b&&Symbol.iterator in Object(b))for(let a of b){let g,i;if("function"==typeof d&&(a=d.call(b,String(h++),a)),Array.isArray(a))if(2===a.length)g=a[0],i=a[1];else throw TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){let b=Object.keys(a);if(1===b.length)i=a[g=b[0]];else throw TypeError(`Expected tuple with one key, not ${b.length} keys`)}else g=a;f.items.push(e.createPair(g,i,c))}return f}let j={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:h,createNode:i};b.createPairs=i,b.pairs=j,b.resolvePairs=h},28872:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;let d=c(53864),e=c(59762),f=c(51018),g=c(59762);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}b.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},b.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},b.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},b.hasPropFunc=h,b.isOwnProperty=i,b.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},b.noPropertyInData=j,b.allSchemaProperties=k,b.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},b.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,n=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&n.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let o=(0,d._)`${m}, ${c.object(...n)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${o})`:(0,d._)`${j}(${o})`};let l=(0,d._)`new RegExp`;b.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},b.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},b.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},29089:a=>{(()=>{"use strict";var b={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172),h="diag";class i{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}let b=this,c=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)};b.setLogger=c,b.disable=()=>{(0,g.unregisterGlobal)(h,b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new i),this._instance}}b.DiagAPI=i},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){let b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){function a(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}for(let b=0;b<c.length;b++)this[c[b].n]=a(c[b].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(c=b.DiagLogLevel||(b.DiagLogLevel={}))},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}function h(a){return b.add(a),!0}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let i={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return null!=i.prerelease||f.major!==i.major?g(a):0===f.major?f.minor===i.minor&&f.patch<=i.patch?h(a):g(a):f.minor<=i.minor?h(a):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(c=b.ValueType||(b.ValueType={}))},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}function l(){return b.NOOP_METER}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=l},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:global},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){if(null==b?void 0:b.root)return new f.NonRecordingSpan;let d=c&&(0,e.getSpanContext)(c);return j(d)&&(0,g.isSpanContextValid)(d)?new f.NonRecordingSpan(d):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}function j(a){return"object"==typeof a&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(c=b.SamplingDecision||(b.SamplingDecision={}))},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564),e=32,f=512,g=",",h="=";class i{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+h+this.get(b)),a),[]).join(g)}_parse(a){!(a.length>f)&&(this._internalState=a.split(g).reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf(h);if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>e&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,e))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new i;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=i},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(c=b.SpanKind||(b.SpanKind={}))},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(c=b.SpanStatusCode||(b.SpanStatusCode={}))},475:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(c=b.TraceFlags||(b.TraceFlags={}))},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a].call(f.exports,f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab=__dirname+"/";var e={};(()=>{var a=e;Object.defineProperty(a,"__esModule",{value:!0}),a.trace=a.propagation=a.metrics=a.diag=a.context=a.INVALID_SPAN_CONTEXT=a.INVALID_TRACEID=a.INVALID_SPANID=a.isValidSpanId=a.isValidTraceId=a.isSpanContextValid=a.createTraceState=a.TraceFlags=a.SpanStatusCode=a.SpanKind=a.SamplingDecision=a.ProxyTracerProvider=a.ProxyTracer=a.defaultTextMapSetter=a.defaultTextMapGetter=a.ValueType=a.createNoopMeter=a.DiagLogLevel=a.DiagConsoleLogger=a.ROOT_CONTEXT=a.createContextKey=a.baggageEntryMetadataFromString=void 0;var b=d(369);Object.defineProperty(a,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return b.baggageEntryMetadataFromString}});var c=d(780);Object.defineProperty(a,"createContextKey",{enumerable:!0,get:function(){return c.createContextKey}}),Object.defineProperty(a,"ROOT_CONTEXT",{enumerable:!0,get:function(){return c.ROOT_CONTEXT}});var f=d(972);Object.defineProperty(a,"DiagConsoleLogger",{enumerable:!0,get:function(){return f.DiagConsoleLogger}});var g=d(957);Object.defineProperty(a,"DiagLogLevel",{enumerable:!0,get:function(){return g.DiagLogLevel}});var h=d(102);Object.defineProperty(a,"createNoopMeter",{enumerable:!0,get:function(){return h.createNoopMeter}});var i=d(901);Object.defineProperty(a,"ValueType",{enumerable:!0,get:function(){return i.ValueType}});var j=d(194);Object.defineProperty(a,"defaultTextMapGetter",{enumerable:!0,get:function(){return j.defaultTextMapGetter}}),Object.defineProperty(a,"defaultTextMapSetter",{enumerable:!0,get:function(){return j.defaultTextMapSetter}});var k=d(125);Object.defineProperty(a,"ProxyTracer",{enumerable:!0,get:function(){return k.ProxyTracer}});var l=d(846);Object.defineProperty(a,"ProxyTracerProvider",{enumerable:!0,get:function(){return l.ProxyTracerProvider}});var m=d(996);Object.defineProperty(a,"SamplingDecision",{enumerable:!0,get:function(){return m.SamplingDecision}});var n=d(357);Object.defineProperty(a,"SpanKind",{enumerable:!0,get:function(){return n.SpanKind}});var o=d(847);Object.defineProperty(a,"SpanStatusCode",{enumerable:!0,get:function(){return o.SpanStatusCode}});var p=d(475);Object.defineProperty(a,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var q=d(98);Object.defineProperty(a,"createTraceState",{enumerable:!0,get:function(){return q.createTraceState}});var r=d(139);Object.defineProperty(a,"isSpanContextValid",{enumerable:!0,get:function(){return r.isSpanContextValid}}),Object.defineProperty(a,"isValidTraceId",{enumerable:!0,get:function(){return r.isValidTraceId}}),Object.defineProperty(a,"isValidSpanId",{enumerable:!0,get:function(){return r.isValidSpanId}});var s=d(476);Object.defineProperty(a,"INVALID_SPANID",{enumerable:!0,get:function(){return s.INVALID_SPANID}}),Object.defineProperty(a,"INVALID_TRACEID",{enumerable:!0,get:function(){return s.INVALID_TRACEID}}),Object.defineProperty(a,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return s.INVALID_SPAN_CONTEXT}});let t=d(67);Object.defineProperty(a,"context",{enumerable:!0,get:function(){return t.context}});let u=d(506);Object.defineProperty(a,"diag",{enumerable:!0,get:function(){return u.diag}});let v=d(886);Object.defineProperty(a,"metrics",{enumerable:!0,get:function(){return v.metrics}});let w=d(939);Object.defineProperty(a,"propagation",{enumerable:!0,get:function(){return w.propagation}});let x=d(845);Object.defineProperty(a,"trace",{enumerable:!0,get:function(){return x.trace}}),a.default={context:t.context,diag:u.diag,metrics:v.metrics,propagation:w.propagation,trace:x.trace}})(),a.exports=e})()},29706:(a,b,c)=>{"use strict";Object.create;var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames;Object.getPrototypeOf;var g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CONTEXT_PREFACE:()=>q,augmentWithContext:()=>s,downloadRequestMedia:()=>m,simulateConstrainedGeneration:()=>u,simulateSystemPrompt:()=>p,validateSupport:()=>n}),a.exports=i(j);var k=c(25399),l=c(24317);function m(a){return async(b,d)=>{let{default:e}=await c.e(634).then(c.bind(c,40634));return d({...b,messages:await Promise.all(b.messages.map(async b=>{let c=await Promise.all(b.content.map(async b=>{if(!b.media||!b.media.url.startsWith("http")||a?.filter&&!a?.filter(b))return b;let c=await e(b.media.url,{size:a?.maxBytes});if(200!==c.status)throw Error(`HTTP error downloading media '${b.media.url}': ${await c.text()}`);let d=b.media.contentType||c.headers.get("content-type")||"";return{media:{contentType:d,url:`data:${d};base64,${Buffer.from(await c.arrayBuffer()).toString("base64")}`}}}));return{...b,content:c}}))})}}function n(a){let b=a.supports||{};return async(c,d)=>{function e(b){throw Error(`Model '${a.name}' does not support ${b}. Request: ${JSON.stringify(c,null,2)}`)}return!1===b.media&&c.messages.some(a=>a.content.some(a=>a.media))&&e("media, but media was provided"),!1===b.tools&&c.tools?.length&&e("tool use, but tools were provided"),!1===b.multiturn&&c.messages.length>1&&e(`multiple messages, but ${c.messages.length} were provided`),d()}}function o(a){for(let b=a.length-1;b>=0;b--)if("user"===a[b].role)return a[b]}function p(a){let b=a?.preface||"SYSTEM INSTRUCTIONS:\n",c=a?.acknowledgement||"Understood.";return(a,d)=>{let e=[...a.messages];for(let d=0;d<e.length;d++)if("system"===a.messages[d].role){let a=e[d].content;e.splice(d,1,{role:"user",content:[{text:b},...a]},{role:"model",content:[{text:c}]});break}return d({...a,messages:e})}}let q="\n\nUse the following information to complete your task:\n\n",r=(a,b,c)=>{let d="- ";return c?.citationKey?d+=`[${a.metadata[c.citationKey]}]: `:c?.citationKey===void 0&&(d+=`[${a.metadata?.ref||a.metadata?.id||b}]: `),d+=a.text+"\n"};function s(a){let b=void 0===a?.preface?q:a.preface,c=a?.itemTemplate||r;return(d,e)=>{if(!d.docs?.length)return e(d);let f=o(d.messages);if(!f)return e(d);let g=f?.content.findIndex(a=>a.metadata?.purpose==="context"),h=g>=0&&f.content[g];if(h&&!h.metadata?.pending)return e(d);let i=`${b||""}`;return d.docs?.forEach((b,d)=>{i+=c(new k.Document(b),d,a)}),i+="\n",g>=0?f.content[g]={...h,text:i,metadata:{purpose:"context"}}:f.content.push({text:i,metadata:{purpose:"context"}}),e(d)}}let t=a=>`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(a)}
\`\`\`
`;function u(a){return(b,c)=>{let d;return b.output?.constrained&&b.output?.schema&&(d=(a?.instructionsRenderer??t)(b.output?.schema),b={...b,messages:(0,l.injectInstructions)(b.messages,d),output:{...b.output,constrained:!1,format:void 0,contentType:void 0,schema:void 0}}),c(b)}}},29990:(a,b,c)=>{"use strict";function d(){return"unknown_service:"+process.argv0}c.d(b,{m:()=>d})},30115:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;let c=new Set(["string","number","integer","boolean","null","object","array"]);b.isJSONType=function(a){return"string"==typeof a&&c.has(a)},b.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},30178:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}c(77848),b.default=function(){function a(){e(this,a)}return d(a,null,[{key:"invokeCallback",value:function(a,b,c){a&&a(b,c)}},{key:"convertProcessToThrift",value:function(a,b){for(var c=[],d=0;d<b.tags.length;d++){var e=b.tags[d];c.push(new a.Tag(e))}return new a.Process({serviceName:b.serviceName,tags:c})}}]),a}()},30430:(a,b,c)=>{"use strict";var d=c(8408),e=c(17350),f=c(32557);function g(a){return"bigint"==typeof a||Number.isInteger(a)}let h=({value:a})=>JSON.stringify(a),i=[{identify:a=>"string"==typeof a,default:!0,tag:"tag:yaml.org,2002:str",resolve:a=>a,stringify:h},{identify:a=>null==a,createNode:()=>new d.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:h},{identify:a=>"boolean"==typeof a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:a=>"true"===a,stringify:h},{identify:g,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(a,b,{intAsBigInt:c})=>c?BigInt(a):parseInt(a,10),stringify:({value:a})=>g(a)?a.toString():JSON.stringify(a)},{identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:a=>parseFloat(a),stringify:h}],j={default:!0,tag:"",test:/^/,resolve:(a,b)=>(b(`Unresolved plain scalar ${JSON.stringify(a)}`),a)};b.schema=[e.map,f.seq].concat(i,j)},30620:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864);b.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let{gen:c,data:e,$data:f,schema:g,schemaCode:h,it:i}=a,{opts:j,errSchemaPath:k,schemaEnv:l,self:m}=i;function n(){let f=c.scopeValue("formats",{ref:m.formats,code:j.code.formats}),g=c.const("fDef",(0,d._)`${f}[${h}]`),i=c.let("fType"),k=c.let("format");function n(){return!1===j.strictSchema?d.nil:(0,d._)`${h} && !${k}`}function o(){let a=l.$async?(0,d._)`(${g}.async ? await ${k}(${e}) : ${k}(${e}))`:(0,d._)`${k}(${e})`,c=(0,d._)`(typeof ${k} == "function" ? ${a} : ${k}.test(${e}))`;return(0,d._)`${k} && ${k} !== true && ${i} === ${b} && !${c}`}c.if((0,d._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>c.assign(i,(0,d._)`${g}.type || "string"`).assign(k,(0,d._)`${g}.validate`),()=>c.assign(i,(0,d._)`"string"`).assign(k,g)),a.fail$data((0,d.or)(n(),o()))}function o(){let f=m.formats[g];if(!f)return void o();if(!0===f)return;let[h,i,n]=p(f);function o(){if(!1===j.strictSchema)return void m.logger.warn(a());throw Error(a());function a(){return`unknown format "${g}" ignored in schema at path "${k}"`}}function p(a){let b=a instanceof RegExp?(0,d.regexpCode)(a):j.code.formats?(0,d._)`${j.code.formats}${(0,d.getProperty)(g)}`:void 0,e=c.scopeValue("formats",{key:g,ref:a,code:b});return"object"!=typeof a||a instanceof RegExp?["string",a,e]:[a.type||"string",a.validate,(0,d._)`${e}.validate`]}function q(){if("object"==typeof f&&!(f instanceof RegExp)&&f.async){if(!l.$async)throw Error("async format in sync schema");return(0,d._)`await ${n}(${e})`}return"function"==typeof i?(0,d._)`${n}(${e})`:(0,d._)`${n}.test(${e})`}h===b&&a.pass(q())}j.validateFormats&&(f?n():o())}}},30648:(a,b,c)=>{"use strict";c.d(b,{Go:()=>i,Ko:()=>h,U1:()=>g});var d=c(80764),e=c(44080),f=c(28392),g={serializeRequest:function(a){var b=(0,d.s)(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}},h={serializeRequest:function(a){var b=(0,e.K)(a,{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}},i={serializeRequest:function(a){var b=(0,f.W)(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}}},30738:(a,b,c)=>{"use strict";a.exports=y,y.filename=null,y.defaults={keepCase:!1};var d=c(14846),e=c(31705),f=c(68069),g=c(53259),h=c(82619),i=c(54452),j=c(67958),k=c(12834),l=c(382),m=c(32795),n=c(75688),o=c(305),p=/^[1-9][0-9]*$/,q=/^-?[1-9][0-9]*$/,r=/^0[x][0-9a-fA-F]+$/,s=/^-?0[x][0-9a-fA-F]+$/,t=/^0[0-7]+$/,u=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function y(a,b,c){b instanceof e||(c=b,b=new e),c||(c=y.defaults);var z,A,B,C,D=c.preferTrailingComment||!1,E=d(a,c.alternateCommentMode||!1),F=E.next,G=E.push,H=E.peek,I=E.skip,J=E.cmnt,K=!0,L="proto2",M=b,N=[],O={},P=c.keepCase?function(a){return a}:o.camelCase;function Q(){N.forEach(a=>{a._edition=L,Object.keys(O).forEach(b=>{void 0===a.getOption(b)&&a.setOption(b,O[b],!0)})})}function R(a,b,c){var d=y.filename;return c||(y.filename=null),Error("illegal "+(b||"token")+" '"+a+"' ("+(d?d+", ":"")+"line "+E.line+")")}function S(){var a,b=[];do{if('"'!==(a=F())&&"'"!==a)throw R(a);b.push(F()),I(a),a=H()}while('"'===a||"'"===a);return b.join("")}function T(a){var b=F();switch(b){case"'":case'"':return G(b),S();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return V(b,!0)}catch(c){if(a&&x.test(b))return b;throw R(b,"value")}}function U(a,b){do if(b&&('"'===(c=H())||"'"===c)){var c,d,e=S();if(a.push(e),L>=2023)throw R(e,"id")}else try{a.push([d=W(F()),I("to",!0)?W(F()):d])}catch(d){if(b&&x.test(c)&&L>=2023)a.push(c);else throw d}while(I(",",!0));var f={options:void 0};f.setOption=function(a,b){void 0===this.options&&(this.options={}),this.options[a]=b},aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)})}function V(a,b){var c=1;switch("-"===a.charAt(0)&&(c=-1,a=a.substring(1)),a){case"inf":case"INF":case"Inf":return 1/0*c;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(a))return c*parseInt(a,10);if(r.test(a))return c*parseInt(a,16);if(t.test(a))return c*parseInt(a,8);if(v.test(a))return c*parseFloat(a);throw R(a,"number",b)}function W(a,b){switch(a){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!b&&"-"===a.charAt(0))throw R(a,"id");if(q.test(a))return parseInt(a,10);if(s.test(a))return parseInt(a,16);if(u.test(a))return parseInt(a,8);throw R(a,"id")}function X(){if(void 0!==A)throw R("package");if(A=F(),!x.test(A))throw R(A,"name");M=M.define(A),I(";")}function Y(){var a,b=H();switch(b){case"weak":a=C||(C=[]),F();break;case"public":F();default:a=B||(B=[])}b=S(),I(";"),a.push(b)}function Z(){if(I("="),(L=S())<2023)throw R(L,"syntax");I(";")}function $(){if(I("="),!["2023"].includes(L=S()))throw R(L,"edition");I(";")}function _(a,b){switch(b){case"option":return ai(a,b),I(";"),!0;case"message":return ab(a,b),!0;case"enum":return ag(a,b),!0;case"service":return an(a,b),!0;case"extend":return ap(a,b),!0}return!1}function aa(a,b,c){var d,e=E.line;if(a&&("string"!=typeof a.comment&&(a.comment=J()),a.filename=y.filename),I("{",!0)){for(;"}"!==(d=F());)b(d);I(";",!0)}else c&&c(),I(";"),a&&("string"!=typeof a.comment||D)&&(a.comment=J(e)||a.comment)}function ab(a,b){if(!w.test(b=F()))throw R(b,"type name");var c=new f(b);aa(c,function(a){if(!_(c,a))switch(a){case"map":ae(c,a);break;case"required":if("proto2"!==L)throw R(a);case"repeated":ac(c,a);break;case"optional":if("proto3"===L)ac(c,"proto3_optional");else if("proto2"!==L)throw R(a);else ac(c,"optional");break;case"oneof":af(c,a);break;case"extensions":U(c.extensions||(c.extensions=[]));break;case"reserved":U(c.reserved||(c.reserved=[]),!0);break;default:if("proto2"===L||!x.test(a))throw R(a);G(a),ac(c,"optional")}}),a.add(c),a===M&&N.push(c)}function ac(a,b,c){var d=F();if("group"===d)return void ad(a,b);for(;d.endsWith(".")||H().startsWith(".");)d+=F();if(!x.test(d))throw R(d,"type");var e=F();if(!w.test(e))throw R(e,"name");e=P(e),I("=");var f=new g(e,W(F()),d,b,c);if(aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)}),"proto3_optional"===b){var h=new i("_"+e);f.setOption("proto3_optional",!0),h.add(f),a.add(h)}else a.add(f);a===M&&N.push(f)}function ad(a,b){if(L>=2023)throw R("group");var c=F();if(!w.test(c))throw R(c,"name");var d=o.lcFirst(c);c===d&&(c=o.ucFirst(c)),I("=");var e=W(F()),h=new f(c);h.group=!0;var i=new g(d,e,c,b);i.filename=y.filename,aa(h,function(a){switch(a){case"option":ai(h,a),I(";");break;case"required":case"repeated":ac(h,a);break;case"optional":"proto3"===L?ac(h,"proto3_optional"):ac(h,"optional");break;case"message":ab(h,a);break;case"enum":ag(h,a);break;case"reserved":U(h.reserved||(h.reserved=[]),!0);break;default:throw R(a)}}),a.add(h).add(i)}function ae(a){I("<");var b=F();if(void 0===n.mapKey[b])throw R(b,"type");I(",");var c=F();if(!x.test(c))throw R(c,"type");I(">");var d=F();if(!w.test(d))throw R(d,"name");I("=");var e=new h(P(d),W(F()),b,c);aa(e,function(a){if("option"===a)ai(e,a),I(";");else throw R(a)},function(){am(e)}),a.add(e)}function af(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new i(P(b));aa(c,function(a){"option"===a?(ai(c,a),I(";")):(G(a),ac(c,"optional"))}),a.add(c)}function ag(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new j(b);aa(c,function(a){switch(a){case"option":ai(c,a),I(";");break;case"reserved":U(c.reserved||(c.reserved=[]),!0),void 0===c.reserved&&(c.reserved=[]);break;default:ah(c,a)}}),a.add(c),a===M&&N.push(c)}function ah(a,b){if(!w.test(b))throw R(b,"name");I("=");var c=W(F(),!0),d={options:void 0};d.getOption=function(a){return this.options[a]},d.setOption=function(a,b){m.prototype.setOption.call(d,a,b)},d.setParsedOption=function(){},aa(d,function(a){if("option"===a)ai(d,a),I(";");else throw R(a)},function(){am(d)}),a.add(b,c,d.comment,d.parsedOptions||d.options)}function ai(a,b){var c,d,e=!0;for("option"===b&&(b=F());"="!==b;){if("("===b){var f=F();I(")"),b="("+f+")"}if(e){if(e=!1,b.includes(".")&&!b.includes("(")){var g=b.split(".");c=g[0]+".",b=g[1];continue}c=b}else d=d?d+=b:b;b=F()}var h=aj(a,d?c.concat(d):c);d=d&&"."===d[0]?d.slice(1):d,al(a,c=c&&"."===c[c.length-1]?c.slice(0,-1):c,h,d)}function aj(a,b){if(I("{",!0)){for(var c={};!I("}",!0);){if(!w.test(z=F()))throw R(z,"name");if(null===z)throw R(z,"end of input");var d,e,f=z;if(I(":",!0),"{"===H())d=aj(a,b+"."+z);else if("["===H()){if(d=[],I("[",!0)){do e=T(!0),d.push(e);while(I(",",!0));I("]"),void 0!==e&&ak(a,b+"."+z,e)}}else d=T(!0),ak(a,b+"."+z,d);var g=c[f];g&&(d=[].concat(g).concat(d)),c[f]=d,I(",",!0),I(";",!0)}return c}var h=T(!0);return ak(a,b,h),h}function ak(a,b,c){if(M===a&&/^features\./.test(b)){O[b]=c;return}a.setOption&&a.setOption(b,c)}function al(a,b,c,d){a.setParsedOption&&a.setParsedOption(b,c,d)}function am(a){if(I("[",!0)){do ai(a,"option");while(I(",",!0));I("]")}return a}function an(a,b){if(!w.test(b=F()))throw R(b,"service name");var c=new k(b);aa(c,function(a){if(!_(c,a))if("rpc"===a)ao(c,a);else throw R(a)}),a.add(c),a===M&&N.push(c)}function ao(a,b){var c=J(),d=b;if(!w.test(b=F()))throw R(b,"name");var e,f,g,h,i=b;if(I("("),I("stream",!0)&&(f=!0),!x.test(b=F())||(e=b,I(")"),I("returns"),I("("),I("stream",!0)&&(h=!0),!x.test(b=F())))throw R(b);g=b,I(")");var j=new l(i,d,e,g,f,h);j.comment=c,aa(j,function(a){if("option"===a)ai(j,a),I(";");else throw R(a)}),a.add(j)}function ap(a,b){if(!x.test(b=F()))throw R(b,"reference");var c=b;aa(null,function(b){switch(b){case"required":case"repeated":ac(a,b,c);break;case"optional":"proto3"===L?ac(a,"proto3_optional",c):ac(a,"optional",c);break;default:if("proto2"===L||!x.test(b))throw R(b);G(b),ac(a,"optional",c)}})}for(;null!==(z=F());)switch(z){case"package":if(!K)throw R(z);X();break;case"import":if(!K)throw R(z);Y();break;case"syntax":if(!K)throw R(z);Z();break;case"edition":if(!K)throw R(z);$();break;case"option":ai(M,z),I(";",!0);break;default:if(_(M,z)){K=!1;continue}throw R(z)}return Q(),y.filename=null,{package:A,imports:B,weakImports:C,root:b}}},30762:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CIPHER_SUITES=void 0,b.getDefaultRootsData=g;let d=c(29021);b.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let e=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,f=null;function g(){return e?(null===f&&(f=d.readFileSync(e)),f):null}},30912:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;let c=new Set(["string","number","integer","boolean","null","object","array"]);b.isJSONType=function(a){return"string"==typeof a&&c.has(a)},b.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},31033:(a,b,c)=>{"use strict";var d=c(66472),e=c(61710).h,f=c(1134),g=c(35653),h=c(28354).inspect;function i(a){this.buffer=a,this.annotations=[]}Object.defineProperty(i.prototype,"length",{enumerable:!0,get:function(){return this.buffer.length}}),i.prototype.toString=function(a,b,c){var d=this.buffer.toString(a,b,c);return this.annotations.push({kind:"read",name:"string",value:d,encoding:a,start:b,end:c}),d},i.prototype.copy=function(a,b,c,d){var e=this.buffer.copy(a,b,c,d),f=c||0,g=d||f+e;return this.annotations.push({kind:"read",name:"copy",value:this.buffer.slice(f,g),start:f,end:g}),e},i.prototype.slice=function(a,b){var c=this.buffer.slice(a,b);return this.annotations.push({kind:"read",name:"slice",value:c,start:a,end:b}),c},i.prototype.readInt8=function(a,b){var c=this.buffer.readInt8(a,b);return this.annotations.push({kind:"read",name:"Int8",value:c,start:a,end:a+1}),c},i.prototype.readUInt8=function(a,b){var c=this.buffer.readUInt8(a,b);return this.annotations.push({kind:"read",name:"UInt8",value:c,start:a,end:a+1}),c},i.prototype.readUInt16LE=function(a,b){var c=this.buffer.readUInt16LE(a,b);return this.annotations.push({kind:"read",name:"UInt16LE",value:c,start:a,end:a+2}),c},i.prototype.readUInt16BE=function(a,b){var c=this.buffer.readUInt16BE(a,b);return this.annotations.push({kind:"read",name:"UInt16BE",value:c,start:a,end:a+2}),c},i.prototype.readUInt32LE=function(a,b){var c=this.buffer.readUInt32LE(a,b);return this.annotations.push({kind:"read",name:"UInt32LE",value:c,start:a,end:a+4}),c},i.prototype.readUInt32BE=function(a,b){var c=this.buffer.readUInt32BE(a,b);return this.annotations.push({kind:"read",name:"UInt32BE",value:c,start:a,end:a+4}),c},i.prototype.readInt16LE=function(a,b){var c=this.buffer.readInt16LE(a,b);return this.annotations.push({kind:"read",name:"Int16LE",value:c,start:a,end:a+2}),c},i.prototype.readInt16BE=function(a,b){var c=this.buffer.readInt16BE(a,b);return this.annotations.push({kind:"read",name:"Int16BE",value:c,start:a,end:a+2}),c},i.prototype.readInt32LE=function(a,b){var c=this.buffer.readInt32LE(a,b);return this.annotations.push({kind:"read",name:"Int32LE",value:c,start:a,end:a+4}),c},i.prototype.readInt32BE=function(a,b){var c=this.buffer.readInt32BE(a,b);return this.annotations.push({kind:"read",name:"Int32BE",value:c,start:a,end:a+4}),c},i.prototype.readFloatLE=function(a,b){var c=this.buffer.readFloatLE(a,b);return this.annotations.push({kind:"read",name:"FloatLE",value:c,start:a,end:a+4}),c},i.prototype.readFloatBE=function(a,b){var c=this.buffer.readFloatBE(a,b);return this.annotations.push({kind:"read",name:"FloatBE",value:c,start:a,end:a+4}),c},i.prototype.readDoubleLE=function(a,b){var c=this.buffer.readDoubleLE(a,b);return this.annotations.push({kind:"read",name:"DoubleLE",value:c,start:a,end:a+8}),c},i.prototype.readDoubleBE=function(a,b){var c=this.buffer.readDoubleBE(a,b);return this.annotations.push({kind:"read",name:"DoubleBE",value:c,start:a,end:a+8}),c},i.prototype.hexdump=function(a){var b=this;void 0===(a=g(a,{emptyHuman:" ",annotateLine:l})).boldStart&&(a.boldStart=!0),a.decorateHexen=m,a.decorateHuman=m;var c=a.colors||["magenta","cyan","yellow","green"],i=0,j=0,k=0;return d(this.buffer,a);function l(d,f){for(var g=[],i=k;i<=j;i++){var l=b.annotations[i];l&&l.start>=d&&l.start<f&&(a.colored&&(l.color=c[i%c.length]),g.push(l),k=i+1)}return"  "+g.map(function(b){var c=b.name;return"string"==typeof b.value||Buffer.isBuffer(b.value)||(c+="("+h(b.value)+")"),b.color?c=e(c,b.color):b.start===b.end?c+="@"+b.start.toString(16):c+="@["+b.start.toString(16)+","+b.end.toString(16)+"]",a.highlight&&(c=a.highlight(b.start,0,c)),c}).join(" ")}function m(d,g,h){for(var k=b.annotations[j];k&&d>=k.end;)k=b.annotations[++j],i=(i+1)%c.length;return k&&a.colored&&d>=k.start&&d<k.end&&(h=e(h=f(h),c[i]),d===k.start&&a.boldStart&&(h=e(h,"bold"))),a.highlight&&(h=a.highlight(d,g,h)),h}},a.exports=i},31162:(a,b,c)=>{"use strict";a.exports=l;var d,e,f,g=c(32795);((l.prototype=Object.create(g.prototype)).constructor=l).className="Namespace";var h=c(53259),i=c(305),j=c(54452);function k(a,b){if(a&&a.length){for(var c={},d=0;d<a.length;++d)c[a[d].name]=a[d].toJSON(b);return c}}function l(a,b){g.call(this,a,b),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function m(a){a._nestedArray=null,a._lookupCache={};for(var b=a;b=b.parent;)b._lookupCache={};return a}l.fromJSON=function(a,b){return new l(a,b.options).addJSON(b.nested)},l.arrayToJSON=k,l.isReservedId=function(a,b){if(a){for(var c=0;c<a.length;++c)if("string"!=typeof a[c]&&a[c][0]<=b&&a[c][1]>b)return!0}return!1},l.isReservedName=function(a,b){if(a){for(var c=0;c<a.length;++c)if(a[c]===b)return!0}return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=i.toArray(this.nested))}}),l.prototype.toJSON=function(a){return i.toObject(["options",this.options,"nested",k(this.nestedArray,a)])},l.prototype.addJSON=function(a){var b=this;if(a)for(var c,g=Object.keys(a),i=0;i<g.length;++i)c=a[g[i]],b.add((void 0!==c.fields?d.fromJSON:void 0!==c.values?f.fromJSON:void 0!==c.methods?e.fromJSON:void 0!==c.id?h.fromJSON:l.fromJSON)(g[i],c));return this},l.prototype.get=function(a){return this.nested&&this.nested[a]||null},l.prototype.getEnum=function(a){if(this.nested&&this.nested[a]instanceof f)return this.nested[a].values;throw Error("no such enum: "+a)},l.prototype.add=function(a){if(!(a instanceof h&&void 0!==a.extend||a instanceof d||a instanceof j||a instanceof f||a instanceof e||a instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var b=this.get(a.name);if(b)if(b instanceof l&&a instanceof l&&!(b instanceof d||b instanceof e)){for(var c=b.nestedArray,g=0;g<c.length;++g)a.add(c[g]);this.remove(b),this.nested||(this.nested={}),a.setOptions(b.options,!0)}else throw Error("duplicate name '"+a.name+"' in "+this)}else this.nested={};this.nested[a.name]=a,this instanceof d||this instanceof e||this instanceof f||this instanceof h||a._edition||(a._edition=a._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var i=this;i=i.parent;)i._needsRecursiveFeatureResolution=!0,i._needsRecursiveResolve=!0;return a.onAdd(this),m(this)},l.prototype.remove=function(a){if(!(a instanceof g))throw TypeError("object must be a ReflectionObject");if(a.parent!==this)throw Error(a+" is not a member of "+this);return delete this.nested[a.name],Object.keys(this.nested).length||(this.nested=void 0),a.onRemove(this),m(this)},l.prototype.define=function(a,b){if(i.isString(a))a=a.split(".");else if(!Array.isArray(a))throw TypeError("illegal path");if(a&&a.length&&""===a[0])throw Error("path must be relative");for(var c=this;a.length>0;){var d=a.shift();if(c.nested&&c.nested[d]){if(!((c=c.nested[d])instanceof l))throw Error("path conflicts with non-namespace objects")}else c.add(c=new l(d))}return b&&c.addJSON(b),c},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var a=this.nestedArray,b=0;for(this.resolve();b<a.length;)a[b]instanceof l?a[b++].resolveAll():a[b++].resolve();return this._needsRecursiveResolve=!1,this},l.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,a=this._edition||a,g.prototype._resolveFeaturesRecursive.call(this,a),this.nestedArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},l.prototype.lookup=function(a,b,c){if("boolean"==typeof b?(c=b,b=void 0):b&&!Array.isArray(b)&&(b=[b]),i.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;var d=a.join(".");if(""===a[0])return this.root.lookup(a.slice(1),b);var e=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+d];if(e&&(!b||b.indexOf(e.constructor)>-1)||(e=this._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;if(c)return null;for(var f=this;f.parent;){if((e=f.parent._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;f=f.parent}return null},l.prototype._lookupImpl=function(a,b){if(Object.prototype.hasOwnProperty.call(this._lookupCache,b))return this._lookupCache[b];var c=this.get(a[0]),d=null;if(c)1===a.length?d=c:c instanceof l&&(a=a.slice(1),d=c._lookupImpl(a,a.join(".")));else for(var e=0;e<this.nestedArray.length;++e)this._nestedArray[e]instanceof l&&(c=this._nestedArray[e]._lookupImpl(a,b))&&(d=c);return this._lookupCache[b]=d,d},l.prototype.lookupType=function(a){var b=this.lookup(a,[d]);if(!b)throw Error("no such type: "+a);return b},l.prototype.lookupEnum=function(a){var b=this.lookup(a,[f]);if(!b)throw Error("no such Enum '"+a+"' in "+this);return b},l.prototype.lookupTypeOrEnum=function(a){var b=this.lookup(a,[d,f]);if(!b)throw Error("no such Type or Enum '"+a+"' in "+this);return b},l.prototype.lookupService=function(a){var b=this.lookup(a,[e]);if(!b)throw Error("no such Service '"+a+"' in "+this);return b},l._configure=function(a,b,c){d=a,e=b,f=c}},31315:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{backgroundModel:()=>m.backgroundModel,embedder:()=>k.embedder,embedderActionMetadata:()=>k.embedderActionMetadata,evaluator:()=>l.evaluator,genkitPlugin:()=>p,genkitPluginV2:()=>q,indexer:()=>o.indexer,isPluginV2:()=>r,model:()=>m.model,modelActionMetadata:()=>m.modelActionMetadata,reranker:()=>n.reranker,retriever:()=>o.retriever}),a.exports=i(j);var k=c(13672),l=c(37719),m=c(95403),n=c(68448),o=c(1998);function p(a,b,c,d){return e=>({name:a,initializer:async()=>{await b(e)},resolver:async(a,b)=>{if(c)return await c(e,a,b)},listActions:async()=>d?await d():[]})}function q(a){return{...a,version:"v2"}}function r(a){return"v2"===a.version}},31365:(a,b)=>{"use strict";function c(a,b){let c=Object.keys(a).sort(),d=Object.keys(b).sort();if(c.length!==d.length)return!1;for(let e=0;e<c.length;e+=1)if(c[e]!==d[e]||a[c[e]]!==b[d[e]])return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0}),b.recognizedOptions=void 0,b.channelOptionsEqual=c,b.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0,"grpc.server_call_metric_recording":!0}},31539:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerDuplexStreamImpl=b.ServerWritableStreamImpl=b.ServerReadableStreamImpl=b.ServerUnaryCallImpl=void 0,b.serverErrorToStatus=h;let d=c(94735),e=c(27910),f=c(56458),g=c(33604);function h(a,b){var c;let d={code:f.Status.UNKNOWN,details:"message"in a?a.message:"Unknown Error",metadata:null!=(c=null!=b?b:a.metadata)?c:null};return"code"in a&&"number"==typeof a.code&&Number.isInteger(a.code)&&(d.code=a.code,"details"in a&&"string"==typeof a.details&&(d.details=a.details)),d}class i extends d.EventEmitter{constructor(a,b,c,d){super(),this.path=a,this.call=b,this.metadata=c,this.request=d,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}b.ServerUnaryCallImpl=i;class j extends e.Readable{constructor(a,b,c){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.cancelled=!1}_read(a){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}b.ServerReadableStreamImpl=j;class k extends e.Writable{constructor(a,b,c,d){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.request=d,this.pendingStatus={code:f.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new g.Metadata,this.on("error",a=>{this.pendingStatus=h(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(a,b,c){this.call.sendMessage(a,c)}_final(a){var b;a(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(b=this.pendingStatus.metadata)?b:this.trailingMetadata}))}end(a){return a&&(this.trailingMetadata=a),super.end()}}b.ServerWritableStreamImpl=k;class l extends e.Duplex{constructor(a,b,c){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.pendingStatus={code:f.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new g.Metadata,this.on("error",a=>{this.pendingStatus=h(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(a){this.call.startRead()}_write(a,b,c){this.call.sendMessage(a,c)}_final(a){var b;a(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(b=this.pendingStatus.metadata)?b:this.trailingMetadata}))}end(a){return a&&(this.trailingMetadata=a),super.end()}}b.ServerDuplexStreamImpl=l},31574:(a,b,c)=>{"use strict";c.r(b),c.d(b,{BRAND:()=>g.qt,DIRTY:()=>e.jm,EMPTY_PATH:()=>e.I3,INVALID:()=>e.uY,NEVER:()=>g.tm,OK:()=>e.OK,ParseStatus:()=>e.MY,Schema:()=>g.Sj,ZodAny:()=>g.Ml,ZodArray:()=>g.n,ZodBigInt:()=>g.Lr,ZodBoolean:()=>g.WF,ZodBranded:()=>g.eN,ZodCatch:()=>g.hw,ZodDate:()=>g.aP,ZodDefault:()=>g.Xi,ZodDiscriminatedUnion:()=>g.jv,ZodEffects:()=>g.k1,ZodEnum:()=>g.Vb,ZodError:()=>h.G,ZodFirstPartyTypeKind:()=>g.kY,ZodFunction:()=>g.CZ,ZodIntersection:()=>g.Jv,ZodIssueCode:()=>h.eq,ZodLazy:()=>g.Ih,ZodLiteral:()=>g.DN,ZodMap:()=>g.Ut,ZodNaN:()=>g.Tq,ZodNativeEnum:()=>g.WM,ZodNever:()=>g.iS,ZodNull:()=>g.PQ,ZodNullable:()=>g.l1,ZodNumber:()=>g.rS,ZodObject:()=>g.bv,ZodOptional:()=>g.Ii,ZodParsedType:()=>f.Zp,ZodPipeline:()=>g._c,ZodPromise:()=>g.$i,ZodReadonly:()=>g.EV,ZodRecord:()=>g.b8,ZodSchema:()=>g.lK,ZodSet:()=>g.Kz,ZodString:()=>g.ND,ZodSymbol:()=>g.K5,ZodTransformer:()=>g.BG,ZodTuple:()=>g.y0,ZodType:()=>g.aR,ZodUndefined:()=>g._Z,ZodUnion:()=>g.fZ,ZodUnknown:()=>g._,ZodVoid:()=>g.a0,addIssueToContext:()=>e.zn,any:()=>g.bz,array:()=>g.YO,bigint:()=>g.o,boolean:()=>g.zM,coerce:()=>g.au,custom:()=>g.Ie,date:()=>g.p6,datetimeRegex:()=>g.fm,defaultErrorMap:()=>d.su,discriminatedUnion:()=>g.gM,effect:()=>g.QZ,enum:()=>g.k5,function:()=>g.fH,getErrorMap:()=>d.$W,getParsedType:()=>f.CR,instanceof:()=>g.Nl,intersection:()=>g.E$,isAborted:()=>e.G4,isAsync:()=>e.xP,isDirty:()=>e.DM,isValid:()=>e.fn,late:()=>g.fn,lazy:()=>g.RZ,literal:()=>g.eu,makeIssue:()=>e.y7,map:()=>g.Tj,nan:()=>g.oi,nativeEnum:()=>g.fc,never:()=>g.Zm,null:()=>g.ch,nullable:()=>g.me,number:()=>g.ai,object:()=>g.Ik,objectUtil:()=>f.o6,oboolean:()=>g.yN,onumber:()=>g.p7,optional:()=>g.lq,ostring:()=>g.Di,pipeline:()=>g.Tk,preprocess:()=>g.vk,promise:()=>g.iv,quotelessJson:()=>h.WI,record:()=>g.g1,set:()=>g.hZ,setErrorMap:()=>d.pJ,strictObject:()=>g.re,string:()=>g.Yj,symbol:()=>g.HR,transformer:()=>g.Gu,tuple:()=>g.PV,undefined:()=>g.Vx,union:()=>g.KC,unknown:()=>g.L5,util:()=>f.ZS,void:()=>g.rI});var d=c(95026),e=c(94197),f=c(70149),g=c(79592),h=c(16800)},31705:(a,b,c)=>{"use strict";a.exports=l;var d,e,f,g=c(31162);((l.prototype=Object.create(g.prototype)).constructor=l).className="Root";var h=c(53259),i=c(67958),j=c(54452),k=c(305);function l(a){g.call(this,"",a),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function m(){}l.fromJSON=function(a,b){return b||(b=new l),a.options&&b.setOptions(a.options),b.addJSON(a.nested).resolveAll()},l.prototype.resolvePath=k.path.resolve,l.prototype.fetch=k.fetch,l.prototype.load=function a(b,c,d){"function"==typeof c&&(d=c,c=void 0);var g=this;if(!d)return k.asPromise(a,g,b,c);var h=d===m;function i(a,b){if(d){if(h)throw a;b&&b.resolveAll();var c=d;d=null,c(a,b)}}function j(a){var b=a.lastIndexOf("google/protobuf/");if(b>-1){var c=a.substring(b);if(c in f)return c}return null}function l(a,b){try{if(k.isString(b)&&"{"===b.charAt(0)&&(b=JSON.parse(b)),k.isString(b)){e.filename=a;var d,f=e(b,g,c),l=0;if(f.imports)for(;l<f.imports.length;++l)(d=j(f.imports[l])||g.resolvePath(a,f.imports[l]))&&n(d);if(f.weakImports)for(l=0;l<f.weakImports.length;++l)(d=j(f.weakImports[l])||g.resolvePath(a,f.weakImports[l]))&&n(d,!0)}else g.setOptions(b.options).addJSON(b.nested)}catch(a){i(a)}h||o||i(null,g)}function n(a,b){if(a=j(a)||a,!(g.files.indexOf(a)>-1)){if(g.files.push(a),a in f)return void(h?l(a,f[a]):(++o,setTimeout(function(){--o,l(a,f[a])})));if(h){var c;try{c=k.fs.readFileSync(a).toString("utf8")}catch(a){b||i(a);return}l(a,c)}else++o,g.fetch(a,function(c,e){if(--o,d){if(c)return void(b?o||i(null,g):i(c));l(a,e)}})}}var o=0;k.isString(b)&&(b=[b]);for(var p,q=0;q<b.length;++q)(p=g.resolvePath("",b[q]))&&n(p);return h?g.resolveAll():o||i(null,g),g},l.prototype.loadSync=function(a,b){if(!k.isNode)throw Error("not supported");return this.load(a,b,m)},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(a){return"'extend "+a.extend+"' in "+a.parent.fullName}).join(", "));return g.prototype.resolveAll.call(this)};var n=/^[A-Z]/;function o(a,b){var c=b.parent.lookup(b.extend);if(c){var d=new h(b.fullName,b.id,b.type,b.rule,void 0,b.options);return!!c.get(d.name)||(d.declaringField=b,b.extensionField=d,c.add(d),!0)}return!1}l.prototype._handleAdd=function(a){if(a instanceof h)void 0===a.extend||a.extensionField||o(this,a)||this.deferred.push(a);else if(a instanceof i)n.test(a.name)&&(a.parent[a.name]=a.values);else if(!(a instanceof j)){if(a instanceof d)for(var b=0;b<this.deferred.length;)o(this,this.deferred[b])?this.deferred.splice(b,1):++b;for(var c=0;c<a.nestedArray.length;++c)this._handleAdd(a._nestedArray[c]);n.test(a.name)&&(a.parent[a.name]=a)}(a instanceof d||a instanceof i||a instanceof h)&&(this._fullyQualifiedObjects[a.fullName]=a)},l.prototype._handleRemove=function(a){if(a instanceof h){if(void 0!==a.extend)if(a.extensionField)a.extensionField.parent.remove(a.extensionField),a.extensionField=null;else{var b=this.deferred.indexOf(a);b>-1&&this.deferred.splice(b,1)}}else if(a instanceof i)n.test(a.name)&&delete a.parent[a.name];else if(a instanceof g){for(var c=0;c<a.nestedArray.length;++c)this._handleRemove(a._nestedArray[c]);n.test(a.name)&&delete a.parent[a.name]}delete this._fullyQualifiedObjects[a.fullName]},l._configure=function(a,b,c){d=a,e=b,f=c}},31843:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{version:()=>i}),a.exports=g(h);let i="1.21.0"},31958:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDef=void 0;let d=c(19518),e=c(65549),f=c(90737),g=c(10715);function h(a,b,c=!1){let f=b.seen.get(a);if(b.override){let e=b.override?.(a,b,f,c);if(e!==d.ignoreOverride)return e}if(f&&!c){let a=i(f,b);if(void 0!==a)return a}let g={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,g);let k=(0,e.selectParser)(a,a.typeName,b),l="function"==typeof k?h(k(),b):k;if(l&&j(a,b,l),b.postProcess){let c=b.postProcess(l,a,b);return g.jsonSchema=l,c}return g.jsonSchema=l,l}b.parseDef=h;let i=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:(0,f.getRelativePath)(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),(0,g.parseAnyDef)(b);return"seen"===b.$refStrategy?(0,g.parseAnyDef)(b):void 0}},j=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c)},32044:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseRecordDef=void 0;let d=c(62934),e=c(31958),f=c(93416),g=c(83361),h=c(10715);b.parseRecordDef=function(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??(0,h.parseAnyDef)(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=(0,f.parseStringDef)(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodBranded&&a.keyType._def.type._def.typeName===d.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=(0,g.parseBrandedDef)(a.keyType._def,b);return{...c,propertyNames:e}}return c}},32355:(a,b,c)=>{"use strict";var d=c(42218),e=c(25283);function f(a){let b=new Set;return e.visit(a,{Value(a,c){c.anchor&&b.add(c.anchor)}}),b}function g(a,b){for(let c=1;;++c){let d=`${a}${c}`;if(!b.has(d))return d}}function h(a,b){let c=[],e=new Map,h=null;return{onAnchor:d=>{c.push(d),h??(h=f(a));let e=g(b,h);return h.add(e),e},setAnchors:()=>{for(let a of c){let b=e.get(a);if("object"==typeof b&&b.anchor&&(d.isScalar(b.node)||d.isCollection(b.node)))b.node.anchor=b.anchor;else{let b=Error("Failed to resolve repeated object (this should not happen)");throw b.source=a,b}}},sourceObjects:e}}b.anchorIsValid=function(a){if(/[\x00-\x19\s,[\]{}]/.test(a)){let b=JSON.stringify(a);throw Error(`Anchor must not contain whitespace or control characters: ${b}`)}return!0},b.anchorNames=f,b.createNodeAnchors=h,b.findNewAnchor=g},32437:(a,b,c)=>{"use strict";var d=c(25088);a.exports.TypeIdMismatch=d({type:"thrift-typeid-mismatch",message:'encoded {what} typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null,what:null}),a.exports.MapKeyTypeIdMismatch=d({type:"thrift-map-key-typeid-mismatch",message:'encoded map key typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),a.exports.MapValTypeIdMismatch=d({type:"thrift-map-val-typeid-mismatch",message:'encoded map value typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),a.exports.InvalidSizeError=d({type:"thrift-invalid-size",message:"invalid size {size} of {what}; expects non-negative number",size:null,what:null}),a.exports.InvalidTypeidError=d({type:"thrift-invalid-typeid",message:"invalid typeid {typeid} of {what}; expects one of the values in TYPE",typeid:null,what:null}),a.exports.UnexpectedFieldValueTypeidError=d({type:"thrift-unexpected-field-value-typeid",message:'unexpected typeid {typeid} ({typeName}) for field "{fieldName}" with id {fieldId} on {structName}; expected {expectedTypeid} ({expectedTypeName})',typeid:null,typeName:null,expectedTypeid:null,expectedTypeName:null,fieldName:null,fieldId:null,structName:null}),a.exports.FieldRequiredError=d({type:"thrift-required-field",message:'missing required field "{name}" with id {id} on {structName}',name:null,id:null,structName:null}),a.exports.UnexpectedMapTypeAnnotation=d({type:"thrift-unexpected-map-type-annotation",message:'unexpected map js.type annotation "{mapType}"',mapType:null}),a.exports.InvalidEnumerationTypeError=d({type:"thrift-invalid-enumeration-type",message:"name must be a string for enumeration {enumName}, got: {name} ({nameType})",enumName:null,name:null,nameType:null}),a.exports.InvalidEnumerationNameError=d({type:"thrift-invalid-enumeration-name",message:"name must be a valid member of enumeration {enumName}, got: {name}",enumName:null,name:null}),a.exports.InvalidEnumerationValueError=d({type:"thrift-invalid-enumeration-value",message:"value must be a valid member of enumeration {enumName}, got: {value}",enumName:null,value:null}),a.exports.UnrecognizedMessageEnvelopeVersion=d({type:"thrift-unrecognized-message-envelope-version",message:"unrecognized Thrift message envelope version: {version}",version:null}),a.exports.UnrecognizedMessageEnvelopeType=d({type:"thrift-unrecognized-message-envelope-type",message:"unrecognized Thrift message envelope type: {value}",value:null}),a.exports.InvalidMessageEnvelopeTypeName=d({type:"thrift-invalid-message-envelope-type-name",message:"invalid Thrift message envelope type name: {name}",name:null})},32527:a=>{function b(a,b){this.err=a||null,this.value=b}a.exports=b,b.prototype.toValue=function(){if(!this.err)return this.value;throw this.err},b.prototype.toCallback=function(a){a(this.err,this.value)},b.prototype.toTuple=function(){return[this.err,this.value]}},32557:(a,b,c)=>{"use strict";var d=c(42218),e=c(54726);b.seq={collection:"seq",default:!0,nodeClass:e.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(a,b)=>(d.isSeq(a)||b("Expected a sequence for this tag"),a),createNode:(a,b,c)=>e.YAMLSeq.from(a,b,c)}},32665:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b,c)=>{try{b=new d(b,c)}catch(a){return!1}return b.test(a)}},32686:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762),f=c(83168);b.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxLength"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} characters`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},32795:(a,b,c)=>{"use strict";a.exports=j,j.className="ReflectionObject";let d=c(54452);var e,f=c(305),g={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},h={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},i={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function j(a,b){if(!f.isString(a))throw TypeError("name must be a string");if(b&&!f.isObject(b))throw TypeError("options must be an object");this.options=b,this.parsedOptions=null,this.name=a,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(j.prototype,{root:{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],b=this.parent;b;)a.unshift(b.name),b=b.parent;return a.join(".")}}}),j.prototype.toJSON=function(){throw Error()},j.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var b=a.root;b instanceof e&&b._handleAdd(this)},j.prototype.onRemove=function(a){var b=a.root;b instanceof e&&b._handleRemove(this),this.parent=null,this.resolved=!1},j.prototype.resolve=function(){return this.resolved||this.root instanceof e&&(this.resolved=!0),this},j.prototype._resolveFeaturesRecursive=function(a){return this._resolveFeatures(this._edition||a)},j.prototype._resolveFeatures=function(a){if(!this._featuresResolved){var b={};if(!a)throw Error("Unknown edition for "+this.fullName);var c=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(a));if(this._edition){if("proto2"===a)b=Object.assign({},h);else if("proto3"===a)b=Object.assign({},i);else if("2023"===a)b=Object.assign({},g);else throw Error("Unknown edition: "+a);this._features=Object.assign(b,c||{}),this._featuresResolved=!0;return}if(this.partOf instanceof d){var e=Object.assign({},this.partOf._features);this._features=Object.assign(e,c||{})}else if(this.declaringField);else if(this.parent){var f=Object.assign({},this.parent._features);this._features=Object.assign(f,c||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},j.prototype._inferLegacyProtoFeatures=function(){return{}},j.prototype.getOption=function(a){if(this.options)return this.options[a]},j.prototype.setOption=function(a,b,c){return this.options||(this.options={}),/^features\./.test(a)?f.setProperty(this.options,a,b,c):c&&void 0!==this.options[a]||(this.getOption(a)!==b&&(this.resolved=!1),this.options[a]=b),this},j.prototype.setParsedOption=function(a,b,c){this.parsedOptions||(this.parsedOptions=[]);var d=this.parsedOptions;if(c){var e=d.find(function(b){return Object.prototype.hasOwnProperty.call(b,a)});if(e){var g=e[a];f.setProperty(g,c,b)}else(e={})[a]=f.setProperty({},c,b),d.push(e)}else{var h={};h[a]=b,d.push(h)}return this},j.prototype.setOptions=function(a,b){if(a)for(var c=Object.keys(a),d=0;d<c.length;++d)this.setOption(c[d],a[c[d]],b);return this},j.prototype.toString=function(){var a=this.constructor.className,b=this.fullName;return b.length?a+" "+b:a},j.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},j._configure=function(a){e=a}},32823:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,m:()=>i,oU:()=>h});var d=c(79361),e=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function g(a){var b,c,g={};if("object"!=typeof a||null==a)return g;try{for(var j=e(Object.entries(a)),k=j.next();!k.done;k=j.next()){var l=f(k.value,2),m=l[0],n=l[1];if(!h(m)){d.s.warn("Invalid attribute key: "+m);continue}if(!i(n)){d.s.warn("Invalid attribute value set for key: "+m);continue}Array.isArray(n)?g[m]=n.slice():g[m]=n}}catch(a){b={error:a}}finally{try{k&&!k.done&&(c=j.return)&&c.call(j)}finally{if(b)throw b.error}}return g}function h(a){return"string"==typeof a&&a.length>0}function i(a){return null==a||(Array.isArray(a)?j(a):k(a))}function j(a){try{for(var b,c,d,f=e(a),g=f.next();!g.done;g=f.next()){var h=g.value;if(null!=h){if(!d){if(k(h)){d=typeof h;continue}return!1}if(typeof h!==d)return!1}}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return!0}function k(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}},32843:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346);a.exports=(a,b,c)=>{let f=null,g=null,h=null;try{h=new e(b,c)}catch(a){return null}return a.forEach(a=>{h.test(a)&&(!f||-1===g.compare(a))&&(g=new d(f=a,c))}),f}},33124:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(82999),f=c(59938),g=c(53910),h=c(59762);b.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let n=b.let("valid",!1),o=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);function p(){let c=r();for(let a in b.if(!1),c)b.elseIf((0,d._)`${o} === ${a}`),b.assign(n,q(c[a]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:o,tagName:m}),b.endIf()}function q(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}function r(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let n=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof n)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),i(n,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,b){if(a.const)n(a.const,b);else if(a.enum)for(let c of a.enum)n(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function n(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}b.if((0,d._)`typeof ${o} == "string"`,()=>p(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:o,tagName:m})),a.ok(n)}}},33160:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).patch},33559:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},33604:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;let d=c(38702),e=c(56458),f=c(52291),g=/^[:0-9a-z_.-]+$/,h=/^[ -~]*$/;function i(a){return g.test(a)}function j(a){return h.test(a)}function k(a){return a.endsWith("-bin")}function l(a){return!a.startsWith("grpc-")}function m(a){return a.toLowerCase()}function n(a,b){if(!i(a))throw Error('Metadata key "'+a+'" contains illegal characters');if(null!=b)if(k(a)){if(!Buffer.isBuffer(b))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(b))throw Error("keys that don't end with '-bin' must have String values");if(!j(b))throw Error('Metadata string value "'+b+'" contains illegal characters')}}class o{constructor(a={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=a}set(a,b){n(a=m(a),b),this.internalRepr.set(a,[b])}add(a,b){n(a=m(a),b);let c=this.internalRepr.get(a);void 0===c?this.internalRepr.set(a,[b]):c.push(b)}remove(a){a=m(a),this.internalRepr.delete(a)}get(a){return a=m(a),this.internalRepr.get(a)||[]}getMap(){let a={};for(let[b,c]of this.internalRepr)if(c.length>0){let d=c[0];a[b]=Buffer.isBuffer(d)?Buffer.from(d):d}return a}clone(){let a=new o(this.options),b=a.internalRepr;for(let[a,c]of this.internalRepr){let d=c.map(a=>Buffer.isBuffer(a)?Buffer.from(a):a);b.set(a,d)}return a}merge(a){for(let[b,c]of a.internalRepr){let a=(this.internalRepr.get(b)||[]).concat(c);this.internalRepr.set(b,a)}}setOptions(a){this.options=a}getOptions(){return this.options}toHttp2Headers(){let a={};for(let[b,c]of this.internalRepr)b.startsWith(":")||(a[b]=c.map(p));return a}toJSON(){let a={};for(let[b,c]of this.internalRepr)a[b]=c;return a}setOpaque(a,b){this.opaqueData.set(a,b)}getOpaque(a){return this.opaqueData.get(a)}static fromHttp2Headers(a){let b=new o;for(let c of Object.keys(a)){if(":"===c.charAt(0))continue;let g=a[c];try{k(c)?Array.isArray(g)?g.forEach(a=>{b.add(c,Buffer.from(a,"base64"))}):void 0!==g&&(l(c)?g.split(",").forEach(a=>{b.add(c,Buffer.from(a.trim(),"base64"))}):b.add(c,Buffer.from(g,"base64"))):Array.isArray(g)?g.forEach(a=>{b.add(c,a)}):void 0!==g&&b.add(c,g)}catch(b){let a=`Failed to add metadata entry ${c}: ${g}. ${(0,f.getErrorMessage)(b)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,d.log)(e.LogVerbosity.ERROR,a)}}return b}}b.Metadata=o;let p=a=>Buffer.isBuffer(a)?a.toString("base64"):a},33890:(a,b,c)=>{"use strict";var d;c.d(b,{v:()=>d}),function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(d||(d={}))},34245:function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(b,"__esModule",{value:!0});var e=c(72204),f=c(9028),g=c(5338),h=function(a){function b(){var b=a.call(this)||this;return b._spans=[],b}return d(b,a),b.prototype._startSpan=function(a,b){var c=this._allocSpan();if(c.setOperationName(a),this._spans.push(c),b.references)for(var d=0,e=b.references;d<e.length;d++){var f=e[d];c.addReference(f)}return c._startStack=Error().stack,c},b.prototype._inject=function(a,b,c){throw Error("NOT YET IMPLEMENTED")},b.prototype._extract=function(a,b){throw Error("NOT YET IMPLEMENTED")},b.prototype._allocSpan=function(){return new g.default(this)},b.prototype.clear=function(){this._spans=[]},b.prototype.report=function(){return new f.default(this._spans)},b}(e.Tracer);b.MockTracer=h,b.default=h},34275:(a,b,c)=>{"use strict";var d=c(19771),e=c(22709),f=c(65444),g=c(68423),h=c(42218),i=c(45810),j=c(955);function k(a){if("number"==typeof a)return[a,a+1];if(Array.isArray(a))return 2===a.length?a:[a[0],a[1]];let{offset:b,source:c}=a;return[b,b+("string"==typeof c?c.length:1)]}function l(a){let b="",c=!1,d=!1;for(let e=0;e<a.length;++e){let f=a[e];switch(f[0]){case"#":b+=(""===b?"":d?"\n\n":"\n")+(f.substring(1)||" "),c=!0,d=!1;break;case"%":a[e+1]?.[0]!=="#"&&(e+=1),c=!1;break;default:c||(d=!0),c=!1}}return{comment:b,afterEmptyLine:d}}class m{constructor(a={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(a,b,c,d)=>{let e=k(a);d?this.warnings.push(new g.YAMLWarning(e,b,c)):this.errors.push(new g.YAMLParseError(e,b,c))},this.directives=new e.Directives({version:a.version||"1.2"}),this.options=a}decorate(a,b){let{comment:c,afterEmptyLine:d}=l(this.prelude);if(c){let e=a.contents;if(b)a.comment=a.comment?`${a.comment}
${c}`:c;else if(d||a.directives.docStart||!e)a.commentBefore=c;else if(h.isCollection(e)&&!e.flow&&e.items.length>0){let a=e.items[0];h.isPair(a)&&(a=a.key);let b=a.commentBefore;a.commentBefore=b?`${c}
${b}`:c}else{let a=e.commentBefore;e.commentBefore=a?`${c}
${a}`:c}}b?(Array.prototype.push.apply(a.errors,this.errors),Array.prototype.push.apply(a.warnings,this.warnings)):(a.errors=this.errors,a.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:l(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(a,b=!1,c=-1){for(let b of a)yield*this.next(b);yield*this.end(b,c)}*next(a){switch(d.env.LOG_STREAM&&console.dir(a,{depth:null}),a.type){case"directive":this.directives.add(a.source,(b,c,d)=>{let e=k(a);e[0]+=b,this.onError(e,"BAD_DIRECTIVE",c,d)}),this.prelude.push(a.source),this.atDirectives=!0;break;case"document":{let b=i.composeDoc(this.options,this.directives,a,this.onError);this.atDirectives&&!b.directives.docStart&&this.onError(a,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(b,!1),this.doc&&(yield this.doc),this.doc=b,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(a.source);break;case"error":{let b=a.source?`${a.message}: ${JSON.stringify(a.source)}`:a.message,c=new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN",b);this.atDirectives||!this.doc?this.errors.push(c):this.doc.errors.push(c);break}case"doc-end":{if(!this.doc){let b="Unexpected doc-end without preceding document";this.errors.push(new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN",b));break}this.doc.directives.docEnd=!0;let b=j.resolveEnd(a.end,a.offset+a.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),b.comment){let a=this.doc.comment;this.doc.comment=a?`${a}
${b.comment}`:b.comment}this.doc.range[2]=b.offset;break}default:this.errors.push(new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN",`Unsupported token ${a.type}`))}}*end(a=!1,b=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(a){let a=Object.assign({_directives:this.directives},this.options),c=new f.Document(void 0,a);this.atDirectives&&this.onError(b,"MISSING_CHAR","Missing directives-end indicator line"),c.range=[0,b,b],this.decorate(c,!1),yield c}}}b.Composer=m},34410:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=d.Null;function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="void",g.prototype.typeid=e.VOID,g.prototype.models="type",g.prototype.surface=function(){return null},a.exports.VoidRW=f,a.exports.ThriftVoid=g},34583:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.checkRevision=k,b.template=l,b.wrapProgram=m,b.resolvePartial=n,b.invokePartial=o,b.noop=p;var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(80496)),f=d(c(99008)),g=c(66182),h=c(34832),i=c(40369),j=c(6528);function k(a){var b=a&&a[0]||1,c=g.COMPILER_REVISION;if(!(b>=g.LAST_COMPATIBLE_COMPILER_REVISION)||!(b<=g.COMPILER_REVISION))if(b<g.LAST_COMPATIBLE_COMPILER_REVISION){var d=g.REVISION_CHANGES[c],e=g.REVISION_CHANGES[b];throw new f.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}else throw new f.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}function l(a,b){if(!b)throw new f.default("No environment passed to template");if(!a||!a.main)throw new f.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var c=a.compiler&&7===a.compiler[0];function d(c,d,g){g.hash&&(d=e.extend({},d,g.hash),g.ids&&(g.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,g);var h=e.extend({},g,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=b.VM.invokePartial.call(this,c,d,h);if(null==i&&b.compile&&(g.partials[g.name]=b.compile(c,a.compilerOptions,b),i=g.partials[g.name](d,h)),null!=i){if(g.indent){for(var j=i.split("\n"),k=0,l=j.length;k<l&&(j[k]||k+1!==l);k++)j[k]=g.indent+j[k];i=j.join("\n")}return i}throw new f.default("The partial "+g.name+" could not be compiled when running in runtime-only mode")}var g={strict:function(a,b,c){if(!a||!(b in a))throw new f.default('"'+b+'" not defined in '+a,{loc:c});return g.lookupProperty(a,b)},lookupProperty:function(a,b){var c=a[b];if(null==c||Object.prototype.hasOwnProperty.call(a,b)||j.resultIsAllowed(c,g.protoAccessControl,b))return c},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(null!=(a[d]&&g.lookupProperty(a[d],b)))return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:e.escapeExpression,invokePartial:d,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=m(this,a,g,b,c,d,e):f||(f=this.programs[a]=m(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},mergeIfNeeded:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=e.extend({},b,a)),c},nullContext:Object.seal({}),noop:b.VM.noop,compilerInfo:a.compiler};function i(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.data;i._setup(c),!c.partial&&a.useData&&(d=q(b,d));var e=void 0,f=a.useBlockParams?[]:void 0;function h(b){return""+a.main(g,b,g.helpers,g.partials,d,f,e)}return a.useDepths&&(e=c.depths?b!=c.depths[0]?[b].concat(c.depths):c.depths:[b]),(h=r(a.main,h,g,c.depths||[],d,f))(b,c)}return i.isTop=!0,i._setup=function(d){if(d.partial)g.protoAccessControl=d.protoAccessControl,g.helpers=d.helpers,g.partials=d.partials,g.decorators=d.decorators,g.hooks=d.hooks;else{var f=e.extend({},b.helpers,d.helpers);s(f,g),g.helpers=f,a.usePartial&&(g.partials=g.mergeIfNeeded(d.partials,b.partials)),(a.usePartial||a.useDecorators)&&(g.decorators=e.extend({},b.decorators,d.decorators)),g.hooks={},g.protoAccessControl=j.createProtoAccessControl(d);var i=d.allowCallsToHelperMissing||c;h.moveHelperToHooks(g,"helperMissing",i),h.moveHelperToHooks(g,"blockHelperMissing",i)}},i._child=function(b,c,d,e){if(a.useBlockParams&&!d)throw new f.default("must pass block params");if(a.useDepths&&!e)throw new f.default("must pass parent depths");return m(g,b,a[b],c,0,d,e)},i}function m(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!=g[0]&&(b!==a.nullContext||null!==g[0])&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return(h=r(c,h,a,g,d,f)).program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function n(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function o(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var h=void 0;if(c.fn&&c.fn!==p&&function(){c.data=g.createFrame(c.data);var a=c.fn;h=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=g.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=e.extend({},c.partials,a.partials))}(),void 0===a&&h&&(a=h),void 0===a)throw new f.default("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function p(){return""}function q(a,b){return b&&"root"in b||((b=b?g.createFrame(b):{}).root=a),b}function r(a,b,c,d,f,g){if(a.decorator){var h={};b=a.decorator(b,h,c,d&&d[0],f,g,d),e.extend(b,h)}return b}function s(a,b){Object.keys(a).forEach(function(c){var d=a[c];a[c]=t(d,b)})}function t(a,b){var c=b.lookupProperty;return i.wrapHelper(a,function(a){return e.extend({lookupProperty:c},a)})}},34709:(a,b,c)=>{"use strict";var d=c(8408),e=c(955);function f(a,b){let c="";switch(a[0]){case"	":c="a tab character";break;case",":c="flow indicator character ,";break;case"%":c="directive indicator character %";break;case"|":case">":c=`block scalar indicator ${a[0]}`;break;case"@":case"`":c=`reserved character ${a[0]}`}return c&&b(0,"BAD_SCALAR_START",`Plain value cannot start with ${c}`),h(a)}function g(a,b){return("'"!==a[a.length-1]||1===a.length)&&b(a.length,"MISSING_CHAR","Missing closing 'quote"),h(a.slice(1,-1)).replace(/''/g,"'")}function h(a){let b,c;try{b=RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),c=RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch{b=/(.*?)[ \t]*\r?\n/sy,c=/[ \t]*(.*?)[ \t]*\r?\n/sy}let d=b.exec(a);if(!d)return a;let e=d[1],f=" ",g=b.lastIndex;for(c.lastIndex=g;d=c.exec(a);)""===d[1]?"\n"===f?e+=f:f="\n":(e+=f+d[1],f=" "),g=c.lastIndex;let h=/[ \t]*(.*)/sy;return h.lastIndex=g,d=h.exec(a),e+f+(d?.[1]??"")}function i(a,b){let c="";for(let d=1;d<a.length-1;++d){let e=a[d];if("\r"!==e||"\n"!==a[d+1])if("\n"===e){let{fold:b,offset:e}=j(a,d);c+=b,d=e}else if("\\"===e){let e=a[++d],f=k[e];if(f)c+=f;else if("\n"===e)for(e=a[d+1];" "===e||"	"===e;)e=a[++d+1];else if("\r"===e&&"\n"===a[d+1])for(e=a[++d+1];" "===e||"	"===e;)e=a[++d+1];else if("x"===e||"u"===e||"U"===e){let f={x:2,u:4,U:8}[e];c+=l(a,d+1,f,b),d+=f}else{let e=a.substr(d-1,2);b(d-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${e}`),c+=e}}else if(" "===e||"	"===e){let b=d,f=a[d+1];for(;" "===f||"	"===f;)f=a[++d+1];"\n"!==f&&("\r"!==f||"\n"!==a[d+2])&&(c+=d>b?a.slice(b,d+1):e)}else c+=e}return('"'!==a[a.length-1]||1===a.length)&&b(a.length,"MISSING_CHAR",'Missing closing "quote'),c}function j(a,b){let c="",d=a[b+1];for(;(" "===d||"	"===d||"\n"===d||"\r"===d)&&("\r"!==d||"\n"===a[b+2]);)"\n"===d&&(c+="\n"),b+=1,d=a[b+1];return c||(c=" "),{fold:c,offset:b}}let k={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function l(a,b,c,d){let e=a.substr(b,c),f=e.length===c&&/^[0-9a-fA-F]+$/.test(e)?parseInt(e,16):NaN;if(isNaN(f)){let e=a.substr(b-2,c+2);return d(b-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${e}`),e}return String.fromCodePoint(f)}b.resolveFlowScalar=function(a,b,c){let h,j,{offset:k,type:l,source:m,end:n}=a,o=(a,b,d)=>c(k+a,b,d);switch(l){case"scalar":h=d.Scalar.PLAIN,j=f(m,o);break;case"single-quoted-scalar":h=d.Scalar.QUOTE_SINGLE,j=g(m,o);break;case"double-quoted-scalar":h=d.Scalar.QUOTE_DOUBLE,j=i(m,o);break;default:return c(a,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${l}`),{value:"",type:null,comment:"",range:[k,k+m.length,k+m.length]}}let p=k+m.length,q=e.resolveEnd(n,p,b,c);return{value:j,type:h,comment:q.comment,range:[k,p,q.offset]}}},34832:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.registerDefaultHelpers=l,b.moveHelperToHooks=m;var e=d(c(86272)),f=d(c(14752)),g=d(c(15080)),h=d(c(75018)),i=d(c(78951)),j=d(c(66509)),k=d(c(28255));function l(a){e.default(a),f.default(a),g.default(a),h.default(a),i.default(a),j.default(a),k.default(a)}function m(a,b,c){a.helpers[b]&&(a.hooks[b]=a.helpers[b],c||delete a.helpers[b])}},34906:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b)=>new d(a,b).set.map(a=>a.map(a=>a.value).join(" ").trim().split(" "))},35025:(a,b,c)=>{"use strict";c.d(b,{h:()=>u});var d="[object Object]",e="[object Null]",f="[object Undefined]",g=Function.prototype.toString,h=g.call(Object),i=n(Object.getPrototypeOf,Object),j=Object.prototype,k=j.hasOwnProperty,l=Symbol?Symbol.toStringTag:void 0,m=j.toString;function n(a,b){return function(c){return a(b(c))}}function o(a){if(!p(a)||q(a)!==d)return!1;var b=i(a);if(null===b)return!0;var c=k.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&g.call(c)===h}function p(a){return null!=a&&"object"==typeof a}function q(a){return null==a?void 0===a?f:e:l&&l in Object(a)?r(a):s(a)}function r(a){var b=k.call(a,l),c=a[l],d=!1;try{a[l]=void 0,d=!0}catch(a){}var e=m.call(a);return d&&(b?a[l]=c:delete a[l]),e}function s(a){return m.call(a)}var t=20;function u(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=a.shift(),d=new WeakMap;a.length>0;)c=w(c,a.shift(),0,d);return c}function v(a){return y(a)?a.slice():a}function w(a,b,c,d){if(void 0===c&&(c=0),!(c>t)){if(c++,B(a)||B(b)||z(b))e=v(b);else if(y(a)){if(e=a.slice(),y(b))for(var e,f=0,g=b.length;f<g;f++)e.push(v(b[f]));else if(A(b))for(var h=Object.keys(b),f=0,g=h.length;f<g;f++){var i=h[f];e[i]=v(b[i])}}else if(A(a))if(A(b)){if(!C(a,b))return b;e=Object.assign({},a);for(var h=Object.keys(b),f=0,g=h.length;f<g;f++){var i=h[f],j=b[i];if(B(j))void 0===j?delete e[i]:e[i]=j;else{var k=e[i],l=j;if(x(a,i,d)||x(b,i,d))delete e[i];else{if(A(k)&&A(l)){var m=d.get(k)||[],n=d.get(l)||[];m.push({obj:a,key:i}),n.push({obj:b,key:i}),d.set(k,m),d.set(l,n)}e[i]=w(e[i],j,c,d)}}}}else e=b;return e}}function x(a,b,c){for(var d=c.get(a[b])||[],e=0,f=d.length;e<f;e++){var g=d[e];if(g.key===b&&g.obj===a)return!0}return!1}function y(a){return Array.isArray(a)}function z(a){return"function"==typeof a}function A(a){return!B(a)&&!y(a)&&!z(a)&&"object"==typeof a}function B(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||void 0===a||a instanceof Date||a instanceof RegExp||null===a}function C(a,b){return!!o(a)&&!!o(b)}},35119:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{StaticGenBailoutError:function(){return d},isStaticGenBailoutError:function(){return e}});let c="NEXT_STATIC_GEN_BAILOUT";class d extends Error{constructor(...a){super(...a),this.code=c}}function e(a){return"object"==typeof a&&null!==a&&"code"in a&&a.code===c}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},35196:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;let e=c(30912),f=c(95435),g=c(78562),h=c(96535),i=c(71367);function j(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(e.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}!function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"}(d||(b.DataType=d={})),b.getSchemaTypes=function(a){let b=j(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},b.getJSONTypes=j,b.coerceAndCheckDataType=function(a,b){let{gen:c,data:e,opts:g}=a,h=l(b,g.coerceTypes),i=b.length>0&&!(0===h.length&&1===b.length&&(0,f.schemaHasRulesForType)(a,b[0]));if(i){let f=p(b,e,g.strictNumbers,d.Wrong);c.if(f,()=>{h.length?m(a,b,h):r(a)})}return i};let k=new Set(["string","number","integer","boolean","null"]);function l(a,b){return b?a.filter(a=>k.has(a)||"array"===b&&"array"===a):[]}function m(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,h._)`typeof ${e}`),i=d.let("coerced",(0,h._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,h._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,h._)`${e}[0]`).assign(g,(0,h._)`typeof ${e}`).if(p(b,e,f.strictNumbers),()=>d.assign(i,e))),d.if((0,h._)`${i} !== undefined`),c))(k.has(a)||"array"===a&&"array"===f.coerceTypes)&&j(a);function j(a){switch(a){case"string":d.elseIf((0,h._)`${g} == "number" || ${g} == "boolean"`).assign(i,(0,h._)`"" + ${e}`).elseIf((0,h._)`${e} === null`).assign(i,(0,h._)`""`);return;case"number":d.elseIf((0,h._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(i,(0,h._)`+${e}`);return;case"integer":d.elseIf((0,h._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(i,(0,h._)`+${e}`);return;case"boolean":d.elseIf((0,h._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(i,!1).elseIf((0,h._)`${e} === "true" || ${e} === 1`).assign(i,!0);return;case"null":d.elseIf((0,h._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(i,null);return;case"array":d.elseIf((0,h._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(i,(0,h._)`[${e}]`)}}d.else(),r(a),d.endIf(),d.if((0,h._)`${i} !== undefined`,()=>{d.assign(e,i),n(a,i)})}function n({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,h._)`${b} !== undefined`,()=>a.assign((0,h._)`${b}[${c}]`,d))}function o(a,b,c,e=d.Correct){let f,g=e===d.Correct?h.operators.EQ:h.operators.NEQ;switch(a){case"null":return(0,h._)`${b} ${g} null`;case"array":f=(0,h._)`Array.isArray(${b})`;break;case"object":f=(0,h._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=i((0,h._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=i();break;default:return(0,h._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,h.not)(f);function i(a=h.nil){return(0,h.and)((0,h._)`typeof ${b} == "number"`,a,c?(0,h._)`isFinite(${b})`:h.nil)}}function p(a,b,c,d){let e;if(1===a.length)return o(a[0],b,c,d);let f=(0,i.toHash)(a);if(f.array&&f.object){let a=(0,h._)`typeof ${b} != "object"`;e=f.null?a:(0,h._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=h.nil;for(let a in f.number&&delete f.integer,f)e=(0,h.and)(e,o(a,b,c,d));return e}b.checkDataType=o,b.checkDataTypes=p;let q={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,h._)`{type: ${a}}`:(0,h._)`{type: ${b}}`};function r(a){let b=s(a);(0,g.reportError)(b,q)}function s(a){let{gen:b,data:c,schema:d}=a,e=(0,i.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}b.reportTypeError=r},35210:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseSubchannelWrapper=void 0;class c{constructor(a){this.child=a,this.healthy=!0,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,a.addHealthStateWatcher(a=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let a of this.healthListeners)a(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(a){this.child.addConnectivityStateListener(a)}removeConnectivityStateListener(a){this.child.removeConnectivityStateListener(a)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(a){this.child.throttleKeepalive(a)}ref(){this.child.ref(),this.refcount+=1}unref(){this.child.unref(),this.refcount-=1,0===this.refcount&&this.destroy()}destroy(){for(let a of this.dataWatchers)a.destroy()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(a){this.healthListeners.add(a)}removeHealthStateWatcher(a){this.healthListeners.delete(a)}addDataWatcher(a){a.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(a)}setHealthy(a){a!==this.healthy&&(this.healthy=a,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(a){return this.getRealSubchannel()===a.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}}b.BaseSubchannelWrapper=c},35427:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEffectsDef=void 0;let d=c(31958),e=c(10715);b.parseEffectsDef=function(a,b){return"input"===b.effectStrategy?(0,d.parseDef)(a.schema._def,b):(0,e.parseAnyDef)(b)}},35653:a=>{a.exports=c;var b=Object.prototype.hasOwnProperty;function c(){for(var a={},c=0;c<arguments.length;c++){var d=arguments[c];for(var e in d)b.call(d,e)&&(a[e]=d[e])}return a}},35696:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OrcaOobMetricsSubchannelWrapper=b.GRPC_METRICS_HEADER=b.ServerMetricRecorder=b.PerRequestMetricRecorder=void 0,b.createOrcaClient=p,b.createMetricsReader=r;let d=c(89439),e=c(27615),f=c(97945),g=c(35210),h=c(56458),i=c(9251),j=c(80158),k=null;function l(){if(k)return k;let a=(0,c(20672).Yi)("xds/service/orca/v3/orca.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return(0,d.loadPackageDefinition)(a)}class m{constructor(){this.message={}}recordRequestCostMetric(a,b){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[a]=b}recordUtilizationMetric(a,b){this.message.utilization||(this.message.utilization={}),this.message.utilization[a]=b}recordNamedMetric(a,b){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[a]=b}recordCPUUtilizationMetric(a){this.message.cpu_utilization=a}recordMemoryUtilizationMetric(a){this.message.mem_utilization=a}recordApplicationUtilizationMetric(a){this.message.application_utilization=a}recordQpsMetric(a){this.message.rps_fractional=a}recordEpsMetric(a){this.message.eps=a}serialize(){return l().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}}b.PerRequestMetricRecorder=m;let n=3e4;class o{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:a=>{let b=setInterval(()=>{a.write(this.message)},a.request.report_interval?(0,e.durationToMs)((0,e.durationMessageToDuration)(a.request.report_interval)):n);a.on("cancelled",()=>{clearInterval(b)})}}}putUtilizationMetric(a,b){this.message.utilization||(this.message.utilization={}),this.message.utilization[a]=b}setAllUtilizationMetrics(a){this.message.utilization=Object.assign({},a)}deleteUtilizationMetric(a){var b;null==(b=this.message.utilization)||delete b[a]}setCpuUtilizationMetric(a){this.message.cpu_utilization=a}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization}setApplicationUtilizationMetric(a){this.message.application_utilization=a}deleteApplicationUtilizationMetric(){delete this.message.application_utilization}setQpsMetric(a){this.message.rps_fractional=a}deleteQpsMetric(){delete this.message.rps_fractional}setEpsMetric(a){this.message.eps=a}deleteEpsMetric(){delete this.message.eps}addToServer(a){let b=l().xds.service.orca.v3.OpenRcaService.service;a.addService(b,this.serviceImplementation)}}function p(a){return new(l()).xds.service.orca.v3.OpenRcaService("unused",f.ChannelCredentials.createInsecure(),{channelOverride:a})}b.ServerMetricRecorder=o,b.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";let q="grpc_orca_load_report";function r(a,c){return(d,e,f)=>{let g=f.getOpaque(q);if(g)a(g);else{let c=f.get(b.GRPC_METRICS_HEADER);c.length>0&&(a(g=l().xds.data.orca.v3.OrcaLoadReport.deserialize(c[0])),f.setOpaque(q,g))}c&&c(d,e,f)}}let s="orca_oob_metrics";class t{constructor(a,b){this.metricsListener=a,this.intervalMs=b,this.dataProducer=null}setSubchannel(a){let b=a.getOrCreateDataProducer(s,w);this.dataProducer=b,b.addDataWatcher(this)}destroy(){var a;null==(a=this.dataProducer)||a.removeDataWatcher(this)}getInterval(){return this.intervalMs}onMetricsUpdate(a){this.metricsListener(a)}}class u{constructor(a){this.subchannel=a,this.dataWatchers=new Set,this.orcaSupported=!0,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new i.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();let b=a.getChannel();this.client=p(b),a.addConnectivityStateListener(this.subchannelStateListener)}addDataWatcher(a){this.dataWatchers.add(a),this.updateMetricsSubscription()}removeDataWatcher(a){var b;this.dataWatchers.delete(a),0===this.dataWatchers.size?(this.subchannel.removeDataProducer(s),null==(b=this.metricsCall)||b.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription()}updateMetricsSubscription(){var a;if(0===this.dataWatchers.size||!this.orcaSupported||this.subchannel.getConnectivityState()!==j.ConnectivityState.READY)return;let b=Math.min(...Array.from(this.dataWatchers).map(a=>a.getInterval()));if(!this.metricsCall||b!==this.currentInterval){null==(a=this.metricsCall)||a.cancel(),this.currentInterval=b;let c=this.client.streamCoreMetrics({report_interval:(0,e.msToDuration)(b)});this.metricsCall=c,c.on("data",a=>{this.dataWatchers.forEach(b=>{b.onMetricsUpdate(a)})}),c.on("error",a=>{if(this.metricsCall=null,a.code===h.Status.UNIMPLEMENTED){this.orcaSupported=!1;return}a.code!==h.Status.CANCELLED&&this.backoffTimer.runOnce()})}}}class v extends g.BaseSubchannelWrapper{constructor(a,b,c){super(a),this.addDataWatcher(new t(b,c))}getWrappedSubchannel(){return this.child}}function w(a){return new u(a)}b.OrcaOobMetricsSubchannelWrapper=v},35800:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}b.__esModule=!0;var f=e(c(66182)),g=d(c(5872)),h=d(c(99008)),i=e(c(80496)),j=e(c(34583)),k=d(c(54999));function l(){var a=new f.HandlebarsEnvironment;return i.extend(a,f),a.SafeString=g.default,a.Exception=h.default,a.Utils=i,a.escapeExpression=i.escapeExpression,a.VM=j,a.template=function(b){return j.template(b,a)},a}var m=l();m.create=l,k.default(m),m.default=m,b.default=m,a.exports=b.default},35838:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55423),e=c(96535);b.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},35970:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{assertValidToolNames:()=>p,resolveRestartedTools:()=>y,resolveResumeOption:()=>x,resolveToolRequest:()=>s,resolveToolRequests:()=>t,toPendingOutput:()=>r,toToolMap:()=>o}),a.exports=i(j);var k=c(40979),l=c(42656),m=c(67842),n=c(50438);function o(a){p(a);let b={};for(let c of a){let a=c.__action.name;b[a.substring(a.lastIndexOf("/")+1)]=c}return b}function p(a){let b={};for(let c of a){let a=c.__action.name,d=a.substring(a.lastIndexOf("/")+1);if(b[d])throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot provide two tools with the same name: '${a}' and '${b[d]}'`});b[d]=a}}function q(a){let b={metadata:a.metadata};return a.metadata?.resumed&&(b.resumed=a.metadata.resumed),b}function r(a,b){return{...a,metadata:{...a.metadata,pendingOutput:b.toolResponse.output}}}async function s(a,b,c,d){let e=c[b.toolRequest.name];if(!e)throw new k.GenkitError({status:"NOT_FOUND",message:`Tool ${b.toolRequest.name} not found`,detail:{request:a}});if((0,m.isPromptAction)(e))return{preamble:await e(b.toolRequest.input),response:{toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:`transferred to ${b.toolRequest.name}`}}};try{let a=await e(b.toolRequest.input,q(b));return{response:(0,k.stripUndefinedProps)({toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:a}})}}catch(a){if(a instanceof n.ToolInterruptError||"ToolInterruptError"===a.name){let d=a;return l.logger.debug(`tool '${c[b.toolRequest?.name].__action.name}' triggered an interrupt${d.metadata?`: ${JSON.stringify(d.metadata)}`:""}`),{interrupt:{toolRequest:b.toolRequest,metadata:{...b.metadata,interrupt:d.metadata||!0}}}}throw a}}async function t(a,b,c){let d,e=o(await (0,n.resolveTools)(a,b.tools)),f=[],g=!1,h={...c,content:[...c.content]};return(await Promise.all(h.content.map(async(a,c)=>{if(!a.toolRequest)return;let{preamble:i,response:j,interrupt:l}=await s(b,a,e);if(i){if(d)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"Model attempted to transfer to multiple prompt tools."});d=i}j&&(f.push(j),h.content.splice(c,1,r(a,j))),l&&(h.content.splice(c,1,l),g=!0)})),g)?{revisedModelMessage:h}:{toolMessage:{role:"tool",content:f},transferPreamble:d}}function u(a,b){let c=b.toolRequest?.name||b.toolResponse?.name,d=b.toolRequest?.ref||b.toolResponse?.ref;return a.find(a=>a.toolRequest?.name===c&&a.toolRequest?.ref===d)}function v(a,b){let c=b.toolRequest?.name||b.toolResponse?.name,d=b.toolRequest?.ref||b.toolResponse?.ref;return a.find(a=>a.toolResponse?.name===c&&a.toolResponse?.ref===d)}async function w(a,b,c){if(b.metadata?.pendingOutput){let{pendingOutput:a,...c}=b.metadata,d={toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:a},metadata:{...c,source:"pending"}};return(0,k.stripUndefinedProps)({toolResponse:d,toolRequest:{...b,metadata:c}})}let d=v(a.resume?.respond||[],b);if(d){let a=d,{interrupt:c,...e}=b.metadata||{};return(0,k.stripUndefinedProps)({toolResponse:a,toolRequest:{...b,metadata:{...e,resolvedInterrupt:c}}})}let e=u(a.resume?.restart||[],b);if(e){let{response:d,interrupt:f,preamble:g}=await s(a,e,c);if(g)throw new k.GenkitError({status:"INTERNAL",message:`Prompt tool '${e.toolRequest.name}' executed inside 'restart' resolution. This should never happen.`});if(f)return{interrupt:f};if(d){let a=d,{interrupt:c,...e}=b.metadata||{};return(0,k.stripUndefinedProps)({toolResponse:a,toolRequest:{...b,metadata:{...e,resolvedInterrupt:c}}})}}throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Unresolved tool request '${b.toolRequest.name}${b.toolRequest.ref?`#${b.toolRequest.ref}`:""}' was not handled by the 'resume' argument. You must supply replies or restarts for all interrupted tool requests.'`})}async function x(a,b){if(!b.resume)return{revisedRequest:b};let c=o(await (0,n.resolveTools)(a,b.tools)),d=b.messages,e=d.at(-1);if(!e||"model"!==e.role||!e.content.find(a=>a.toolRequest))throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot 'resume' generation unless the previous message is a model message with at least one tool request."});let f=[],g=!1;if(e.content=await Promise.all(e.content.map(async a=>{if(!(0,n.isToolRequest)(a))return a;let d=await w(b,a,c);return d.interrupt?(g=!0,d.interrupt):(f.push(d.toolResponse),d.toolRequest)})),g)return{interruptedResponse:{finishReason:"interrupted",finishMessage:"One or more tools triggered interrupts while resuming generation. The model was not called.",message:e}};let h=e.content.filter(a=>!!a.toolRequest).length;if(f.length!==h)throw new k.GenkitError({status:"FAILED_PRECONDITION",message:`Expected ${h} tool responses but resolved to ${f.length}.`,detail:{toolResponses:f,message:e}});let i={role:"tool",content:f,metadata:{resumed:b.resume.metadata||!0}};return(0,k.stripUndefinedProps)({revisedRequest:{...b,resume:void 0,messages:[...d,i]},toolMessage:i})}async function y(a,b){let c=o(await (0,n.resolveTools)(a,b.tools)),d=b.messages.at(-1);if(!d||"model"!==d.role)return[];let e=d.content.filter(a=>a.toolRequest&&a.metadata?.resumed);return await Promise.all(e.map(async a=>{let{response:d,interrupt:e}=await s(b,a,c);return e||r(a,d)}))}},36008:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(79361),e=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(){function a(a){var b;void 0===a&&(a={}),this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return"function"==typeof a.fields?a.fields():[]}).reduce(function(a,b){return a.concat(b)},[])))}return a.prototype.inject=function(a,b,c){var f,g;try{for(var h=e(this._propagators),i=h.next();!i.done;i=h.next()){var j=i.value;try{j.inject(a,b,c)}catch(a){d.s.warn("Failed to inject with "+j.constructor.name+". Err: "+a.message)}}}catch(a){f={error:a}}finally{try{i&&!i.done&&(g=h.return)&&g.call(h)}finally{if(f)throw f.error}}},a.prototype.extract=function(a,b,c){return this._propagators.reduce(function(a,e){try{return e.extract(a,b,c)}catch(a){d.s.warn("Failed to inject with "+e.constructor.name+". Err: "+a.message)}return a},a)},a.prototype.fields=function(){return this._fields.slice()},a}()},36204:(a,b,c)=>{"use strict";var d=c(61710).h;function e(a,b,c){for(;b.length<c;)b=a+b;return b}function f(a){return e("0",a.toString(16),2)}function g(a){return a>31&&a<127?String.fromCharCode(a):"."}function h(a){return a>31&&a<127?String.fromCharCode(a):d(".","black+bold")}function i(a){for(;;){var b=a.indexOf("\x1b[");if(b<0)return a;var c=a.indexOf("m",b);if(c<0)return a;a=a.slice(0,b)+a.slice(c+1)}}a.exports.coloredHeadSep=d(":","cyan")+" ",a.exports.coloredOptions={headSep:a.exports.coloredHeadSep,renderHuman:h},a.exports.pad=e,a.exports.byte2hex=f,a.exports.byte2char=g,a.exports.renderHuman=h,a.exports.stripColor=i},36461:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(57614),f=c(39605),g=c(65025),h=c(71367);b.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let n=b.let("valid",!1),o=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);function p(){let c=r();for(let a in b.if(!1),c)b.elseIf((0,d._)`${o} === ${a}`),b.assign(n,q(c[a]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:o,tagName:m}),b.endIf()}function q(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}function r(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let n=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof n)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),i(n,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,b){if(a.const)n(a.const,b);else if(a.enum)for(let c of a.enum)n(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function n(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}b.if((0,d._)`typeof ${o} == "string"`,()=>p(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:o,tagName:m})),a.ok(n)}}},36757:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535);b.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let{gen:c,data:e,$data:f,schema:g,schemaCode:h,it:i}=a,{opts:j,errSchemaPath:k,schemaEnv:l,self:m}=i;function n(){let f=c.scopeValue("formats",{ref:m.formats,code:j.code.formats}),g=c.const("fDef",(0,d._)`${f}[${h}]`),i=c.let("fType"),k=c.let("format");function n(){return!1===j.strictSchema?d.nil:(0,d._)`${h} && !${k}`}function o(){let a=l.$async?(0,d._)`(${g}.async ? await ${k}(${e}) : ${k}(${e}))`:(0,d._)`${k}(${e})`,c=(0,d._)`(typeof ${k} == "function" ? ${a} : ${k}.test(${e}))`;return(0,d._)`${k} && ${k} !== true && ${i} === ${b} && !${c}`}c.if((0,d._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>c.assign(i,(0,d._)`${g}.type || "string"`).assign(k,(0,d._)`${g}.validate`),()=>c.assign(i,(0,d._)`"string"`).assign(k,g)),a.fail$data((0,d.or)(n(),o()))}function o(){let f=m.formats[g];if(!f)return void o();if(!0===f)return;let[h,i,n]=p(f);function o(){if(!1===j.strictSchema)return void m.logger.warn(a());throw Error(a());function a(){return`unknown format "${g}" ignored in schema at path "${k}"`}}function p(a){let b=a instanceof RegExp?(0,d.regexpCode)(a):j.code.formats?(0,d._)`${j.code.formats}${(0,d.getProperty)(g)}`:void 0,e=c.scopeValue("formats",{key:g,ref:a,code:b});return"object"!=typeof a||a instanceof RegExp?["string",a,e]:[a.type||"string",a.validate,(0,d._)`${e}.validate`]}function q(){if("object"==typeof f&&!(f instanceof RegExp)&&f.async){if(!l.$async)throw Error("async format in sync schema");return(0,d._)`await ${n}(${e})`}return"function"==typeof i?(0,d._)`${n}(${e})`:(0,d._)`${n}.test(${e})`}h===b&&a.pass(q())}j.validateFormats&&(f?n():o())}}},36769:(a,b,c)=>{"use strict";function d(a){a.unref()}c.d(b,{K:()=>d})},36821:(a,b,c)=>{"use strict";let d;Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{BubbledError:function(){return m},SpanKind:function(){return k},SpanStatusCode:function(){return j},getTracer:function(){return v},isBubbledError:function(){return n}});let e=c(45441),f=c(23998);try{d=c(68948)}catch(a){d=c(29089)}let{context:g,propagation:h,trace:i,SpanStatusCode:j,SpanKind:k,ROOT_CONTEXT:l}=d;class m extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}function n(a){return"object"==typeof a&&null!==a&&a instanceof m}let o=(a,b)=>{n(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:j.ERROR,message:null==b?void 0:b.message})),a.end()},p=new Map,q=d.createContextKey("next.rootSpanId"),r=0,s=()=>r++,t={set(a,b,c){a.push({key:b,value:c})}};class u{getTracerInstance(){return i.getTracer("next.js","0.0.1")}getContext(){return g}getTracePropagationData(){let a=g.active(),b=[];return h.inject(a,b,t),b}getActiveScopeSpan(){return i.getSpan(null==g?void 0:g.active())}withPropagatedContext(a,b,c){let d=g.active();if(i.getSpanContext(d))return b();let e=h.extract(d,a,c);return g.with(e,b)}trace(...a){var b;let[c,d,h]=a,{fn:j,options:k}="function"==typeof d?{fn:d,options:{}}:{fn:h,options:{...d}},m=k.spanName??c;if(!e.NextVanillaSpanAllowlist.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||k.hideSpan)return j();let n=this.getSpanContext((null==k?void 0:k.parentSpan)??this.getActiveScopeSpan()),r=!1;n?(null==(b=i.getSpanContext(n))?void 0:b.isRemote)&&(r=!0):(n=(null==g?void 0:g.active())??l,r=!0);let t=s();return k.attributes={"next.span_name":m,"next.span_type":c,...k.attributes},g.with(n.setValue(q,t),()=>this.getTracerInstance().startActiveSpan(m,k,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{p.delete(t),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&e.LogSpanAllowList.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};r&&p.set(t,new Map(Object.entries(k.attributes??{})));try{if(j.length>1)return j(a,b=>o(a,b));let b=j(a);if((0,f.isThenable)(b))return b.then(b=>(a.end(),b)).catch(b=>{throw o(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw o(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,f]=3===a.length?a:[a[0],{},a[1]];return e.NextVanillaSpanAllowlist.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof f&&(a=a.apply(this,arguments));let e=arguments.length-1,h=arguments[e];if("function"!=typeof h)return b.trace(c,a,()=>f.apply(this,arguments));{let d=b.getContext().bind(g.active(),h);return b.trace(c,a,(a,b)=>(arguments[e]=function(a){return null==b||b(a),d.apply(this,arguments)},f.apply(this,arguments)))}}:f}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?i.setSpan(g.active(),a):void 0}getRootSpanAttributes(){let a=g.active().getValue(q);return p.get(a)}setRootSpanAttribute(a,b){let c=g.active().getValue(q),d=p.get(c);d&&d.set(a,b)}}let v=(()=>{let a=new u;return()=>a})()},37002:(a,b,c)=>{"use strict";c.d(b,{$:()=>q});var d=c(60233),e=function(){function a(){}return a.prototype.inject=function(a,b){},a.prototype.extract=function(a,b){return a},a.prototype.fields=function(){return[]},a}(),f=c(88404),g=c(12255),h=(0,c(76956).n)("OpenTelemetry Baggage Key");function i(a){return a.getValue(h)||void 0}function j(){return i(g._.getInstance().active())}function k(a,b){return a.setValue(h,b)}function l(a){return a.deleteValue(h)}var m=c(11194),n=c(91178),o="propagation",p=new e,q=(function(){function a(){this.createBaggage=m.L,this.getBaggage=i,this.getActiveBaggage=j,this.setBaggage=k,this.deleteBaggage=l}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(a){return(0,d.$G)(o,a,n.K.instance())},a.prototype.inject=function(a,b,c){return void 0===c&&(c=f.U),this._getGlobalPropagator().inject(a,b,c)},a.prototype.extract=function(a,b,c){return void 0===c&&(c=f.q),this._getGlobalPropagator().extract(a,b,c)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){(0,d.kv)(o,n.K.instance())},a.prototype._getGlobalPropagator=function(){return(0,d.mS)(o)||p},a})().getInstance()},37030:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;let d=c(38595),e=c(53864),f=c(51018),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a,f={gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,d.reportError)(f,g,void 0,b)}b.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},b.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},37048:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WeightedRoundRobinLoadBalancingConfig=void 0,b.setup=A;let d=c(80158),e=c(56458),f=c(27615),g=c(20606),h=c(8557),i=c(38702),j=c(35696),k=c(96269),l=c(17249),m=c(41835),n="weighted_round_robin";function o(a){i.trace(e.LogVerbosity.DEBUG,n,a)}let p="weighted_round_robin",q=1e4,r=1e4,s=18e4,t=1e3,u=1;function v(a,b,c){if(b in a&&void 0!==a[b]&&typeof a[b]!==c)throw Error(`weighted round robin config ${b} parse error: expected ${c}, got ${typeof a[b]}`)}function w(a,b){if(b in a&&void 0!==a[b]&&null!==a[b]){let c;if((0,f.isDuration)(a[b]))c=a[b];else if((0,f.isDurationMessage)(a[b]))c=(0,f.durationMessageToDuration)(a[b]);else if("string"==typeof a[b]){let d=(0,f.parseDuration)(a[b]);if(!d)throw Error(`weighted round robin config ${b}: failed to parse duration string ${a[b]}`);c=d}else throw Error(`weighted round robin config ${b}: expected duration, got ${typeof a[b]}`);return(0,f.durationToMs)(c)}return null}class x{constructor(a,b,c,d,e,f){this.enableOobLoadReport=null!=a&&a,this.oobLoadReportingPeriodMs=null!=b?b:q,this.blackoutPeriodMs=null!=c?c:r,this.weightExpirationPeriodMs=null!=d?d:s,this.weightUpdatePeriodMs=Math.max(null!=e?e:t,100),this.errorUtilizationPenalty=null!=f?f:u}getLoadBalancerName(){return p}toJsonObject(){return{enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0,f.durationToString)((0,f.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0,f.durationToString)((0,f.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0,f.durationToString)((0,f.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0,f.durationToString)((0,f.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(a){if(v(a,"enable_oob_load_report","boolean"),v(a,"error_utilization_penalty","number"),a.error_utilization_penalty<0)throw Error("weighted round robin config error_utilization_penalty < 0");return new x(a.enable_oob_load_report,w(a,"oob_load_reporting_period"),w(a,"blackout_period"),w(a,"weight_expiration_period"),w(a,"weight_update_period"),a.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}}b.WeightedRoundRobinLoadBalancingConfig=x;class y{constructor(a,b){let c;this.metricsHandler=b,this.queue=new l.PriorityQueue((a,b)=>a.deadline<b.deadline);let d=a.filter(a=>a.weight>0);if(d.length<2)c=1;else{let a=0;for(let{weight:b}of d)a+=b;c=a/d.length}for(let b of a){let a=b.weight>0?1/b.weight:c;this.queue.push({endpointName:b.endpointName,picker:b.picker,period:a,deadline:Math.random()*a})}}pick(a){let b=this.queue.pop();this.queue.push(Object.assign(Object.assign({},b),{deadline:b.deadline+b.period}));let c=b.picker.pick(a);if(c.pickResultType!==k.PickResultType.COMPLETE)return c;if(this.metricsHandler)return Object.assign(Object.assign({},c),{onCallEnded:(0,j.createMetricsReader)(a=>this.metricsHandler(a,b.endpointName),c.onCallEnded)});{let a=c.subchannel;return Object.assign(Object.assign({},c),{subchannel:a.getWrappedSubchannel()})}}}class z{constructor(a){this.channelControlHelper=a,this.latestConfig=null,this.children=new Map,this.currentState=d.ConnectivityState.IDLE,this.updatesPaused=!1,this.lastError=null,this.weightUpdateTimer=null}countChildrenWithState(a){let b=0;for(let c of this.children.values())c.child.getConnectivityState()===a&&(b+=1);return b}updateWeight(a,b){var c,d;let e=b.rps_fractional,f=b.application_utilization;f>0&&e>0&&(f+=b.eps/e*(null!=(d=null==(c=this.latestConfig)?void 0:c.getErrorUtilizationPenalty())?d:0));let g=0===f?0:e/f;if(0===g)return;let h=new Date;null===a.nonEmptySince&&(a.nonEmptySince=h),a.lastUpdated=h,a.weight=g}getWeight(a){if(!this.latestConfig)return 0;let b=new Date().getTime();if(b-a.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return a.nonEmptySince=null,0;let c=this.latestConfig.getBlackoutPeriodMs();return c>0&&(null===a.nonEmptySince||b-a.nonEmptySince.getTime()<c)?0:a.weight}calculateAndUpdateState(){if(!this.updatesPaused&&this.latestConfig){if(this.countChildrenWithState(d.ConnectivityState.READY)>0){let a,b=[];for(let[a,c]of this.children)c.child.getConnectivityState()===d.ConnectivityState.READY&&b.push({endpointName:a,picker:c.child.getPicker(),weight:this.getWeight(c)});o("Created picker with weights: "+b.map(a=>a.endpointName+":"+a.weight).join(",")),a=this.latestConfig.getEnableOobLoadReport()?null:(a,b)=>{let c=this.children.get(b);c&&this.updateWeight(c,a)},this.updateState(d.ConnectivityState.READY,new y(b,a),null)}else if(this.countChildrenWithState(d.ConnectivityState.CONNECTING)>0)this.updateState(d.ConnectivityState.CONNECTING,new k.QueuePicker(this),null);else if(this.countChildrenWithState(d.ConnectivityState.TRANSIENT_FAILURE)>0){let a=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker({details:a}),a)}else this.updateState(d.ConnectivityState.IDLE,new k.QueuePicker(this),null);for(let{child:a}of this.children.values())a.getConnectivityState()===d.ConnectivityState.IDLE&&a.exitIdle()}}updateState(a,b,c){o(d.ConnectivityState[this.currentState]+" -> "+d.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}updateAddressList(a,b,c,e){var f,i;if(!(b instanceof x))return!1;if(!a.ok)return 0===this.children.size&&this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker(a.error),a.error.details),!0;if(0===a.value.length){let a=`No addresses resolved. Resolution note: ${e}`;return this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker({details:a}),a),!1}o("Connect to endpoint list "+a.value.map(m.endpointToString));let l=new Date,n=new Set;for(let f of(this.updatesPaused=!0,this.latestConfig=b,a.value)){let a=(0,m.endpointToString)(f);n.add(a);let i=this.children.get(a);i||(i={child:new h.LeafLoadBalancer(f,(0,g.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(a,b,c)=>{this.currentState===d.ConnectivityState.READY&&a!==d.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),a===d.ConnectivityState.READY&&(i.nonEmptySince=null),c&&(this.lastError=c),this.calculateAndUpdateState()},createSubchannel:(a,b)=>{let c=this.channelControlHelper.createSubchannel(a,b);return(null==i?void 0:i.oobMetricsListener)?new j.OrcaOobMetricsSubchannelWrapper(c,i.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):c}}),c,e),lastUpdated:l,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(a,i)),b.getEnableOobLoadReport()?i.oobMetricsListener=a=>{this.updateWeight(i,a)}:i.oobMetricsListener=null}for(let[a,b]of this.children)n.has(a)?b.child.startConnecting():(b.child.destroy(),this.children.delete(a));return this.updatesPaused=!1,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=null==(i=(f=setInterval(()=>{this.currentState===d.ConnectivityState.READY&&this.calculateAndUpdateState()},b.getWeightUpdatePeriodMs())).unref)?void 0:i.call(f),!0}exitIdle(){}resetBackoff(){}destroy(){for(let a of this.children.values())a.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer)}getTypeName(){return p}}function A(){(0,g.registerLoadBalancerType)(p,z,x)}},37381:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SingleSubchannelChannel=void 0;let d=c(25479),e=c(49682),f=c(22354),g=c(80158),h=c(56458),i=c(16390),j=c(8319),k=c(27398),l=c(33604),m=c(43313),n=c(9413);class o{constructor(a,b,c,d,e){var f,g;this.subchannel=a,this.method=b,this.options=d,this.callNumber=e,this.childCall=null,this.pendingMessage=null,this.readPending=!1,this.halfClosePending=!1,this.pendingStatus=null,this.readFilterPending=!1,this.writeFilterPending=!1;let i=this.method.split("/"),k="";i.length>=2&&(k=i[1]);let l=null!=(g=null==(f=(0,n.splitHostPort)(this.options.host))?void 0:f.host)?g:"localhost";this.serviceUrl=`https://${l}/${k}`;let m=(0,j.getRelativeTimeout)(d.deadline);m!==1/0&&(m<=0?this.cancelWithStatus(h.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(h.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},m)),this.filterStack=c.createFilter()}cancelWithStatus(a,b){this.childCall?this.childCall.cancelWithStatus(a,b):this.pendingStatus={code:a,details:b,metadata:new l.Metadata}}getPeer(){var a,b;return null!=(b=null==(a=this.childCall)?void 0:a.getPeer())?b:this.subchannel.getAddress()}async start(a,b){let c;if(this.pendingStatus)return void b.onReceiveStatus(this.pendingStatus);if(this.subchannel.getConnectivityState()!==g.ConnectivityState.READY)return void b.onReceiveStatus({code:h.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new l.Metadata});let d=await this.filterStack.sendMetadata(Promise.resolve(a));try{c=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl})}catch(e){let a=e,{code:c,details:d}=(0,i.restrictControlPlaneStatusCode)("number"==typeof a.code?a.code:h.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);b.onReceiveStatus({code:c,details:d,metadata:new l.Metadata});return}c.merge(d);let e={onReceiveMetadata:async a=>{b.onReceiveMetadata(await this.filterStack.receiveMetadata(a))},onReceiveMessage:async a=>{this.readFilterPending=!0;let c=await this.filterStack.receiveMessage(a);this.readFilterPending=!1,b.onReceiveMessage(c),this.pendingStatus&&b.onReceiveStatus(this.pendingStatus)},onReceiveStatus:async a=>{let c=await this.filterStack.receiveTrailers(a);this.readFilterPending?this.pendingStatus=c:b.onReceiveStatus(c)}};this.childCall=this.subchannel.createCall(c,this.options.host,this.method,e),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose()}async sendMessageWithContext(a,b){this.writeFilterPending=!0;let c=await this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags}));this.writeFilterPending=!1,this.childCall?(this.childCall.sendMessageWithContext(a,c.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:a,message:c.message}}startRead(){this.childCall?this.childCall.startRead():this.readPending=!0}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=!0}getCallNumber(){return this.callNumber}setCredentials(a){throw Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}}class p{constructor(a,b,c){this.subchannel=a,this.target=b,this.channelzEnabled=!1,this.channelzTrace=new e.ChannelzTrace,this.callTracker=new e.ChannelzCallTracker,this.childrenTracker=new e.ChannelzChildrenTracker,this.channelzEnabled=0!==c["grpc.enable_channelz"],this.channelzRef=(0,e.registerChannelzChannel)((0,n.uriToString)(b),()=>({target:`${(0,n.uriToString)(b)} (${a.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),this.filterStackFactory=new k.FilterStackFactory([new f.CompressionFilterFactory(this,c)])}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0,e.unregisterChannelzRef)(this.channelzRef)}getTarget(){return(0,n.uriToString)(this.target)}getConnectivityState(a){throw Error("Method not implemented.")}watchConnectivityState(a,b,c){throw Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(a,b){let c={deadline:b,host:(0,m.getDefaultAuthority)(this.target),flags:h.Propagate.DEFAULTS,parentCall:null};return new o(this.subchannel,a,this.filterStackFactory,c,(0,d.getNextCallNumber)())}}b.SingleSubchannelChannel=p},37387:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(2851),e=c(8911),f=c(25165),g=c(103),h=c(8116);b.default=[d.default,e.default,(0,f.default)(),g.default,h.metadataVocabulary,h.contentVocabulary]},37425:(a,b,c)=>{"use strict";var d;c.d(b,{i:()=>d}),function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(d||(d={}))},37451:(a,b,c)=>{"use strict";var d=c(12412),e=c(8193);function f(a,b,c,e){if(!(this instanceof f))return new f(a,b,c,e);a&&b&&c?(d("function"==typeof a,"expected byteLength to be function"),d("function"==typeof b,"expected readFrom to be function"),d("function"==typeof c,"expected writeInto to be function"),e?(this.poolByteLength=a,this.poolReadFrom=b,this.poolWriteInto=c):(this.byteLength=a,this.readFrom=b,this.writeInto=c)):(d(this.poolReadFrom!==f.prototype.poolReadFrom||this.readFrom!==f.prototype.readFrom,"expected either poolReadFrom or readFrom to be overriden"),d(this.poolWriteInto!==f.prototype.poolWriteInto||this.writeInto!==f.prototype.writeInto,"expected either poolWriteInto or writeInto to be overriden"),d(this.poolByteLength!==f.prototype.poolByteLength||this.byteLength!==f.prototype.byteLength,"expected either poolByteLength or byteLength to be overriden"))}function g(a,b){this.err=a||null,this.length=b||0}function h(a,b){this.err=a||null,this.offset=b||0}function i(a,b,c){this.err=a||null,this.offset=b||0,this.value=void 0===c?null:c}a.exports.BufferRW=f,a.exports.LengthResult=g,a.exports.WriteResult=h,a.exports.ReadResult=i,f.prototype.readFrom=function(a,b,c){d(this.poolReadFrom!==f.prototype.poolReadFrom,"poolReadFrom is overridden");var e=new i;return this.poolReadFrom(e,a,b,c),e},f.prototype.writeInto=function(a,b,c){d(this.poolWriteInto!==f.prototype.poolWriteInto,"poolWriteInto is overridden");var e=new h;return this.poolWriteInto(e,a,b,c),e},f.prototype.byteLength=function(a,b,c){d(this.poolbyteLength!==f.prototype.poolByteLength,"poolByteLength is overridden");var e=new g;return this.poolByteLength(e,a,b,c),e},f.prototype.poolReadFrom=function(a,b,c,d){var e=this.readFrom(b,c,d);return a.copyFrom(e)},f.prototype.poolWriteInto=function(a,b,c,d){var e=this.writeInto(b,c,d);return a.copyFrom(e)},f.prototype.poolByteLength=function(a,b,c,d){var e=this.byteLength(b,c,d);return a.copyFrom(e)},g.prototype.reset=function(a,b){return this.err=a,this.length=b,this},g.prototype.copyFrom=function(a){return this.err=a.err,this.length=a.length,this},g.error=function(a,b){return new g(a,b)},g.just=function(a){return new g(null,a)},h.prototype.reset=function(a,b){return this.err=a,this.offset=b,this},h.prototype.copyFrom=function(a){this.err=a.err,this.offset=a.offset},h.error=function(a,b){return new h(a,b)},h.poolRangedError=function(a,b,c,e,f){return d("object"==typeof a&&"WriteResult"===a.constructor.name),b.offest=c,b.endOffset=e,a.reset(b,c,f)},h.rangedError=function(a,b,c,d){return h.poolRangedError(new h,b,c,d)},h.just=function(a){return new h(null,a)},h.shortError=function(a,b,c){return h.poolShortError(new h,a,b,c)},h.poolShortError=function(a,b,c,f){return d("object"==typeof a&&"WriteResult"===a.constructor.name),a.reset(new e.ShortBuffer({expected:b,actual:c,offset:f}),f)},i.prototype.copyFrom=function(a){return this.err=a.err,this.offset=a.offset,this.value=a.value,this},i.prototype.reset=function(a,b,c){return this.err=a,this.offset=b,this.value=c,this},i.error=function(a,b,c){return new i(a,b,c)},i.poolRangedError=function(a,b,c,e,f){return d("object"==typeof a&&"ReadResult"===a.constructor.name),b.offest=c,b.endOffset=e,a.reset(b,c,f)},i.rangedError=function(a,b,c,d){return i.poolRangedError(new i,a,b,c,d)},i.just=function(a,b){return new i(null,a,b)},i.shortError=function(a,b,c,d,e){return i.poolShortError(new i,b,c,d,e)},i.poolShortError=function(a,b,c,f,g){var h;return d("object"==typeof a&&"ReadResult"===a.constructor.name),h=void 0===g?new e.ShortBuffer({expected:b,actual:c,offset:f}):new e.ShortBufferRanged({expected:b,actual:c,offset:f,endOffset:g}),a.reset(h,f)}},37579:(a,b,c)=>{"use strict";c.d(b,{Nq:()=>w,Uz:()=>q,V:()=>p,aE:()=>m,fv:()=>n,h9:()=>o});var d=c(38380),e=c(23615),f=",",g=["OTEL_SDK_DISABLED"];function h(a){return g.indexOf(a)>-1}var i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function j(a){return i.indexOf(a)>-1}var k=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function l(a){return k.indexOf(a)>-1}var m=1/0,n=128,o=128,p=128,q={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:d.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_ATTRIBUTE_COUNT_LIMIT:n,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:n,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:m,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:n,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:o,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:p,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:e.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function r(a,b,c){if(void 0!==c[a]){var d=String(c[a]);b[a]="true"===d.toLowerCase()}}function s(a,b,c,d,e){if(void 0===d&&(d=-1/0),void 0===e&&(e=1/0),void 0!==c[a]){var f=Number(c[a]);isNaN(f)||(f<d?b[a]=d:f>e?b[a]=e:b[a]=f)}}function t(a,b,c,d){void 0===d&&(d=f);var e=c[a];"string"==typeof e&&(b[a]=e.split(d).map(function(a){return a.trim()}))}var u={ALL:d.u.ALL,VERBOSE:d.u.VERBOSE,DEBUG:d.u.DEBUG,INFO:d.u.INFO,WARN:d.u.WARN,ERROR:d.u.ERROR,NONE:d.u.NONE};function v(a,b,c){var d=c[a];if("string"==typeof d){var e=u[d.toUpperCase()];null!=e&&(b[a]=e)}}function w(a){var b={};for(var c in q){var d=c;if("OTEL_LOG_LEVEL"===d)v(d,b,a);else if(h(d))r(d,b,a);else if(j(d))s(d,b,a);else if(l(d))t(d,b,a);else{var e=a[d];null!=e&&(b[d]=String(e))}}return b}},37699:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.StatusBuilder=void 0;class c{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(a){return this.code=a,this}withDetails(a){return this.details=a,this}withMetadata(a){return this.metadata=a,this}build(){let a={};return null!==this.code&&(a.code=this.code),null!==this.details&&(a.details=this.details),null!==this.metadata&&(a.metadata=this.metadata),a}}b.StatusBuilder=c},37712:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},37719:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{ATTR_PREFIX:()=>p,BaseDataPointSchema:()=>r,BaseEvalDataPointSchema:()=>s,EVALUATOR_METADATA_KEY_DEFINITION:()=>x,EVALUATOR_METADATA_KEY_DISPLAY_NAME:()=>w,EVALUATOR_METADATA_KEY_IS_BILLED:()=>y,EvalResponseSchema:()=>z,EvalResponsesSchema:()=>A,EvalStatusEnum:()=>u,EvaluatorInfoSchema:()=>G,SPAN_STATE_ATTR:()=>q,ScoreSchema:()=>v,defineEvaluator:()=>D,evaluate:()=>F,evaluator:()=>E,evaluatorRef:()=>H}),a.exports=i(j);var k=c(40979),l=c(42656),m=c(76944),n=c(64089),o=c(55511);let p="genkit",q=p+":state",r=k.z.object({input:k.z.unknown(),output:k.z.unknown().optional(),context:k.z.array(k.z.unknown()).optional(),reference:k.z.unknown().optional(),testCaseId:k.z.string().optional(),traceIds:k.z.array(k.z.string()).optional()}),s=r.extend({testCaseId:k.z.string()}),t=k.z.enum(["UNKNOWN","PASS","FAIL"]);var u=(a=>(a.UNKNOWN="UNKNOWN",a.PASS="PASS",a.FAIL="FAIL",a))(u||{});let v=k.z.object({id:k.z.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:k.z.union([k.z.number(),k.z.string(),k.z.boolean()]).optional(),status:t.optional(),error:k.z.string().optional(),details:k.z.object({reasoning:k.z.string().optional()}).passthrough().optional()}),w="evaluatorDisplayName",x="evaluatorDefinition",y="evaluatorIsBilled",z=k.z.object({sampleIndex:k.z.number().optional(),testCaseId:k.z.string(),traceId:k.z.string().optional(),spanId:k.z.string().optional(),evaluation:k.z.union([v,k.z.array(v)])}),A=k.z.array(z);function B(a,b,c){let d=a;return d.__dataPointType=b,d.__configSchema=c,d}let C=k.z.object({dataset:k.z.array(r),evalRunId:k.z.string(),options:k.z.unknown()});function D(a,b,c){let d=E(b,c);return a.registerAction("evaluator",d),d}function E(a,b){let c={};return c[y]=void 0==a.isBilled||a.isBilled,c[w]=a.displayName,c[x]=a.definition,a.configSchema&&(c.customOptions=(0,m.toJsonSchema)({schema:a.configSchema})),B((0,k.action)({actionType:"evaluator",name:a.name,inputSchema:C.extend({dataset:a.dataPointType?k.z.array(a.dataPointType):k.z.array(r),options:a.configSchema??k.z.unknown(),evalRunId:k.z.string(),batchSize:k.z.number().optional()}),outputSchema:A,metadata:{type:"evaluator",evaluator:c}},async a=>{let c=[],d=I(a.dataset,a.batchSize);for(let e=0;e<d.length;e++){let f=d[e];try{await (0,n.runInNewSpan)({metadata:{name:a.batchSize?`Batch ${e}`:`Test Case ${f[0].testCaseId}`,metadata:{"evaluator:evalRunId":a.evalRunId}},labels:{[n.SPAN_TYPE_ATTR]:"evaluator"}},async(d,g)=>{let h=g.spanContext().spanId,i=g.spanContext().traceId,j=f.map((c,f)=>{let g=a.batchSize?a.batchSize*e+f:e,j=c;return d.input={input:j.input,output:j.output,context:j.context},b(j,a.options).then(a=>({...a,traceId:i,spanId:h,sampleIndex:g})).catch(a=>({sampleIndex:g,spanId:h,traceId:i,testCaseId:j.testCaseId,evaluation:{error:`Evaluation of test case ${j.testCaseId} failed: 
${a}`}}))}),k=await Promise.all(j);d.output=1===k.length?k[0]:k,k.map(a=>{c.push(a)})})}catch(a){l.logger.error(`Evaluation of batch ${e} failed: 
${a.stack}`);continue}}return c}),a.dataPointType,a.configSchema)}async function F(a,b){let c;if(!(c="string"==typeof b.evaluator?await a.lookupAction(`/evaluator/${b.evaluator}`):Object.hasOwnProperty.call(b.evaluator,"info")?await a.lookupAction(`/evaluator/${b.evaluator.name}`):b.evaluator))throw Error("Unable to utilize the provided evaluator");return await c({dataset:b.dataset,options:b.options,evalRunId:b.evalRunId??(0,o.randomUUID)()})}let G=k.z.object({label:k.z.string().optional(),metrics:k.z.array(k.z.string())});function H(a){return{...a}}function I(a,b){let c;c=b||1;let d=[];for(var e=0;e<a.length;e+=c)d.push(a.slice(e,e+c).map(a=>({...a,testCaseId:a.testCaseId??(0,o.randomUUID)()})));return d}},37905:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346);a.exports=(a,b,c)=>{let f=null,g=null,h=null;try{h=new e(b,c)}catch(a){return null}return a.forEach(a=>{h.test(a)&&(!f||1===g.compare(a))&&(g=new d(f=a,c))}),f}},37970:(a,b)=>{"use strict";var c=b,d=c.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},e=c.normalize=function(a){var b=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),c=d(a),e="";c&&(e=b.shift()+"/");for(var f=0;f<b.length;)".."===b[f]?f>0&&".."!==b[f-1]?b.splice(--f,2):c?b.splice(f,1):++f:"."===b[f]?b.splice(f,1):++f;return e+b.join("/")};c.resolve=function(a,b,c){return(c||(b=e(b)),d(b))?b:(c||(a=e(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?e(a+"/"+b):b)}},38006:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class c{}b._CodeOrName=c,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends c{constructor(a){if(super(),!b.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=d;class e extends c{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof d&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function f(a,...b){let c=[a[0]],d=0;for(;d<b.length;)i(c,b[d]),c.push(a[++d]);return new e(c)}b._Code=e,b.nil=new e(""),b._=f;let g=new e("+");function h(a,...b){let c=[m(a[0])],d=0;for(;d<b.length;)c.push(g),i(c,b[d]),c.push(g,m(a[++d]));return j(c),new e(c)}function i(a,b){b instanceof e?a.push(...b._items):b instanceof d?a.push(b):a.push(l(b))}function j(a){let b=1;for(;b<a.length-1;){if(a[b]===g){let c=k(a[b-1],a[b+1]);if(void 0!==c){a.splice(b-1,3,c);continue}a[b++]="+"}b++}}function k(a,b){return'""'===b?a:'""'===a?b:"string"==typeof a?b instanceof d||'"'!==a[a.length-1]?void 0:"string"!=typeof b?`${a.slice(0,-1)}${b}"`:'"'===b[0]?a.slice(0,-1)+b.slice(1):void 0:"string"!=typeof b||'"'!==b[0]||a instanceof d?void 0:`"${a}${b.slice(1)}`}function l(a){return"number"==typeof a||"boolean"==typeof a||null===a?a:m(Array.isArray(a)?a.join(","):a)}function m(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function n(a){return"string"==typeof a&&b.IDENTIFIER.test(a)?new e(`.${a}`):f`[${a}]`}function o(a){if("string"==typeof a&&b.IDENTIFIER.test(a))return new e(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}b.str=h,b.addCodeArg=i,b.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:h`${a}${b}`},b.stringify=function(a){return new e(m(a))},b.safeStringify=m,b.getProperty=n,b.getEsmExportName=o,b.regexpCode=function(a){return new e(a.toString())}},38157:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{BaseDataPointSchema:()=>k.BaseDataPointSchema,Chat:()=>l.Chat,Document:()=>k.Document,DocumentDataSchema:()=>k.DocumentDataSchema,GENKIT_CLIENT_HEADER:()=>o.GENKIT_CLIENT_HEADER,GENKIT_VERSION:()=>o.GENKIT_VERSION,GenerateResponse:()=>k.GenerateResponse,GenerateResponseChunk:()=>k.GenerateResponseChunk,GenerationBlockedError:()=>k.GenerationBlockedError,GenerationCommonConfigSchema:()=>k.GenerationCommonConfigSchema,GenerationResponseError:()=>k.GenerationResponseError,GenkitError:()=>o.GenkitError,LlmResponseSchema:()=>k.LlmResponseSchema,LlmStatsSchema:()=>k.LlmStatsSchema,Message:()=>k.Message,MessageSchema:()=>k.MessageSchema,ModelRequestSchema:()=>k.ModelRequestSchema,ModelResponseSchema:()=>k.ModelResponseSchema,OperationSchema:()=>o.OperationSchema,PartSchema:()=>k.PartSchema,ReflectionServer:()=>o.ReflectionServer,RoleSchema:()=>k.RoleSchema,Session:()=>m.Session,StatusCodes:()=>o.StatusCodes,StatusSchema:()=>o.StatusSchema,ToolCallSchema:()=>k.ToolCallSchema,ToolInterruptError:()=>k.ToolInterruptError,ToolSchema:()=>k.ToolSchema,UserFacingError:()=>o.UserFacingError,defineJsonSchema:()=>o.defineJsonSchema,defineSchema:()=>o.defineSchema,dynamicResource:()=>k.dynamicResource,dynamicTool:()=>n.dynamicTool,embedderActionMetadata:()=>k.embedderActionMetadata,embedderRef:()=>k.embedderRef,evaluatorRef:()=>k.evaluatorRef,getClientHeader:()=>o.getClientHeader,getCurrentEnv:()=>o.getCurrentEnv,getStreamingCallback:()=>o.getStreamingCallback,indexerRef:()=>k.indexerRef,isDevEnv:()=>o.isDevEnv,modelActionMetadata:()=>k.modelActionMetadata,modelRef:()=>k.modelRef,rerankerRef:()=>k.rerankerRef,resource:()=>k.resource,retrieverRef:()=>k.retrieverRef,runWithStreamingCallback:()=>o.runWithStreamingCallback,tool:()=>n.tool,z:()=>o.z}),a.exports=i(j);var k=c(72300),l=c(44066),m=c(50300),n=c(50438),o=c(40979);(0,c(23017).initNodeFeatures)()},38380:(a,b,c)=>{"use strict";var d;c.d(b,{u:()=>d}),function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(d||(d={}))},38595:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;let d=c(53864),e=c(59762),f=c(51018);function g(a,c=b.keywordError,e,f){let{it:h}=a,{gen:k,compositeRule:m,allErrors:n}=h,o=l(a,c,e);(null!=f?f:m||n)?i(k,o):j(h,(0,d._)`[${o}]`)}function h(a,c=b.keywordError,d){let{it:e}=a,{gen:g,compositeRule:k,allErrors:m}=e;i(g,l(a,c,d)),k||m||j(e,f.default.vErrors)}function i(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function j(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}b.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},b.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},b.reportError=g,b.reportExtraError=h,b.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},b.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let k={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function l(a,b,c){let{createErrors:e}=a.it;return!1===e?(0,d._)`{}`:m(a,b,c)}function m(a,b,c={}){let{gen:d,it:e}=a,f=[n(e,c),o(a,c)];return p(a,b,f),d.object(...f)}function n({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}function o({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[k.schemaPath,g]}function p(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:i,it:j}=a,{opts:l,propertyName:m,topSchemaRef:n,schemaPath:o}=j;e.push([k.keyword,g],[k.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([k.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([k.schema,i],[k.parentSchema,(0,d._)`${n}${o}`],[f.default.data,h]),m&&e.push([k.propertyName,m])}},38623:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(12383),e=c(58704),f=c(86224),g=function(){function a(){}return a.prototype.startSpan=function(a,b){if(void 0===b&&(b={}),b.childOf){var c=d.childOf(b.childOf);b.references?b.references.push(c):b.references=[c],delete b.childOf}return this._startSpan(a,b)},a.prototype.inject=function(a,b,c){return a instanceof f.default&&(a=a.context()),this._inject(a,b,c)},a.prototype.extract=function(a,b){return this._extract(a,b)},a.prototype._startSpan=function(a,b){return e.span},a.prototype._inject=function(a,b,c){},a.prototype._extract=function(a,b){return e.spanContext},a}();b.Tracer=g,b.default=g},38702:(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(b,"__esModule",{value:!0}),b.log=b.setLoggerVerbosity=b.setLogger=b.getLogger=void 0,b.trace=q,b.isTracerEnabled=r;let h=c(56458),i=c(19771),j=c(19092).rE,k={error:(a,...b)=>{console.error("E "+a,...b)},info:(a,...b)=>{console.error("I "+a,...b)},debug:(a,...b)=>{console.error("D "+a,...b)}},l=h.LogVerbosity.ERROR;switch((null!=(e=null!=(d=process.env.GRPC_NODE_VERBOSITY)?d:process.env.GRPC_VERBOSITY)?e:"").toUpperCase()){case"DEBUG":l=h.LogVerbosity.DEBUG;break;case"INFO":l=h.LogVerbosity.INFO;break;case"ERROR":l=h.LogVerbosity.ERROR;break;case"NONE":l=h.LogVerbosity.NONE}b.getLogger=()=>k,b.setLogger=a=>{k=a},b.setLoggerVerbosity=a=>{l=a},b.log=(a,...b)=>{let c;if(a>=l){switch(a){case h.LogVerbosity.DEBUG:c=k.debug;break;case h.LogVerbosity.INFO:c=k.info;break;case h.LogVerbosity.ERROR:c=k.error}c||(c=k.error),c&&c.bind(k)(...b)}};let m=null!=(g=null!=(f=process.env.GRPC_NODE_TRACE)?f:process.env.GRPC_TRACE)?g:"",n=new Set,o=new Set;for(let a of m.split(","))a.startsWith("-")?o.add(a.substring(1)):n.add(a);let p=n.has("all");function q(a,c,d){r(c)&&(0,b.log)(a,new Date().toISOString()+" | v"+j+" "+i.pid+" | "+c+" | "+d)}function r(a){return!o.has(a)&&(p||n.has(a))}},39279:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;let e=c(30115),f=c(46558),g=c(38595),h=c(53864),i=c(59762);function j(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(e.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}!function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"}(d||(b.DataType=d={})),b.getSchemaTypes=function(a){let b=j(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},b.getJSONTypes=j,b.coerceAndCheckDataType=function(a,b){let{gen:c,data:e,opts:g}=a,h=l(b,g.coerceTypes),i=b.length>0&&!(0===h.length&&1===b.length&&(0,f.schemaHasRulesForType)(a,b[0]));if(i){let f=p(b,e,g.strictNumbers,d.Wrong);c.if(f,()=>{h.length?m(a,b,h):r(a)})}return i};let k=new Set(["string","number","integer","boolean","null"]);function l(a,b){return b?a.filter(a=>k.has(a)||"array"===b&&"array"===a):[]}function m(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,h._)`typeof ${e}`),i=d.let("coerced",(0,h._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,h._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,h._)`${e}[0]`).assign(g,(0,h._)`typeof ${e}`).if(p(b,e,f.strictNumbers),()=>d.assign(i,e))),d.if((0,h._)`${i} !== undefined`),c))(k.has(a)||"array"===a&&"array"===f.coerceTypes)&&j(a);function j(a){switch(a){case"string":d.elseIf((0,h._)`${g} == "number" || ${g} == "boolean"`).assign(i,(0,h._)`"" + ${e}`).elseIf((0,h._)`${e} === null`).assign(i,(0,h._)`""`);return;case"number":d.elseIf((0,h._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(i,(0,h._)`+${e}`);return;case"integer":d.elseIf((0,h._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(i,(0,h._)`+${e}`);return;case"boolean":d.elseIf((0,h._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(i,!1).elseIf((0,h._)`${e} === "true" || ${e} === 1`).assign(i,!0);return;case"null":d.elseIf((0,h._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(i,null);return;case"array":d.elseIf((0,h._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(i,(0,h._)`[${e}]`)}}d.else(),r(a),d.endIf(),d.if((0,h._)`${i} !== undefined`,()=>{d.assign(e,i),n(a,i)})}function n({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,h._)`${b} !== undefined`,()=>a.assign((0,h._)`${b}[${c}]`,d))}function o(a,b,c,e=d.Correct){let f,g=e===d.Correct?h.operators.EQ:h.operators.NEQ;switch(a){case"null":return(0,h._)`${b} ${g} null`;case"array":f=(0,h._)`Array.isArray(${b})`;break;case"object":f=(0,h._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=i((0,h._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=i();break;default:return(0,h._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,h.not)(f);function i(a=h.nil){return(0,h.and)((0,h._)`typeof ${b} == "number"`,a,c?(0,h._)`isFinite(${b})`:h.nil)}}function p(a,b,c,d){let e;if(1===a.length)return o(a[0],b,c,d);let f=(0,i.toHash)(a);if(f.array&&f.object){let a=(0,h._)`typeof ${b} != "object"`;e=f.null?a:(0,h._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=h.nil;for(let a in f.number&&delete f.integer,f)e=(0,h.and)(e,o(a,b,c,d));return e}b.checkDataType=o,b.checkDataTypes=p;let q={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,h._)`{type: ${a}}`:(0,h._)`{type: ${b}}`};function r(a){let b=s(a);(0,g.reportError)(b,q)}function s(a){let{gen:b,data:c,schema:d}=a,e=(0,i.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}b.reportTypeError=r},39547:(a,b,c)=>{"use strict";var d,e=c(28354),f=c(89220),g=c(76019),h=c(82740),i=c(8193);function j(){f.Base.call(this)}function k(){}e.inherits(j,f.Base),j.prototype.lengthResult=f.LengthResult.just(8),j.prototype.poolByteLength=function(a,b){return a.reset(null,8)},j.prototype.poolWriteInto=function(a,b,c,d){if(b instanceof Buffer)return this.writeBufferInt64Into(a,b,c,d);if("number"==typeof b){var e=g.fromNumber(b);return c.writeInt32BE(e.high,d,!0),c.writeInt32BE(e.low,d+4,!0),a.reset(null,d+8)}if(Array.isArray(b))return this.writeArrayInt64Into(a,b,c,d);if("string"==typeof b)return this.writeStringInt64Into(a,b,c,d);if(b&&"object"==typeof b)return this.writeObjectInt64Into(a,b,c,d);else return a.reset(i.expected(b,"i64 representation"))},j.prototype.writeBufferInt64Into=function(a,b,c,d){return b.copy(c,d,0,8),a.reset(null,d+8)},j.prototype.writeObjectInt64Into=function(a,b,c,d){return"number"!=typeof b.high&&"number"!=typeof b.hi?a.reset(i.expected(b,"{hi[gh], lo[w]} with high bits, or other i64 representation"),null):"number"!=typeof b.low&&"number"!=typeof b.lo?a.reset(i.expected(b,"{hi[gh], lo[w]} with low bits, or other i64 representation"),null):(c.writeInt32BE(b.high||b.hi,d,!0),c.writeInt32BE(b.low||b.lo,d+4,!0),a.reset(null,d+8))},j.prototype.writeArrayInt64Into=function(a,b,c,d){if(8!==b.length)return a.reset(i.expected(b,"an array of 8 bytes, or other i64 representation"),null);for(var e=0;e<8;e++)c[d+e]=255&b[e];return a.reset(null,d+8)},j.prototype.writeStringInt64Into=function(a,b,c,d){if(16!==b.length)return a.reset(i.expected(b,"a string of 16 hex characters, or other i64 representation"),null);var e=parseInt(b.slice(0,8),16);if(e!=e)return a.reset(i.expected(b,"a string of hex characters, or other i64 representation"),null);var f=parseInt(b.slice(8,16),16);return f!=f?a.reset(i.expected(b,"a string of hex characters, or other i64 representation"),null):(c.writeInt32BE(e,d),c.writeInt32BE(f,d+4),a.reset(null,d+8))},e.inherits(k,j),k.prototype.poolReadFrom=function(a,b,c){var d=g.fromBits(b.readInt32BE(c+4,4,!0),b.readInt32BE(c,4,!0));return a.reset(null,c+8,d)};var l=new k;function m(){}e.inherits(m,j),m.prototype.poolReadFrom=function(a,b,c){var d=new Date(g.fromBits(b.readInt32BE(c+4,4,!0),b.readInt32BE(c+0,4,!0)).toNumber());return a.reset(null,c+8,d)},m.prototype.poolWriteInto=function(a,b,c,d){return b instanceof Buffer?this.writeBufferInt64Into(a,b,c,d):Array.isArray(b)?this.writeArrayInt64Into(a,b,c,d):("string"==typeof b&&(b=Date.parse(b)),b=g.fromNumber(+b),this.writeObjectInt64Into(a,b,c,d))};var n=new m;function o(){}e.inherits(o,j),o.prototype.poolReadFrom=function(a,b,c){var d=new Buffer(8);return b.copy(d,0,c,c+8),a.reset(null,c+8,d)};var p=new o;function q(a){a&&"Long"===a["js.type"]?(this.rw=l,this.surface=g):a&&"Date"===a["js.type"]?(this.rw=n,this.surface=Date):(this.rw=p,this.surface=Buffer),this.annotations=a}q.prototype.name="i64",q.prototype.typeid=h.I64,q.prototype.models="type",a.exports.I64RW=j,d=o,d=k,d=m,a.exports.ThriftI64=q},39584:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(){var a={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:f[h-1].push(f[h]);break;case 98:case 100:this.$=[f[h]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(a,b){throw Error(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var k=this.lexer.yylloc;e.push(k);var l=this.lexer.options&&this.lexer.options.ranges;function m(){var a;return"number"!=typeof(a=b.lexer.lex()||1)&&(a=b.symbols_[a]||a),a}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=c[c.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null==n&&(n=m()),q=f[p]&&f[p][n]),void 0===q||!q.length||!q[0]){var x="";if(!j){for(s in v=[],f[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:k,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:c.push(n),d.push(this.lexer.yytext),e.push(this.lexer.yylloc),c.push(q[1]),n=null,o?(n=o,o=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,k=this.lexer.yylloc,j>0&&j--);break;case 2:if(t=this.productions_[q[1]][1],w.$=d[d.length-t],w._$={first_line:e[e.length-(t||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(t||1)].first_column,last_column:e[e.length-1].last_column},l&&(w._$.range=[e[e.length-(t||1)].range[0],e[e.length-1].range[1]]),void 0!==(r=this.performAction.call(w,g,i,h,this.yy,q[1],d,e)))return r;t&&(c=c.slice(0,-1*t*2),d=d.slice(0,-1*t),e=e.slice(0,-1*t)),c.push(this.productions_[q[1]][0]),d.push(w.$),e.push(w._$),u=f[c[c.length-2]][c[c.length-1]],c.push(u);break;case 3:return!0}}return!0}};function b(){this.yy={}}return a.lexer=function(){var a={EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a,b,c,d,e,f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?((e=b[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a)?a:void 0:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return void 0!==a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substring(a,b.yyleng-c+a)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:if(this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1])return 15;return e(5,9),"END_RAW_BLOCK";case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}(),b.prototype=a,a.Parser=b,new b}(),a.exports=b.default},39605:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;let d=c(96535),e=c(28232),f=c(27017),g=c(63197),h=c(71367),i=c(22328);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:n}=this.opts,o=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:n});a.$async&&(b=o.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let p=o.scopeName("validate");a.validateName=p;let q={gen:o,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:p,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(q),o.optimize(this.opts.code.optimize);let b=o.toString();c=`${o.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(p,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:p,validateCode:b,scopeValues:o._values}),this.opts.unevaluated){let{props:a,items:b}=q;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let b of this._compilations)if(n(b,a))return b}function n(a,b){return a.schema===b.schema&&a.root===b.root&&a.baseId===b.baseId}function o(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||p.call(this,a,b)}function p(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return r.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=p.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return r.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return r.call(this,c,h)}}b.SchemaEnv=j,b.compileSchema=k,b.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=o.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},b.getCompilingSchema=m,b.resolveSchema=p;let q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function r(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!q.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=p.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},39790:a=>{"use strict";a.exports=d;var b,c=/\/|\./;function d(a,b){c.test(a)||(a="google/protobuf/"+a+".proto",b={nested:{google:{nested:{protobuf:{nested:b}}}}}),d[a]=b}d("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),d("duration",{Duration:b={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),d("timestamp",{Timestamp:b}),d("empty",{Empty:{fields:{}}}),d("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),d("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),d("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),d.get=function(a){return d[a]||null}},39838:(a,b,c)=>{"use strict";var d=c(82740),e=c(76750).MapObjectRW,f=c(85).MapEntriesRW,g=c(32437);function h(a,b,c){this.rw=null,this.surface=null;var d=c["js.type"]||"object";if("object"===d)this.rw=new e(a,b),this.surface=Object;else if("entries"===d)this.rw=new f(a,b),this.surface=Array;else throw g.UnexpectedMapTypeAnnotation({mapType:d});this.annotations=c}h.prototype.name="map",h.prototype.typeid=d.MAP,h.prototype.models="type",a.exports.U=h},40176:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var d=c(22328);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=c(96535);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=c(28232),g=c(65025),h=c(30912),i=c(39605),j=c(96535),k=c(63197),l=c(35196),m=c(71367),n=c(59377),o=c(92152),p=(a,b)=>new RegExp(a,b);p.code="new RegExp";let q=["removeAdditional","useDefaults","coerceTypes"],r=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},t={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},u=200;function v(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,q,r,s,t,v,w,x,y,z,A,B,C;let D=a.strict,E=null==(b=a.code)?void 0:b.optimize,F=!0===E||void 0===E?1:E||0,G=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:p,H=null!=(e=a.uriResolver)?e:o.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:D)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:D)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:D)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:D)?m:"log",strictRequired:null!=(q=null!=(n=a.strictRequired)?n:D)&&q,code:a.code?{...a.code,optimize:F,regExp:G}:{optimize:F,regExp:G},loopRequired:null!=(r=a.loopRequired)?r:u,loopEnum:null!=(s=a.loopEnum)?s:u,meta:null==(t=a.meta)||t,messages:null==(v=a.messages)||v,inlineRefs:null==(w=a.inlineRefs)||w,schemaId:null!=(x=a.schemaId)?x:"$id",addUsedSchema:null==(y=a.addUsedSchema)||y,validateSchema:null==(z=a.validateSchema)||z,validateFormats:null==(A=a.validateFormats)||A,unicodeRegExp:null==(B=a.unicodeRegExp)||B,int32range:null==(C=a.int32range)||C,uriResolver:H}}class w{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...v(a)};let{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:r,es5:b,lines:c}),this.logger=E(a.logger);let d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),x.call(this,s,a,"NOT SUPPORTED"),x.call(this,t,a,"DEPRECATED","warn"),this._metaOpts=C.call(this),a.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&B.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),z.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=n;"id"===c&&((d={...n}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=y.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=y.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{let b=a;this._cache.delete(b);let c=a[this.opts.schemaId];return c&&(c=(0,k.normalizeId)(c),delete this.schemas[c],delete this.refs[c]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(G.call(this,c,b),!b)return(0,m.eachItem)(c,a=>H.call(this,a)),this;J.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>H.call(this,a,d):a=>d.type.forEach(b=>H.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=L(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function x(a,b,c,d="error"){for(let e in a){let f=e;f in b&&this.logger[d](`${c}: option ${e}. ${a[f]}`)}}function y(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function z(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function A(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function B(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function C(){let a={...this.opts};for(let b of q)delete a[b];return a}w.ValidationError=f.default,w.MissingRefError=g.default,b.default=w;let D={log(){},warn(){},error(){}};function E(a){if(!1===a)return D;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}let F=/^[a-z_$][a-z0-9_$:-]*$/i;function G(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!F.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function H(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?I.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function I(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function J(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=L(b)),a.validateSchema=this.compile(b,!0))}let K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(a){return{anyOf:[a,K]}}},40312:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},40329:(a,b,c)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:d,MAX_SAFE_BUILD_LENGTH:e,MAX_LENGTH:f}=c(45053),g=c(50627),h=(b=a.exports={}).re=[],i=b.safeRe=[],j=b.src=[],k=b.safeSrc=[],l=b.t={},m=0,n="[a-zA-Z0-9-]",o=[["\\s",1],["\\d",f],[n,e]],p=a=>{for(let[b,c]of o)a=a.split(`${b}*`).join(`${b}{0,${c}}`).split(`${b}+`).join(`${b}{1,${c}}`);return a},q=(a,b,c)=>{let d=p(b),e=m++;g(a,e,b),l[a]=e,j[e]=b,k[e]=d,h[e]=new RegExp(b,c?"g":void 0),i[e]=new RegExp(d,c?"g":void 0)};q("NUMERICIDENTIFIER","0|[1-9]\\d*"),q("NUMERICIDENTIFIERLOOSE","\\d+"),q("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${n}*`),q("MAINVERSION",`(${j[l.NUMERICIDENTIFIER]})\\.(${j[l.NUMERICIDENTIFIER]})\\.(${j[l.NUMERICIDENTIFIER]})`),q("MAINVERSIONLOOSE",`(${j[l.NUMERICIDENTIFIERLOOSE]})\\.(${j[l.NUMERICIDENTIFIERLOOSE]})\\.(${j[l.NUMERICIDENTIFIERLOOSE]})`),q("PRERELEASEIDENTIFIER",`(?:${j[l.NONNUMERICIDENTIFIER]}|${j[l.NUMERICIDENTIFIER]})`),q("PRERELEASEIDENTIFIERLOOSE",`(?:${j[l.NONNUMERICIDENTIFIER]}|${j[l.NUMERICIDENTIFIERLOOSE]})`),q("PRERELEASE",`(?:-(${j[l.PRERELEASEIDENTIFIER]}(?:\\.${j[l.PRERELEASEIDENTIFIER]})*))`),q("PRERELEASELOOSE",`(?:-?(${j[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${j[l.PRERELEASEIDENTIFIERLOOSE]})*))`),q("BUILDIDENTIFIER",`${n}+`),q("BUILD",`(?:\\+(${j[l.BUILDIDENTIFIER]}(?:\\.${j[l.BUILDIDENTIFIER]})*))`),q("FULLPLAIN",`v?${j[l.MAINVERSION]}${j[l.PRERELEASE]}?${j[l.BUILD]}?`),q("FULL",`^${j[l.FULLPLAIN]}$`),q("LOOSEPLAIN",`[v=\\s]*${j[l.MAINVERSIONLOOSE]}${j[l.PRERELEASELOOSE]}?${j[l.BUILD]}?`),q("LOOSE",`^${j[l.LOOSEPLAIN]}$`),q("GTLT","((?:<|>)?=?)"),q("XRANGEIDENTIFIERLOOSE",`${j[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),q("XRANGEIDENTIFIER",`${j[l.NUMERICIDENTIFIER]}|x|X|\\*`),q("XRANGEPLAIN",`[v=\\s]*(${j[l.XRANGEIDENTIFIER]})(?:\\.(${j[l.XRANGEIDENTIFIER]})(?:\\.(${j[l.XRANGEIDENTIFIER]})(?:${j[l.PRERELEASE]})?${j[l.BUILD]}?)?)?`),q("XRANGEPLAINLOOSE",`[v=\\s]*(${j[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[l.XRANGEIDENTIFIERLOOSE]})(?:${j[l.PRERELEASELOOSE]})?${j[l.BUILD]}?)?)?`),q("XRANGE",`^${j[l.GTLT]}\\s*${j[l.XRANGEPLAIN]}$`),q("XRANGELOOSE",`^${j[l.GTLT]}\\s*${j[l.XRANGEPLAINLOOSE]}$`),q("COERCEPLAIN",`(^|[^\\d])(\\d{1,${d}})(?:\\.(\\d{1,${d}}))?(?:\\.(\\d{1,${d}}))?`),q("COERCE",`${j[l.COERCEPLAIN]}(?:$|[^\\d])`),q("COERCEFULL",j[l.COERCEPLAIN]+`(?:${j[l.PRERELEASE]})?`+`(?:${j[l.BUILD]})?`+"(?:$|[^\\d])"),q("COERCERTL",j[l.COERCE],!0),q("COERCERTLFULL",j[l.COERCEFULL],!0),q("LONETILDE","(?:~>?)"),q("TILDETRIM",`(\\s*)${j[l.LONETILDE]}\\s+`,!0),b.tildeTrimReplace="$1~",q("TILDE",`^${j[l.LONETILDE]}${j[l.XRANGEPLAIN]}$`),q("TILDELOOSE",`^${j[l.LONETILDE]}${j[l.XRANGEPLAINLOOSE]}$`),q("LONECARET","(?:\\^)"),q("CARETTRIM",`(\\s*)${j[l.LONECARET]}\\s+`,!0),b.caretTrimReplace="$1^",q("CARET",`^${j[l.LONECARET]}${j[l.XRANGEPLAIN]}$`),q("CARETLOOSE",`^${j[l.LONECARET]}${j[l.XRANGEPLAINLOOSE]}$`),q("COMPARATORLOOSE",`^${j[l.GTLT]}\\s*(${j[l.LOOSEPLAIN]})$|^$`),q("COMPARATOR",`^${j[l.GTLT]}\\s*(${j[l.FULLPLAIN]})$|^$`),q("COMPARATORTRIM",`(\\s*)${j[l.GTLT]}\\s*(${j[l.LOOSEPLAIN]}|${j[l.XRANGEPLAIN]})`,!0),b.comparatorTrimReplace="$1$2$3",q("HYPHENRANGE",`^\\s*(${j[l.XRANGEPLAIN]})\\s+-\\s+(${j[l.XRANGEPLAIN]})\\s*$`),q("HYPHENRANGELOOSE",`^\\s*(${j[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${j[l.XRANGEPLAINLOOSE]})\\s*$`),q("STAR","(<|>)?=?\\s*\\*"),q("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),q("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},40369:(a,b)=>{"use strict";function c(a,b){return"function"!=typeof a?a:function(){var c=arguments[arguments.length-1];return arguments[arguments.length-1]=b(c),a.apply(this,arguments)}}b.__esModule=!0,b.wrapHelper=c},40410:(a,b)=>{"use strict";var c;function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}c={value:!0},Object.defineProperty(b,"D",{enumerable:!0,get:function(){return d}})},40613:(a,b,c)=>{"use strict";var d=c(54726),e=c(68042),f=c(62806);b.resolveBlockSeq=function({composeNode:a,composeEmptyNode:b},c,g,h,i){let j=new(i?.nodeClass??d.YAMLSeq)(c.schema);c.atRoot&&(c.atRoot=!1),c.atKey&&(c.atKey=!1);let k=g.offset,l=null;for(let{start:d,value:i}of g.items){let m=e.resolveProps(d,{indicator:"seq-item-ind",next:i,offset:k,onError:h,parentIndent:g.indent,startOnNewline:!0});if(!m.found)if(m.anchor||m.tag||i)i&&"block-seq"===i.type?h(m.end,"BAD_INDENT","All sequence items must start at the same column"):h(k,"MISSING_CHAR","Sequence item without - indicator");else{l=m.end,m.comment&&(j.comment=m.comment);continue}let n=i?a(c,i,m,h):b(c,m.end,d,null,m,h);c.schema.compat&&f.flowIndentCheck(g.indent,i,h),k=n.range[2],j.items.push(n)}return j.range=[g.offset,k,l??k],j}},40979:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j=a=>h(d({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(k,{GENKIT_CLIENT_HEADER:()=>v,GENKIT_REFLECTION_API_SPEC_VERSION:()=>w,GENKIT_VERSION:()=>u,GenkitError:()=>r.GenkitError,OperationSchema:()=>o.OperationSchema,UnstableApiError:()=>r.UnstableApiError,UserFacingError:()=>r.UserFacingError,apiKey:()=>p.apiKey,assertUnstable:()=>r.assertUnstable,backgroundAction:()=>o.backgroundAction,defineBackgroundAction:()=>o.defineBackgroundAction,defineDynamicActionProvider:()=>q.defineDynamicActionProvider,defineFlow:()=>s.defineFlow,defineJsonSchema:()=>t.defineJsonSchema,defineSchema:()=>t.defineSchema,flow:()=>s.flow,getAsyncContext:()=>n.getAsyncContext,getCallableJSON:()=>r.getCallableJSON,getClientHeader:()=>y,getContext:()=>p.getContext,getHttpStatus:()=>r.getHttpStatus,isBackgroundAction:()=>o.isBackgroundAction,registerBackgroundAction:()=>o.registerBackgroundAction,run:()=>s.run,runWithContext:()=>p.runWithContext,setClientHeader:()=>z,z:()=>m.z}),a.exports=j(k);var l=c(31843),m=c(62934);i(k,c(24275),a.exports);var n=c(50673),o=c(49528),p=c(58482),q=c(71639),r=c(53369),s=c(51925);i(k,c(77924),a.exports),i(k,c(20790),a.exports);var t=c(76944);i(k,c(94829),a.exports),i(k,c(49176),a.exports);let u=l.version,v=`genkit-node/${u} gl-node/${process.versions.node}`,w=1,x="__genkit_ClientHeader";function y(){return global[x]?v+" "+global[x]:v}function z(a){global[x]=a}},41082:(a,b)=>{"use strict";let c="flow",d="block",e="quoted";function f(a,b,c="flow",{indentAtStart:h,lineWidth:i=80,minContentWidth:j=20,onFold:k,onOverflow:l}={}){let m,n,o;if(!i||i<0)return a;i<j&&(j=0);let p=Math.max(1+j,1+i-b.length);if(a.length<=p)return a;let q=[],r={},s=i-b.length;"number"==typeof h&&(h>i-Math.max(2,j)?q.push(0):s=i-h);let t=!1,u=-1,v=-1,w=-1;for(c===d&&-1!==(u=g(a,u,b.length))&&(s=u+p);o=a[u+=1];){if(c===e&&"\\"===o){switch(v=u,a[u+1]){case"x":u+=3;break;case"u":u+=5;break;case"U":u+=9;break;default:u+=1}w=u}if("\n"===o)c===d&&(u=g(a,u,b.length)),s=u+b.length+p,m=void 0;else{if(" "===o&&n&&" "!==n&&"\n"!==n&&"	"!==n){let b=a[u+1];b&&" "!==b&&"\n"!==b&&"	"!==b&&(m=u)}if(u>=s)if(m)q.push(m),s=m+p,m=void 0;else if(c===e){for(;" "===n||"	"===n;)n=o,o=a[u+=1],t=!0;let b=u>w+1?u-2:v-1;if(r[b])return a;q.push(b),r[b]=!0,s=b+p,m=void 0}else t=!0}n=o}if(t&&l&&l(),0===q.length)return a;k&&k();let x=a.slice(0,q[0]);for(let d=0;d<q.length;++d){let f=q[d],g=q[d+1]||a.length;0===f?x=`
${b}${a.slice(0,g)}`:(c===e&&r[f]&&(x+=`${a[f]}\\`),x+=`
${b}${a.slice(f+1,g)}`)}return x}function g(a,b,c){let d=b,e=b+1,f=a[e];for(;" "===f||"	"===f;)if(b<e+c)f=a[++b];else{do f=a[++b];while(f&&"\n"!==f);d=b,f=a[e=b+1]}return d}b.FOLD_BLOCK=d,b.FOLD_FLOW=c,b.FOLD_QUOTED=e,b.foldFlowLines=f},41387:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535);b.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},41490:(a,b,c)=>{"use strict";var d=c(20861),e=d.Reader,f=d.Writer,g=d.util,h=d.roots.default||(d.roots.default={});h.opentelemetry=function(){var a={};return a.proto=function(){var a={};return a.common=function(){var a={};return a.v1=function(){var a={};return a.AnyValue=function(){var a;function b(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.stringValue=null,b.prototype.boolValue=null,b.prototype.intValue=null,b.prototype.doubleValue=null,b.prototype.arrayValue=null,b.prototype.kvlistValue=null,b.prototype.bytesValue=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){return b||(b=f.create()),null!=a.stringValue&&Object.hasOwnProperty.call(a,"stringValue")&&b.uint32(10).string(a.stringValue),null!=a.boolValue&&Object.hasOwnProperty.call(a,"boolValue")&&b.uint32(16).bool(a.boolValue),null!=a.intValue&&Object.hasOwnProperty.call(a,"intValue")&&b.uint32(24).int64(a.intValue),null!=a.doubleValue&&Object.hasOwnProperty.call(a,"doubleValue")&&b.uint32(33).double(a.doubleValue),null!=a.arrayValue&&Object.hasOwnProperty.call(a,"arrayValue")&&h.opentelemetry.proto.common.v1.ArrayValue.encode(a.arrayValue,b.uint32(42).fork()).ldelim(),null!=a.kvlistValue&&Object.hasOwnProperty.call(a,"kvlistValue")&&h.opentelemetry.proto.common.v1.KeyValueList.encode(a.kvlistValue,b.uint32(50).fork()).ldelim(),null!=a.bytesValue&&Object.hasOwnProperty.call(a,"bytesValue")&&b.uint32(58).bytes(a.bytesValue),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.AnyValue;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.stringValue=a.string();break;case 2:d.boolValue=a.bool();break;case 3:d.intValue=a.int64();break;case 4:d.doubleValue=a.double();break;case 5:d.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.decode(a,a.uint32());break;case 6:d.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.decode(a,a.uint32());break;case 7:d.bytesValue=a.bytes();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(b.value=1,!g.isString(a.stringValue)))return"stringValue: string expected";if(null!=a.boolValue&&a.hasOwnProperty("boolValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"boolean"!=typeof a.boolValue)return"boolValue: boolean expected"}if(null!=a.intValue&&a.hasOwnProperty("intValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.intValue)&&!(a.intValue&&g.isInteger(a.intValue.low)&&g.isInteger(a.intValue.high)))return"intValue: integer|Long expected"}if(null!=a.doubleValue&&a.hasOwnProperty("doubleValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"number"!=typeof a.doubleValue)return"doubleValue: number expected"}if(null!=a.arrayValue&&a.hasOwnProperty("arrayValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.ArrayValue.verify(a.arrayValue);if(c)return"arrayValue."+c}if(null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.KeyValueList.verify(a.kvlistValue);if(c)return"kvlistValue."+c}if(null!=a.bytesValue&&a.hasOwnProperty("bytesValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!(a.bytesValue&&"number"==typeof a.bytesValue.length||g.isString(a.bytesValue)))return"bytesValue: buffer expected"}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.AnyValue)return a;var b=new h.opentelemetry.proto.common.v1.AnyValue;if(null!=a.stringValue&&(b.stringValue=String(a.stringValue)),null!=a.boolValue&&(b.boolValue=!!a.boolValue),null!=a.intValue&&(g.Long?(b.intValue=g.Long.fromValue(a.intValue)).unsigned=!1:"string"==typeof a.intValue?b.intValue=parseInt(a.intValue,10):"number"==typeof a.intValue?b.intValue=a.intValue:"object"==typeof a.intValue&&(b.intValue=new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber())),null!=a.doubleValue&&(b.doubleValue=Number(a.doubleValue)),null!=a.arrayValue){if("object"!=typeof a.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");b.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.fromObject(a.arrayValue)}if(null!=a.kvlistValue){if("object"!=typeof a.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");b.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.fromObject(a.kvlistValue)}return null!=a.bytesValue&&("string"==typeof a.bytesValue?g.base64.decode(a.bytesValue,b.bytesValue=g.newBuffer(g.base64.length(a.bytesValue)),0):a.bytesValue.length>=0&&(b.bytesValue=a.bytesValue)),b},b.toObject=function(a,b){b||(b={});var c={};return null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(c.stringValue=a.stringValue,b.oneofs&&(c.value="stringValue")),null!=a.boolValue&&a.hasOwnProperty("boolValue")&&(c.boolValue=a.boolValue,b.oneofs&&(c.value="boolValue")),null!=a.intValue&&a.hasOwnProperty("intValue")&&("number"==typeof a.intValue?c.intValue=b.longs===String?String(a.intValue):a.intValue:c.intValue=b.longs===String?g.Long.prototype.toString.call(a.intValue):b.longs===Number?new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber():a.intValue,b.oneofs&&(c.value="intValue")),null!=a.doubleValue&&a.hasOwnProperty("doubleValue")&&(c.doubleValue=b.json&&!isFinite(a.doubleValue)?String(a.doubleValue):a.doubleValue,b.oneofs&&(c.value="doubleValue")),null!=a.arrayValue&&a.hasOwnProperty("arrayValue")&&(c.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.toObject(a.arrayValue,b),b.oneofs&&(c.value="arrayValue")),null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")&&(c.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.toObject(a.kvlistValue,b),b.oneofs&&(c.value="kvlistValue")),null!=a.bytesValue&&a.hasOwnProperty("bytesValue")&&(c.bytesValue=b.bytes===String?g.base64.encode(a.bytesValue,0,a.bytesValue.length):b.bytes===Array?Array.prototype.slice.call(a.bytesValue):a.bytesValue,b.oneofs&&(c.value="bytesValue")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.AnyValue"},b}(),a.ArrayValue=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.AnyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.ArrayValue;a.pos<c;){var f=a.uint32();f>>>3==1?(d.values&&d.values.length||(d.values=[]),d.values.push(h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.AnyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.ArrayValue)return a;var b=new h.opentelemetry.proto.common.v1.ArrayValue;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.ArrayValue"},a}(),a.KeyValueList=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.KeyValueList;a.pos<c;){var f=a.uint32();f>>>3==1?(d.values&&d.values.length||(d.values=[]),d.values.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValueList)return a;var b=new h.opentelemetry.proto.common.v1.KeyValueList;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValueList"},a}(),a.KeyValue=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.key=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.key&&Object.hasOwnProperty.call(a,"key")&&b.uint32(10).string(a.key),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.value,b.uint32(18).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.KeyValue;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.key=a.string();break;case 2:d.value=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.key&&a.hasOwnProperty("key")&&!g.isString(a.key))return"key: string expected";if(null!=a.value&&a.hasOwnProperty("value")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.value);if(b)return"value."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValue)return a;var b=new h.opentelemetry.proto.common.v1.KeyValue;if(null!=a.key&&(b.key=String(a.key)),null!=a.value){if("object"!=typeof a.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");b.value=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.value)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.key="",c.value=null),null!=a.key&&a.hasOwnProperty("key")&&(c.key=a.key),null!=a.value&&a.hasOwnProperty("value")&&(c.value=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.value,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValue"},a}(),a.InstrumentationScope=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.name=null,a.prototype.version=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.version&&Object.hasOwnProperty.call(a,"version")&&b.uint32(18).string(a.version),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.InstrumentationScope;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.name=a.string();break;case 2:d.version=a.string();break;case 3:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.version&&a.hasOwnProperty("version")&&!g.isString(a.version))return"version: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.InstrumentationScope)return a;var b=new h.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=a.name&&(b.name=String(a.name)),null!=a.version&&(b.version=String(a.version)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.version&&a.hasOwnProperty("version")&&(c.version=a.version),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.InstrumentationScope"},a}(),a}(),a}(),a.resource=function(){var a={};return a.v1=function(){var a={};return a.Resource=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(16).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.resource.v1.Resource;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.resource.v1.Resource)return a;var b=new h.opentelemetry.proto.resource.v1.Resource;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(c.droppedAttributesCount=0),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.resource.v1.Resource"},a}(),a}(),a}(),a.trace=function(){var a={};return a.v1=function(){var a={};return a.TracesData=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.TracesData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.TracesData)return a;var b=new h.opentelemetry.proto.trace.v1.TracesData;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.TracesData"},a}(),a.ResourceSpans=function(){function a(a){if(this.scopeSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeSpans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeSpans&&a.scopeSpans.length)for(var c=0;c<a.scopeSpans.length;++c)h.opentelemetry.proto.trace.v1.ScopeSpans.encode(a.scopeSpans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.ResourceSpans;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeSpans&&d.scopeSpans.length||(d.scopeSpans=[]),d.scopeSpans.push(h.opentelemetry.proto.trace.v1.ScopeSpans.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeSpans&&a.hasOwnProperty("scopeSpans")){if(!Array.isArray(a.scopeSpans))return"scopeSpans: array expected";for(var c=0;c<a.scopeSpans.length;++c){var b=h.opentelemetry.proto.trace.v1.ScopeSpans.verify(a.scopeSpans[c]);if(b)return"scopeSpans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ResourceSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeSpans){if(!Array.isArray(a.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");b.scopeSpans=[];for(var c=0;c<a.scopeSpans.length;++c){if("object"!=typeof a.scopeSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");b.scopeSpans[c]=h.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(a.scopeSpans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeSpans=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeSpans&&a.scopeSpans.length){c.scopeSpans=[];for(var d=0;d<a.scopeSpans.length;++d)c.scopeSpans[d]=h.opentelemetry.proto.trace.v1.ScopeSpans.toObject(a.scopeSpans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ResourceSpans"},a}(),a.ScopeSpans=function(){function a(a){if(this.spans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.spans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.spans&&a.spans.length)for(var c=0;c<a.spans.length;++c)h.opentelemetry.proto.trace.v1.Span.encode(a.spans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.ScopeSpans;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.spans&&d.spans.length||(d.spans=[]),d.spans.push(h.opentelemetry.proto.trace.v1.Span.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.spans&&a.hasOwnProperty("spans")){if(!Array.isArray(a.spans))return"spans: array expected";for(var c=0;c<a.spans.length;++c){var b=h.opentelemetry.proto.trace.v1.Span.verify(a.spans[c]);if(b)return"spans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ScopeSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.spans){if(!Array.isArray(a.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");b.spans=[];for(var c=0;c<a.spans.length;++c){if("object"!=typeof a.spans[c])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");b.spans[c]=h.opentelemetry.proto.trace.v1.Span.fromObject(a.spans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.spans=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.spans&&a.spans.length){c.spans=[];for(var d=0;d<a.spans.length;++d)c.spans[d]=h.opentelemetry.proto.trace.v1.Span.toObject(a.spans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ScopeSpans"},a}(),a.Span=function(){function a(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.parentSpanId=null,a.prototype.name=null,a.prototype.kind=null,a.prototype.startTimeUnixNano=null,a.prototype.endTimeUnixNano=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.events=g.emptyArray,a.prototype.droppedEventsCount=null,a.prototype.links=g.emptyArray,a.prototype.droppedLinksCount=null,a.prototype.status=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.parentSpanId&&Object.hasOwnProperty.call(a,"parentSpanId")&&b.uint32(34).bytes(a.parentSpanId),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(42).string(a.name),null!=a.kind&&Object.hasOwnProperty.call(a,"kind")&&b.uint32(48).int32(a.kind),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(57).fixed64(a.startTimeUnixNano),null!=a.endTimeUnixNano&&Object.hasOwnProperty.call(a,"endTimeUnixNano")&&b.uint32(65).fixed64(a.endTimeUnixNano),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();if(null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(80).uint32(a.droppedAttributesCount),null!=a.events&&a.events.length)for(var c=0;c<a.events.length;++c)h.opentelemetry.proto.trace.v1.Span.Event.encode(a.events[c],b.uint32(90).fork()).ldelim();if(null!=a.droppedEventsCount&&Object.hasOwnProperty.call(a,"droppedEventsCount")&&b.uint32(96).uint32(a.droppedEventsCount),null!=a.links&&a.links.length)for(var c=0;c<a.links.length;++c)h.opentelemetry.proto.trace.v1.Span.Link.encode(a.links[c],b.uint32(106).fork()).ldelim();return null!=a.droppedLinksCount&&Object.hasOwnProperty.call(a,"droppedLinksCount")&&b.uint32(112).uint32(a.droppedLinksCount),null!=a.status&&Object.hasOwnProperty.call(a,"status")&&h.opentelemetry.proto.trace.v1.Status.encode(a.status,b.uint32(122).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.traceId=a.bytes();break;case 2:d.spanId=a.bytes();break;case 3:d.traceState=a.string();break;case 4:d.parentSpanId=a.bytes();break;case 5:d.name=a.string();break;case 6:d.kind=a.int32();break;case 7:d.startTimeUnixNano=a.fixed64();break;case 8:d.endTimeUnixNano=a.fixed64();break;case 9:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 10:d.droppedAttributesCount=a.uint32();break;case 11:d.events&&d.events.length||(d.events=[]),d.events.push(h.opentelemetry.proto.trace.v1.Span.Event.decode(a,a.uint32()));break;case 12:d.droppedEventsCount=a.uint32();break;case 13:d.links&&d.links.length||(d.links=[]),d.links.push(h.opentelemetry.proto.trace.v1.Span.Link.decode(a,a.uint32()));break;case 14:d.droppedLinksCount=a.uint32();break;case 15:d.status=h.opentelemetry.proto.trace.v1.Status.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&!(a.parentSpanId&&"number"==typeof a.parentSpanId.length||g.isString(a.parentSpanId)))return"parentSpanId: buffer expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.kind&&a.hasOwnProperty("kind"))switch(a.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&!g.isInteger(a.endTimeUnixNano)&&!(a.endTimeUnixNano&&g.isInteger(a.endTimeUnixNano.low)&&g.isInteger(a.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=a.events&&a.hasOwnProperty("events")){if(!Array.isArray(a.events))return"events: array expected";for(var b=0;b<a.events.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Event.verify(a.events[b]);if(c)return"events."+c}}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&!g.isInteger(a.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=a.links&&a.hasOwnProperty("links")){if(!Array.isArray(a.links))return"links: array expected";for(var b=0;b<a.links.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Link.verify(a.links[b]);if(c)return"links."+c}}if(null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&!g.isInteger(a.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=a.status&&a.hasOwnProperty("status")){var c=h.opentelemetry.proto.trace.v1.Status.verify(a.status);if(c)return"status."+c}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span)return a;var b=new h.opentelemetry.proto.trace.v1.Span;switch(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),null!=a.parentSpanId&&("string"==typeof a.parentSpanId?g.base64.decode(a.parentSpanId,b.parentSpanId=g.newBuffer(g.base64.length(a.parentSpanId)),0):a.parentSpanId.length>=0&&(b.parentSpanId=a.parentSpanId)),null!=a.name&&(b.name=String(a.name)),a.kind){default:"number"==typeof a.kind&&(b.kind=a.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:b.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:b.kind=1;break;case"SPAN_KIND_SERVER":case 2:b.kind=2;break;case"SPAN_KIND_CLIENT":case 3:b.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:b.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:b.kind=5}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.endTimeUnixNano&&(g.Long?(b.endTimeUnixNano=g.Long.fromValue(a.endTimeUnixNano)).unsigned=!1:"string"==typeof a.endTimeUnixNano?b.endTimeUnixNano=parseInt(a.endTimeUnixNano,10):"number"==typeof a.endTimeUnixNano?b.endTimeUnixNano=a.endTimeUnixNano:"object"==typeof a.endTimeUnixNano&&(b.endTimeUnixNano=new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber())),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),a.events){if(!Array.isArray(a.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");b.events=[];for(var c=0;c<a.events.length;++c){if("object"!=typeof a.events[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");b.events[c]=h.opentelemetry.proto.trace.v1.Span.Event.fromObject(a.events[c])}}if(null!=a.droppedEventsCount&&(b.droppedEventsCount=a.droppedEventsCount>>>0),a.links){if(!Array.isArray(a.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");b.links=[];for(var c=0;c<a.links.length;++c){if("object"!=typeof a.links[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");b.links[c]=h.opentelemetry.proto.trace.v1.Span.Link.fromObject(a.links[c])}}if(null!=a.droppedLinksCount&&(b.droppedLinksCount=a.droppedLinksCount>>>0),null!=a.status){if("object"!=typeof a.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");b.status=h.opentelemetry.proto.trace.v1.Status.fromObject(a.status)}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.events=[],c.links=[]),b.defaults){if(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",b.bytes===String?c.parentSpanId="":(c.parentSpanId=[],b.bytes!==Array&&(c.parentSpanId=g.newBuffer(c.parentSpanId))),c.name="",c.kind=b.enums===String?"SPAN_KIND_UNSPECIFIED":0,g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.endTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.endTimeUnixNano=b.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null}if(null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&(c.parentSpanId=b.bytes===String?g.base64.encode(a.parentSpanId,0,a.parentSpanId.length):b.bytes===Array?Array.prototype.slice.call(a.parentSpanId):a.parentSpanId),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.kind&&a.hasOwnProperty("kind")&&(c.kind=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]?a.kind:h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]:a.kind),null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&("number"==typeof a.endTimeUnixNano?c.endTimeUnixNano=b.longs===String?String(a.endTimeUnixNano):a.endTimeUnixNano:c.endTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.endTimeUnixNano):b.longs===Number?new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber():a.endTimeUnixNano),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),a.events&&a.events.length){c.events=[];for(var e=0;e<a.events.length;++e)c.events[e]=h.opentelemetry.proto.trace.v1.Span.Event.toObject(a.events[e],b)}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=a.droppedEventsCount),a.links&&a.links.length){c.links=[];for(var e=0;e<a.links.length;++e)c.links[e]=h.opentelemetry.proto.trace.v1.Span.Link.toObject(a.links[e],b)}return null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=a.droppedLinksCount),null!=a.status&&a.hasOwnProperty("status")&&(c.status=h.opentelemetry.proto.trace.v1.Status.toObject(a.status,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span"},a.SpanKind=function(){var a={},b=Object.create(a);return b[a[0]="SPAN_KIND_UNSPECIFIED"]=0,b[a[1]="SPAN_KIND_INTERNAL"]=1,b[a[2]="SPAN_KIND_SERVER"]=2,b[a[3]="SPAN_KIND_CLIENT"]=3,b[a[4]="SPAN_KIND_PRODUCER"]=4,b[a[5]="SPAN_KIND_CONSUMER"]=5,b}(),a.Event=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(18).string(a.name),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span.Event;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.timeUnixNano=a.fixed64();break;case 2:d.name=a.string();break;case 3:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Event)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Event;if(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.name&&(b.name=String(a.name)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),a.Link=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(34).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(40).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span.Link;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.traceId=a.bytes();break;case 2:d.spanId=a.bytes();break;case 3:d.traceState=a.string();break;case 4:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 5:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Link)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Link;if(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),a}(),a.Status=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.message=null,a.prototype.code=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.message&&Object.hasOwnProperty.call(a,"message")&&b.uint32(18).string(a.message),null!=a.code&&Object.hasOwnProperty.call(a,"code")&&b.uint32(24).int32(a.code),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Status;a.pos<c;){var f=a.uint32();switch(f>>>3){case 2:d.message=a.string();break;case 3:d.code=a.int32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.message&&a.hasOwnProperty("message")&&!g.isString(a.message))return"message: string expected";if(null!=a.code&&a.hasOwnProperty("code"))switch(a.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Status)return a;var b=new h.opentelemetry.proto.trace.v1.Status;switch(null!=a.message&&(b.message=String(a.message)),a.code){default:"number"==typeof a.code&&(b.code=a.code);break;case"STATUS_CODE_UNSET":case 0:b.code=0;break;case"STATUS_CODE_OK":case 1:b.code=1;break;case"STATUS_CODE_ERROR":case 2:b.code=2}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.message="",c.code=b.enums===String?"STATUS_CODE_UNSET":0),null!=a.message&&a.hasOwnProperty("message")&&(c.message=a.message),null!=a.code&&a.hasOwnProperty("code")&&(c.code=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]?a.code:h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]:a.code),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Status"},a.StatusCode=function(){var a={},b=Object.create(a);return b[a[0]="STATUS_CODE_UNSET"]=0,b[a[1]="STATUS_CODE_OK"]=1,b[a[2]="STATUS_CODE_ERROR"]=2,b}(),a}(),a}(),a}(),a.collector=function(){var a={};return a.trace=function(){var a={};return a.v1=function(){var a={};return a.TraceService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportTraceServiceRequest=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),a.ExportTraceServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),a.ExportTracePartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedSpans&&Object.hasOwnProperty.call(a,"rejectedSpans")&&b.uint32(8).int64(a.rejectedSpans),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedSpans=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&!g.isInteger(a.rejectedSpans)&&!(a.rejectedSpans&&g.isInteger(a.rejectedSpans.low)&&g.isInteger(a.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=a.rejectedSpans&&(g.Long?(b.rejectedSpans=g.Long.fromValue(a.rejectedSpans)).unsigned=!1:"string"==typeof a.rejectedSpans?b.rejectedSpans=parseInt(a.rejectedSpans,10):"number"==typeof a.rejectedSpans?b.rejectedSpans=a.rejectedSpans:"object"==typeof a.rejectedSpans&&(b.rejectedSpans=new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedSpans=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedSpans=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&("number"==typeof a.rejectedSpans?c.rejectedSpans=b.longs===String?String(a.rejectedSpans):a.rejectedSpans:c.rejectedSpans=b.longs===String?g.Long.prototype.toString.call(a.rejectedSpans):b.longs===Number?new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber():a.rejectedSpans),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),a}(),a}(),a.metrics=function(){var a={};return a.v1=function(){var a={};return a.MetricsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportMetricsServiceRequest=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),a.ExportMetricsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),a.ExportMetricsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedDataPoints&&Object.hasOwnProperty.call(a,"rejectedDataPoints")&&b.uint32(8).int64(a.rejectedDataPoints),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedDataPoints=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&!g.isInteger(a.rejectedDataPoints)&&!(a.rejectedDataPoints&&g.isInteger(a.rejectedDataPoints.low)&&g.isInteger(a.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=a.rejectedDataPoints&&(g.Long?(b.rejectedDataPoints=g.Long.fromValue(a.rejectedDataPoints)).unsigned=!1:"string"==typeof a.rejectedDataPoints?b.rejectedDataPoints=parseInt(a.rejectedDataPoints,10):"number"==typeof a.rejectedDataPoints?b.rejectedDataPoints=a.rejectedDataPoints:"object"==typeof a.rejectedDataPoints&&(b.rejectedDataPoints=new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedDataPoints=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedDataPoints=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&("number"==typeof a.rejectedDataPoints?c.rejectedDataPoints=b.longs===String?String(a.rejectedDataPoints):a.rejectedDataPoints:c.rejectedDataPoints=b.longs===String?g.Long.prototype.toString.call(a.rejectedDataPoints):b.longs===Number?new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber():a.rejectedDataPoints),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),a}(),a}(),a.logs=function(){var a={};return a.v1=function(){var a={};return a.LogsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportLogsServiceRequest=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),a.ExportLogsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),a.ExportLogsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedLogRecords&&Object.hasOwnProperty.call(a,"rejectedLogRecords")&&b.uint32(8).int64(a.rejectedLogRecords),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedLogRecords=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&!g.isInteger(a.rejectedLogRecords)&&!(a.rejectedLogRecords&&g.isInteger(a.rejectedLogRecords.low)&&g.isInteger(a.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=a.rejectedLogRecords&&(g.Long?(b.rejectedLogRecords=g.Long.fromValue(a.rejectedLogRecords)).unsigned=!1:"string"==typeof a.rejectedLogRecords?b.rejectedLogRecords=parseInt(a.rejectedLogRecords,10):"number"==typeof a.rejectedLogRecords?b.rejectedLogRecords=a.rejectedLogRecords:"object"==typeof a.rejectedLogRecords&&(b.rejectedLogRecords=new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedLogRecords=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedLogRecords=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&("number"==typeof a.rejectedLogRecords?c.rejectedLogRecords=b.longs===String?String(a.rejectedLogRecords):a.rejectedLogRecords:c.rejectedLogRecords=b.longs===String?g.Long.prototype.toString.call(a.rejectedLogRecords):b.longs===Number?new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber():a.rejectedLogRecords),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),a}(),a}(),a}(),a.metrics=function(){var a={};return a.v1=function(){var a={};return a.MetricsData=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.MetricsData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.MetricsData)return a;var b=new h.opentelemetry.proto.metrics.v1.MetricsData;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.MetricsData"},a}(),a.ResourceMetrics=function(){function a(a){if(this.scopeMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeMetrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeMetrics&&a.scopeMetrics.length)for(var c=0;c<a.scopeMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(a.scopeMetrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeMetrics&&d.scopeMetrics.length||(d.scopeMetrics=[]),d.scopeMetrics.push(h.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeMetrics&&a.hasOwnProperty("scopeMetrics")){if(!Array.isArray(a.scopeMetrics))return"scopeMetrics: array expected";for(var c=0;c<a.scopeMetrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(a.scopeMetrics[c]);if(b)return"scopeMetrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ResourceMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeMetrics){if(!Array.isArray(a.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");b.scopeMetrics=[];for(var c=0;c<a.scopeMetrics.length;++c){if("object"!=typeof a.scopeMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");b.scopeMetrics[c]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(a.scopeMetrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeMetrics=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeMetrics&&a.scopeMetrics.length){c.scopeMetrics=[];for(var d=0;d<a.scopeMetrics.length;++d)c.scopeMetrics[d]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(a.scopeMetrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},a}(),a.ScopeMetrics=function(){function a(a){if(this.metrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.metrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.metrics&&a.metrics.length)for(var c=0;c<a.metrics.length;++c)h.opentelemetry.proto.metrics.v1.Metric.encode(a.metrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.metrics&&d.metrics.length||(d.metrics=[]),d.metrics.push(h.opentelemetry.proto.metrics.v1.Metric.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.metrics&&a.hasOwnProperty("metrics")){if(!Array.isArray(a.metrics))return"metrics: array expected";for(var c=0;c<a.metrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.Metric.verify(a.metrics[c]);if(b)return"metrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ScopeMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.metrics){if(!Array.isArray(a.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");b.metrics=[];for(var c=0;c<a.metrics.length;++c){if("object"!=typeof a.metrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");b.metrics[c]=h.opentelemetry.proto.metrics.v1.Metric.fromObject(a.metrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.metrics=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.metrics&&a.metrics.length){c.metrics=[];for(var d=0;d<a.metrics.length;++d)c.metrics[d]=h.opentelemetry.proto.metrics.v1.Metric.toObject(a.metrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},a}(),a.Metric=function(){var a;function b(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.name=null,b.prototype.description=null,b.prototype.unit=null,b.prototype.gauge=null,b.prototype.sum=null,b.prototype.histogram=null,b.prototype.exponentialHistogram=null,b.prototype.summary=null,Object.defineProperty(b.prototype,"data",{get:g.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){return b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.description&&Object.hasOwnProperty.call(a,"description")&&b.uint32(18).string(a.description),null!=a.unit&&Object.hasOwnProperty.call(a,"unit")&&b.uint32(26).string(a.unit),null!=a.gauge&&Object.hasOwnProperty.call(a,"gauge")&&h.opentelemetry.proto.metrics.v1.Gauge.encode(a.gauge,b.uint32(42).fork()).ldelim(),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&h.opentelemetry.proto.metrics.v1.Sum.encode(a.sum,b.uint32(58).fork()).ldelim(),null!=a.histogram&&Object.hasOwnProperty.call(a,"histogram")&&h.opentelemetry.proto.metrics.v1.Histogram.encode(a.histogram,b.uint32(74).fork()).ldelim(),null!=a.exponentialHistogram&&Object.hasOwnProperty.call(a,"exponentialHistogram")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(a.exponentialHistogram,b.uint32(82).fork()).ldelim(),null!=a.summary&&Object.hasOwnProperty.call(a,"summary")&&h.opentelemetry.proto.metrics.v1.Summary.encode(a.summary,b.uint32(90).fork()).ldelim(),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Metric;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.name=a.string();break;case 2:d.description=a.string();break;case 3:d.unit=a.string();break;case 5:d.gauge=h.opentelemetry.proto.metrics.v1.Gauge.decode(a,a.uint32());break;case 7:d.sum=h.opentelemetry.proto.metrics.v1.Sum.decode(a,a.uint32());break;case 9:d.histogram=h.opentelemetry.proto.metrics.v1.Histogram.decode(a,a.uint32());break;case 10:d.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(a,a.uint32());break;case 11:d.summary=h.opentelemetry.proto.metrics.v1.Summary.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.description&&a.hasOwnProperty("description")&&!g.isString(a.description))return"description: string expected";if(null!=a.unit&&a.hasOwnProperty("unit")&&!g.isString(a.unit))return"unit: string expected";if(null!=a.gauge&&a.hasOwnProperty("gauge")){b.data=1;var c=h.opentelemetry.proto.metrics.v1.Gauge.verify(a.gauge);if(c)return"gauge."+c}if(null!=a.sum&&a.hasOwnProperty("sum")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Sum.verify(a.sum);if(c)return"sum."+c}if(null!=a.histogram&&a.hasOwnProperty("histogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Histogram.verify(a.histogram);if(c)return"histogram."+c}if(null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(a.exponentialHistogram);if(c)return"exponentialHistogram."+c}if(null!=a.summary&&a.hasOwnProperty("summary")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Summary.verify(a.summary);if(c)return"summary."+c}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Metric)return a;var b=new h.opentelemetry.proto.metrics.v1.Metric;if(null!=a.name&&(b.name=String(a.name)),null!=a.description&&(b.description=String(a.description)),null!=a.unit&&(b.unit=String(a.unit)),null!=a.gauge){if("object"!=typeof a.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");b.gauge=h.opentelemetry.proto.metrics.v1.Gauge.fromObject(a.gauge)}if(null!=a.sum){if("object"!=typeof a.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");b.sum=h.opentelemetry.proto.metrics.v1.Sum.fromObject(a.sum)}if(null!=a.histogram){if("object"!=typeof a.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");b.histogram=h.opentelemetry.proto.metrics.v1.Histogram.fromObject(a.histogram)}if(null!=a.exponentialHistogram){if("object"!=typeof a.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");b.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(a.exponentialHistogram)}if(null!=a.summary){if("object"!=typeof a.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");b.summary=h.opentelemetry.proto.metrics.v1.Summary.fromObject(a.summary)}return b},b.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.name="",c.description="",c.unit=""),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.description&&a.hasOwnProperty("description")&&(c.description=a.description),null!=a.unit&&a.hasOwnProperty("unit")&&(c.unit=a.unit),null!=a.gauge&&a.hasOwnProperty("gauge")&&(c.gauge=h.opentelemetry.proto.metrics.v1.Gauge.toObject(a.gauge,b),b.oneofs&&(c.data="gauge")),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=h.opentelemetry.proto.metrics.v1.Sum.toObject(a.sum,b),b.oneofs&&(c.data="sum")),null!=a.histogram&&a.hasOwnProperty("histogram")&&(c.histogram=h.opentelemetry.proto.metrics.v1.Histogram.toObject(a.histogram,b),b.oneofs&&(c.data="histogram")),null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(a.exponentialHistogram,b),b.oneofs&&(c.data="exponentialHistogram")),null!=a.summary&&a.hasOwnProperty("summary")&&(c.summary=h.opentelemetry.proto.metrics.v1.Summary.toObject(a.summary,b),b.oneofs&&(c.data="summary")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Metric"},b}(),a.Gauge=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Gauge;a.pos<c;){var f=a.uint32();f>>>3==1?(d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Gauge)return a;var b=new h.opentelemetry.proto.metrics.v1.Gauge;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Gauge"},a}(),a.Sum=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.prototype.isMonotonic=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),null!=a.isMonotonic&&Object.hasOwnProperty.call(a,"isMonotonic")&&b.uint32(24).bool(a.isMonotonic),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Sum;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;case 3:d.isMonotonic=a.bool();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&"boolean"!=typeof a.isMonotonic?"isMonotonic: boolean expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Sum)return a;var b=new h.opentelemetry.proto.metrics.v1.Sum;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return null!=a.isMonotonic&&(b.isMonotonic=!!a.isMonotonic),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=!1),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&(c.isMonotonic=a.isMonotonic),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Sum"},a}(),a.Histogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Histogram;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Histogram)return a;var b=new h.opentelemetry.proto.metrics.v1.Histogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Histogram"},a}(),a.ExponentialHistogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogram)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},a}(),a.Summary=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Summary;a.pos<c;){var f=a.uint32();f>>>3==1?(d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Summary)return a;var b=new h.opentelemetry.proto.metrics.v1.Summary;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Summary"},a}(),a.AggregationTemporality=function(){var a={},b=Object.create(a);return b[a[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,b[a[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,b[a[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,b}(),a.DataPointFlags=function(){var a={},b=Object.create(a);return b[a[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,b[a[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,b}(),a.NumberDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(33).double(a.asDouble),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(42).fork()).ldelim();if(null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.asDouble=a.double();break;case 6:d.asInt=a.sfixed64();break;case 5:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 8:d.flags=a.uint32();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.NumberDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},b}(),a.HistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.bucketCounts=g.emptyArray,b.prototype.explicitBounds=g.emptyArray,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,b.prototype.min=null,b.prototype.max=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(50).fork();for(var c=0;c<a.bucketCounts.length;++c)b.fixed64(a.bucketCounts[c]);b.ldelim()}if(null!=a.explicitBounds&&a.explicitBounds.length){b.uint32(58).fork();for(var c=0;c<a.explicitBounds.length;++c)b.double(a.explicitBounds[c]);b.ldelim()}if(null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(66).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(89).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(97).double(a.max),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 9:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.bucketCounts.push(a.fixed64());else d.bucketCounts.push(a.fixed64());break;case 7:if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.explicitBounds.push(a.double());else d.explicitBounds.push(a.double());break;case 8:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 10:d.flags=a.uint32();break;case 11:d.min=a.double();break;case 12:d.max=a.double();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<a.bucketCounts.length;++c)if(!g.isInteger(a.bucketCounts[c])&&!(a.bucketCounts[c]&&g.isInteger(a.bucketCounts[c].low)&&g.isInteger(a.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(null!=a.explicitBounds&&a.hasOwnProperty("explicitBounds")){if(!Array.isArray(a.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<a.explicitBounds.length;++c)if("number"!=typeof a.explicitBounds[c])return"explicitBounds: number[] expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.HistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!1:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber())}if(a.explicitBounds){if(!Array.isArray(a.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");b.explicitBounds=[];for(var c=0;c<a.explicitBounds.length;++c)b.explicitBounds[c]=Number(a.explicitBounds[c])}if(a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var e=0;e<a.bucketCounts.length;++e)"number"==typeof a.bucketCounts[e]?c.bucketCounts[e]=b.longs===String?String(a.bucketCounts[e]):a.bucketCounts[e]:c.bucketCounts[e]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[e]):b.longs===Number?new g.LongBits(a.bucketCounts[e].low>>>0,a.bucketCounts[e].high>>>0).toNumber():a.bucketCounts[e]}if(a.explicitBounds&&a.explicitBounds.length){c.explicitBounds=[];for(var e=0;e<a.explicitBounds.length;++e)c.explicitBounds[e]=b.json&&!isFinite(a.explicitBounds[e])?String(a.explicitBounds[e]):a.explicitBounds[e]}if(a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},b}(),a.ExponentialHistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.scale=null,b.prototype.zeroCount=null,b.prototype.positive=null,b.prototype.negative=null,b.prototype.flags=null,b.prototype.exemplars=g.emptyArray,b.prototype.min=null,b.prototype.max=null,b.prototype.zeroThreshold=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();if(null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.scale&&Object.hasOwnProperty.call(a,"scale")&&b.uint32(48).sint32(a.scale),null!=a.zeroCount&&Object.hasOwnProperty.call(a,"zeroCount")&&b.uint32(57).fixed64(a.zeroCount),null!=a.positive&&Object.hasOwnProperty.call(a,"positive")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.positive,b.uint32(66).fork()).ldelim(),null!=a.negative&&Object.hasOwnProperty.call(a,"negative")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.negative,b.uint32(74).fork()).ldelim(),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(90).fork()).ldelim();return null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(97).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(105).double(a.max),null!=a.zeroThreshold&&Object.hasOwnProperty.call(a,"zeroThreshold")&&b.uint32(113).double(a.zeroThreshold),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:d.scale=a.sint32();break;case 7:d.zeroCount=a.fixed64();break;case 8:d.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 9:d.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 10:d.flags=a.uint32();break;case 11:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 12:d.min=a.double();break;case 13:d.max=a.double();break;case 14:d.zeroThreshold=a.double();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.scale&&a.hasOwnProperty("scale")&&!g.isInteger(a.scale))return"scale: integer expected";if(null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&!g.isInteger(a.zeroCount)&&!(a.zeroCount&&g.isInteger(a.zeroCount.low)&&g.isInteger(a.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=a.positive&&a.hasOwnProperty("positive")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.positive);if(d)return"positive."+d}if(null!=a.negative&&a.hasOwnProperty("negative")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.negative);if(d)return"negative."+d}if(null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags))return"flags: integer expected";if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&"number"!=typeof a.zeroThreshold?"zeroThreshold: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),null!=a.scale&&(b.scale=0|a.scale),null!=a.zeroCount&&(g.Long?(b.zeroCount=g.Long.fromValue(a.zeroCount)).unsigned=!1:"string"==typeof a.zeroCount?b.zeroCount=parseInt(a.zeroCount,10):"number"==typeof a.zeroCount?b.zeroCount=a.zeroCount:"object"==typeof a.zeroCount&&(b.zeroCount=new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber())),null!=a.positive){if("object"!=typeof a.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");b.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.positive)}if(null!=a.negative){if("object"!=typeof a.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");b.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.negative)}if(null!=a.flags&&(b.flags=a.flags>>>0),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),null!=a.zeroThreshold&&(b.zeroThreshold=Number(a.zeroThreshold)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.exemplars=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;if(c.scale=0,g.Long){var d=new g.Long(0,0,!1);c.zeroCount=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.zeroCount=b.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),null!=a.scale&&a.hasOwnProperty("scale")&&(c.scale=a.scale),null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&("number"==typeof a.zeroCount?c.zeroCount=b.longs===String?String(a.zeroCount):a.zeroCount:c.zeroCount=b.longs===String?g.Long.prototype.toString.call(a.zeroCount):b.longs===Number?new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber():a.zeroCount),null!=a.positive&&a.hasOwnProperty("positive")&&(c.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.positive,b)),null!=a.negative&&a.hasOwnProperty("negative")&&(c.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.negative,b)),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}return null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=b.json&&!isFinite(a.zeroThreshold)?String(a.zeroThreshold):a.zeroThreshold),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},b.Buckets=function(){function a(a){if(this.bucketCounts=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.offset=null,a.prototype.bucketCounts=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.offset&&Object.hasOwnProperty.call(a,"offset")&&b.uint32(8).sint32(a.offset),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(18).fork();for(var c=0;c<a.bucketCounts.length;++c)b.uint64(a.bucketCounts[c]);b.ldelim()}return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.offset=a.sint32();break;case 2:if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.bucketCounts.push(a.uint64());else d.bucketCounts.push(a.uint64());break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.offset&&a.hasOwnProperty("offset")&&!g.isInteger(a.offset))return"offset: integer expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var b=0;b<a.bucketCounts.length;++b)if(!g.isInteger(a.bucketCounts[b])&&!(a.bucketCounts[b]&&g.isInteger(a.bucketCounts[b].low)&&g.isInteger(a.bucketCounts[b].high)))return"bucketCounts: integer|Long[] expected"}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=a.offset&&(b.offset=0|a.offset),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!0:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber(!0))}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[]),b.defaults&&(c.offset=0),null!=a.offset&&a.hasOwnProperty("offset")&&(c.offset=a.offset),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var d=0;d<a.bucketCounts.length;++d)"number"==typeof a.bucketCounts[d]?c.bucketCounts[d]=b.longs===String?String(a.bucketCounts[d]):a.bucketCounts[d]:c.bucketCounts[d]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[d]):b.longs===Number?new g.LongBits(a.bucketCounts[d].low>>>0,a.bucketCounts[d].high>>>0).toNumber(!0):a.bucketCounts[d]}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},a}(),b}(),a.SummaryDataPoint=function(){function a(a){if(this.attributes=[],this.quantileValues=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.startTimeUnixNano=null,a.prototype.timeUnixNano=null,a.prototype.count=null,a.prototype.sum=null,a.prototype.quantileValues=g.emptyArray,a.prototype.flags=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.quantileValues&&a.quantileValues.length)for(var c=0;c<a.quantileValues.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(a.quantileValues[c],b.uint32(50).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:d.quantileValues&&d.quantileValues.length||(d.quantileValues=[]),d.quantileValues.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(a,a.uint32()));break;case 8:d.flags=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&"number"!=typeof a.sum)return"sum: number expected";if(null!=a.quantileValues&&a.hasOwnProperty("quantileValues")){if(!Array.isArray(a.quantileValues))return"quantileValues: array expected";for(var b=0;b<a.quantileValues.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(a.quantileValues[b]);if(c)return"quantileValues."+c}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.quantileValues){if(!Array.isArray(a.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");b.quantileValues=[];for(var c=0;c<a.quantileValues.length;++c){if("object"!=typeof a.quantileValues[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");b.quantileValues[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(a.quantileValues[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.quantileValues=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.sum=0,c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum),a.quantileValues&&a.quantileValues.length){c.quantileValues=[];for(var e=0;e<a.quantileValues.length;++e)c.quantileValues[e]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(a.quantileValues[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},a.ValueAtQuantile=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.quantile&&Object.hasOwnProperty.call(a,"quantile")&&b.uint32(9).double(a.quantile),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&b.uint32(17).double(a.value),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.quantile=a.double();break;case 2:d.value=a.double();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.quantile&&a.hasOwnProperty("quantile")&&"number"!=typeof a.quantile?"quantile: number expected":null!=a.value&&a.hasOwnProperty("value")&&"number"!=typeof a.value?"value: number expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=a.quantile&&(b.quantile=Number(a.quantile)),null!=a.value&&(b.value=Number(a.value)),b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.quantile=0,c.value=0),null!=a.quantile&&a.hasOwnProperty("quantile")&&(c.quantile=b.json&&!isFinite(a.quantile)?String(a.quantile):a.quantile),null!=a.value&&a.hasOwnProperty("value")&&(c.value=b.json&&!isFinite(a.value)?String(a.value):a.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),a}(),a.Exemplar=function(){var a;function b(a){if(this.filteredAttributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.filteredAttributes=g.emptyArray,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.spanId=null,b.prototype.traceId=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(17).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(25).double(a.asDouble),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(34).bytes(a.spanId),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(42).bytes(a.traceId),null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.filteredAttributes&&a.filteredAttributes.length)for(var c=0;c<a.filteredAttributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.filteredAttributes[c],b.uint32(58).fork()).ldelim();return b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Exemplar;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.timeUnixNano=a.fixed64();break;case 3:d.asDouble=a.double();break;case 6:d.asInt=a.sfixed64();break;case 4:d.spanId=a.bytes();break;case 5:d.traceId=a.bytes();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.filteredAttributes&&a.hasOwnProperty("filteredAttributes")){if(!Array.isArray(a.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<a.filteredAttributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.filteredAttributes[c]);if(d)return"filteredAttributes."+d}}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}return null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Exemplar)return a;var b=new h.opentelemetry.proto.metrics.v1.Exemplar;if(a.filteredAttributes){if(!Array.isArray(a.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");b.filteredAttributes=[];for(var c=0;c<a.filteredAttributes.length;++c){if("object"!=typeof a.filteredAttributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");b.filteredAttributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.filteredAttributes[c])}}return null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.filteredAttributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId)))}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.filteredAttributes&&a.filteredAttributes.length){c.filteredAttributes=[];for(var e=0;e<a.filteredAttributes.length;++e)c.filteredAttributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.filteredAttributes[e],b)}return c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Exemplar"},b}(),a}(),a}(),a.logs=function(){var a={};return a.v1=function(){var a={};return a.LogsData=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.LogsData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogsData)return a;var b=new h.opentelemetry.proto.logs.v1.LogsData;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogsData"},a}(),a.ResourceLogs=function(){function a(a){if(this.scopeLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeLogs=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeLogs&&a.scopeLogs.length)for(var c=0;c<a.scopeLogs.length;++c)h.opentelemetry.proto.logs.v1.ScopeLogs.encode(a.scopeLogs[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.ResourceLogs;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeLogs&&d.scopeLogs.length||(d.scopeLogs=[]),d.scopeLogs.push(h.opentelemetry.proto.logs.v1.ScopeLogs.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeLogs&&a.hasOwnProperty("scopeLogs")){if(!Array.isArray(a.scopeLogs))return"scopeLogs: array expected";for(var c=0;c<a.scopeLogs.length;++c){var b=h.opentelemetry.proto.logs.v1.ScopeLogs.verify(a.scopeLogs[c]);if(b)return"scopeLogs."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ResourceLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeLogs){if(!Array.isArray(a.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");b.scopeLogs=[];for(var c=0;c<a.scopeLogs.length;++c){if("object"!=typeof a.scopeLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");b.scopeLogs[c]=h.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(a.scopeLogs[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeLogs=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeLogs&&a.scopeLogs.length){c.scopeLogs=[];for(var d=0;d<a.scopeLogs.length;++d)c.scopeLogs[d]=h.opentelemetry.proto.logs.v1.ScopeLogs.toObject(a.scopeLogs[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ResourceLogs"},a}(),a.ScopeLogs=function(){function a(a){if(this.logRecords=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.logRecords=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.logRecords&&a.logRecords.length)for(var c=0;c<a.logRecords.length;++c)h.opentelemetry.proto.logs.v1.LogRecord.encode(a.logRecords[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.ScopeLogs;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.logRecords&&d.logRecords.length||(d.logRecords=[]),d.logRecords.push(h.opentelemetry.proto.logs.v1.LogRecord.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.logRecords&&a.hasOwnProperty("logRecords")){if(!Array.isArray(a.logRecords))return"logRecords: array expected";for(var c=0;c<a.logRecords.length;++c){var b=h.opentelemetry.proto.logs.v1.LogRecord.verify(a.logRecords[c]);if(b)return"logRecords."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ScopeLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.logRecords){if(!Array.isArray(a.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");b.logRecords=[];for(var c=0;c<a.logRecords.length;++c){if("object"!=typeof a.logRecords[c])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");b.logRecords[c]=h.opentelemetry.proto.logs.v1.LogRecord.fromObject(a.logRecords[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.logRecords=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.logRecords&&a.logRecords.length){c.logRecords=[];for(var d=0;d<a.logRecords.length;++d)c.logRecords[d]=h.opentelemetry.proto.logs.v1.LogRecord.toObject(a.logRecords[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ScopeLogs"},a}(),a.SeverityNumber=function(){var a={},b=Object.create(a);return b[a[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,b[a[1]="SEVERITY_NUMBER_TRACE"]=1,b[a[2]="SEVERITY_NUMBER_TRACE2"]=2,b[a[3]="SEVERITY_NUMBER_TRACE3"]=3,b[a[4]="SEVERITY_NUMBER_TRACE4"]=4,b[a[5]="SEVERITY_NUMBER_DEBUG"]=5,b[a[6]="SEVERITY_NUMBER_DEBUG2"]=6,b[a[7]="SEVERITY_NUMBER_DEBUG3"]=7,b[a[8]="SEVERITY_NUMBER_DEBUG4"]=8,b[a[9]="SEVERITY_NUMBER_INFO"]=9,b[a[10]="SEVERITY_NUMBER_INFO2"]=10,b[a[11]="SEVERITY_NUMBER_INFO3"]=11,b[a[12]="SEVERITY_NUMBER_INFO4"]=12,b[a[13]="SEVERITY_NUMBER_WARN"]=13,b[a[14]="SEVERITY_NUMBER_WARN2"]=14,b[a[15]="SEVERITY_NUMBER_WARN3"]=15,b[a[16]="SEVERITY_NUMBER_WARN4"]=16,b[a[17]="SEVERITY_NUMBER_ERROR"]=17,b[a[18]="SEVERITY_NUMBER_ERROR2"]=18,b[a[19]="SEVERITY_NUMBER_ERROR3"]=19,b[a[20]="SEVERITY_NUMBER_ERROR4"]=20,b[a[21]="SEVERITY_NUMBER_FATAL"]=21,b[a[22]="SEVERITY_NUMBER_FATAL2"]=22,b[a[23]="SEVERITY_NUMBER_FATAL3"]=23,b[a[24]="SEVERITY_NUMBER_FATAL4"]=24,b}(),a.LogRecordFlags=function(){var a={},b=Object.create(a);return b[a[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,b[a[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,b}(),a.LogRecord=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.observedTimeUnixNano=null,a.prototype.severityNumber=null,a.prototype.severityText=null,a.prototype.body=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.prototype.traceId=null,a.prototype.spanId=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.severityNumber&&Object.hasOwnProperty.call(a,"severityNumber")&&b.uint32(16).int32(a.severityNumber),null!=a.severityText&&Object.hasOwnProperty.call(a,"severityText")&&b.uint32(26).string(a.severityText),null!=a.body&&Object.hasOwnProperty.call(a,"body")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.body,b.uint32(42).fork()).ldelim(),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(50).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(56).uint32(a.droppedAttributesCount),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(69).fixed32(a.flags),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(74).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(82).bytes(a.spanId),null!=a.observedTimeUnixNano&&Object.hasOwnProperty.call(a,"observedTimeUnixNano")&&b.uint32(89).fixed64(a.observedTimeUnixNano),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.LogRecord;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.timeUnixNano=a.fixed64();break;case 11:d.observedTimeUnixNano=a.fixed64();break;case 2:d.severityNumber=a.int32();break;case 3:d.severityText=a.string();break;case 5:d.body=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;case 6:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 7:d.droppedAttributesCount=a.uint32();break;case 8:d.flags=a.fixed32();break;case 9:d.traceId=a.bytes();break;case 10:d.spanId=a.bytes();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&!g.isInteger(a.observedTimeUnixNano)&&!(a.observedTimeUnixNano&&g.isInteger(a.observedTimeUnixNano.low)&&g.isInteger(a.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=a.severityNumber&&a.hasOwnProperty("severityNumber"))switch(a.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=a.severityText&&a.hasOwnProperty("severityText")&&!g.isString(a.severityText))return"severityText: string expected";if(null!=a.body&&a.hasOwnProperty("body")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.body);if(b)return"body."+b}if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var b=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(b)return"attributes."+b}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogRecord)return a;var b=new h.opentelemetry.proto.logs.v1.LogRecord;switch(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.observedTimeUnixNano&&(g.Long?(b.observedTimeUnixNano=g.Long.fromValue(a.observedTimeUnixNano)).unsigned=!1:"string"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=parseInt(a.observedTimeUnixNano,10):"number"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=a.observedTimeUnixNano:"object"==typeof a.observedTimeUnixNano&&(b.observedTimeUnixNano=new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber())),a.severityNumber){default:"number"==typeof a.severityNumber&&(b.severityNumber=a.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:b.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:b.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:b.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:b.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:b.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:b.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:b.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:b.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:b.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:b.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:b.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:b.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:b.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:b.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:b.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:b.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:b.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:b.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:b.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:b.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:b.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:b.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:b.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:b.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:b.severityNumber=24}if(null!=a.severityText&&(b.severityText=String(a.severityText)),null!=a.body){if("object"!=typeof a.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");b.body=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.body)}if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),null!=a.flags&&(b.flags=a.flags>>>0),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(c.severityNumber=b.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),g.Long){var d=new g.Long(0,0,!1);c.observedTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.observedTimeUnixNano=b.longs===String?"0":0}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.severityNumber&&a.hasOwnProperty("severityNumber")&&(c.severityNumber=b.enums===String?void 0===h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]?a.severityNumber:h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]:a.severityNumber),null!=a.severityText&&a.hasOwnProperty("severityText")&&(c.severityText=a.severityText),null!=a.body&&a.hasOwnProperty("body")&&(c.body=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.body,b)),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof a.observedTimeUnixNano?c.observedTimeUnixNano=b.longs===String?String(a.observedTimeUnixNano):a.observedTimeUnixNano:c.observedTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.observedTimeUnixNano):b.longs===Number?new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber():a.observedTimeUnixNano),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogRecord"},a}(),a}(),a}(),a}(),a}(),a.exports=h},41604:(a,b,c)=>{"use strict";let d;var e=c(8408),f=c(41082);let g=(a,b)=>({indentAtStart:b?a.indent.length:a.indentAtStart,lineWidth:a.options.lineWidth,minContentWidth:a.options.minContentWidth}),h=a=>/^(%|---|\.\.\.)/m.test(a);function i(a,b,c){if(!b||b<0)return!1;let d=b-c,e=a.length;if(e<=d)return!1;for(let b=0,c=0;b<e;++b)if("\n"===a[b]){if(b-c>d)return!0;if(e-(c=b+1)<=d)return!1}return!0}function j(a,b){let c=JSON.stringify(a);if(b.options.doubleQuotedAsJSON)return c;let{implicitKey:d}=b,e=b.options.doubleQuotedMinMultiLineLength,i=b.indent||(h(a)?"  ":""),j="",k=0;for(let a=0,b=c[a];b;b=c[++a])if(" "===b&&"\\"===c[a+1]&&"n"===c[a+2]&&(j+=c.slice(k,a)+"\\ ",a+=1,k=a,b="\\"),"\\"===b)switch(c[a+1]){case"u":{j+=c.slice(k,a);let b=c.substr(a+2,4);switch(b){case"0000":j+="\\0";break;case"0007":j+="\\a";break;case"000b":j+="\\v";break;case"001b":j+="\\e";break;case"0085":j+="\\N";break;case"00a0":j+="\\_";break;case"2028":j+="\\L";break;case"2029":j+="\\P";break;default:"00"===b.substr(0,2)?j+="\\x"+b.substr(2):j+=c.substr(a,6)}a+=5,k=a+1}break;case"n":if(d||'"'===c[a+2]||c.length<e)a+=1;else{for(j+=c.slice(k,a)+"\n\n";"\\"===c[a+2]&&"n"===c[a+3]&&'"'!==c[a+4];)j+="\n",a+=2;j+=i," "===c[a+2]&&(j+="\\"),a+=1,k=a+1}break;default:a+=1}return j=k?j+c.slice(k):c,d?j:f.foldFlowLines(j,i,f.FOLD_QUOTED,g(b,!1))}function k(a,b){if(!1===b.options.singleQuote||b.implicitKey&&a.includes("\n")||/[ \t]\n|\n[ \t]/.test(a))return j(a,b);let c=b.indent||(h(a)?"  ":""),d="'"+a.replace(/'/g,"''").replace(/\n+/g,`$&
${c}`)+"'";return b.implicitKey?d:f.foldFlowLines(d,c,f.FOLD_FLOW,g(b,!1))}function l(a,b){let c,{singleQuote:d}=b.options;if(!1===d)c=j;else{let b=a.includes('"'),e=a.includes("'");c=b&&!e?k:e&&!b?j:d?k:j}return c(a,b)}try{d=RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{d=/\n+(?!\n|$)/g}function m({comment:a,type:b,value:c},j,k,m){let n,o,p,{blockQuote:q,commentString:r,lineWidth:s}=j.options;if(!q||/\n[\t ]+$/.test(c))return l(c,j);let t=j.indent||(j.forceBlockIndent||h(c)?"  ":""),u="literal"===q||"folded"!==q&&b!==e.Scalar.BLOCK_FOLDED&&(b===e.Scalar.BLOCK_LITERAL||!i(c,s,t.length));if(!c)return u?"|\n":">\n";for(o=c.length;o>0;--o){let a=c[o-1];if("\n"!==a&&"	"!==a&&" "!==a)break}let v=c.substring(o),w=v.indexOf("\n");-1===w?n="-":c===v||w!==v.length-1?(n="+",m&&m()):n="",v&&(c=c.slice(0,-v.length),"\n"===v[v.length-1]&&(v=v.slice(0,-1)),v=v.replace(d,`$&${t}`));let x=!1,y=-1;for(p=0;p<c.length;++p){let a=c[p];if(" "===a)x=!0;else if("\n"===a)y=p;else break}let z=c.substring(0,y<p?y+1:p);z&&(c=c.substring(z.length),z=z.replace(/\n+/g,`$&${t}`));let A=t?"2":"1",B=(x?A:"")+n;if(a&&(B+=" "+r(a.replace(/ ?[\r\n]+/g," ")),k&&k()),!u){let a=c.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${t}`),d=!1,h=g(j,!0);"folded"!==q&&b!==e.Scalar.BLOCK_FOLDED&&(h.onOverflow=()=>{d=!0});let i=f.foldFlowLines(`${z}${a}${v}`,t,f.FOLD_BLOCK,h);if(!d)return`>${B}
${t}${i}`}return c=c.replace(/\n+/g,`$&${t}`),`|${B}
${t}${z}${c}${v}`}function n(a,b,c,d){let{type:i,value:j}=a,{actualString:k,implicitKey:n,indent:o,indentStep:p,inFlow:q}=b;if(n&&j.includes("\n")||q&&/[[\]{},]/.test(j))return l(j,b);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(j))return n||q||!j.includes("\n")?l(j,b):m(a,b,c,d);if(!n&&!q&&i!==e.Scalar.PLAIN&&j.includes("\n"))return m(a,b,c,d);if(h(j)){if(""===o)return b.forceBlockIndent=!0,m(a,b,c,d);else if(n&&o===p)return l(j,b)}let r=j.replace(/\n+/g,`$&
${o}`);if(k){let a=a=>a.default&&"tag:yaml.org,2002:str"!==a.tag&&a.test?.test(r),{compat:c,tags:d}=b.doc.schema;if(d.some(a)||c?.some(a))return l(j,b)}return n?r:f.foldFlowLines(r,o,f.FOLD_FLOW,g(b,!1))}b.stringifyString=function(a,b,c,d){let{implicitKey:f,inFlow:g}=b,h="string"==typeof a.value?a:Object.assign({},a,{value:String(a.value)}),{type:i}=a;i!==e.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(h.value)&&(i=e.Scalar.QUOTE_DOUBLE);let o=a=>{switch(a){case e.Scalar.BLOCK_FOLDED:case e.Scalar.BLOCK_LITERAL:return f||g?l(h.value,b):m(h,b,c,d);case e.Scalar.QUOTE_DOUBLE:return j(h.value,b);case e.Scalar.QUOTE_SINGLE:return k(h.value,b);case e.Scalar.PLAIN:return n(h,b,c,d);default:return null}},p=o(i);if(null===p){let{defaultKeyType:a,defaultStringType:c}=b.options,d=f&&a||c;if(null===(p=o(d)))throw Error(`Unsupported default string type ${d}`)}return p}},41625:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>F,AlwaysOnSampler:()=>G,AnchoredClock:()=>f,BindOnceFuture:()=>W.I,CompositePropagator:()=>y.n,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>O.fv,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>O.aE,DEFAULT_ENVIRONMENT:()=>O.Uz,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>O.h9,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>O.V,ExportResultCode:()=>l.V,ParentBasedSampler:()=>K,RPCType:()=>d,RandomIdGenerator:()=>s,SDK_INFO:()=>w.q,TRACE_PARENT_HEADER:()=>z.ZS,TRACE_STATE_HEADER:()=>z.UD,TimeoutError:()=>R.M,TraceIdRatioBasedSampler:()=>L,TraceState:()=>N.n,TracesSamplerValues:()=>Q.R,VERSION:()=>X.x,W3CBaggagePropagator:()=>e.t,W3CTraceContextPropagator:()=>z.lm,_globalThis:()=>o,addHrTimes:()=>j.mw,baggageUtils:()=>m,callWithTimeout:()=>R.o,deleteRPCMetadata:()=>C,getEnv:()=>n._,getEnvWithoutDefaults:()=>n.w,getRPCMetadata:()=>D,getTimeOrigin:()=>j.uc,globalErrorHandler:()=>h.s,hexToBase64:()=>p,hexToBinary:()=>k.Q,hrTime:()=>j._5,hrTimeDuration:()=>j.W5,hrTimeToMicroseconds:()=>j.w_,hrTimeToMilliseconds:()=>j.JU,hrTimeToNanoseconds:()=>j.u5,hrTimeToTimeStamp:()=>j.tq,internal:()=>Z,isAttributeKey:()=>g.oU,isAttributeValue:()=>g.m,isTimeInput:()=>j.Ir,isTimeInputHrTime:()=>j.VL,isTracingSuppressed:()=>M.Zf,isUrlIgnored:()=>U,isWrapped:()=>V,loggingErrorHandler:()=>i.o,merge:()=>P.h,millisToHrTime:()=>j.lg,otperformance:()=>v.u,parseEnvironment:()=>O.Nq,parseTraceParent:()=>z.ZI,sanitizeAttributes:()=>g.L,setGlobalErrorHandler:()=>h.u,setRPCMetadata:()=>B,suppressTracing:()=>M.M1,timeInputToHrTime:()=>j.KJ,unrefTimer:()=>x.K,unsuppressTracing:()=>M.FU,urlMatches:()=>T});var d,e=c(69580),f=function(){function a(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}return a.prototype.now=function(){var a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a},a}(),g=c(32823),h=c(49127),i=c(89309),j=c(99591),k=c(61367),l=c(4875),m=c(24774),n=c(66336),o="object"==typeof globalThis?globalThis:global;function p(a){return Buffer.from((0,k.Q)(a)).toString("base64")}var q=8,r=16,s=function(){return function(){this.generateTraceId=u(r),this.generateSpanId=u(q)}}(),t=Buffer.allocUnsafe(r);function u(a){return function(){for(var b=0;b<a/4;b++)t.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(t[b]>0)break;else b===a-1&&(t[a-1]=1);return t.toString("hex",0,a)}}var v=c(27845),w=c(47314),x=c(36769),y=c(36008),z=c(51354),A=(0,c(76956).n)("OpenTelemetry SDK Context Key RPC_METADATA");function B(a,b){return a.setValue(A,b)}function C(a){return a.deleteValue(A)}function D(a){return a.getValue(A)}!function(a){a.HTTP="http"}(d||(d={}));var E=c(37425),F=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:E.i.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),G=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:E.i.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),H=c(88018),I=c(58746),J=c(54616),K=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||((0,h.s)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new G),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new G,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new F,this._localParentSampled=null!=(d=a.localParentSampled)?d:new G,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new F}return a.prototype.shouldSample=function(a,b,c,d,e,f){var g=H.u.getSpanContext(a);return g&&(0,I.YA)(g)?g.isRemote?g.traceFlags&J.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):g.traceFlags&J.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),L=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,I.hX)(b)&&this._accumulate(b)<this._upperBound?E.i.RECORD_AND_SAMPLED:E.i.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),M=c(81588),N=c(23733),O=c(37579),P=c(35025),Q=c(23615),R=c(24321),S=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function T(a,b){return"string"==typeof b?a===b:!!a.match(b)}function U(a,b){var c,d;if(!b)return!1;try{for(var e=S(b),f=e.next();!f.done;f=e.next()){var g=f.value;if(T(a,g))return!0}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!1}function V(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var W=c(51064),X=c(46862),Y=c(20531),Z={_export:function(a,b){return new Promise(function(c){Y._.with((0,M.M1)(Y._.active()),function(){a.export(b,function(a){c(a)})})})}}},41835:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EndpointMap=void 0,b.isTcpSubchannelAddress=e,b.subchannelAddressEqual=f,b.subchannelAddressToString=g,b.stringToSubchannelAddress=i,b.endpointEqual=j,b.endpointToString=k,b.endpointHasAddress=l;let d=c(91645);function e(a){return"port"in a}function f(a,b){return!a&&!b||!!a&&!!b&&(e(a)?e(b)&&a.host===b.host&&a.port===b.port:!e(b)&&a.path===b.path)}function g(a){return e(a)?(0,d.isIPv6)(a.host)?"["+a.host+"]:"+a.port:a.host+":"+a.port:a.path}let h=443;function i(a,b){return(0,d.isIP)(a)?{host:a,port:null!=b?b:h}:{path:a}}function j(a,b){if(a.addresses.length!==b.addresses.length)return!1;for(let c=0;c<a.addresses.length;c++)if(!f(a.addresses[c],b.addresses[c]))return!1;return!0}function k(a){return"["+a.addresses.map(g).join(", ")+"]"}function l(a,b){for(let c of a.addresses)if(f(c,b))return!0;return!1}function m(a,b){if(a.addresses.length!==b.addresses.length)return!1;for(let c of a.addresses){let a=!1;for(let d of b.addresses)if(f(c,d)){a=!0;break}if(!a)return!1}return!0}class n{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(a){for(let b of this.map)if(l(b.key,a))return b.value}deleteMissing(a){let b=[];for(let c of this.map){let d=!1;for(let b of a)m(b,c.key)&&(d=!0);d||(b.push(c.value),this.map.delete(c))}return b}get(a){for(let b of this.map)if(m(a,b.key))return b.value}set(a,b){for(let c of this.map)if(m(a,c.key)){c.value=b;return}this.map.add({key:a,value:b})}delete(a){for(let b of this.map)if(m(a,b.key))return void this.map.delete(b)}has(a){for(let b of this.map)if(m(a,b.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let a of this.map)yield a.key}*values(){for(let a of this.map)yield a.value}*entries(){for(let a of this.map)yield[a.key,a.value]}}b.EndpointMap=n},41971:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367),f=c(51702);b.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,n=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,o);else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>p(a,c)))}function o(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${n()}(${h}, ${a})`,()=>g.assign(c,!0).break()))}function p(a,b){let c=j[b];return"object"==typeof c&&null!==c?(0,d._)`${n()}(${h}, ${a}[${b}])`:(0,d._)`${h} === ${c}`}a.pass(c)}}},42007:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(71367);b.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},42218:(a,b)=>{"use strict";let c=Symbol.for("yaml.alias"),d=Symbol.for("yaml.document"),e=Symbol.for("yaml.map"),f=Symbol.for("yaml.pair"),g=Symbol.for("yaml.scalar"),h=Symbol.for("yaml.seq"),i=Symbol.for("yaml.node.type"),j=a=>!!a&&"object"==typeof a&&a[i]===c,k=a=>!!a&&"object"==typeof a&&a[i]===d,l=a=>!!a&&"object"==typeof a&&a[i]===e,m=a=>!!a&&"object"==typeof a&&a[i]===f,n=a=>!!a&&"object"==typeof a&&a[i]===g,o=a=>!!a&&"object"==typeof a&&a[i]===h;function p(a){if(a&&"object"==typeof a)switch(a[i]){case e:case h:return!0}return!1}function q(a){if(a&&"object"==typeof a)switch(a[i]){case c:case e:case g:case h:return!0}return!1}let r=a=>(n(a)||p(a))&&!!a.anchor;b.ALIAS=c,b.DOC=d,b.MAP=e,b.NODE_TYPE=i,b.PAIR=f,b.SCALAR=g,b.SEQ=h,b.hasAnchor=r,b.isAlias=j,b.isCollection=p,b.isDocument=k,b.isMap=l,b.isNode=q,b.isPair=m,b.isScalar=n,b.isSeq=o},42474:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"DetachedPromise",{enumerable:!0,get:function(){return c}});class c{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c,b=d}),this.resolve=a,this.reject=b}}},42592:(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m=c(29021);class n extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class o extends n{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class p extends n{}class q extends n{}let r="https://generativelanguage.googleapis.com",s="v1beta",t="0.24.1",u="genai-js";function v(a){let b=[];return(null==a?void 0:a.apiClient)&&b.push(a.apiClient),b.push(`${u}/${t}`),b.join(" ")}async function w(a,b,c=fetch){let d;try{d=await c(a,b)}catch(b){x(b,a)}return d.ok||await y(d,a),d}function x(a,b){let c=a;throw"AbortError"===c.name?(c=new q(`Request aborted when fetching ${b.toString()}: ${a.message}`)).stack=a.stack:a instanceof o||a instanceof p||((c=new n(`Error fetching from ${b.toString()}: ${a.message}`)).stack=a.stack),c}async function y(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new o(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}!function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"}(d||(d={})),function(a){a.UPLOAD="upload",a.LIST="list",a.GET="get",a.DELETE="delete",a.UPDATE="update",a.CREATE="create"}(e||(e={}));let z={[e.UPLOAD]:"POST",[e.LIST]:"GET",[e.GET]:"GET",[e.DELETE]:"DELETE",[e.UPDATE]:"PATCH",[e.CREATE]:"POST"};class A{constructor(a,b,c){this.task=a,this.apiKey=b,this.requestOptions=c}appendPath(a){this._url.pathname=this._url.pathname+`/${a}`}appendParam(a,b){this._url.searchParams.append(a,b)}toString(){return this._url.toString()}}class B extends A{constructor(a,b,c){var d,e;super(a,b,c),this.task=a,this.apiKey=b,this.requestOptions=c;let f=(null==(d=this.requestOptions)?void 0:d.apiVersion)||s,g=(null==(e=this.requestOptions)?void 0:e.baseUrl)||r;g+=`/${f}/cachedContents`,this._url=new URL(g)}}class C extends A{constructor(a,b,c){var d,f;super(a,b,c),this.task=a,this.apiKey=b,this.requestOptions=c;let g=(null==(d=this.requestOptions)?void 0:d.apiVersion)||s,h=(null==(f=this.requestOptions)?void 0:f.baseUrl)||r;this.task===e.UPLOAD&&(h+="/upload"),h+=`/${g}/files`,this._url=new URL(h)}}function D(a){var b;let c=new Headers;c.append("x-goog-api-client",v(a.requestOptions)),c.append("x-goog-api-key",a.apiKey);let d=null==(b=a.requestOptions)?void 0:b.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(a){throw new p(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${a.message}`)}for(let[a,b]of d.entries()){if("x-goog-api-key"===a)throw new p(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new p(`Header name ${a} can only be set using the apiClient field`);c.append(a,b)}}return c}async function E(a,b,c,d=fetch){let e={method:z[a.task],headers:b};c&&(e.body=c);let f=F(a.requestOptions);return f&&(e.signal=f),w(a.toString(),e,d)}function F(a){if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let b=new AbortController;return(null==a?void 0:a.timeout)>=0&&setTimeout(()=>b.abort(),a.timeout),a.signal&&a.signal.addEventListener("abort",()=>{b.abort()}),b.signal}}class G{constructor(a,b={}){this.apiKey=a,this._requestOptions=b}async uploadFile(a,b){let c=a instanceof Buffer?a:m.readFileSync(a),d=new C(e.UPLOAD,this.apiKey,this._requestOptions),f=D(d),g=I();f.append("X-Goog-Upload-Protocol","multipart"),f.append("Content-Type",`multipart/related; boundary=${g}`);let h=new Blob(["--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+JSON.stringify({file:J(b)})+"\r\n--"+g+"\r\nContent-Type: "+b.mimeType+"\r\n\r\n",c,"\r\n--"+g+"--"]);return(await E(d,f,h)).json()}async listFiles(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b),d=new C(e.LIST,this.apiKey,c);(null==a?void 0:a.pageSize)&&d.appendParam("pageSize",a.pageSize.toString()),(null==a?void 0:a.pageToken)&&d.appendParam("pageToken",a.pageToken);let f=D(d);return(await E(d,f)).json()}async getFile(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b),d=new C(e.GET,this.apiKey,c);d.appendPath(H(a));let f=D(d);return(await E(d,f)).json()}async deleteFile(a){let b=new C(e.DELETE,this.apiKey,this._requestOptions);b.appendPath(H(a));let c=D(b);await E(b,c)}}function H(a){if(a.startsWith("files/"))return a.split("files/")[1];if(!a)throw new n(`Invalid fileId ${a}. Must be in the format "files/filename" or "filename"`);return a}function I(){let a="";for(let b=0;b<2;b++)a+=Math.random().toString().slice(2);return a}function J(a){if(!a.mimeType)throw new p("Must provide a mimeType.");let b={mimeType:a.mimeType,displayName:a.displayName};return a.name&&(b.name=a.name.includes("/")?a.name:`files/${a.name}`),b}function K(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}class L{constructor(a,b){this.apiKey=a,this._requestOptions=b}async create(a){let b=Object.assign({},a);if(a.ttlSeconds){if(a.expireTime)throw new p("You cannot specify both `ttlSeconds` and `expireTime` when creating a content cache. You must choose one.");b.ttl=a.ttlSeconds.toString()+"s",delete b.ttlSeconds}if(a.systemInstruction&&(b.systemInstruction=K(a.systemInstruction)),!b.model)throw new p("Cached content must contain a `model` field.");b.model.includes("/")||(b.model=`models/${b.model}`);let c=new B(e.CREATE,this.apiKey,this._requestOptions),d=D(c);return(await E(c,d,JSON.stringify(b))).json()}async list(a){let b=new B(e.LIST,this.apiKey,this._requestOptions);(null==a?void 0:a.pageSize)&&b.appendParam("pageSize",a.pageSize.toString()),(null==a?void 0:a.pageToken)&&b.appendParam("pageToken",a.pageToken);let c=D(b);return(await E(b,c)).json()}async get(a){let b=new B(e.GET,this.apiKey,this._requestOptions);b.appendPath(M(a));let c=D(b);return(await E(b,c)).json()}async update(a,b){let c=new B(e.UPDATE,this.apiKey,this._requestOptions);c.appendPath(M(a));let d=D(c),f=Object.assign({},b.cachedContent);return b.cachedContent.ttlSeconds&&(f.ttl=b.cachedContent.ttlSeconds.toString()+"s",delete f.ttlSeconds),b.updateMask&&c.appendParam("update_mask",b.updateMask.map(a=>N(a)).join(",")),(await E(c,d,JSON.stringify(f))).json()}async delete(a){let b=new B(e.DELETE,this.apiKey,this._requestOptions);b.appendPath(M(a));let c=D(b);await E(b,c)}}function M(a){if(a.startsWith("cachedContents/"))return a.split("cachedContents/")[1];if(!a)throw new n(`Invalid name ${a}. Must be in the format "cachedContents/name" or "name"`);return a}function N(a){return a.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`)}b.FileState=void 0,function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"}(b.FileState||(b.FileState={})),b.SchemaType=void 0,function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"}(b.SchemaType||(b.SchemaType={})),b.ExecutableCodeLanguage=void 0,function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"}(b.ExecutableCodeLanguage||(b.ExecutableCodeLanguage={})),b.Outcome=void 0,function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(b.Outcome||(b.Outcome={})),function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(f||(f={})),function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"}(g||(g={})),function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"}(h||(h={})),function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"}(i||(i={})),function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"}(j||(j={})),function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"}(k||(k={})),b.FunctionCallingMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"}(b.FunctionCallingMode||(b.FunctionCallingMode={})),function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"}(l||(l={})),b.GoogleAICacheManager=L,b.GoogleAIFileManager=G},42656:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{logger:()=>n}),a.exports=g(h);let i=["debug","info","warn","error"],j="__genkit_logger",k={shouldLog(a){return i.indexOf(this.level)<=i.indexOf(a)},debug(...a){this.shouldLog("debug")&&console.debug(...a)},info(...a){this.shouldLog("info")&&console.info(...a)},warn(...a){this.shouldLog("warn")&&console.warn(...a)},error(...a){this.shouldLog("error")&&console.error(...a)},level:"info"};function l(){return global[j]||(global[j]=k),global[j]}class m{defaultLogger=k;init(a){global[j]=a}info(...a){l().info.apply(l(),a)}debug(...a){l().debug.apply(l(),a)}error(...a){l().error.apply(l(),a)}warn(...a){l().warn.apply(l(),a)}setLogLevel(a){l().level=a}logStructured(a,b){l().info(a,b)}logStructuredError(a,b){l().error(a,b)}}let n=new m},42697:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Http2SubchannelCall=void 0;let d=c(73496),e=c(21820),f=c(56458),g=c(33604),h=c(15999),i=c(38702),j=c(56458),k="subchannel_call";function l(a){for(let[b,c]of Object.entries(e.constants.errno))if(c===a)return b;return"Unknown system error "+a}function m(a){let b,c=`Received HTTP status code ${a}`;switch(a){case 400:b=f.Status.INTERNAL;break;case 401:b=f.Status.UNAUTHENTICATED;break;case 403:b=f.Status.PERMISSION_DENIED;break;case 404:b=f.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:b=f.Status.UNAVAILABLE;break;default:b=f.Status.UNKNOWN}return{code:b,details:c,metadata:new g.Metadata}}class n{constructor(a,b,c,e,i){var j;this.http2Stream=a,this.callEventTracker=b,this.listener=c,this.transport=e,this.callId=i,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let k=null!=(j=e.getOptions()["grpc.max_receive_message_length"])?j:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new h.StreamDecoder(k),a.on("response",(a,b)=>{let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";if(this.trace("Received server headers:\n"+c),this.httpStatusCode=a[":status"],b&d.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(a);else{let b;try{b=g.Metadata.fromHttp2Headers(a)}catch(a){this.endCall({code:f.Status.UNKNOWN,details:a.message,metadata:new g.Metadata});return}this.listener.onReceiveMetadata(b)}}),a.on("trailers",a=>{this.handleTrailers(a)}),a.on("data",a=>{let b;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+a.length);try{b=this.decoder.write(a)}catch(a){if(void 0!==this.httpStatusCode&&200!==this.httpStatusCode){let a=m(this.httpStatusCode);this.cancelWithStatus(a.code,a.details)}else this.cancelWithStatus(f.Status.RESOURCE_EXHAUSTED,a.message);return}for(let a of b)this.trace("parsed message of length "+a.length),this.callEventTracker.addMessageReceived(),this.tryPush(a)}}),a.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),a.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var b;let c;if(this.trace("HTTP/2 stream closed with code "+a.rstCode),(null==(b=this.finalStatus)?void 0:b.code)===f.Status.OK)return;let e="";switch(a.rstCode){case d.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;if(this.httpStatusCode&&200!==this.httpStatusCode){let a=m(this.httpStatusCode);c=a.code,e=a.details}else c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode} (Call ended without gRPC status)`;break;case d.constants.NGHTTP2_REFUSED_STREAM:c=f.Status.UNAVAILABLE,e="Stream refused by server";break;case d.constants.NGHTTP2_CANCEL:this.connectionDropped?(c=f.Status.UNAVAILABLE,e="Connection dropped"):(c=f.Status.CANCELLED,e="Call cancelled");break;case d.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=f.Status.RESOURCE_EXHAUSTED,e="Bandwidth exhausted or memory limit exceeded";break;case d.constants.NGHTTP2_INADEQUATE_SECURITY:c=f.Status.PERMISSION_DENIED,e="Protocol not secure enough";break;case d.constants.NGHTTP2_INTERNAL_ERROR:c=f.Status.INTERNAL,null===this.internalError?e=`Received RST_STREAM with code ${a.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(c=f.Status.UNAVAILABLE,e=this.internalError.message):e=`Received RST_STREAM with code ${a.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`}this.endCall({code:c,details:e,metadata:new g.Metadata,rstCode:a.rstCode})})}),a.on("error",a=>{"ERR_HTTP2_STREAM_ERROR"!==a.code&&(this.trace("Node error event: message="+a.message+" code="+a.code+" errno="+l(a.errno)+" syscall="+a.syscall),this.internalError=a),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:f.Status.UNAVAILABLE,details:"Connection dropped",metadata:new g.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(a){i.trace(j.LogVerbosity.DEBUG,k,"["+this.callId+"] "+a)}endCall(a){(null===this.finalStatus||this.finalStatus.code===f.Status.OK)&&(this.finalStatus=a,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===f.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(a){this.trace("pushing to reader message of length "+(a instanceof Buffer?a.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(a),this.maybeOutputStatus())})}tryPush(a){this.canPush?(this.http2Stream.pause(),this.push(a)):(this.trace("unpushedReadMessages.push message of length "+a.length),this.unpushedReadMessages.push(a))}handleTrailers(a){let b,c;this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let d="";for(let b of Object.keys(a))d+="		"+b+": "+a[b]+"\n";this.trace("Received server trailers:\n"+d);try{b=g.Metadata.fromHttp2Headers(a)}catch(a){b=new g.Metadata}let e=b.getMap();if("string"==typeof e["grpc-status"]){let a=Number(e["grpc-status"]);this.trace("received status code "+a+" from server"),b.remove("grpc-status");let d="";if("string"==typeof e["grpc-message"]){try{d=decodeURI(e["grpc-message"])}catch(a){d=e["grpc-message"]}b.remove("grpc-message"),this.trace('received status details string "'+d+'" from server')}c={code:a,details:d,metadata:b}}else this.httpStatusCode?(c=m(this.httpStatusCode)).metadata=b:c={code:f.Status.UNKNOWN,details:"No status information received",metadata:b};this.endCall(c)}destroyHttp2Stream(){var a;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let b;b=(null==(a=this.finalStatus)?void 0:a.code)===f.Status.OK?d.constants.NGHTTP2_NO_ERROR:d.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+b),this.http2Stream.close(b)}}cancelWithStatus(a,b){this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.endCall({code:a,details:b,metadata:new g.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==f.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let a=this.unpushedReadMessages.shift();this.push(a);return}this.http2Stream.resume()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length);let c=b=>{process.nextTick(()=>{var c;let d=f.Status.UNAVAILABLE;(null==b?void 0:b.code)==="ERR_STREAM_WRITE_AFTER_END"&&(d=f.Status.INTERNAL),b&&this.cancelWithStatus(d,`Write error: ${b.message}`),null==(c=a.callback)||c.call(a)})};this.trace("sending data chunk of length "+b.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(b,c)}catch(a){this.endCall({code:f.Status.UNAVAILABLE,details:`Write failed with error ${a.message}`,metadata:new g.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}b.Http2SubchannelCall=n},42945:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}b.default=c},43103:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncHooksContextManager=void 0;let d=c(68948),e=c(84297),f=c(73501);class g extends f.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=e.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var a;return null!=(a=this._stack[this._stack.length-1])?a:d.ROOT_CONTEXT}with(a,b,c,...d){this._enterContext(a);try{return b.call(c,...d)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(a,b){if("TIMERWRAP"===b)return;let c=this._stack[this._stack.length-1];void 0!==c&&this._contexts.set(a,c)}_destroy(a){this._contexts.delete(a)}_before(a){let b=this._contexts.get(a);void 0!==b&&this._enterContext(b)}_after(){this._exitContext()}_enterContext(a){this._stack.push(a)}_exitContext(){this._stack.pop()}}b.AsyncHooksContextManager=g},43264:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{SPAN_TYPE_ATTR:()=>k.SPAN_TYPE_ATTR,SpanContextSchema:()=>k.SpanContextSchema,SpanDataSchema:()=>k.SpanDataSchema,SpanMetadataSchema:()=>k.SpanMetadataSchema,SpanStatusSchema:()=>k.SpanStatusSchema,TimeEventSchema:()=>k.TimeEventSchema,TraceDataSchema:()=>k.TraceDataSchema,TraceMetadataSchema:()=>k.TraceMetadataSchema,TraceServerExporter:()=>k.TraceServerExporter,appendSpan:()=>k.appendSpan,disableOTelRootSpanDetection:()=>k.disableOTelRootSpanDetection,enableTelemetry:()=>k.enableTelemetry,flushTracing:()=>k.flushTracing,runInNewSpan:()=>k.runInNewSpan,setCustomMetadataAttribute:()=>k.setCustomMetadataAttribute,setCustomMetadataAttributes:()=>k.setCustomMetadataAttributes,setTelemetryServerUrl:()=>k.setTelemetryServerUrl,toDisplayPath:()=>k.toDisplayPath}),a.exports=i(j);var k=c(64089)},43313:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0,b.registerResolver=g,b.registerDefaultScheme=h,b.createResolver=i,b.getDefaultAuthority=j,b.mapUriDefaultScheme=k;let d=c(9413);b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";let e={},f=null;function g(a,b){e[a]=b}function h(a){f=a}function i(a,b,c){if(void 0!==a.scheme&&a.scheme in e)return new e[a.scheme](a,b,c);throw Error(`No resolver could be created for target ${(0,d.uriToString)(a)}`)}function j(a){if(void 0!==a.scheme&&a.scheme in e)return e[a.scheme].getDefaultAuthority(a);throw Error(`Invalid target ${(0,d.uriToString)(a)}`)}function k(a){if(void 0===a.scheme||!(a.scheme in e))if(null!==f)return{scheme:f,authority:void 0,path:(0,d.uriToString)(a)};else return null;return a}},43316:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNullDef=void 0,b.parseNullDef=function(a){return"openApi3"===a.target?{enum:["null"],nullable:!0}:{type:"null"}}},43436:a=>{"use strict";a.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},43794:(a,b,c)=>{"use strict";c.d(b,{o:()=>i});var d=c(12255),e=c(19646),f=c(62367),g=c(58746),h=d._.getInstance(),i=function(){function a(){}return a.prototype.startSpan=function(a,b,c){if(void 0===c&&(c=h.active()),null==b?void 0:b.root)return new f.d;var d=c&&(0,e.w8)(c);return j(d)&&(0,g.YA)(d)?new f.d(d):new f.d},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);var f,g,i,j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.Bx)(j,k);return h.with(l,i,void 0,k)}},a}();function j(a){return"object"==typeof a&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags}},43909:a=>{"use strict";function b(){this.name=null,this.valueDefinition=null,this.to=null,this.rw=null,this.annotations=null}b.prototype.models="type",b.prototype.compile=function(a,b){this.name=a.id.name,this.valueDefinition=a.valueType,this.annotations=a.annotations},b.prototype.link=function(a){return this.to||(this.to=a.resolve(this.valueDefinition)),this.rw=this.to.rw,a.typedefs[this.name]=this.to.surface,this.to},a.exports.n=b},44037:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{logger:()=>k.logger}),a.exports=i(j);var k=c(42656)},44044:(a,b,c)=>{"use strict";a.exports=l;var d,e=c(16813),f=e.LongBits,g=e.base64,h=e.utf8;function i(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function j(){}function k(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function l(){this.len=0,this.head=new i(j,0,0),this.tail=this.head,this.states=null}var m=function(){return e.Buffer?function(){return(l.create=function(){return new d})()}:function(){return new l}};function n(a,b,c){b[c]=255&a}function o(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function p(a,b){this.len=a,this.next=void 0,this.val=b}function q(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function r(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}l.create=m(),l.alloc=function(a){return new e.Array(a)},e.Array!==Array&&(l.alloc=e.pool(l.alloc,e.Array.prototype.subarray)),l.prototype._push=function(a,b,c){return this.tail=this.tail.next=new i(a,b,c),this.len+=b,this},p.prototype=Object.create(i.prototype),p.prototype.fn=o,l.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new p((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},l.prototype.int32=function(a){return a<0?this._push(q,10,f.fromNumber(a)):this.uint32(a)},l.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},l.prototype.uint64=function(a){var b=f.from(a);return this._push(q,b.length(),b)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(a){var b=f.from(a).zzEncode();return this._push(q,b.length(),b)},l.prototype.bool=function(a){return this._push(n,1,+!!a)},l.prototype.fixed32=function(a){return this._push(r,4,a>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(a){var b=f.from(a);return this._push(r,4,b.lo)._push(r,4,b.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(a){return this._push(e.float.writeFloatLE,4,a)},l.prototype.double=function(a){return this._push(e.float.writeDoubleLE,8,a)};var s=e.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};l.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(n,1,0);if(e.isString(a)){var c=l.alloc(b=g.length(a));g.decode(a,c,0),a=c}return this.uint32(b)._push(s,b,a)},l.prototype.string=function(a){var b=h.length(a);return b?this.uint32(b)._push(h.write,b,a):this._push(n,1,0)},l.prototype.fork=function(){return this.states=new k(this),this.head=this.tail=new i(j,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(j,0,0),this.len=0),this},l.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},l.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},l._configure=function(a){d=a,l.create=m(),d._configure()}},44056:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:c(28872).validateUnion,error:{message:"must match a schema in anyOf"}}},44066:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Chat:()=>r,MAIN_THREAD:()=>o,SESSION_ID_ATTR:()=>p,THREAD_NAME_ATTR:()=>q}),a.exports=i(j);var k=c(2799),l=c(64089),m=c(72300),n=c(50300);let o="main",p=`${l.ATTR_PREFIX}:sessionId`,q=`${l.ATTR_PREFIX}:threadName`;class r{constructor(a,b,c){this.session=a,this.sessionId=c.id,this.threadName=c.thread,this.requestBase=b?.then(a=>{let b={...a};if(b&&b.prompt){let a,c=b.prompt;a="string"==typeof c?{role:"user",content:[{text:c}]}:Array.isArray(c)?{role:"user",content:c}:{role:"user",content:[c]},b.messages=[...b.messages??[],a]}return s(b.messages)?b.messages=[...t(b.messages)??[],...u(c.messages)??[],...u(b.messages)??[]]:b.messages=[...c.messages??[],...b.messages??[]],this._messages=b.messages,b}),this._messages=c.messages}requestBase;sessionId;_messages;threadName;async send(a){return(0,n.runWithSession)(this.session.registry,this.session,()=>(0,l.runInNewSpan)(this.session.registry,{metadata:{name:"send"},labels:{[l.SPAN_TYPE_ATTR]:"helper",[p]:this.session.id,[q]:this.threadName}},async b=>{let c,d=v(a);(d.onChunk||d.streamingCallback)&&(c=d.onChunk??d.streamingCallback);let e={...await this.requestBase,messages:this.messages,...d};b.input=d;let f=await (0,m.generate)(this.session.registry,{...e,onChunk:c});return this.requestBase=Promise.resolve({...await this.requestBase,tools:f?.request?.tools?.map(a=>a.name),toolChoice:f?.request?.toolChoice,config:f?.request?.config}),await this.updateMessages(f.messages),b.output=JSON.stringify(f),f}))}sendStream(a){let b=new k.Channel,c=v(a),d=this.send({...c,onChunk:a=>b.send(a)});return d.then(()=>b.close(),a=>b.error(a)),{response:d,stream:b}}get messages(){return this._messages??[]}async updateMessages(a){this._messages=a,await this.session.updateMessages(this.threadName,a)}}function s(a){return!!a?.find(a=>a.metadata?.preamble)}function t(a){return a?.filter(a=>a.metadata?.preamble)}function u(a){return a?.filter(a=>!a.metadata?.preamble)}function v(a){return"string"==typeof a||Array.isArray(a)?{prompt:a}:a}},44080:(a,b,c)=>{"use strict";c.d(b,{K:()=>r});var d=c(53205),e=c(25020),f=c(28364),g=c(16426),h=c(76673),i=c(60012);function j(a,b){var c=(0,g.Az)(b);return{resource:(0,i.Z)(a.resource),schemaUrl:void 0,scopeMetrics:k(a.scopeMetrics,c)}}function k(a,b){return Array.from(a.map(function(a){return{scope:(0,h.d1)(a.scope),metrics:a.metrics.map(function(a){return l(a,b)}),schemaUrl:a.scope.schemaUrl}}))}function l(a,b){var c={name:a.descriptor.name,description:a.descriptor.description,unit:a.descriptor.unit},d=q(a.aggregationTemporality);switch(a.dataPointType){case e.n.SUM:c.sum={aggregationTemporality:d,isMonotonic:a.isMonotonic,dataPoints:n(a,b)};break;case e.n.GAUGE:c.gauge={dataPoints:n(a,b)};break;case e.n.HISTOGRAM:c.histogram={aggregationTemporality:d,dataPoints:o(a,b)};break;case e.n.EXPONENTIAL_HISTOGRAM:c.exponentialHistogram={aggregationTemporality:d,dataPoints:p(a,b)}}return c}function m(a,b,c){var e={attributes:(0,h.Zs)(a.attributes),startTimeUnixNano:c.encodeHrTime(a.startTime),timeUnixNano:c.encodeHrTime(a.endTime)};switch(b){case d.e.INT:e.asInt=a.value;break;case d.e.DOUBLE:e.asDouble=a.value}return e}function n(a,b){return a.dataPoints.map(function(c){return m(c,a.descriptor.valueType,b)})}function o(a,b){return a.dataPoints.map(function(a){var c=a.value;return{attributes:(0,h.Zs)(a.attributes),bucketCounts:c.buckets.counts,explicitBounds:c.buckets.boundaries,count:c.count,sum:c.sum,min:c.min,max:c.max,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function p(a,b){return a.dataPoints.map(function(a){var c=a.value;return{attributes:(0,h.Zs)(a.attributes),count:c.count,min:c.min,max:c.max,sum:c.sum,positive:{offset:c.positive.offset,bucketCounts:c.positive.bucketCounts},negative:{offset:c.negative.offset,bucketCounts:c.negative.bucketCounts},scale:c.scale,zeroCount:c.zeroCount,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function q(a){switch(a){case f.h.DELTA:return 1;case f.h.CUMULATIVE:return 2}}function r(a,b){return{resourceMetrics:a.map(function(a){return j(a,b)})}}},44175:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{extractItems:()=>r,extractJson:()=>q,parsePartialJson:()=>p}),a.exports=l(m);var n=k(c(17191)),o=c(86459);function p(a){return n.default.parse(JSON.stringify((0,o.parse)(a,o.Allow.ALL)))}function q(a,b){let c,d,e,f=0,g=!1,h=!1;for(let b=0;b<a.length;b++){let i=a[b].replace(/\u00A0/g," ");if(h){h=!1;continue}if("\\"===i){h=!0;continue}if('"'===i){g=!g;continue}if(!g)if(c||"{"!==i&&"["!==i){if(i===c)f++;else if(i===d&&!--f)return n.default.parse(a.substring(e||0,b+1))}else c=i,d="{"===i?"}":"]",e=b,f++}if(void 0!==e&&f>0)try{return p(a.substring(e))}catch{if(b)throw Error(`Invalid JSON extracted from model output: ${a}`);return null}if(b)throw Error(`Invalid JSON extracted from model output: ${a}`);return null}function r(a,b=0){let c=[],d=b;if(0===b){let b=a.indexOf("[");if(-1===b)return{items:[],cursor:a.length};d=b+1}let e=-1,f=0,g=!1,h=!1;for(let b=d;b<a.length;b++){let i=a[b];if(h){h=!1;continue}if("\\"===i){h=!0;continue}if('"'===i){g=!g;continue}if(!g){if("{"===i)0===f&&(e=b),f++;else if("}"===i){if(0==--f&&-1!==e)try{let f=n.default.parse(a.substring(e,b+1));c.push(f),d=b+1,e=-1}catch{}}else if("]"===i&&0===f)break}}return{items:c,cursor:d}}},44366:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(59762);b.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}},44464:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;let d=c(53910),e=c(28872),f=c(53864),g=c(51018),h=c(59938),i=c(59762),j={keyword:"$ref",schemaType:"string",code(a){let{gen:b,schema:c,it:e}=a,{baseId:g,schemaEnv:i,validateName:j,opts:m,self:n}=e,{root:o}=i;if(("#"===c||"#/"===c)&&g===o.baseId)return q();let p=h.resolveRef.call(n,o,g,c);if(void 0===p)throw new d.default(e.opts.uriResolver,g,c);if(p instanceof h.SchemaEnv)return r(p);return s(p);function q(){if(i===o)return l(a,j,i,i.$async);let c=b.scopeValue("root",{ref:o});return l(a,(0,f._)`${c}.validate`,o,o.$async)}function r(b){let c=k(a,b);l(a,c,b,b.$async)}function s(d){let e=b.scopeValue("schema",!0===m.code.source?{ref:d,code:(0,f.stringify)(d)}:{ref:d}),g=b.name("valid"),h=a.subschema({schema:d,dataTypes:[],schemaPath:f.nil,topSchemaRef:e,errSchemaPath:c},g);a.mergeEvaluated(h),a.ok(g)}}};function k(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function l(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,n=m.passContext?g.default.this:f.nil;function o(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,n)}`),r(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),q(a),k||h.assign(c,!1)}),a.ok(c)}function p(){a.result((0,e.callValidateCode)(a,b,n),()=>r(b),()=>q(b))}function q(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function r(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?o():p()}b.getValidate=k,b.callRef=l,b.default=j},44917:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createServiceClientConstructor=void 0;let d=c(47265);b.createServiceClientConstructor=function(a,b){let c={export:{path:a,requestStream:!1,responseStream:!1,requestSerialize:a=>a,requestDeserialize:a=>a,responseSerialize:a=>a,responseDeserialize:a=>a}};return d.makeGenericClientConstructor(c,b)}},45053:a=>{"use strict";a.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},45055:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseMapDef=void 0;let d=c(31958),e=c(32044),f=c(10715);b.parseMapDef=function(a,b){return"record"===b.mapStrategy?(0,e.parseRecordDef)(a,b):{type:"array",maxItems:125,items:{type:"array",items:[(0,d.parseDef)(a.keyType._def,{...b,currentPath:[...b.currentPath,"items","items","0"]})||(0,f.parseAnyDef)(b),(0,d.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"items","items","1"]})||(0,f.parseAnyDef)(b)],minItems:2,maxItems:2}}}},45441:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{AppRenderSpan:function(){return i},AppRouteRouteHandlersSpan:function(){return l},BaseServerSpan:function(){return c},LoadComponentsSpan:function(){return d},LogSpanAllowList:function(){return p},MiddlewareSpan:function(){return n},NextNodeServerSpan:function(){return f},NextServerSpan:function(){return e},NextVanillaSpanAllowlist:function(){return o},NodeSpan:function(){return k},RenderSpan:function(){return h},ResolveMetadataSpan:function(){return m},RouterSpan:function(){return j},StartServerSpan:function(){return g}});var c=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(c||{}),d=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(d||{}),e=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(e||{}),f=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(f||{}),g=function(a){return a.startServer="startServer.startServer",a}(g||{}),h=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(h||{}),i=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(i||{}),j=function(a){return a.executeRoute="Router.executeRoute",a}(j||{}),k=function(a){return a.runHandler="Node.runHandler",a}(k||{}),l=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(l||{}),m=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(m||{}),n=function(a){return a.execute="Middleware.execute",a}(n||{});let o=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],p=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},45507:(a,b,c)=>{"use strict";a.exports=h;var d=c(67958),e=c(75688),f=c(305);function g(a){return"missing required '"+a.name+"'"}function h(a){for(var b=f.codegen(["r","l","e"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),c=0;c<a.fieldsArray.length;++c){var h=a._fieldsArray[c].resolve(),i=h.resolvedType instanceof d?"int32":h.type,j="m"+f.safeProp(h.name);b("case %i: {",h.id),h.map?(b("if(%s===util.emptyObject)",j)("%s={}",j)("var c2 = r.uint32()+r.pos"),void 0!==e.defaults[h.keyType]?b("k=%j",e.defaults[h.keyType]):b("k=null"),void 0!==e.defaults[i]?b("value=%j",e.defaults[i]):b("value=null"),b("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",h.keyType)("case 2:"),void 0===e.basic[i]?b("value=types[%i].decode(r,r.uint32())",c):b("value=r.%s()",i),b("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==e.long[h.keyType]?b('%s[typeof k==="object"?util.longToHash(k):k]=value',j):b("%s[k]=value",j)):h.repeated?(b("if(!(%s&&%s.length))",j,j)("%s=[]",j),void 0!==e.packed[i]&&b("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",j,i)("}else"),void 0===e.basic[i]?b(h.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",j,c):b("%s.push(r.%s())",j,i)):void 0===e.basic[i]?b(h.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",j,c):b("%s=r.%s()",j,i),b("break")("}")}for(b("default:")("r.skipType(t&7)")("break")("}")("}"),c=0;c<a._fieldsArray.length;++c){var k=a._fieldsArray[c];k.required&&b("if(!m.hasOwnProperty(%j))",k.name)("throw util.ProtocolError(%j,{instance:m})",g(k))}return b("return m")}},45545:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(10499);function g(a,b){if(!(this instanceof g))return new g(a,b);this.fill=b||0,f.call(this,a)}d(g,f),g.prototype.poolByteLength=function(a){return a.reset(null,this.length)},g.prototype.poolWriteInto=function(a,b,c,d){var e=d+this.length;return c.fill(this.fill,d,e),a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var d=c+this.length;return d>b.length?e.poolShortError(a,this.length,b.length-c,c):a.reset(null,d,null)}},45644:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{NodeAsyncContext:()=>m,initNodeAsyncContext:()=>n}),a.exports=i(j);var k=c(16698),l=c(50673);class m{asls={};getStore(a){return this.asls[a]?.getStore()}run(a,b,c){return this.asls[a]||(this.asls[a]=new k.AsyncLocalStorage),this.asls[a].run(b,c)}}function n(){(0,l.setAsyncContext)(new m)}},45810:(a,b,c)=>{"use strict";var d=c(65444),e=c(63268),f=c(955),g=c(68042);b.composeDoc=function(a,b,{offset:c,start:h,value:i,end:j},k){let l=Object.assign({_directives:b},a),m=new d.Document(void 0,l),n={atKey:!1,atRoot:!0,directives:m.directives,options:m.options,schema:m.schema},o=g.resolveProps(h,{indicator:"doc-start",next:i??j?.[0],offset:c,onError:k,parentIndent:0,startOnNewline:!0});o.found&&(m.directives.docStart=!0,i&&("block-map"===i.type||"block-seq"===i.type)&&!o.hasNewline&&k(o.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),m.contents=i?e.composeNode(n,i,o,k):e.composeEmptyNode(n,o.end,h,null,o,k);let p=m.contents.range[2],q=f.resolveEnd(j,p,!1,k);return q.comment&&(m.comment=q.comment),m.range=[c,p,q.offset],m}},46129:(a,b,c)=>{"use strict";var d=c(8408);function e({value:a,source:b},c){let d=a?f:g;return b&&d.test.test(b)?b:a?c.options.trueStr:c.options.falseStr}let f={identify:a=>!0===a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new d.Scalar(!0),stringify:e},g={identify:a=>!1===a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new d.Scalar(!1),stringify:e};b.falseTag=g,b.trueTag=f},46189:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367);b.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=c,i=b.let("valid",!1),j=b.let("passing",null),k=b.name("_valid");function l(){h.forEach((c,f)=>{let h;(0,e.alwaysValidSchema)(g,c)?b.var(k,!0):h=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},k),f>0&&b.if((0,d._)`${k} && ${i}`).assign(i,!1).assign(j,(0,d._)`[${j}, ${f}]`).else(),b.if(k,()=>{b.assign(i,!0),b.assign(j,f),h&&a.mergeEvaluated(h,d.Name)})})}a.setParams({passing:j}),b.block(l),a.result(i,()=>a.reset(),()=>a.error(!0))}}},46204:(a,b,c)=>{"use strict";a.exports=c(49754).vendored["react-rsc"].React},46416:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(81200),e=c(92900),f=c(13098),g=c(88596),h=c(13951);b.default=[d.default,e.default,(0,f.default)(),g.default,h.metadataVocabulary,h.contentVocabulary]},46543:(a,b,c)=>{"use strict";b.__esModule=!0,b.registerDefaultDecorators=e;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(6305));function e(a){d.default(a)}},46558:(a,b)=>{"use strict";function c(a,b){return b.rules.some(b=>d(a,b))}function d(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0,b.schemaHasRulesForType=function({schema:a,self:b},d){let e=b.RULES.types[d];return e&&!0!==e&&c(a,e)},b.shouldUseGroup=c,b.shouldUseRule=d},46585:(a,b,c)=>{"use strict";var d,e=c(24024),f=c(53365).QB,g=c(53365).n;function h(a){this.name=a.name,this.service=a.service,this.fullName=this.service.name+"::"+this.name,this.model=a.model,this.args=null,this.result=null,this.strict=a.strict,this.linked=!1}function i(a){this.name=null,this.functions=[],this.functionsByName=Object.create(null),this.surface=this.functionsByName,this.strict=a.strict,this.baseService=null,this.linked=!1,this.annotations=null}h.prototype.compile=function(a,b){this.def=a,this.name=a.id.name;var c=new e.Identifier(this.name+"_args");c.as=this.fullName+"_args";var d=new e.Struct(c,a.fields);d.isArgument=!0,this.args=b.compileStruct(d);var f=a.returns,g=a.throws||[];if("BaseType"!==f.type||"void"!==f.baseType){var h=new e.FieldIdentifier(0),i=new e.Field(h,a.returns,"success");i.required=!1,i.optional=!0,i.isResult=!0,g.unshift(i)}var j=new e.Identifier(this.name+"_result");j.as=this.fullName+"_result";var k=new e.Struct(j,g);k.isResult=!0,this.result=b.compileStruct(k),this.oneway=a.oneway,this.annotations=a.annotations},h.prototype.link=function(a){this.args.link(a),this.result.link(a),this.Arguments=this.args.Constructor,this.Result=this.result.Constructor;var b=this.oneway?"ONEWAY":"CALL";this.ArgumentsMessage=this.makeMessageConstructor(this.name,b),this.ResultMessage=this.makeMessageConstructor(this.name,"REPLY"),this.argumentsMessageRW=new g(this.args.rw,a.exception.rw),this.resultMessageRW=new g(this.result.rw,a.exception.rw)},h.prototype.makeMessageConstructor=function(a,b){return function(c){f.call(this,c),this.name=c.name||a,this.type=c.type||b}},i.prototype.models="service",i.prototype.compile=function(a,b){this.name=a.id.name;for(var c=0;c<a.functions.length;c++)this.compileFunction(a.functions[c],b);this.baseService=a.baseService,this.annotations=a.annotations},i.prototype.compileFunction=function(a,b){var c=new h({name:a.id.name,service:this,strict:this.strict});c.compile(a,b),this.addFunction(c)},i.prototype.addFunction=function(a,b){if(this.functions.push(a),this.functionsByName[a.name])throw Error(this.name+"."+a.name+" already inherited from baseService");this.functionsByName[a.name]=a,b&&(b.define(this.name+"::"+a.args.name,a.def,a.args),b.define(this.name+"::"+a.result.name,a.def,a.result))},i.prototype.link=function(a){var b=0;if(this.linked)return this;if(this.linked=!0,this.baseService){var c=a.resolveIdentifier(this.baseService,this.baseService.name,"service");for(c.link(a),b=0;b<c.functions.length;b++){var d=c.functions[b];this.addFunction(d,a)}}for(b=0;b<this.functions.length;b++)this.functions[b].link(a);return a.services[this.name]=this.surface,/^[a-z]/.test(this.name)||(a[this.name]=this.surface),this},d=h,a.exports.P=i},46596:(a,b,c)=>{"use strict";c.d(b,{D:()=>i});var d=c(19771),e=c(13590),f=c(79361),g=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},h=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};function i(){return g(this,void 0,void 0,function(){var a,b,c,g;return h(this,function(h){switch(h.label){case 0:a="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",b="%windir%\\System32\\REG.exe","ia32"===d.arch&&"PROCESSOR_ARCHITEW6432"in d.env&&(b="%windir%\\sysnative\\cmd.exe /c "+b),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(0,e.q)(b+" "+a)];case 2:if(2===(c=h.sent().stdout.split("REG_SZ")).length)return[2,c[1].trim()];return[3,4];case 3:return g=h.sent(),f.s.debug("error reading machine id: "+g),[3,4];case 4:return[2,""]}})})}},46626:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,b.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=(null!=(c=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)?c:"false")==="true"},46638:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadBalancingCall=void 0;let d=c(80158),e=c(56458),f=c(8319),g=c(33604),h=c(96269),i=c(9413),j=c(38702),k=c(16390),l=c(73496),m="load_balancing_call";class n{constructor(a,b,c,d,e,f,g){var h,j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let k=this.methodName.split("/"),l="";k.length>=2&&(l=k[1]);let m=null!=(j=null==(h=(0,i.splitHostPort)(this.host))?void 0:h.host)?j:"localhost";this.serviceUrl=`https://${m}/${l}`,this.startTime=new Date}getDeadlineInfo(){var a,b;let c=[];return this.childStartTime?(this.childStartTime>this.startTime&&((null==(a=this.metadata)?void 0:a.getOptions().waitForReady)&&c.push("wait_for_ready"),c.push(`LB pick: ${(0,f.formatDateDifference)(this.startTime,this.childStartTime)}`)),c.push(...this.child.getDeadlineInfo())):((null==(b=this.metadata)?void 0:b.getOptions().waitForReady)&&c.push("wait_for_ready"),c.push("Waiting for LB pick")),c}trace(a){j.trace(e.LogVerbosity.DEBUG,m,"["+this.callNumber+"] "+a)}outputStatus(a,b){var c,d;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+a.code+' details="'+a.details+'" start time='+this.startTime.toISOString());let e=Object.assign(Object.assign({},a),{progress:b});null==(c=this.listener)||c.onReceiveStatus(e),null==(d=this.onCallEnded)||d.call(this,e.code,e.details,e.metadata)}}doPick(){var a,b;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let c=this.metadata.clone(),i=this.channel.doPick(c,this.callConfig.pickInformation),j=i.subchannel?"("+i.subchannel.getChannelzRef().id+") "+i.subchannel.getAddress():""+i.subchannel;switch(this.trace("Pick result: "+h.PickResultType[i.pickResultType]+" subchannel: "+j+" status: "+(null==(a=i.status)?void 0:a.code)+" "+(null==(b=i.status)?void 0:b.details)),i.pickResultType){case h.PickResultType.COMPLETE:this.credentials.compose(i.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(a=>{var b;if(this.ended)return void this.trace("Credentials metadata generation finished after call ended");if(c.merge(a),c.get("authorization").length>1&&this.outputStatus({code:e.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new g.Metadata},"PROCESSED"),i.subchannel.getConnectivityState()!==d.ConnectivityState.READY){this.trace("Picked subchannel "+j+" has state "+d.ConnectivityState[i.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,f.getDeadlineTimeoutString)(this.deadline));try{this.child=i.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(a)},onReceiveMessage:a=>{this.trace("Received message"),this.listener.onReceiveMessage(a)},onReceiveStatus:a=>{this.trace("Received status"),a.rstCode===l.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(a,"REFUSED"):this.outputStatus(a,"PROCESSED")}}),this.childStartTime=new Date}catch(a){this.trace("Failed to start call on picked subchannel "+j+" with error "+a.message),this.outputStatus({code:e.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+a.message,metadata:new g.Metadata},"NOT_STARTED");return}null==(b=i.onCallStarted)||b.call(i),this.onCallEnded=i.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:b,details:c}=(0,k.restrictControlPlaneStatusCode)("number"==typeof a.code?a.code:e.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:b,details:c,metadata:new g.Metadata},"PROCESSED")});break;case h.PickResultType.DROP:let{code:m,details:n}=(0,k.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:m,details:n,metadata:i.status.metadata},"DROP")});break;case h.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:b}=(0,k.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:a,details:b,metadata:i.status.metadata},"PROCESSED")})}break;case h.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata},"PROCESSED")}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.listener=b,this.metadata=a,this.doPick()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.child.sendMessageWithContext(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}b.LoadBalancingCall=n},46687:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.OutlierDetectionLoadBalancer=b.OutlierDetectionLoadBalancingConfig=void 0,b.setup=D;let e=c(80158),f=c(56458),g=c(27615),h=c(7261),i=c(20606),j=c(89092),k=c(96269),l=c(41835),m=c(35210),n=c(38702),o="outlier_detection";function p(a){n.trace(f.LogVerbosity.DEBUG,o,a)}let q="outlier_detection",r=(null!=(d=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)?d:"true")==="true",s={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},t={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function u(a,b,c,d){if(b in a&&void 0!==a[b]&&typeof a[b]!==c){let e=d?`${d}.${b}`:b;throw Error(`outlier detection config ${e} parse error: expected ${c}, got ${typeof a[b]}`)}}function v(a,b,c){let d=c?`${c}.${b}`:b;if(b in a&&void 0!==a[b]){if(!(0,g.isDuration)(a[b]))throw Error(`outlier detection config ${d} parse error: expected Duration, got ${typeof a[b]}`);if(!(a[b].seconds>=0&&a[b].seconds<=315576e6&&a[b].nanos>=0&&a[b].nanos<=0x3b9ac9ff))throw Error(`outlier detection config ${d} parse error: values out of range for non-negative Duaration`)}}function w(a,b,c){let d=c?`${c}.${b}`:b;if(u(a,b,"number",c),b in a&&void 0!==a[b]&&!(a[b]>=0&&a[b]<=100))throw Error(`outlier detection config ${d} parse error: value out of range for percentage (0-100)`)}class x{constructor(a,b,c,d,e,f,g){if(this.childPolicy=g,"pick_first"===g.getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=a?a:1e4,this.baseEjectionTimeMs=null!=b?b:3e4,this.maxEjectionTimeMs=null!=c?c:3e5,this.maxEjectionPercent=null!=d?d:10,this.successRateEjection=e?Object.assign(Object.assign({},s),e):null,this.failurePercentageEjection=f?Object.assign(Object.assign({},t),f):null}getLoadBalancerName(){return q}toJsonObject(){var a,b;return{outlier_detection:{interval:(0,g.msToDuration)(this.intervalMs),base_ejection_time:(0,g.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,g.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:null!=(a=this.successRateEjection)?a:void 0,failure_percentage_ejection:null!=(b=this.failurePercentageEjection)?b:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(a){var b;if(v(a,"interval"),v(a,"base_ejection_time"),v(a,"max_ejection_time"),w(a,"max_ejection_percent"),"success_rate_ejection"in a&&void 0!==a.success_rate_ejection){if("object"!=typeof a.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");u(a.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),w(a.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),u(a.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),u(a.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in a&&void 0!==a.failure_percentage_ejection){if("object"!=typeof a.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");w(a.failure_percentage_ejection,"threshold","failure_percentage_ejection"),w(a.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),u(a.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),u(a.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in a)||!Array.isArray(a.child_policy))throw Error("outlier detection config child_policy must be an array");let c=(0,i.selectLbConfigFromList)(a.child_policy);if(!c)throw Error("outlier detection config child_policy: no valid recognized policy found");return new x(a.interval?(0,g.durationToMs)(a.interval):null,a.base_ejection_time?(0,g.durationToMs)(a.base_ejection_time):null,a.max_ejection_time?(0,g.durationToMs)(a.max_ejection_time):null,null!=(b=a.max_ejection_percent)?b:null,a.success_rate_ejection,a.failure_percentage_ejection,c)}}b.OutlierDetectionLoadBalancingConfig=x;class y extends m.BaseSubchannelWrapper{constructor(a,b){super(a),this.mapEntry=b,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let a=this.mapEntry.subchannelWrappers.indexOf(this);a>=0&&this.mapEntry.subchannelWrappers.splice(a,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function z(){return{success:0,failure:0}}class A{constructor(){this.activeBucket=z(),this.inactiveBucket=z()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=z()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class B{constructor(a,b){this.wrappedPicker=a,this.countCalls=b}pick(a){let b=this.wrappedPicker.pick(a);if(b.pickResultType!==k.PickResultType.COMPLETE)return b;{let a=b.subchannel,c=a.getMapEntry();if(!c)return Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel()});{let d=b.onCallEnded;return this.countCalls&&(d=(a,d,e)=>{var g;a===f.Status.OK?c.counter.addSuccess():c.counter.addFailure(),null==(g=b.onCallEnded)||g.call(b,a,d,e)}),Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel(),onCallEnded:d})}}}}class C{constructor(a){this.entryMap=new l.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new j.ChildLoadBalancerHandler((0,h.createChildChannelControlHelper)(a,{createSubchannel:(b,c)=>{let d=a.createSubchannel(b,c),e=this.entryMap.getForSubchannelAddress(b),f=new y(d,e);return(null==e?void 0:e.currentEjectionTimestamp)!==null&&f.eject(),null==e||e.subchannelWrappers.push(f),f},updateState:(b,c,d)=>{b===e.ConnectivityState.READY?a.updateState(b,new B(c,this.isCountingEnabled()),d):a.updateState(b,c,d)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let a=0;for(let b of this.entryMap.values())null!==b.currentEjectionTimestamp&&(a+=1);return 100*a/this.entryMap.size}runSuccessRateCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getSuccessRateEjectionConfig();if(!b)return;p("Running success rate check");let c=b.request_volume,d=0,e=[];for(let[a,b]of this.entryMap.entries()){let f=b.counter.getLastSuccesses(),g=b.counter.getLastFailures();p("Stats for "+(0,l.endpointToString)(a)+": successes="+f+" failures="+g+" targetRequestVolume="+c),f+g>=c&&(d+=1,e.push(f/(f+g)))}if(p("Found "+d+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+e+"]"),d<b.minimum_hosts)return;let f=e.reduce((a,b)=>a+b)/e.length,g=0;for(let a of e){let b=a-f;g+=b*b}let h=Math.sqrt(g/e.length),i=f-h*(b.stdev_factor/1e3);for(let[d,e]of(p("stdev="+h+" ejectionThreshold="+i),this.entryMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=e.counter.getLastSuccesses(),g=e.counter.getLastFailures();if(f+g<c)continue;let h=f/(f+g);if(p("Checking candidate "+d+" successRate="+h),h<i){let c=100*Math.random();p("Candidate "+d+" randomNumber="+c+" enforcement_percentage="+b.enforcement_percentage),c<b.enforcement_percentage&&(p("Ejecting candidate "+d),this.eject(e,a))}}}runFailurePercentageCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getFailurePercentageEjectionConfig();if(!b)return;p("Running failure percentage check. threshold="+b.threshold+" request volume threshold="+b.request_volume);let c=0;for(let a of this.entryMap.values())a.counter.getLastSuccesses()+a.counter.getLastFailures()>=b.request_volume&&(c+=1);if(!(c<b.minimum_hosts))for(let[c,d]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let e=d.counter.getLastSuccesses(),f=d.counter.getLastFailures();if((p("Candidate successes="+e+" failures="+f),!(e+f<b.request_volume))&&100*f/(f+e)>b.threshold){let e=100*Math.random();p("Candidate "+c+" randomNumber="+e+" enforcement_percentage="+b.enforcement_percentage),e<b.enforcement_percentage&&(p("Ejecting candidate "+c),this.eject(d,a))}}}eject(a,b){for(let b of(a.currentEjectionTimestamp=new Date,a.ejectionTimeMultiplier+=1,a.subchannelWrappers))b.eject()}uneject(a){for(let b of(a.currentEjectionTimestamp=null,a.subchannelWrappers))b.uneject()}switchAllBuckets(){for(let a of this.entryMap.values())a.counter.switchBuckets()}startTimer(a){var b,c;this.ejectionTimer=setTimeout(()=>this.runChecks(),a),null==(c=(b=this.ejectionTimer).unref)||c.call(b)}runChecks(){let a=new Date;if(p("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[b,c]of(this.timerStartTime=a,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(a),this.runFailurePercentageCheck(a),this.entryMap.entries()))if(null===c.currentEjectionTimestamp)c.ejectionTimeMultiplier>0&&(c.ejectionTimeMultiplier-=1);else{let a=this.latestConfig.getBaseEjectionTimeMs(),d=this.latestConfig.getMaxEjectionTimeMs(),e=new Date(c.currentEjectionTimestamp.getTime());e.setMilliseconds(e.getMilliseconds()+Math.min(a*c.ejectionTimeMultiplier,Math.max(a,d))),e<new Date&&(p("Unejecting "+b),this.uneject(c))}}updateAddressList(a,b,c,d){if(!(b instanceof x))return!1;if(p("Received update with config: "+JSON.stringify(b.toJsonObject(),void 0,2)),a.ok){for(let b of a.value)this.entryMap.has(b)||(p("Adding map entry for "+(0,l.endpointToString)(b)),this.entryMap.set(b,{counter:new A,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(a.value)}let e=b.getChildPolicy();if(this.childBalancer.updateAddressList(a,e,c,d),b.getSuccessRateEjectionConfig()||b.getFailurePercentageEjectionConfig())if(this.timerStartTime){p("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=b.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else p("Starting new timer"),this.timerStartTime=new Date,this.startTimer(b.getIntervalMs()),this.switchAllBuckets();else for(let a of(p("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.entryMap.values()))this.uneject(a),a.ejectionTimeMultiplier=0;return this.latestConfig=b,!0}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return q}}function D(){r&&(0,h.registerLoadBalancerType)(q,C,x)}b.OutlierDetectionLoadBalancer=C},46727:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ESpanKind:()=>d,JsonLogsSerializer:()=>j.Go,JsonMetricsSerializer:()=>j.Ko,JsonTraceSerializer:()=>j.U1,ProtobufLogsSerializer:()=>i.xc,ProtobufMetricsSerializer:()=>i.Dm,ProtobufTraceSerializer:()=>i.nW,createExportLogsServiceRequest:()=>h.W,createExportMetricsServiceRequest:()=>g.K,createExportTraceServiceRequest:()=>f.s,encodeAsLongBits:()=>e.z3,encodeAsString:()=>e.SP,getOtlpEncoder:()=>e.Az,hrTimeToNanos:()=>e.qd,toLongBits:()=>e.II});var d,e=c(16426);!function(a){a[a.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",a[a.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",a[a.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",a[a.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",a[a.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",a[a.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(d||(d={}));var f=c(80764),g=c(44080),h=c(28392),i=c(20795),j=c(30648)},46732:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(39279),e=c(53864),f=c(59762),g=c(20241);b.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),n=j.items?(0,d.getSchemaTypes)(j.items):[];function o(){let d=b.let("i",(0,e._)`${c}.length`),f=b.let("j");a.setParams({i:d,j:f}),b.assign(m,!0),b.if((0,e._)`${d} > 1`,()=>(p()?q:r)(d,f))}function p(){return n.length>0&&!n.some(a=>"object"===a||"array"===a)}function q(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(n,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),n.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}function r(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))}a.block$data(m,o,(0,e._)`${k} === false`),a.ok(m)}}},46862:(a,b,c)=>{"use strict";c.d(b,{x:()=>d});var d="1.25.1"},46923:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SPAN_KIND="span.kind",b.SPAN_KIND_RPC_CLIENT="client",b.SPAN_KIND_RPC_SERVER="server",b.SPAN_KIND_MESSAGING_PRODUCER="producer",b.SPAN_KIND_MESSAGING_CONSUMER="consumer",b.ERROR="error",b.COMPONENT="component",b.SAMPLING_PRIORITY="sampling.priority",b.PEER_SERVICE="peer.service",b.PEER_HOSTNAME="peer.hostname",b.PEER_ADDRESS="peer.address",b.PEER_HOST_IPV4="peer.ipv4",b.PEER_HOST_IPV6="peer.ipv6",b.PEER_PORT="peer.port",b.HTTP_URL="http.url",b.HTTP_METHOD="http.method",b.HTTP_STATUS_CODE="http.status_code",b.MESSAGE_BUS_DESTINATION="message_bus.destination",b.DB_INSTANCE="db.instance",b.DB_STATEMENT="db.statement",b.DB_TYPE="db.type",b.DB_USER="db.user"},46963:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(87099);d.code='require("ajv/dist/runtime/uri").default',b.default=d},47265:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.experimental=b.ServerMetricRecorder=b.ServerInterceptingCall=b.ResponderBuilder=b.ServerListenerBuilder=b.addAdminServicesToServer=b.getChannelzHandlers=b.getChannelzServiceDefinition=b.InterceptorConfigurationError=b.InterceptingCall=b.RequesterBuilder=b.ListenerBuilder=b.StatusBuilder=b.getClientChannel=b.ServerCredentials=b.Server=b.setLogVerbosity=b.setLogger=b.load=b.loadObject=b.CallCredentials=b.ChannelCredentials=b.waitForClientReady=b.closeClient=b.Channel=b.makeGenericClientConstructor=b.makeClientConstructor=b.loadPackageDefinition=b.Client=b.compressionAlgorithms=b.propagate=b.connectivityState=b.status=b.logVerbosity=b.Metadata=b.credentials=void 0;let d=c(10589);Object.defineProperty(b,"CallCredentials",{enumerable:!0,get:function(){return d.CallCredentials}});let e=c(83640);Object.defineProperty(b,"Channel",{enumerable:!0,get:function(){return e.ChannelImplementation}});let f=c(81842);Object.defineProperty(b,"compressionAlgorithms",{enumerable:!0,get:function(){return f.CompressionAlgorithms}});let g=c(80158);Object.defineProperty(b,"connectivityState",{enumerable:!0,get:function(){return g.ConnectivityState}});let h=c(97945);Object.defineProperty(b,"ChannelCredentials",{enumerable:!0,get:function(){return h.ChannelCredentials}});let i=c(12582);Object.defineProperty(b,"Client",{enumerable:!0,get:function(){return i.Client}});let j=c(56458);Object.defineProperty(b,"logVerbosity",{enumerable:!0,get:function(){return j.LogVerbosity}}),Object.defineProperty(b,"status",{enumerable:!0,get:function(){return j.Status}}),Object.defineProperty(b,"propagate",{enumerable:!0,get:function(){return j.Propagate}});let k=c(38702),l=c(89439);Object.defineProperty(b,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(b,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(b,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});let m=c(33604);Object.defineProperty(b,"Metadata",{enumerable:!0,get:function(){return m.Metadata}});let n=c(26850);Object.defineProperty(b,"Server",{enumerable:!0,get:function(){return n.Server}});let o=c(65875);Object.defineProperty(b,"ServerCredentials",{enumerable:!0,get:function(){return o.ServerCredentials}});let p=c(37699);Object.defineProperty(b,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),b.credentials={combineChannelCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),combineCallCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),createInsecure:h.ChannelCredentials.createInsecure,createSsl:h.ChannelCredentials.createSsl,createFromSecureContext:h.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:d.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:d.CallCredentials.createFromGoogleCredential,createEmpty:d.CallCredentials.createEmpty},b.closeClient=a=>a.close(),b.waitForClientReady=(a,b,c)=>a.waitForReady(b,c),b.loadObject=(a,b)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},b.load=(a,b,c)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},b.setLogger=a=>{k.setLogger(a)},b.setLogVerbosity=a=>{k.setLoggerVerbosity(a)},b.getClientChannel=a=>i.Client.prototype.getChannel.call(a);var q=c(73475);Object.defineProperty(b,"ListenerBuilder",{enumerable:!0,get:function(){return q.ListenerBuilder}}),Object.defineProperty(b,"RequesterBuilder",{enumerable:!0,get:function(){return q.RequesterBuilder}}),Object.defineProperty(b,"InterceptingCall",{enumerable:!0,get:function(){return q.InterceptingCall}}),Object.defineProperty(b,"InterceptorConfigurationError",{enumerable:!0,get:function(){return q.InterceptorConfigurationError}});var r=c(49682);Object.defineProperty(b,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return r.getChannelzServiceDefinition}}),Object.defineProperty(b,"getChannelzHandlers",{enumerable:!0,get:function(){return r.getChannelzHandlers}});var s=c(10272);Object.defineProperty(b,"addAdminServicesToServer",{enumerable:!0,get:function(){return s.addAdminServicesToServer}});var t=c(53567);Object.defineProperty(b,"ServerListenerBuilder",{enumerable:!0,get:function(){return t.ServerListenerBuilder}}),Object.defineProperty(b,"ResponderBuilder",{enumerable:!0,get:function(){return t.ResponderBuilder}}),Object.defineProperty(b,"ServerInterceptingCall",{enumerable:!0,get:function(){return t.ServerInterceptingCall}});var u=c(35696);Object.defineProperty(b,"ServerMetricRecorder",{enumerable:!0,get:function(){return u.ServerMetricRecorder}}),b.experimental=c(7261);let v=c(67463),w=c(57514),x=c(53849),y=c(8557),z=c(85786),A=c(46687),B=c(37048),C=c(49682);(()=>{v.setup(),w.setup(),x.setup(),y.setup(),z.setup(),A.setup(),B.setup(),C.setup()})()},47314:(a,b,c)=>{"use strict";c.d(b,{q:()=>k});var d,e=c(46862),f="process.runtime.name",g="telemetry.sdk.name",h="telemetry.sdk.language",i="telemetry.sdk.version",j="nodejs",k=((d={})[g]="opentelemetry",d[f]="node",d[h]=j,d[i]=e.x,d)},47338:(a,b,c)=>{"use strict";function d(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d];e&&(b[String(e).toUpperCase().replace(/[-.]/g,"_")]=e)}return b}c.r(b),c.d(b,{AWSECSLAUNCHTYPEVALUES_EC2:()=>kL,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>kM,AwsEcsLaunchtypeValues:()=>kN,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>kr,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>ks,CLOUDPLATFORMVALUES_AWS_EC2:()=>kt,CLOUDPLATFORMVALUES_AWS_ECS:()=>ku,CLOUDPLATFORMVALUES_AWS_EKS:()=>kv,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>kx,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>kw,CLOUDPLATFORMVALUES_AZURE_AKS:()=>kA,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>kC,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>kz,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>kB,CLOUDPLATFORMVALUES_AZURE_VM:()=>ky,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>kH,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>kG,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>kE,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>kD,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>kF,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>j5,CLOUDPROVIDERVALUES_AWS:()=>j6,CLOUDPROVIDERVALUES_AZURE:()=>j7,CLOUDPROVIDERVALUES_GCP:()=>j8,CloudPlatformValues:()=>kI,CloudProviderValues:()=>j9,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>e4,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>fc,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>e5,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>fb,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>e7,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>fe,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>e8,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>e6,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>fd,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>fa,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>e9,DBSYSTEMVALUES_ADABAS:()=>eq,DBSYSTEMVALUES_CACHE:()=>ep,DBSYSTEMVALUES_CASSANDRA:()=>eH,DBSYSTEMVALUES_CLOUDSCAPE:()=>eh,DBSYSTEMVALUES_COCKROACHDB:()=>eT,DBSYSTEMVALUES_COLDFUSION:()=>eG,DBSYSTEMVALUES_COSMOSDB:()=>eN,DBSYSTEMVALUES_COUCHBASE:()=>eL,DBSYSTEMVALUES_COUCHDB:()=>eM,DBSYSTEMVALUES_DB2:()=>ed,DBSYSTEMVALUES_DERBY:()=>es,DBSYSTEMVALUES_DYNAMODB:()=>eO,DBSYSTEMVALUES_EDB:()=>eo,DBSYSTEMVALUES_ELASTICSEARCH:()=>eR,DBSYSTEMVALUES_FILEMAKER:()=>et,DBSYSTEMVALUES_FIREBIRD:()=>er,DBSYSTEMVALUES_FIRSTSQL:()=>en,DBSYSTEMVALUES_GEODE:()=>eQ,DBSYSTEMVALUES_H2:()=>eF,DBSYSTEMVALUES_HANADB:()=>el,DBSYSTEMVALUES_HBASE:()=>eI,DBSYSTEMVALUES_HIVE:()=>eg,DBSYSTEMVALUES_HSQLDB:()=>ei,DBSYSTEMVALUES_INFORMIX:()=>eu,DBSYSTEMVALUES_INGRES:()=>em,DBSYSTEMVALUES_INSTANTDB:()=>ev,DBSYSTEMVALUES_INTERBASE:()=>ew,DBSYSTEMVALUES_MARIADB:()=>ex,DBSYSTEMVALUES_MAXDB:()=>ek,DBSYSTEMVALUES_MEMCACHED:()=>eS,DBSYSTEMVALUES_MONGODB:()=>eJ,DBSYSTEMVALUES_MSSQL:()=>ea,DBSYSTEMVALUES_MYSQL:()=>eb,DBSYSTEMVALUES_NEO4J:()=>eP,DBSYSTEMVALUES_NETEZZA:()=>ey,DBSYSTEMVALUES_ORACLE:()=>ec,DBSYSTEMVALUES_OTHER_SQL:()=>d9,DBSYSTEMVALUES_PERVASIVE:()=>ez,DBSYSTEMVALUES_POINTBASE:()=>eA,DBSYSTEMVALUES_POSTGRESQL:()=>ee,DBSYSTEMVALUES_PROGRESS:()=>ej,DBSYSTEMVALUES_REDIS:()=>eK,DBSYSTEMVALUES_REDSHIFT:()=>ef,DBSYSTEMVALUES_SQLITE:()=>eB,DBSYSTEMVALUES_SYBASE:()=>eC,DBSYSTEMVALUES_TERADATA:()=>eD,DBSYSTEMVALUES_VERTICA:()=>eE,DbCassandraConsistencyLevelValues:()=>ff,DbSystemValues:()=>eU,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>fw,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>fv,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>fu,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>fC,FAASINVOKEDPROVIDERVALUES_AWS:()=>fD,FAASINVOKEDPROVIDERVALUES_AZURE:()=>fE,FAASINVOKEDPROVIDERVALUES_GCP:()=>fF,FAASTRIGGERVALUES_DATASOURCE:()=>fl,FAASTRIGGERVALUES_HTTP:()=>fm,FAASTRIGGERVALUES_OTHER:()=>fp,FAASTRIGGERVALUES_PUBSUB:()=>fn,FAASTRIGGERVALUES_TIMER:()=>fo,FaasDocumentOperationValues:()=>fx,FaasInvokedProviderValues:()=>fG,FaasTriggerValues:()=>fq,HOSTARCHVALUES_AMD64:()=>kV,HOSTARCHVALUES_ARM32:()=>kW,HOSTARCHVALUES_ARM64:()=>kX,HOSTARCHVALUES_IA64:()=>kY,HOSTARCHVALUES_PPC32:()=>kZ,HOSTARCHVALUES_PPC64:()=>k$,HOSTARCHVALUES_X86:()=>k_,HTTPFLAVORVALUES_HTTP_1_0:()=>gR,HTTPFLAVORVALUES_HTTP_1_1:()=>gS,HTTPFLAVORVALUES_HTTP_2_0:()=>gT,HTTPFLAVORVALUES_QUIC:()=>gV,HTTPFLAVORVALUES_SPDY:()=>gU,HostArchValues:()=>k0,HttpFlavorValues:()=>gW,MESSAGETYPEVALUES_RECEIVED:()=>hq,MESSAGETYPEVALUES_SENT:()=>hp,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>gZ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>g$,MESSAGINGOPERATIONVALUES_PROCESS:()=>g3,MESSAGINGOPERATIONVALUES_RECEIVE:()=>g2,MessageTypeValues:()=>hr,MessagingDestinationKindValues:()=>g_,MessagingOperationValues:()=>g4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>gt,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>gw,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>gr,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>gD,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>gu,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>gv,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>gB,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>gq,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>gF,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>gx,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>gz,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>gE,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>gy,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>gA,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>gH,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>gC,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>gK,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>gI,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>gJ,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>gG,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>gs,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>f1,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>f2,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>f3,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>f_,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>f0,NETTRANSPORTVALUES_INPROC:()=>fT,NETTRANSPORTVALUES_IP:()=>fQ,NETTRANSPORTVALUES_IP_TCP:()=>fO,NETTRANSPORTVALUES_IP_UDP:()=>fP,NETTRANSPORTVALUES_OTHER:()=>fU,NETTRANSPORTVALUES_PIPE:()=>fS,NETTRANSPORTVALUES_UNIX:()=>fR,NetHostConnectionSubtypeValues:()=>gL,NetHostConnectionTypeValues:()=>f4,NetTransportValues:()=>fV,OSTYPEVALUES_AIX:()=>lk,OSTYPEVALUES_DARWIN:()=>le,OSTYPEVALUES_DRAGONFLYBSD:()=>li,OSTYPEVALUES_FREEBSD:()=>lf,OSTYPEVALUES_HPUX:()=>lj,OSTYPEVALUES_LINUX:()=>ld,OSTYPEVALUES_NETBSD:()=>lg,OSTYPEVALUES_OPENBSD:()=>lh,OSTYPEVALUES_SOLARIS:()=>ll,OSTYPEVALUES_WINDOWS:()=>lc,OSTYPEVALUES_Z_OS:()=>lm,OsTypeValues:()=>ln,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>hf,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>hb,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>g6,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>hk,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>g9,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>he,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>hi,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>g8,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>ha,RPCGRPCSTATUSCODEVALUES_OK:()=>g5,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>hg,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>hc,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>hd,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>hl,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>hj,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>hh,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>g7,RpcGrpcStatusCodeValues:()=>hm,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>cH,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>cT,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>cE,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>cA,SEMATTRS_AWS_DYNAMODB_COUNT:()=>cR,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>cM,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>cK,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>cU,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>cI,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>cB,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>cG,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>cL,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>cF,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>cC,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>cD,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>cS,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>cO,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cP,SEMATTRS_AWS_DYNAMODB_SELECT:()=>cJ,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>cN,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>cz,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>cQ,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bo,SEMATTRS_CODE_FILEPATH:()=>ci,SEMATTRS_CODE_FUNCTION:()=>cg,SEMATTRS_CODE_LINENO:()=>cj,SEMATTRS_CODE_NAMESPACE:()=>ch,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>bz,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>bE,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>bD,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>bB,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>bx,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>by,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>bC,SEMATTRS_DB_CASSANDRA_TABLE:()=>bA,SEMATTRS_DB_CONNECTION_STRING:()=>bq,SEMATTRS_DB_HBASE_NAMESPACE:()=>bF,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>bs,SEMATTRS_DB_MONGODB_COLLECTION:()=>bH,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>bw,SEMATTRS_DB_NAME:()=>bt,SEMATTRS_DB_OPERATION:()=>bv,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>bG,SEMATTRS_DB_SQL_TABLE:()=>bI,SEMATTRS_DB_STATEMENT:()=>bu,SEMATTRS_DB_SYSTEM:()=>bp,SEMATTRS_DB_USER:()=>br,SEMATTRS_ENDUSER_ID:()=>cb,SEMATTRS_ENDUSER_ROLE:()=>cc,SEMATTRS_ENDUSER_SCOPE:()=>cd,SEMATTRS_EXCEPTION_ESCAPED:()=>bM,SEMATTRS_EXCEPTION_MESSAGE:()=>bK,SEMATTRS_EXCEPTION_STACKTRACE:()=>bL,SEMATTRS_EXCEPTION_TYPE:()=>bJ,SEMATTRS_FAAS_COLDSTART:()=>bV,SEMATTRS_FAAS_CRON:()=>bU,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>bP,SEMATTRS_FAAS_DOCUMENT_NAME:()=>bS,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>bQ,SEMATTRS_FAAS_DOCUMENT_TIME:()=>bR,SEMATTRS_FAAS_EXECUTION:()=>bO,SEMATTRS_FAAS_INVOKED_NAME:()=>bW,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>bX,SEMATTRS_FAAS_INVOKED_REGION:()=>bY,SEMATTRS_FAAS_TIME:()=>bT,SEMATTRS_FAAS_TRIGGER:()=>bN,SEMATTRS_HTTP_CLIENT_IP:()=>cy,SEMATTRS_HTTP_FLAVOR:()=>cq,SEMATTRS_HTTP_HOST:()=>cn,SEMATTRS_HTTP_METHOD:()=>ck,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>cs,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>ct,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>cu,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>cv,SEMATTRS_HTTP_ROUTE:()=>cx,SEMATTRS_HTTP_SCHEME:()=>co,SEMATTRS_HTTP_SERVER_NAME:()=>cw,SEMATTRS_HTTP_STATUS_CODE:()=>cp,SEMATTRS_HTTP_TARGET:()=>cm,SEMATTRS_HTTP_URL:()=>cl,SEMATTRS_HTTP_USER_AGENT:()=>cr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>dm,SEMATTRS_MESSAGE_ID:()=>dl,SEMATTRS_MESSAGE_TYPE:()=>dk,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>dn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>c5,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>c1,SEMATTRS_MESSAGING_DESTINATION:()=>cW,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>cX,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>c9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>c8,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>c7,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>da,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>db,SEMATTRS_MESSAGING_MESSAGE_ID:()=>c0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>c3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>c2,SEMATTRS_MESSAGING_OPERATION:()=>c4,SEMATTRS_MESSAGING_PROTOCOL:()=>cZ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>c$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>c6,SEMATTRS_MESSAGING_SYSTEM:()=>cV,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>cY,SEMATTRS_MESSAGING_URL:()=>c_,SEMATTRS_NET_HOST_CARRIER_ICC:()=>b9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>b7,SEMATTRS_NET_HOST_CARRIER_MNC:()=>b8,SEMATTRS_NET_HOST_CARRIER_NAME:()=>b6,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>b5,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>b4,SEMATTRS_NET_HOST_IP:()=>b1,SEMATTRS_NET_HOST_NAME:()=>b3,SEMATTRS_NET_HOST_PORT:()=>b2,SEMATTRS_NET_PEER_IP:()=>b$,SEMATTRS_NET_PEER_NAME:()=>b0,SEMATTRS_NET_PEER_PORT:()=>b_,SEMATTRS_NET_TRANSPORT:()=>bZ,SEMATTRS_PEER_SERVICE:()=>ca,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>df,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>di,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>dj,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>dh,SEMATTRS_RPC_JSONRPC_VERSION:()=>dg,SEMATTRS_RPC_METHOD:()=>de,SEMATTRS_RPC_SERVICE:()=>dd,SEMATTRS_RPC_SYSTEM:()=>dc,SEMATTRS_THREAD_ID:()=>ce,SEMATTRS_THREAD_NAME:()=>cf,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>iR,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>iQ,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>iS,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>iT,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>iU,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>iV,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>iW,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>iY,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>iX,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>i$,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>iZ,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>iM,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>iO,SEMRESATTRS_CLOUD_PLATFORM:()=>iP,SEMRESATTRS_CLOUD_PROVIDER:()=>iL,SEMRESATTRS_CLOUD_REGION:()=>iN,SEMRESATTRS_CONTAINER_ID:()=>i0,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>i2,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>i3,SEMRESATTRS_CONTAINER_NAME:()=>i_,SEMRESATTRS_CONTAINER_RUNTIME:()=>i1,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>i4,SEMRESATTRS_DEVICE_ID:()=>i5,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>i6,SEMRESATTRS_DEVICE_MODEL_NAME:()=>i7,SEMRESATTRS_FAAS_ID:()=>i9,SEMRESATTRS_FAAS_INSTANCE:()=>jb,SEMRESATTRS_FAAS_MAX_MEMORY:()=>jc,SEMRESATTRS_FAAS_NAME:()=>i8,SEMRESATTRS_FAAS_VERSION:()=>ja,SEMRESATTRS_HOST_ARCH:()=>jg,SEMRESATTRS_HOST_ID:()=>jd,SEMRESATTRS_HOST_IMAGE_ID:()=>ji,SEMRESATTRS_HOST_IMAGE_NAME:()=>jh,SEMRESATTRS_HOST_IMAGE_VERSION:()=>jj,SEMRESATTRS_HOST_NAME:()=>je,SEMRESATTRS_HOST_TYPE:()=>jf,SEMRESATTRS_K8S_CLUSTER_NAME:()=>jk,SEMRESATTRS_K8S_CONTAINER_NAME:()=>jq,SEMRESATTRS_K8S_CRONJOB_NAME:()=>jC,SEMRESATTRS_K8S_CRONJOB_UID:()=>jB,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>jy,SEMRESATTRS_K8S_DAEMONSET_UID:()=>jx,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>ju,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>jt,SEMRESATTRS_K8S_JOB_NAME:()=>jA,SEMRESATTRS_K8S_JOB_UID:()=>jz,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>jn,SEMRESATTRS_K8S_NODE_NAME:()=>jl,SEMRESATTRS_K8S_NODE_UID:()=>jm,SEMRESATTRS_K8S_POD_NAME:()=>jp,SEMRESATTRS_K8S_POD_UID:()=>jo,SEMRESATTRS_K8S_REPLICASET_NAME:()=>js,SEMRESATTRS_K8S_REPLICASET_UID:()=>jr,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>jw,SEMRESATTRS_K8S_STATEFULSET_UID:()=>jv,SEMRESATTRS_OS_DESCRIPTION:()=>jE,SEMRESATTRS_OS_NAME:()=>jF,SEMRESATTRS_OS_TYPE:()=>jD,SEMRESATTRS_OS_VERSION:()=>jG,SEMRESATTRS_PROCESS_COMMAND:()=>jK,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>jM,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>jL,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>jI,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>jJ,SEMRESATTRS_PROCESS_OWNER:()=>jN,SEMRESATTRS_PROCESS_PID:()=>jH,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>jQ,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>jO,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>jP,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>jT,SEMRESATTRS_SERVICE_NAME:()=>jR,SEMRESATTRS_SERVICE_NAMESPACE:()=>jS,SEMRESATTRS_SERVICE_VERSION:()=>jU,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>jY,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>jW,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>jV,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>jX,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>j_,SEMRESATTRS_WEBENGINE_NAME:()=>jZ,SEMRESATTRS_WEBENGINE_VERSION:()=>j$,SemanticAttributes:()=>dp,SemanticResourceAttributes:()=>j0,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>ly,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>lz,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>lA,TELEMETRYSDKLANGUAGEVALUES_GO:()=>lB,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>lC,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>lD,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>lE,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>lF,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>lG,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>lH,TelemetrySdkLanguageValues:()=>lI});var e="aws.lambda.invoked_arn",f="db.system",g="db.connection_string",h="db.user",i="db.jdbc.driver_classname",j="db.name",k="db.statement",l="db.operation",m="db.mssql.instance_name",n="db.cassandra.keyspace",o="db.cassandra.page_size",p="db.cassandra.consistency_level",q="db.cassandra.table",r="db.cassandra.idempotence",s="db.cassandra.speculative_execution_count",t="db.cassandra.coordinator.id",u="db.cassandra.coordinator.dc",v="db.hbase.namespace",w="db.redis.database_index",x="db.mongodb.collection",y="db.sql.table",z="exception.type",A="exception.message",B="exception.stacktrace",C="exception.escaped",D="faas.trigger",E="faas.execution",F="faas.document.collection",G="faas.document.operation",H="faas.document.time",I="faas.document.name",J="faas.time",K="faas.cron",L="faas.coldstart",M="faas.invoked_name",N="faas.invoked_provider",O="faas.invoked_region",P="net.transport",Q="net.peer.ip",R="net.peer.port",S="net.peer.name",T="net.host.ip",U="net.host.port",V="net.host.name",W="net.host.connection.type",X="net.host.connection.subtype",Y="net.host.carrier.name",Z="net.host.carrier.mcc",$="net.host.carrier.mnc",_="net.host.carrier.icc",aa="peer.service",ab="enduser.id",ac="enduser.role",ad="enduser.scope",ae="thread.id",af="thread.name",ag="code.function",ah="code.namespace",ai="code.filepath",aj="code.lineno",ak="http.method",al="http.url",am="http.target",an="http.host",ao="http.scheme",ap="http.status_code",aq="http.flavor",ar="http.user_agent",as="http.request_content_length",at="http.request_content_length_uncompressed",au="http.response_content_length",av="http.response_content_length_uncompressed",aw="http.server_name",ax="http.route",ay="http.client_ip",az="aws.dynamodb.table_names",aA="aws.dynamodb.consumed_capacity",aB="aws.dynamodb.item_collection_metrics",aC="aws.dynamodb.provisioned_read_capacity",aD="aws.dynamodb.provisioned_write_capacity",aE="aws.dynamodb.consistent_read",aF="aws.dynamodb.projection",aG="aws.dynamodb.limit",aH="aws.dynamodb.attributes_to_get",aI="aws.dynamodb.index_name",aJ="aws.dynamodb.select",aK="aws.dynamodb.global_secondary_indexes",aL="aws.dynamodb.local_secondary_indexes",aM="aws.dynamodb.exclusive_start_table",aN="aws.dynamodb.table_count",aO="aws.dynamodb.scan_forward",aP="aws.dynamodb.segment",aQ="aws.dynamodb.total_segments",aR="aws.dynamodb.count",aS="aws.dynamodb.scanned_count",aT="aws.dynamodb.attribute_definitions",aU="aws.dynamodb.global_secondary_index_updates",aV="messaging.system",aW="messaging.destination",aX="messaging.destination_kind",aY="messaging.temp_destination",aZ="messaging.protocol",a$="messaging.protocol_version",a_="messaging.url",a0="messaging.message_id",a1="messaging.conversation_id",a2="messaging.message_payload_size_bytes",a3="messaging.message_payload_compressed_size_bytes",a4="messaging.operation",a5="messaging.consumer_id",a6="messaging.rabbitmq.routing_key",a7="messaging.kafka.message_key",a8="messaging.kafka.consumer_group",a9="messaging.kafka.client_id",ba="messaging.kafka.partition",bb="messaging.kafka.tombstone",bc="rpc.system",bd="rpc.service",be="rpc.method",bf="rpc.grpc.status_code",bg="rpc.jsonrpc.version",bh="rpc.jsonrpc.request_id",bi="rpc.jsonrpc.error_code",bj="rpc.jsonrpc.error_message",bk="message.type",bl="message.id",bm="message.compressed_size",bn="message.uncompressed_size",bo=e,bp=f,bq=g,br=h,bs=i,bt=j,bu=k,bv=l,bw=m,bx=n,by=o,bz=p,bA=q,bB=r,bC=s,bD=t,bE=u,bF=v,bG=w,bH=x,bI=y,bJ=z,bK=A,bL=B,bM=C,bN=D,bO=E,bP=F,bQ=G,bR=H,bS=I,bT=J,bU=K,bV=L,bW=M,bX=N,bY=O,bZ=P,b$=Q,b_=R,b0=S,b1=T,b2=U,b3=V,b4=W,b5=X,b6=Y,b7=Z,b8=$,b9=_,ca=aa,cb=ab,cc=ac,cd=ad,ce=ae,cf=af,cg=ag,ch=ah,ci=ai,cj=aj,ck=ak,cl=al,cm=am,cn=an,co=ao,cp=ap,cq=aq,cr=ar,cs=as,ct=at,cu=au,cv=av,cw=aw,cx=ax,cy=ay,cz=az,cA=aA,cB=aB,cC=aC,cD=aD,cE=aE,cF=aF,cG=aG,cH=aH,cI=aI,cJ=aJ,cK=aK,cL=aL,cM=aM,cN=aN,cO=aO,cP=aP,cQ=aQ,cR=aR,cS=aS,cT=aT,cU=aU,cV=aV,cW=aW,cX=aX,cY=aY,cZ=aZ,c$=a$,c_=a_,c0=a0,c1=a1,c2=a2,c3=a3,c4=a4,c5=a5,c6=a6,c7=a7,c8=a8,c9=a9,da=ba,db=bb,dc=bc,dd=bd,de=be,df=bf,dg=bg,dh=bh,di=bi,dj=bj,dk=bk,dl=bl,dm=bm,dn=bn,dp=d([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn]),dq="other_sql",dr="mssql",ds="mysql",dt="oracle",du="db2",dv="postgresql",dw="redshift",dx="hive",dy="cloudscape",dz="hsqldb",dA="progress",dB="maxdb",dC="hanadb",dD="ingres",dE="firstsql",dF="edb",dG="cache",dH="adabas",dI="firebird",dJ="derby",dK="filemaker",dL="informix",dM="instantdb",dN="interbase",dO="mariadb",dP="netezza",dQ="pervasive",dR="pointbase",dS="sqlite",dT="sybase",dU="teradata",dV="vertica",dW="h2",dX="coldfusion",dY="cassandra",dZ="hbase",d$="mongodb",d_="redis",d0="couchbase",d1="couchdb",d2="cosmosdb",d3="dynamodb",d4="neo4j",d5="geode",d6="elasticsearch",d7="memcached",d8="cockroachdb",d9=dq,ea=dr,eb=ds,ec=dt,ed=du,ee=dv,ef=dw,eg=dx,eh=dy,ei=dz,ej=dA,ek=dB,el=dC,em=dD,en=dE,eo=dF,ep=dG,eq=dH,er=dI,es=dJ,et=dK,eu=dL,ev=dM,ew=dN,ex=dO,ey=dP,ez=dQ,eA=dR,eB=dS,eC=dT,eD=dU,eE=dV,eF=dW,eG=dX,eH=dY,eI=dZ,eJ=d$,eK=d_,eL=d0,eM=d1,eN=d2,eO=d3,eP=d4,eQ=d5,eR=d6,eS=d7,eT=d8,eU=d([dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d$,d_,d0,d1,d2,d3,d4,d5,d6,d7,d8]),eV="all",eW="each_quorum",eX="quorum",eY="local_quorum",eZ="one",e$="two",e_="three",e0="local_one",e1="any",e2="serial",e3="local_serial",e4=eV,e5=eW,e6=eX,e7=eY,e8=eZ,e9=e$,fa=e_,fb=e0,fc=e1,fd=e2,fe=e3,ff=d([eV,eW,eX,eY,eZ,e$,e_,e0,e1,e2,e3]),fg="datasource",fh="http",fi="pubsub",fj="timer",fk="other",fl=fg,fm=fh,fn=fi,fo=fj,fp=fk,fq=d([fg,fh,fi,fj,fk]),fr="insert",fs="edit",ft="delete",fu=fr,fv=fs,fw=ft,fx=d([fr,fs,ft]),fy="alibaba_cloud",fz="aws",fA="azure",fB="gcp",fC=fy,fD=fz,fE=fA,fF=fB,fG=d([fy,fz,fA,fB]),fH="ip_tcp",fI="ip_udp",fJ="ip",fK="unix",fL="pipe",fM="inproc",fN="other",fO=fH,fP=fI,fQ=fJ,fR=fK,fS=fL,fT=fM,fU=fN,fV=d([fH,fI,fJ,fK,fL,fM,fN]),fW="wifi",fX="wired",fY="cell",fZ="unavailable",f$="unknown",f_=fW,f0=fX,f1=fY,f2=fZ,f3=f$,f4=d([fW,fX,fY,fZ,f$]),f5="gprs",f6="edge",f7="umts",f8="cdma",f9="evdo_0",ga="evdo_a",gb="cdma2000_1xrtt",gc="hsdpa",gd="hsupa",ge="hspa",gf="iden",gg="evdo_b",gh="lte",gi="ehrpd",gj="hspap",gk="gsm",gl="td_scdma",gm="iwlan",gn="nr",go="nrnsa",gp="lte_ca",gq=f5,gr=f6,gs=f7,gt=f8,gu=f9,gv=ga,gw=gb,gx=gc,gy=gd,gz=ge,gA=gf,gB=gg,gC=gh,gD=gi,gE=gj,gF=gk,gG=gl,gH=gm,gI=gn,gJ=go,gK=gp,gL=d([f5,f6,f7,f8,f9,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp]),gM="1.0",gN="1.1",gO="2.0",gP="SPDY",gQ="QUIC",gR=gM,gS=gN,gT=gO,gU=gP,gV=gQ,gW={HTTP_1_0:gM,HTTP_1_1:gN,HTTP_2_0:gO,SPDY:gP,QUIC:gQ},gX="queue",gY="topic",gZ=gX,g$=gY,g_=d([gX,gY]),g0="receive",g1="process",g2=g0,g3=g1,g4=d([g0,g1]),g5=0,g6=1,g7=2,g8=3,g9=4,ha=5,hb=6,hc=7,hd=8,he=9,hf=10,hg=11,hh=12,hi=13,hj=14,hk=15,hl=16,hm={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},hn="SENT",ho="RECEIVED",hp=hn,hq=ho,hr=d([hn,ho]),hs="cloud.provider",ht="cloud.account.id",hu="cloud.region",hv="cloud.availability_zone",hw="cloud.platform",hx="aws.ecs.container.arn",hy="aws.ecs.cluster.arn",hz="aws.ecs.launchtype",hA="aws.ecs.task.arn",hB="aws.ecs.task.family",hC="aws.ecs.task.revision",hD="aws.eks.cluster.arn",hE="aws.log.group.names",hF="aws.log.group.arns",hG="aws.log.stream.names",hH="aws.log.stream.arns",hI="container.name",hJ="container.id",hK="container.runtime",hL="container.image.name",hM="container.image.tag",hN="deployment.environment",hO="device.id",hP="device.model.identifier",hQ="device.model.name",hR="faas.name",hS="faas.id",hT="faas.version",hU="faas.instance",hV="faas.max_memory",hW="host.id",hX="host.name",hY="host.type",hZ="host.arch",h$="host.image.name",h_="host.image.id",h0="host.image.version",h1="k8s.cluster.name",h2="k8s.node.name",h3="k8s.node.uid",h4="k8s.namespace.name",h5="k8s.pod.uid",h6="k8s.pod.name",h7="k8s.container.name",h8="k8s.replicaset.uid",h9="k8s.replicaset.name",ia="k8s.deployment.uid",ib="k8s.deployment.name",ic="k8s.statefulset.uid",id="k8s.statefulset.name",ie="k8s.daemonset.uid",ig="k8s.daemonset.name",ih="k8s.job.uid",ii="k8s.job.name",ij="k8s.cronjob.uid",ik="k8s.cronjob.name",il="os.type",im="os.description",io="os.name",ip="os.version",iq="process.pid",ir="process.executable.name",is="process.executable.path",it="process.command",iu="process.command_line",iv="process.command_args",iw="process.owner",ix="process.runtime.name",iy="process.runtime.version",iz="process.runtime.description",iA="service.name",iB="service.namespace",iC="service.instance.id",iD="service.version",iE="telemetry.sdk.name",iF="telemetry.sdk.language",iG="telemetry.sdk.version",iH="telemetry.auto.version",iI="webengine.name",iJ="webengine.version",iK="webengine.description",iL=hs,iM=ht,iN=hu,iO=hv,iP=hw,iQ=hx,iR=hy,iS=hz,iT=hA,iU=hB,iV=hC,iW=hD,iX=hE,iY=hF,iZ=hG,i$=hH,i_=hI,i0=hJ,i1=hK,i2=hL,i3=hM,i4=hN,i5=hO,i6=hP,i7=hQ,i8=hR,i9=hS,ja=hT,jb=hU,jc=hV,jd=hW,je=hX,jf=hY,jg=hZ,jh=h$,ji=h_,jj=h0,jk=h1,jl=h2,jm=h3,jn=h4,jo=h5,jp=h6,jq=h7,jr=h8,js=h9,jt=ia,ju=ib,jv=ic,jw=id,jx=ie,jy=ig,jz=ih,jA=ii,jB=ij,jC=ik,jD=il,jE=im,jF=io,jG=ip,jH=iq,jI=ir,jJ=is,jK=it,jL=iu,jM=iv,jN=iw,jO=ix,jP=iy,jQ=iz,jR=iA,jS=iB,jT=iC,jU=iD,jV=iE,jW=iF,jX=iG,jY=iH,jZ=iI,j$=iJ,j_=iK,j0=d([hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h$,h_,h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,ia,ib,ic,id,ie,ig,ih,ii,ij,ik,il,im,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK]),j1="alibaba_cloud",j2="aws",j3="azure",j4="gcp",j5=j1,j6=j2,j7=j3,j8=j4,j9=d([j1,j2,j3,j4]),ka="alibaba_cloud_ecs",kb="alibaba_cloud_fc",kc="aws_ec2",kd="aws_ecs",ke="aws_eks",kf="aws_lambda",kg="aws_elastic_beanstalk",kh="azure_vm",ki="azure_container_instances",kj="azure_aks",kk="azure_functions",kl="azure_app_service",km="gcp_compute_engine",kn="gcp_cloud_run",ko="gcp_kubernetes_engine",kp="gcp_cloud_functions",kq="gcp_app_engine",kr=ka,ks=kb,kt=kc,ku=kd,kv=ke,kw=kf,kx=kg,ky=kh,kz=ki,kA=kj,kB=kk,kC=kl,kD=km,kE=kn,kF=ko,kG=kp,kH=kq,kI=d([ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk,kl,km,kn,ko,kp,kq]),kJ="ec2",kK="fargate",kL=kJ,kM=kK,kN=d([kJ,kK]),kO="amd64",kP="arm32",kQ="arm64",kR="ia64",kS="ppc32",kT="ppc64",kU="x86",kV=kO,kW=kP,kX=kQ,kY=kR,kZ=kS,k$=kT,k_=kU,k0=d([kO,kP,kQ,kR,kS,kT,kU]),k1="windows",k2="linux",k3="darwin",k4="freebsd",k5="netbsd",k6="openbsd",k7="dragonflybsd",k8="hpux",k9="aix",la="solaris",lb="z_os",lc=k1,ld=k2,le=k3,lf=k4,lg=k5,lh=k6,li=k7,lj=k8,lk=k9,ll=la,lm=lb,ln=d([k1,k2,k3,k4,k5,k6,k7,k8,k9,la,lb]),lo="cpp",lp="dotnet",lq="erlang",lr="go",ls="java",lt="nodejs",lu="php",lv="python",lw="ruby",lx="webjs",ly=lo,lz=lp,lA=lq,lB=lr,lC=ls,lD=lt,lE=lu,lF=lv,lG=lw,lH=lx,lI=d([lo,lp,lq,lr,ls,lt,lu,lv,lw,lx])},47443:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b,c)=>(a=new d(a,c),b=new d(b,c),a.intersects(b,c))},47586:a=>{"use strict";let b=Object.freeze({loose:!0}),c=Object.freeze({});a.exports=a=>a?"object"!=typeof a?b:a:c},47628:(a,b,c)=>{"use strict";a.exports=i;var d,e=c(16813),f=e.LongBits,g=e.utf8;function h(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function i(a){this.buf=a,this.pos=0,this.len=a.length}var j="undefined"!=typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new i(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new i(a);throw Error("illegal buffer")},k=function(){return e.Buffer?function(a){return(i.create=function(a){return e.Buffer.isBuffer(a)?new d(a):j(a)})(a)}:j};function l(){var a=new f(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw h(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw h(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function m(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function n(){if(this.pos+8>this.len)throw h(this,8);return new f(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}i.create=k(),i.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,i.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,h(this,10);return a}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw h(this,4);return m(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw h(this,4);return 0|m(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw h(this,4);var a=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},i.prototype.double=function(){if(this.pos+8>this.len)throw h(this,4);var a=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},i.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw h(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var d=e.Buffer;return d?d.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},i.prototype.string=function(){var a=this.bytes();return g.read(a,0,a.length)},i.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw h(this,a);this.pos+=a}else do if(this.pos>=this.len)throw h(this);while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},i._configure=function(a){d=a,i.create=k(),d._configure();var b=e.Long?"toLong":"toNumber";e.merge(i.prototype,{int64:function(){return l.call(this)[b](!1)},uint64:function(){return l.call(this)[b](!0)},sint64:function(){return l.call(this).zzDecode()[b](!1)},fixed64:function(){return n.call(this)[b](!0)},sfixed64:function(){return n.call(this)[b](!1)}})}},48089:(a,b,c)=>{"use strict";var d=c(76368),e=c(34709),f=c(68423),g=c(41604);function h(a,b=!0,c){if(a){let g=(a,b,d)=>{let e="number"==typeof a?a:Array.isArray(a)?a[0]:a.offset;if(c)c(e,b,d);else throw new f.YAMLParseError([e,e+1],b,d)};switch(a.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return e.resolveFlowScalar(a,b,g);case"block-scalar":return d.resolveBlockScalar({options:{strict:b}},a,g)}}return null}function i(a,b,c={}){let{afterKey:d=!1,implicitKey:e=!1,inFlow:f=!1,type:h}=c,k="indent"in a?a.indent:null;if(d&&"number"==typeof k&&(k+=2),!h)switch(a.type){case"single-quoted-scalar":h="QUOTE_SINGLE";break;case"double-quoted-scalar":h="QUOTE_DOUBLE";break;case"block-scalar":{let b=a.props[0];if("block-scalar-header"!==b.type)throw Error("Invalid block scalar header");h=">"===b.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:h="PLAIN"}let m=g.stringifyString({type:h,value:b},{implicitKey:e||null===k,indent:null!==k&&k>0?" ".repeat(k):"",inFlow:f,options:{blockQuote:!0,lineWidth:-1}});switch(m[0]){case"|":case">":j(a,m);break;case'"':l(a,m,"double-quoted-scalar");break;case"'":l(a,m,"single-quoted-scalar");break;default:l(a,m,"scalar")}}function j(a,b){let c=b.indexOf("\n"),d=b.substring(0,c),e=b.substring(c+1)+"\n";if("block-scalar"===a.type){let b=a.props[0];if("block-scalar-header"!==b.type)throw Error("Invalid block scalar header");b.source=d,a.source=e}else{let{offset:b}=a,c="indent"in a?a.indent:-1,f=[{type:"block-scalar-header",offset:b,indent:c,source:d}];for(let b of(k(f,"end"in a?a.end:void 0)||f.push({type:"newline",offset:-1,indent:c,source:"\n"}),Object.keys(a)))"type"!==b&&"offset"!==b&&delete a[b];Object.assign(a,{type:"block-scalar",indent:c,props:f,source:e})}}function k(a,b){if(b)for(let c of b)switch(c.type){case"space":case"comment":a.push(c);break;case"newline":return a.push(c),!0}return!1}function l(a,b,c){switch(a.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":a.type=c,a.source=b;break;case"block-scalar":{let d=a.props.slice(1),e=b.length;for(let b of("block-scalar-header"===a.props[0].type&&(e-=a.props[0].source.length),d))b.offset+=e;delete a.props,Object.assign(a,{type:c,source:b,end:d});break}case"block-map":case"block-seq":{let d={type:"newline",offset:a.offset+b.length,indent:a.indent,source:"\n"};delete a.items,Object.assign(a,{type:c,source:b,end:[d]});break}default:{let d="indent"in a?a.indent:-1,e="end"in a&&Array.isArray(a.end)?a.end.filter(a=>"space"===a.type||"comment"===a.type||"newline"===a.type):[];for(let b of Object.keys(a))"type"!==b&&"offset"!==b&&delete a[b];Object.assign(a,{type:c,indent:d,source:b,end:e})}}}b.createScalarToken=function(a,b){let{implicitKey:c=!1,indent:d,inFlow:e=!1,offset:f=-1,type:h="PLAIN"}=b,i=g.stringifyString({type:h,value:a},{implicitKey:c,indent:d>0?" ".repeat(d):"",inFlow:e,options:{blockQuote:!0,lineWidth:-1}}),j=b.end??[{type:"newline",offset:-1,indent:d,source:"\n"}];switch(i[0]){case"|":case">":{let a=i.indexOf("\n"),b=i.substring(0,a),c=i.substring(a+1)+"\n",e=[{type:"block-scalar-header",offset:f,indent:d,source:b}];return k(e,j)||e.push({type:"newline",offset:-1,indent:d,source:"\n"}),{type:"block-scalar",offset:f,indent:d,props:e,source:c}}case'"':return{type:"double-quoted-scalar",offset:f,indent:d,source:i,end:j};case"'":return{type:"single-quoted-scalar",offset:f,indent:d,source:i,end:j};default:return{type:"scalar",offset:f,indent:d,source:i,end:j}}},b.resolveAsScalar=h,b.setScalarValue=i},48097:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(22328),e=c(55423),f=c(71367),g=c(76930);b.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let c of l)n(c)?o(c):(b.if((0,e.propertyInData)(b,i,c,j.opts.ownProperties)),o(c),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(c),a.ok(m);function n(a){return j.opts.useDefaults&&!j.compositeRule&&void 0!==c[a].default}function o(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},48145:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CandidateErrorSchema:()=>k.CandidateErrorSchema,CandidateSchema:()=>k.CandidateSchema,CustomPartSchema:()=>k.CustomPartSchema,DataPartSchema:()=>k.DataPartSchema,GenerateRequestSchema:()=>k.GenerateRequestSchema,GenerateResponseChunkSchema:()=>k.GenerateResponseChunkSchema,GenerateResponseSchema:()=>k.GenerateResponseSchema,GenerationCommonConfigDescriptions:()=>k.GenerationCommonConfigDescriptions,GenerationCommonConfigSchema:()=>k.GenerationCommonConfigSchema,GenerationUsageSchema:()=>k.GenerationUsageSchema,MediaPartSchema:()=>k.MediaPartSchema,MessageSchema:()=>k.MessageSchema,ModelInfoSchema:()=>k.ModelInfoSchema,ModelRequestSchema:()=>k.ModelRequestSchema,ModelResponseSchema:()=>k.ModelResponseSchema,PartSchema:()=>k.PartSchema,RoleSchema:()=>k.RoleSchema,TextPartSchema:()=>k.TextPartSchema,ToolDefinitionSchema:()=>k.ToolDefinitionSchema,ToolRequestPartSchema:()=>k.ToolRequestPartSchema,ToolResponsePartSchema:()=>k.ToolResponsePartSchema,getBasicUsageStats:()=>k.getBasicUsageStats,modelRef:()=>k.modelRef,simulateConstrainedGeneration:()=>k.simulateConstrainedGeneration}),a.exports=i(j);var k=c(95403)},48146:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;let d=c(96535),e=c(71367),f=c(55423),g={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return h(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}};function h(a,b,c=a.schema){let{gen:f,parentSchema:g,data:i,keyword:j,it:k}=a;n(g),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);function n(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}}c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}b.validateTuple=h,b.default=g},48709:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;let d=c(53864),e=c(59762);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}b.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},49073:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762),f=c(28872),g=c(94072);b.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},49127:(a,b,c)=>{"use strict";c.d(b,{s:()=>f,u:()=>e});var d=(0,c(89309).o)();function e(a){d=a}function f(a){try{d(a)}catch(a){}}},49176:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};function i(a){for(let b in a)void 0===a[b]?delete a[b]:"object"==typeof a[b]&&i(a[b])}function j(a){if(null==a||Array.isArray(a)||"object"!=typeof a)return a;let b={};for(let c in a)void 0!==a[c]&&(b[c]=j(a[c]));return b}function k(){return process.env.GENKIT_ENV||"prod"}function l(){return"dev"===k()}function m(a){return`feature:${a}`}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{deleteUndefinedProps:()=>i,featureMetadataPrefix:()=>m,getCurrentEnv:()=>k,isDevEnv:()=>l,stripUndefinedProps:()=>j}),a.exports=g(h)},49528:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{OperationSchema:()=>r,backgroundAction:()=>w,defineBackgroundAction:()=>u,isBackgroundAction:()=>x,lookupBackgroundAction:()=>s,registerBackgroundAction:()=>v}),a.exports=l(m);var n=k(c(62934)),o=c(24275),p=c(53369),q=c(76944);let r=n.object({action:n.string().optional(),id:n.string(),done:n.boolean().optional(),output:n.any().optional(),error:n.object({message:n.string()}).passthrough().optional(),metadata:n.record(n.string(),n.any()).optional()});async function s(a,b){let c=await a.lookupAction(b);if(!c)return;let d=b.substring(b.indexOf("/",1)+1);return new t(c,await a.lookupAction(`/check-operation/${d}/check`),await a.lookupAction(`/cancel-operation/${d}/cancel`))}class t{__action;startAction;checkAction;cancelAction;constructor(a,b,c){this.__action={name:a.__action.name,description:a.__action.description,inputSchema:a.__action.inputSchema,inputJsonSchema:a.__action.inputJsonSchema,metadata:a.__action.metadata,actionType:a.__action.actionType},this.startAction=a,this.checkAction=b,this.cancelAction=c}async start(a,b){return await this.startAction(a,b)}async check(a){return await this.checkAction(a)}get supportsCancel(){return!!this.cancelAction}async cancel(a){return this.cancelAction?await this.cancelAction(a):a}}function u(a,b){let c=w(b);return v(a,c),c}function v(a,b,c){a.registerAction(b.startAction.__action.actionType,b.startAction,c),a.registerAction(b.checkAction.__action.actionType,b.checkAction,c),b.cancelAction&&a.registerAction(b.cancelAction.__action.actionType,b.cancelAction,c)}function w(a){let b,c=(0,o.action)({actionType:a.actionType,name:a.name,description:a.description,inputSchema:a.inputSchema,inputJsonSchema:a.inputJsonSchema,outputSchema:r,metadata:{...a.metadata,outputSchema:(0,q.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})},use:a.use},async(b,c)=>{let d=await a.start(b,c);return d.action=`/${a.actionType}/${a.name}`,d}),d=(0,o.action)({actionType:"check-operation",name:`${a.name}/check`,description:a.description,inputSchema:r,inputJsonSchema:a.inputJsonSchema,outputSchema:r,metadata:{...a.metadata,outputSchema:(0,q.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})}},async b=>{let c=await a.check(b);return c.action=`/${a.actionType}/${a.name}`,c});return a.cancel&&(b=(0,o.action)({actionType:"cancel-operation",name:`${a.name}/cancel`,description:a.description,inputSchema:r,inputJsonSchema:a.inputJsonSchema,outputSchema:r,metadata:{...a.metadata,outputSchema:(0,q.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})}},async b=>{if(!a.cancel)throw new p.GenkitError({status:"UNAVAILABLE",message:`${a.name} does not support cancellation.`});let c=await a.cancel(b);return c.action=`/${a.actionType}/${a.name}`,c})),new t(c,d,b)}function x(a){return a instanceof t}},49682:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.registerChannelzSocket=b.registerChannelzServer=b.registerChannelzSubchannel=b.registerChannelzChannel=b.ChannelzCallTrackerStub=b.ChannelzCallTracker=b.ChannelzChildrenTrackerStub=b.ChannelzChildrenTracker=b.ChannelzTrace=b.ChannelzTraceStub=void 0,b.unregisterChannelzRef=y,b.getChannelzHandlers=Q,b.getChannelzServiceDefinition=S,b.setup=T;let d=c(91645),e=c(87130),f=c(80158),g=c(56458),h=c(41835),i=c(10272),j=c(89439);function k(a){return{channel_id:a.id,name:a.name}}function l(a){return{subchannel_id:a.id,name:a.name}}function m(a){return{server_id:a.id}}function n(a){return{socket_id:a.id,name:a.name}}let o=32,p=100;class q{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:F(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}b.ChannelzTraceStub=q;class r{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(a,b,c){let d=new Date;this.events.push({description:b,severity:a,timestamp:d,childChannel:(null==c?void 0:c.kind)==="channel"?c:void 0,childSubchannel:(null==c?void 0:c.kind)==="subchannel"?c:void 0}),this.events.length>=2*o&&(this.events=this.events.slice(o)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:F(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(a=>({description:a.description,severity:a.severity,timestamp:F(a.timestamp),channel_ref:a.childChannel?k(a.childChannel):null,subchannel_ref:a.childSubchannel?l(a.childSubchannel):null}))}}}b.ChannelzTrace=r;class s{constructor(){this.channelChildren=new e.OrderedMap,this.subchannelChildren=new e.OrderedMap,this.socketChildren=new e.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(a){let b=this.trackerMap[a.kind],c=b.find(a.id);c.equals(b.end())?b.setElement(a.id,{ref:a,count:1},c):c.pointer[1].count+=1}unrefChild(a){let b=this.trackerMap[a.kind],c=b.getElementByKey(a.id);void 0!==c&&(c.count-=1,0===c.count&&b.eraseElementByKey(a.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}b.ChannelzChildrenTracker=s;class t extends s{refChild(){}unrefChild(){}}b.ChannelzChildrenTrackerStub=t;class u{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}b.ChannelzCallTracker=u;class v extends u{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}b.ChannelzCallTrackerStub=v;let w={channel:new e.OrderedMap,subchannel:new e.OrderedMap,server:new e.OrderedMap,socket:new e.OrderedMap},x=a=>{let b=1;function c(){return b++}let d=w[a];return(b,e,f)=>{let g=c(),h={id:g,name:b,kind:a};return f&&d.setElement(g,{ref:h,getInfo:e}),h}};function y(a){w[a.kind].eraseElementByKey(a.id)}function z(a){let b=Number.parseInt(a,16);return[b/256|0,b%256]}function A(a){return""===a?[]:[].concat(...a.split(":").map(a=>z(a)))}function B(a){return(0,d.isIPv6)(a)&&a.toLowerCase().startsWith("::ffff:")&&(0,d.isIPv4)(a.substring(7))}function C(a){return Buffer.from(Uint8Array.from(a.split(".").map(a=>Number.parseInt(a))))}function D(a){if((0,d.isIPv4)(a))return C(a);if(B(a))return C(a.substring(7));if(!(0,d.isIPv6)(a))return null;{let b,c,d=a.indexOf("::");-1===d?(b=a,c=""):(b=a.substring(0,d),c=a.substring(d+2));let e=Buffer.from(A(b)),f=Buffer.from(A(c)),g=Buffer.alloc(16-e.length-f.length,0);return Buffer.concat([e,g,f])}}function E(a){switch(a){case f.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case f.ConnectivityState.IDLE:return{state:"IDLE"};case f.ConnectivityState.READY:return{state:"READY"};case f.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case f.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function F(a){if(!a)return null;let b=a.getTime();return{seconds:b/1e3|0,nanos:b%1e3*1e6}}function G(a){let b=a.getInfo(),c=[],d=[];return b.children.channels.forEach(a=>{c.push(k(a[1].ref))}),b.children.subchannels.forEach(a=>{d.push(l(a[1].ref))}),{ref:k(a.ref),data:{target:b.target,state:E(b.state),calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:F(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},channel_ref:c,subchannel_ref:d}}function H(a,b){let c=parseInt(a.request.channel_id,10),d=w.channel.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No channel data found for id "+c});b(null,{channel:G(d)})}function I(a,b){let c,d=parseInt(a.request.max_results,10)||p,e=[],f=parseInt(a.request.start_channel_id,10),g=w.channel;for(c=g.lowerBound(f);!c.equals(g.end())&&e.length<d;c=c.next())e.push(G(c.pointer[1]));b(null,{channel:e,end:c.equals(g.end())})}function J(a){let b=a.getInfo(),c=[];return b.listenerChildren.sockets.forEach(a=>{c.push(n(a[1].ref))}),{ref:m(a.ref),data:{calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:F(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},listen_socket:c}}function K(a,b){let c=parseInt(a.request.server_id,10),d=w.server.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No server data found for id "+c});b(null,{server:J(d)})}function L(a,b){let c,d=parseInt(a.request.max_results,10)||p,e=parseInt(a.request.start_server_id,10),f=w.server,g=[];for(c=f.lowerBound(e);!c.equals(f.end())&&g.length<d;c=c.next())g.push(J(c.pointer[1]));b(null,{server:g,end:c.equals(f.end())})}function M(a,b){let c=parseInt(a.request.subchannel_id,10),d=w.subchannel.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No subchannel data found for id "+c});let e=d.getInfo(),f=[];e.children.sockets.forEach(a=>{f.push(n(a[1].ref))}),b(null,{subchannel:{ref:l(d.ref),data:{target:e.target,state:E(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:F(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},socket_ref:f}})}function N(a){var b;return(0,h.isTcpSubchannelAddress)(a)?{address:"tcpip_address",tcpip_address:{ip_address:null!=(b=D(a.host))?b:void 0,port:a.port}}:{address:"uds_address",uds_address:{filename:a.path}}}function O(a,b){var c,d,e,f,h;let i=parseInt(a.request.socket_id,10),j=w.socket.getElementByKey(i);if(void 0===j)return void b({code:g.Status.NOT_FOUND,details:"No socket data found for id "+i});let k=j.getInfo(),l=k.security?{model:"tls",tls:{cipher_suite:k.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!=(c=k.security.cipherSuiteStandardName)?c:void 0,other_name:null!=(d=k.security.cipherSuiteOtherName)?d:void 0,local_certificate:null!=(e=k.security.localCertificate)?e:void 0,remote_certificate:null!=(f=k.security.remoteCertificate)?f:void 0}}:null;b(null,{socket:{ref:n(j.ref),local:k.localAddress?N(k.localAddress):null,remote:k.remoteAddress?N(k.remoteAddress):null,remote_name:null!=(h=k.remoteName)?h:void 0,security:l,data:{keep_alives_sent:k.keepAlivesSent,streams_started:k.streamsStarted,streams_succeeded:k.streamsSucceeded,streams_failed:k.streamsFailed,last_local_stream_created_timestamp:F(k.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:F(k.lastRemoteStreamCreatedTimestamp),messages_received:k.messagesReceived,messages_sent:k.messagesSent,last_message_received_timestamp:F(k.lastMessageReceivedTimestamp),last_message_sent_timestamp:F(k.lastMessageSentTimestamp),local_flow_control_window:k.localFlowControlWindow?{value:k.localFlowControlWindow}:null,remote_flow_control_window:k.remoteFlowControlWindow?{value:k.remoteFlowControlWindow}:null}}})}function P(a,b){let c,d=parseInt(a.request.server_id,10),e=w.server.getElementByKey(d);if(void 0===e)return void b({code:g.Status.NOT_FOUND,details:"No server data found for id "+d});let f=parseInt(a.request.start_socket_id,10),h=parseInt(a.request.max_results,10)||p,i=e.getInfo().sessionChildren.sockets,j=[];for(c=i.lowerBound(f);!c.equals(i.end())&&j.length<h;c=c.next())j.push(n(c.pointer[1].ref));b(null,{socket_ref:j,end:c.equals(i.end())})}function Q(){return{GetChannel:H,GetTopChannels:I,GetServer:K,GetServers:L,GetSubchannel:M,GetSocket:O,GetServerSockets:P}}b.registerChannelzChannel=x("channel"),b.registerChannelzSubchannel=x("subchannel"),b.registerChannelzServer=x("server"),b.registerChannelzSocket=x("socket");let R=null;function S(){if(R)return R;let a=(0,c(20672).Yi)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return R=(0,j.loadPackageDefinition)(a).grpc.channelz.v1.Channelz.service}function T(){(0,i.registerAdminService)(S,Q)}},49723:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535);b.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxItems"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} items`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},50130:(a,b)=>{"use strict";function c(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}Object.defineProperty(b,"__esModule",{value:!0}),b.setResponseValueAndErrors=b.addErrorMessage=void 0,b.addErrorMessage=c,b.setResponseValueAndErrors=function(a,b,d,e,f){a[b]=d,c(a,b,e,f)}},50212:(a,b)=>{"use strict";var c;b.SchemaType=void 0,function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"}(b.SchemaType||(b.SchemaType={})),b.ExecutableCodeLanguage=void 0,function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"}(b.ExecutableCodeLanguage||(b.ExecutableCodeLanguage={})),b.Outcome=void 0,function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(b.Outcome||(b.Outcome={}));let d=["user","model","function","system"];b.HarmCategory=void 0,function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(b.HarmCategory||(b.HarmCategory={})),b.HarmBlockThreshold=void 0,function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"}(b.HarmBlockThreshold||(b.HarmBlockThreshold={})),b.HarmProbability=void 0,function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"}(b.HarmProbability||(b.HarmProbability={})),b.BlockReason=void 0,function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"}(b.BlockReason||(b.BlockReason={})),b.FinishReason=void 0,function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"}(b.FinishReason||(b.FinishReason={})),b.TaskType=void 0,function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"}(b.TaskType||(b.TaskType={})),b.FunctionCallingMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"}(b.FunctionCallingMode||(b.FunctionCallingMode={})),b.DynamicRetrievalMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"}(b.DynamicRetrievalMode||(b.DynamicRetrievalMode={}));class e extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class f extends e{constructor(a,b){super(a),this.response=b}}class g extends e{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class h extends e{}class i extends e{}let j="https://generativelanguage.googleapis.com",k="v1beta",l="0.24.1",m="genai-js";!function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"}(c||(c={}));class n{constructor(a,b,c,d,e){this.model=a,this.task=b,this.apiKey=c,this.stream=d,this.requestOptions=e}toString(){var a,b;let c=(null==(a=this.requestOptions)?void 0:a.apiVersion)||k,d=(null==(b=this.requestOptions)?void 0:b.baseUrl)||j,e=`${d}/${c}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function o(a){let b=[];return(null==a?void 0:a.apiClient)&&b.push(a.apiClient),b.push(`${m}/${l}`),b.join(" ")}async function p(a){var b;let c=new Headers;c.append("Content-Type","application/json"),c.append("x-goog-api-client",o(a.requestOptions)),c.append("x-goog-api-key",a.apiKey);let d=null==(b=a.requestOptions)?void 0:b.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(a){throw new h(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${a.message}`)}for(let[a,b]of d.entries()){if("x-goog-api-key"===a)throw new h(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new h(`Header name ${a} can only be set using the apiClient field`);c.append(a,b)}}return c}async function q(a,b,c,d,e,f){let g=new n(a,b,c,d,f);return{url:g.toString(),fetchOptions:Object.assign(Object.assign({},v(f)),{method:"POST",headers:await p(g),body:e})}}async function r(a,b,c,d,e,f={},g=fetch){let{url:h,fetchOptions:i}=await q(a,b,c,d,e,f);return s(h,i,g)}async function s(a,b,c=fetch){let d;try{d=await c(a,b)}catch(b){t(b,a)}return d.ok||await u(d,a),d}function t(a,b){let c=a;throw"AbortError"===c.name?(c=new i(`Request aborted when fetching ${b.toString()}: ${a.message}`)).stack=a.stack:a instanceof g||a instanceof h||((c=new e(`Error fetching from ${b.toString()}: ${a.message}`)).stack=a.stack),c}async function u(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new g(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}function v(a){let b={};if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let c=new AbortController;(null==a?void 0:a.timeout)>=0&&setTimeout(()=>c.abort(),a.timeout),(null==a?void 0:a.signal)&&a.signal.addEventListener("abort",()=>{c.abort()}),b.signal=c.signal}return b}function w(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),A(a.candidates[0]))throw new f(`${B(a)}`,a);return x(a)}if(a.promptFeedback)throw new f(`Text not available. ${B(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(a.candidates[0]))throw new f(`${B(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),y(a)[0]}if(a.promptFeedback)throw new f(`Function call not available. ${B(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(a.candidates[0]))throw new f(`${B(a)}`,a);return y(a)}if(a.promptFeedback)throw new f(`Function call not available. ${B(a)}`,a)},a}function x(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.text&&f.push(b.text),b.executableCode&&f.push("\n```"+b.executableCode.language+"\n"+b.executableCode.code+"\n```\n"),b.codeExecutionResult&&f.push("\n```\n"+b.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function y(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.functionCall&&f.push(b.functionCall);return f.length>0?f:void 0}let z=[b.FinishReason.RECITATION,b.FinishReason.SAFETY,b.FinishReason.LANGUAGE];function A(a){return!!a.finishReason&&z.includes(a.finishReason)}function B(a){var b,c,d;let e="";if((!a.candidates||0===a.candidates.length)&&a.promptFeedback)e+="Response was blocked",(null==(b=a.promptFeedback)?void 0:b.blockReason)&&(e+=` due to ${a.promptFeedback.blockReason}`),(null==(c=a.promptFeedback)?void 0:c.blockReasonMessage)&&(e+=`: ${a.promptFeedback.blockReasonMessage}`);else if(null==(d=a.candidates)?void 0:d[0]){let b=a.candidates[0];A(b)&&(e+=`Candidate was blocked due to ${b.finishReason}`,b.finishMessage&&(e+=`: ${b.finishMessage}`))}return e}function C(a){return this instanceof C?(this.v=a,this):new C(a)}function D(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(a){l(f[0][3],a)}}function i(a){a.value instanceof C?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}"function"==typeof SuppressedError&&SuppressedError;let E=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function F(a){let[b,c]=I(a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:H(b),response:G(c)}}async function G(a){let b=[],c=a.getReader();for(;;){let{done:a,value:d}=await c.read();if(a)return w(J(b));b.push(d)}}function H(a){return D(this,arguments,function*(){let b=a.getReader();for(;;){let{value:a,done:c}=yield C(b.read());if(c)break;yield yield C(w(a))}})}function I(a){let b=a.getReader();return new ReadableStream({start(a){let c="";return d();function d(){return b.read().then(({value:b,done:f})=>{let g;if(f)return c.trim()?void a.error(new e("Failed to parse stream")):void a.close();let h=(c+=b).match(E);for(;h;){try{g=JSON.parse(h[1])}catch(b){a.error(new e(`Error parsing JSON response: "${h[1]}"`));return}a.enqueue(g),h=(c=c.substring(h[0].length)).match(E)}return d()}).catch(a=>{let b=a;throw b.stack=a.stack,b="AbortError"===b.name?new i("Request aborted when reading from the stream"):new e("Error reading from the stream")})}}})}function J(a){let b=a[a.length-1],c={promptFeedback:null==b?void 0:b.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts){c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]});let b={};for(let e of d.content.parts)e.text&&(b.text=e.text),e.functionCall&&(b.functionCall=e.functionCall),e.executableCode&&(b.executableCode=e.executableCode),e.codeExecutionResult&&(b.codeExecutionResult=e.codeExecutionResult),0===Object.keys(b).length&&(b.text=""),c.candidates[a].content.parts.push(b)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}async function K(a,b,d,e){return F(await r(b,c.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(d),e))}async function L(a,b,d,e){let f=await r(b,c.GENERATE_CONTENT,a,!1,JSON.stringify(d),e);return{response:w(await f.json())}}function M(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}function N(a){let b=[];if("string"==typeof a)b=[{text:a}];else for(let c of a)"string"==typeof c?b.push({text:c}):b.push(c);return O(b)}function O(a){let b={role:"user",parts:[]},c={role:"function",parts:[]},d=!1,f=!1;for(let e of a)"functionResponse"in e?(c.parts.push(e),f=!0):(b.parts.push(e),d=!0);if(d&&f)throw new e("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!d&&!f)throw new e("No content is provided for sending chat message.");return d?b:c}function P(a,b){var c;let d={model:null==b?void 0:b.model,generationConfig:null==b?void 0:b.generationConfig,safetySettings:null==b?void 0:b.safetySettings,tools:null==b?void 0:b.tools,toolConfig:null==b?void 0:b.toolConfig,systemInstruction:null==b?void 0:b.systemInstruction,cachedContent:null==(c=null==b?void 0:b.cachedContent)?void 0:c.name,contents:[]},e=null!=a.generateContentRequest;if(a.contents){if(e)throw new h("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=a.contents}else if(e)d=Object.assign(Object.assign({},d),a.generateContentRequest);else{let b=N(a);d.contents=[b]}return{generateContentRequest:d}}function Q(a){let b;return b=a.contents?a:{contents:[N(a)]},a.systemInstruction&&(b.systemInstruction=M(a.systemInstruction)),b}function R(a){return"string"==typeof a||Array.isArray(a)?{content:N(a)}:a}let S=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],T={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function U(a){let b=!1;for(let c of a){let{role:a,parts:f}=c;if(!b&&"user"!==a)throw new e(`First content should be with role 'user', got ${a}`);if(!d.includes(a))throw new e(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(d)}`);if(!Array.isArray(f))throw new e("Content should have 'parts' property with an array of Parts");if(0===f.length)throw new e("Each Content should have at least one part");let g={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of f)for(let b of S)b in a&&(g[b]+=1);let h=T[a];for(let b of S)if(!h.includes(b)&&g[b]>0)throw new e(`Content with role '${a}' can't contain '${b}' part`);b=!0}}function V(a){var b;if(void 0===a.candidates||0===a.candidates.length)return!1;let c=null==(b=a.candidates[0])?void 0:b.content;if(void 0===c||void 0===c.parts||0===c.parts.length)return!1;for(let a of c.parts)if(void 0===a||0===Object.keys(a).length||void 0!==a.text&&""===a.text)return!1;return!0}let W="SILENT_ERROR";class X{constructor(a,b,c,d={}){this.model=b,this.params=c,this._requestOptions=d,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,(null==c?void 0:c.history)&&(U(c.history),this._history=c.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,b={}){var c,d,e,f,g,h;let i;await this._sendPromise;let j=N(a),k={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,j]},l=Object.assign(Object.assign({},this._requestOptions),b);return this._sendPromise=this._sendPromise.then(()=>L(this._apiKey,this.model,k,l)).then(a=>{var b;if(V(a.response)){this._history.push(j);let c=Object.assign({parts:[],role:"model"},null==(b=a.response.candidates)?void 0:b[0].content);this._history.push(c)}else{let b=B(a.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=a}).catch(a=>{throw this._sendPromise=Promise.resolve(),a}),await this._sendPromise,i}async sendMessageStream(a,b={}){var c,d,e,f,g,h;await this._sendPromise;let i=N(a),j={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,i]},k=Object.assign(Object.assign({},this._requestOptions),b),l=K(this._apiKey,this.model,j,k);return this._sendPromise=this._sendPromise.then(()=>l).catch(a=>{throw Error(W)}).then(a=>a.response).then(a=>{if(V(a)){this._history.push(i);let b=Object.assign({},a.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{let b=B(a);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(a=>{a.message!==W&&console.error(a)}),l}}async function Y(a,b,d,e){return(await r(b,c.COUNT_TOKENS,a,!1,JSON.stringify(d),e)).json()}async function Z(a,b,d,e){return(await r(b,c.EMBED_CONTENT,a,!1,JSON.stringify(d),e)).json()}async function $(a,b,d,e){let f=d.requests.map(a=>Object.assign(Object.assign({},a),{model:b}));return(await r(b,c.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:f}),e)).json()}class _{constructor(a,b,c={}){this.apiKey=a,this._requestOptions=c,b.model.includes("/")?this.model=b.model:this.model=`models/${b.model}`,this.generationConfig=b.generationConfig||{},this.safetySettings=b.safetySettings||[],this.tools=b.tools,this.toolConfig=b.toolConfig,this.systemInstruction=M(b.systemInstruction),this.cachedContent=b.cachedContent}async generateContent(a,b={}){var c;let d=Q(a),e=Object.assign(Object.assign({},this._requestOptions),b);return L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}async generateContentStream(a,b={}){var c;let d=Q(a),e=Object.assign(Object.assign({},this._requestOptions),b);return K(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}startChat(a){var b;return new X(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(b=this.cachedContent)?void 0:b.name},a),this._requestOptions)}async countTokens(a,b={}){let c=P(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),d=Object.assign(Object.assign({},this._requestOptions),b);return Y(this.apiKey,this.model,c,d)}async embedContent(a,b={}){let c=R(a),d=Object.assign(Object.assign({},this._requestOptions),b);return Z(this.apiKey,this.model,c,d)}async batchEmbedContents(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b);return $(this.apiKey,this.model,a,c)}}class aa{constructor(a){this.apiKey=a}getGenerativeModel(a,b){if(!a.model)throw new e("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new _(this.apiKey,a,b)}getGenerativeModelFromCachedContent(a,b,c){if(!a.name)throw new h("Cached content must contain a `name` field.");if(!a.model)throw new h("Cached content must contain a `model` field.");for(let c of["model","systemInstruction"])if((null==b?void 0:b[c])&&a[c]&&(null==b?void 0:b[c])!==a[c]){if("model"===c&&(b.model.startsWith("models/")?b.model.replace("models/",""):b.model)===(a.model.startsWith("models/")?a.model.replace("models/",""):a.model))continue;throw new h(`Different value for "${c}" specified in modelParams (${b[c]}) and cachedContent (${a[c]})`)}let d=Object.assign(Object.assign({},b),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new _(this.apiKey,d,c)}}b.ChatSession=X,b.GenerativeModel=_,b.GoogleGenerativeAI=aa,b.GoogleGenerativeAIAbortError=i,b.GoogleGenerativeAIError=e,b.GoogleGenerativeAIFetchError=g,b.GoogleGenerativeAIRequestInputError=h,b.GoogleGenerativeAIResponseError=f,b.POSSIBLE_ROLES=d},50227:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeTracerProvider=void 0;let d=c(18831),e=c(22351),f=c(51859),g=c(16260),h=c(84191);class i extends f.BasicTracerProvider{constructor(a={}){super(a)}register(a={}){void 0===a.contextManager&&(a.contextManager=new(g.gte(process.version,"14.8.0")?d.AsyncLocalStorageContextManager:d.AsyncHooksContextManager),a.contextManager.enable()),super.register(a)}}b.NodeTracerProvider=i,i._registeredPropagators=new Map([...f.BasicTracerProvider._registeredPropagators,["b3",()=>new e.B3Propagator({injectEncoding:e.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new e.B3Propagator({injectEncoding:e.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new h.JaegerPropagator]])},50300:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Session:()=>o,SessionError:()=>s,getCurrentSession:()=>r,inMemorySessionStore:()=>t,runWithSession:()=>q}),a.exports=i(j);var k=c(40979),l=c(96581),m=c(44066),n=c(72300);class o{constructor(a,b){this.registry=a,this.id=b?.id??(0,l.v4)(),this.sessionData=b?.sessionData??{id:this.id},this.sessionData||(this.sessionData={id:this.id}),this.sessionData.threads||(this.sessionData.threads={}),this.store=b?.store??new u}id;sessionData;store;get state(){return this.sessionData.state}async updateState(a){let b=this.sessionData;b||(b={}),b.state=a,this.sessionData=b,await this.store.save(this.id,b)}async updateMessages(a,b){let c=this.sessionData;c||(c={}),c.threads||(c.threads={}),c.threads[a]=b.map(a=>a.toJSON?a.toJSON():a),this.sessionData=c,await this.store.save(this.id,c)}chat(a,b,c){return q(this.registry,this,()=>{let d,e,f,g=m.MAIN_THREAD;if(a&&("string"==typeof a?g=a:(0,n.isExecutablePrompt)(a)?e=a:d=a),b&&((0,n.isExecutablePrompt)(b)?e=b:d=b),c&&(d=c),e){let a=d;f=e.render(a?.input,a).then(a=>({...a,messages:(0,n.tagAsPreamble)(a?.messages)}))}else{let a={...d},b=[];a.system&&b.push({role:"system",content:n.Message.parseContent(a.system)}),delete a.system,a.messages&&b.push(...a.messages),a.messages=(0,n.tagAsPreamble)(b),f=Promise.resolve(a)}return new m.Chat(this,f,{thread:g,id:this.id,messages:(this.sessionData?.threads&&this.sessionData?.threads[g])??[]})})}run(a){return q(this.registry,this,a)}toJSON(){return this.sessionData}}let p="ai.session";function q(a,b,c){return(0,k.getAsyncContext)().run(p,b,c)}function r(a){return(0,k.getAsyncContext)().getStore(p)}class s extends Error{constructor(a){super(a)}}function t(){return new u}class u{data={};async get(a){return this.data[a]}async save(a,b){this.data[a]=b}}},50344:(a,b,c)=>{"use strict";c.d(b,{D:()=>h});var d=c(13590),e=c(79361),f=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},g=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};function h(){return f(this,void 0,void 0,function(){var a,b,c;return g(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,(0,d.q)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:if(!(a=f.sent().stdout.split("\n").find(function(a){return a.includes("IOPlatformUUID")})))return[2,""];if(2===(b=a.split('" = "')).length)return[2,b[1].slice(0,-1)];return[3,3];case 2:return c=f.sent(),e.s.debug("error reading machine id: "+c),[3,3];case 3:return[2,""]}})})}},50398:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;let d=c(59762),e=c(15792),f=c(66065),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);b.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!i(a):!!b&&j(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a){for(let b in a){if(h.has(b))return!0;let c=a[b];if(Array.isArray(c)&&c.some(i)||"object"==typeof c&&i(c))return!0}return!1}function j(a){let b=0;for(let c in a)if("$ref"===c||(b++,!g.has(c)&&("object"==typeof a[c]&&(0,d.eachItem)(a[c],a=>b+=j(a)),b===1/0)))return 1/0;return b}function k(a,b="",c){!1!==c&&(b=n(b));let d=a.parse(b);return l(a,d)}function l(a,b){return a.serialize(b).split("#")[0]+"#"}b.getFullPath=k,b._getFullPath=l;let m=/#\/?$/;function n(a){return a?a.replace(m,""):""}b.normalizeId=n,b.resolveUrl=function(a,b,c){return c=n(c),a.resolve(b,c)};let o=/^[a-z_][-a-z0-9._]*$/i;b.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=n(a[c]||b),h={"":g},i=k(d,g,!1),j={},l=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=i+b,g=h[e];function k(b){let c=this.opts.uriResolver.resolve;if(b=n(g?c(g,b):b),l.has(b))throw p(b);l.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?m(a,d.schema,b):b!==n(f)&&("#"===b[0]?(m(a,j[b],b),j[b]=a):this.refs[b]=f),b}function q(a){if("string"==typeof a){if(!o.test(a))throw Error(`invalid anchor "${a}"`);k.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=k.call(this,a[c])),q.call(this,a.$anchor),q.call(this,a.$dynamicAnchor),h[b]=g}),j;function m(a,b,c){if(void 0!==b&&!e(a,b))throw p(c)}function p(a){return Error(`reference "${a}" resolves to more than one schema`)}}},50403:(a,b,c)=>{"use strict";let d=Symbol("SemVer ANY");class e{static get ANY(){return d}constructor(a,b){if(b=f(b),a instanceof e)if(!!b.loose===a.loose)return a;else a=a.value;j("comparator",a=a.trim().split(/\s+/).join(" "),b),this.options=b,this.loose=!!b.loose,this.parse(a),this.semver===d?this.value="":this.value=this.operator+this.semver.version,j("comp",this)}parse(a){let b=this.options.loose?g[h.COMPARATORLOOSE]:g[h.COMPARATOR],c=a.match(b);if(!c)throw TypeError(`Invalid comparator: ${a}`);this.operator=void 0!==c[1]?c[1]:"","="===this.operator&&(this.operator=""),c[2]?this.semver=new k(c[2],this.options.loose):this.semver=d}toString(){return this.value}test(a){if(j("Comparator.test",a,this.options.loose),this.semver===d||a===d)return!0;if("string"==typeof a)try{a=new k(a,this.options)}catch(a){return!1}return i(a,this.operator,this.semver,this.options)}intersects(a,b){if(!(a instanceof e))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(a.value,b).test(this.value):""===a.operator?""===a.value||new l(this.value,b).test(a.semver):!((b=f(b)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===a.value)||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||i(this.semver,"<",a.semver,b)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||i(this.semver,">",a.semver,b)&&this.operator.startsWith("<")&&a.operator.startsWith(">"))}}a.exports=e;let f=c(47586),{safeRe:g,t:h}=c(40329),i=c(67418),j=c(50627),k=c(78871),l=c(24346)},50438:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{ToolInterruptError:()=>z,asTool:()=>o,defineInterrupt:()=>y,defineTool:()=>s,dynamicTool:()=>C,interrupt:()=>x,isDynamicTool:()=>w,isToolRequest:()=>u,isToolResponse:()=>v,lookupToolByName:()=>q,resolveTools:()=>p,toToolDefinition:()=>r,tool:()=>B}),a.exports=i(j);var k=c(40979),l=c(76944),m=c(64089),n=c(67842);function o(a,b){if(b.__action?.metadata?.type==="tool")return b;let c=a=>((0,m.setCustomMetadataAttributes)({subtype:"tool"}),b(a));return c.__action={...b.__action,metadata:{...b.__action.metadata,type:"tool"}},c}async function p(a,b){return b&&0!==b.length?await Promise.all(b.map(async b=>{if("string"==typeof b)return await q(a,b);if((0,k.isAction)(b))return o(a,b);if((0,n.isExecutablePrompt)(b))return await b.asTool();if(b.name)return await q(a,b.metadata?.originalName||b.name);throw Error("Tools must be strings, tool definitions, or actions.")})):[]}async function q(a,b){let c=await a.lookupAction(b)||await a.lookupAction(`/tool/${b}`)||await a.lookupAction(`/prompt/${b}`)||await a.lookupAction(`/dynamic-action-provider/${b}`);if(!c)throw Error(`Tool ${b} not found`);return c}function r(a){let b=a.__action.name,c=b;b.includes("/")&&(c=b.substring(b.lastIndexOf("/")+1));let d={name:c,description:a.__action.description||"",outputSchema:(0,l.toJsonSchema)({schema:a.__action.outputSchema??k.z.void(),jsonSchema:a.__action.outputJsonSchema}),inputSchema:(0,l.toJsonSchema)({schema:a.__action.inputSchema??k.z.void(),jsonSchema:a.__action.inputJsonSchema})};return b!==c&&(d.metadata={originalName:b}),d}function s(a,b,c){let d=(0,k.defineAction)(a,{...b,actionType:"tool",metadata:{...b.metadata||{},type:"tool"}},(b,d)=>c(b,{...d,context:{...d.context},interrupt:A(a)}));return t(d,b,a),d}function t(a,b,c){a.respond=(a,d,e)=>(c&&(0,k.assertUnstable)(c,"beta","The 'tool.reply' method is part of the 'interrupts' beta feature."),(0,l.parseSchema)(d,{jsonSchema:b.outputJsonSchema,schema:b.outputSchema}),{toolResponse:(0,k.stripUndefinedProps)({name:a.toolRequest.name,ref:a.toolRequest.ref,output:d}),metadata:{interruptResponse:e?.metadata||!0}}),a.restart=(a,d,e)=>{c&&(0,k.assertUnstable)(c,"beta","The 'tool.restart' method is part of the 'interrupts' beta feature.");let f=e?.replaceInput;return f&&(f=(0,l.parseSchema)(f,{schema:b.inputSchema,jsonSchema:b.inputJsonSchema})),{toolRequest:(0,k.stripUndefinedProps)({name:a.toolRequest.name,ref:a.toolRequest.ref,input:f||a.toolRequest.input}),metadata:(0,k.stripUndefinedProps)({...a.metadata,resumed:d||!0,replacedInput:f?a.toolRequest.input:void 0})}}}function u(a){return!!a.toolRequest}function v(a){return!!a.toolResponse}function w(a){return(0,k.isAction)(a)&&!a.__registry}function x(a){let{requestMetadata:b,...c}=a;return B(c,async(b,{interrupt:c})=>{a.requestMetadata?c("object"==typeof a.requestMetadata?a.requestMetadata:await Promise.resolve(a.requestMetadata(b))):c()})}function y(a,b){let c=x(b);return a.registerAction("tool",c),c}class z extends Error{constructor(a){super(),this.metadata=a,this.name="ToolInterruptError"}}function A(a){return b=>{throw a&&(0,k.assertUnstable)(a,"beta","Tool interrupts are a beta feature."),new z(b)}}function B(a,b){return C(a,b)}function C(a,b){let c=(0,k.action)({...a,actionType:"tool",metadata:{...a.metadata||{},type:"tool",dynamic:!0}},(a,c)=>{let d=A(c.registry);return b?b(a,{...c,context:{...c.context},interrupt:d}):d()});return t(c,a),c.attach=a=>c,c}},50496:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JaegerExporter=void 0;var d=c(63062);Object.defineProperty(b,"JaegerExporter",{enumerable:!0,get:function(){return d.JaegerExporter}})},50613:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.tracing=b.resources=b.node=b.metrics=b.logs=b.core=b.contextBase=b.api=void 0,b.api=c(68948),b.contextBase=c(68948),b.core=c(41625),b.logs=c(62626),b.metrics=c(68345),b.node=c(19889),b.resources=c(80277),b.tracing=c(51859),e(c(53733),b),e(c(73174),b)},50627:a=>{"use strict";a.exports="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{}},50673:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{getAsyncContext:()=>m,setAsyncContext:()=>n}),a.exports=i(j);var k=c(53369);let l="__genkit_AsyncContext";function m(){if(!global[l])throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Async context is not initialized."});return global[l]}function n(a){global[l]||(global[l]=a)}},50931:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{chainStreams:function(){return n},continueDynamicHTMLResume:function(){return H},continueDynamicPrerender:function(){return F},continueFizzStream:function(){return E},continueStaticPrerender:function(){return G},createBufferedTransformStream:function(){return s},createDocumentClosingStream:function(){return I},createRootLayoutValidatorStream:function(){return C},renderToInitialFizzStream:function(){return u},streamFromBuffer:function(){return p},streamFromString:function(){return o},streamToBuffer:function(){return q},streamToString:function(){return r}});let d=c(36821),e=c(45441),f=c(42474),g=c(86331),h=c(93047),i=c(53476),j=c(57941),k=c(54353);function l(){}let m=new TextEncoder;function n(...a){if(0===a.length)return new ReadableStream({start(a){a.close()}});if(1===a.length)return a[0];let{readable:b,writable:c}=new TransformStream,d=a[0].pipeTo(c,{preventClose:!0}),e=1;for(;e<a.length-1;e++){let b=a[e];d=d.then(()=>b.pipeTo(c,{preventClose:!0}))}let f=a[e];return(d=d.then(()=>f.pipeTo(c))).catch(l),b}function o(a){return new ReadableStream({start(b){b.enqueue(m.encode(a)),b.close()}})}function p(a){return new ReadableStream({start(b){b.enqueue(a),b.close()}})}async function q(a){let b=a.getReader(),c=[];for(;;){let{done:a,value:d}=await b.read();if(a)break;c.push(d)}return Buffer.concat(c)}async function r(a,b){let c=new TextDecoder("utf-8",{fatal:!0}),d="";for await(let e of a){if(null==b?void 0:b.aborted)return d;d+=c.decode(e,{stream:!0})}return d+c.decode()}function s(){let a,b=[],c=0,d=d=>{if(a)return;let e=new f.DetachedPromise;a=e,(0,g.scheduleImmediate)(()=>{try{let a=new Uint8Array(c),e=0;for(let c=0;c<b.length;c++){let d=b[c];a.set(d,e),e+=d.byteLength}b.length=0,c=0,d.enqueue(a)}catch{}finally{a=void 0,e.resolve()}})};return new TransformStream({transform(a,e){b.push(a),c+=a.byteLength,d(e)},flush(){if(a)return a.promise}})}function t(a,b){let c=!1;return new TransformStream({transform(d,e){if(a&&!c){c=!0;let a=new TextDecoder("utf-8",{fatal:!0}).decode(d,{stream:!0}),f=(0,k.insertBuildIdComment)(a,b);e.enqueue(m.encode(f));return}e.enqueue(d)}})}function u({ReactDOMServer:a,element:b,streamOptions:c}){return(0,d.getTracer)().trace(e.AppRenderSpan.renderToReadableStream,async()=>a.renderToReadableStream(b,c))}function v(a){let b=-1,c=!1;return new TransformStream({async transform(d,e){let f=-1,g=-1;if(b++,c)return void e.enqueue(d);let j=0;if(-1===f){if(-1===(f=(0,i.indexOfUint8Array)(d,h.ENCODED_TAGS.META.ICON_MARK)))return void e.enqueue(d);47===d[f+(j=h.ENCODED_TAGS.META.ICON_MARK.length)]?j+=2:j++}if(0===b){if(g=(0,i.indexOfUint8Array)(d,h.ENCODED_TAGS.CLOSED.HEAD),-1!==f){if(f<g){let a=new Uint8Array(d.length-j);a.set(d.subarray(0,f)),a.set(d.subarray(f+j),f),d=a}else{let b=await a(),c=m.encode(b),e=c.length,g=new Uint8Array(d.length-j+e);g.set(d.subarray(0,f)),g.set(c,f),g.set(d.subarray(f+j),f+e),d=g}c=!0}}else{let b=await a(),e=m.encode(b),g=e.length,h=new Uint8Array(d.length-j+g);h.set(d.subarray(0,f)),h.set(e,f),h.set(d.subarray(f+j),f+g),d=h,c=!0}e.enqueue(d)}})}function w(a){let b=!1,c=!1;return new TransformStream({async transform(d,e){c=!0;let f=await a();if(b){if(f){let a=m.encode(f);e.enqueue(a)}e.enqueue(d)}else{let a=(0,i.indexOfUint8Array)(d,h.ENCODED_TAGS.CLOSED.HEAD);if(-1!==a){if(f){let b=m.encode(f),c=new Uint8Array(d.length+b.length);c.set(d.slice(0,a)),c.set(b,a),c.set(d.slice(a),a+b.length),e.enqueue(c)}else e.enqueue(d);b=!0}else f&&e.enqueue(m.encode(f)),e.enqueue(d),b=!0}},async flush(b){if(c){let c=await a();c&&b.enqueue(m.encode(c))}}})}function x(a){let b,c=!1,d=c=>{let d=new f.DetachedPromise;b=d,(0,g.scheduleImmediate)(()=>{try{c.enqueue(m.encode(a))}catch{}finally{b=void 0,d.resolve()}})};return new TransformStream({transform(a,b){b.enqueue(a),c||(c=!0,d(b))},flush(d){if(b)return b.promise;c||d.enqueue(m.encode(a))}})}function y(a,b){let c=!1,d=null,e=!1;function f(a){return d||(d=h(a)),d}async function h(d){let f=a.getReader();b&&await (0,g.atLeastOneTask)();try{for(;;){let{done:a,value:h}=await f.read();if(a){e=!0;return}b||c||await (0,g.atLeastOneTask)(),d.enqueue(h)}}catch(a){d.error(a)}}return new TransformStream({start(a){b||f(a)},transform(a,c){c.enqueue(a),b&&f(c)},flush(a){if(c=!0,!e)return f(a)}})}let z="</body></html>";function A(){let a=!1;return new TransformStream({transform(b,c){if(a)return c.enqueue(b);let d=(0,i.indexOfUint8Array)(b,h.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(d>-1){if(a=!0,b.length===h.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let e=b.slice(0,d);if(c.enqueue(e),b.length>h.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+d){let a=b.slice(d+h.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);c.enqueue(a)}}else c.enqueue(b)},flush(a){a.enqueue(h.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function B(){return new TransformStream({transform(a,b){(0,i.isEquivalentUint8Arrays)(a,h.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,i.isEquivalentUint8Arrays)(a,h.ENCODED_TAGS.CLOSED.BODY)||(0,i.isEquivalentUint8Arrays)(a,h.ENCODED_TAGS.CLOSED.HTML)||(a=(0,i.removeFromUint8Array)(a,h.ENCODED_TAGS.CLOSED.BODY),a=(0,i.removeFromUint8Array)(a,h.ENCODED_TAGS.CLOSED.HTML),b.enqueue(a))}})}function C(){let a=!1,b=!1;return new TransformStream({async transform(c,d){!a&&(0,i.indexOfUint8Array)(c,h.ENCODED_TAGS.OPENING.HTML)>-1&&(a=!0),!b&&(0,i.indexOfUint8Array)(c,h.ENCODED_TAGS.OPENING.BODY)>-1&&(b=!0),d.enqueue(c)},flush(c){let d=[];a||d.push("html"),b||d.push("body"),d.length&&c.enqueue(m.encode(`<html id="__next_error__">
            <template
              data-next-error-message="Missing ${d.map(a=>`<${a}>`).join(d.length>1?" and ":"")} tags in the root layout.
Read more at https://nextjs.org/docs/messages/missing-root-layout-tags"
              data-next-error-digest="${j.MISSING_ROOT_TAGS_ERROR}"
              data-next-error-stack=""
            ></template>
          `))}})}function D(a,b){let c=a;for(let a of b)a&&(c=c.pipeThrough(a));return c}async function E(a,{suffix:b,inlinedDataStream:c,isStaticGeneration:d,isBuildTimePrerendering:e,buildId:f,getServerInsertedHTML:g,getServerInsertedMetadata:h,validateRootLayout:i}){let j=b?b.split(z,1)[0]:null;return d&&await a.allReady,D(a,[s(),t(e,f),v(h),null!=j&&j.length>0?x(j):null,c?y(c,!0):null,i?C():null,A(),w(g)])}async function F(a,{getServerInsertedHTML:b,getServerInsertedMetadata:c}){return a.pipeThrough(s()).pipeThrough(B()).pipeThrough(w(b)).pipeThrough(v(c))}async function G(a,{inlinedDataStream:b,getServerInsertedHTML:c,getServerInsertedMetadata:d,isBuildTimePrerendering:e,buildId:f}){return a.pipeThrough(s()).pipeThrough(t(e,f)).pipeThrough(w(c)).pipeThrough(v(d)).pipeThrough(y(b,!0)).pipeThrough(A())}async function H(a,{delayDataUntilFirstHtmlChunk:b,inlinedDataStream:c,getServerInsertedHTML:d,getServerInsertedMetadata:e}){return a.pipeThrough(s()).pipeThrough(w(d)).pipeThrough(v(e)).pipeThrough(y(c,b)).pipeThrough(A())}function I(){return o(z)}},51018:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864);b.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},51064:(a,b,c)=>{"use strict";c.d(b,{I:()=>g});var d=function(){function a(){var a=this;this._promise=new Promise(function(b,c){a._resolve=b,a._reject=c})}return Object.defineProperty(a.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),a.prototype.resolve=function(a){this._resolve(a)},a.prototype.reject=function(a){this._reject(a)},a}(),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(a,b){this._callback=a,this._that=b,this._isCalled=!1,this._deferred=new d}return Object.defineProperty(a.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),a.prototype.call=function(){for(var a,b=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((a=this._callback).call.apply(a,f([this._that],e(c),!1))).then(function(a){return b._deferred.resolve(a)},function(a){return b._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},a}()},51139:(a,b,c)=>{"use strict";var d=c(41604);b.string={identify:a=>"string"==typeof a,default:!0,tag:"tag:yaml.org,2002:str",resolve:a=>a,stringify:(a,b,c,e)=>(b=Object.assign({actualString:!0},b),d.stringifyString(a,b,c,e))}},51227:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ThriftReferenceType=b.HTTPSender=b.ThriftUtils=b.Utils=b.UDPSender=void 0,b.UDPSender=c(12788).default,b.Utils=c(24818).default,b.ThriftUtils=c(80579).default,b.HTTPSender=c(87734).default,function(a){a.CHILD_OF="CHILD_OF",a.FOLLOWS_FROM="FOLLOWS_FROM"}(d=b.ThriftReferenceType||(b.ThriftReferenceType={}))},51318:(a,b,c)=>{"use strict";a.exports=c(9907)},51354:(a,b,c)=>{"use strict";c.d(b,{UD:()=>j,ZI:()=>m,ZS:()=>i,lm:()=>n});var d=c(88018),e=c(58746),f=c(54616),g=c(81588),h=c(23733),i="traceparent",j="tracestate",k="00",l=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function m(a){var b=l.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}var n=function(){function a(){}return a.prototype.inject=function(a,b,c){var h=d.u.getSpanContext(a);if(!(!h||(0,g.Zf)(a))&&(0,e.YA)(h)){var l=k+"-"+h.traceId+"-"+h.spanId+"-0"+Number(h.traceFlags||f.X.NONE).toString(16);c.set(b,i,l),h.traceState&&c.set(b,j,h.traceState.serialize())}},a.prototype.extract=function(a,b,c){var e=c.get(b,i);if(!e)return a;var f=Array.isArray(e)?e[0]:e;if("string"!=typeof f)return a;var g=m(f);if(!g)return a;g.isRemote=!0;var k=c.get(b,j);if(k){var l=Array.isArray(k)?k.join(","):k;g.traceState=new h.n("string"==typeof l?l:void 0)}return d.u.setSpanContext(a,g)},a.prototype.fields=function(){return[i,j]},a}()},51694:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileWatcherCertificateProvider=void 0;let d=c(29021),e=c(38702),f=c(56458),g=c(28354),h="certificate_provider";function i(a){e.trace(f.LogVerbosity.DEBUG,h,a)}let j=(0,g.promisify)(d.readFile);class k{constructor(a){if(this.config=a,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,void 0===a.certificateFile!=(void 0===a.privateKeyFile))throw Error("certificateFile and privateKeyFile must be set or unset together");if(void 0===a.certificateFile&&void 0===a.caCertificateFile)throw Error("At least one of certificateFile and caCertificateFile must be set");i("File watcher constructed with config "+JSON.stringify(a))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?j(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?j(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?j(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([a,b,c])=>{if(this.refreshTimer){for(let d of(i("File watcher read certificates certificate "+a.status+", privateKey "+b.status+", CA certificate "+c.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,"fulfilled"===a.status&&"fulfilled"===b.status?this.latestIdentityUpdate={certificate:a.value,privateKey:b.value}:this.latestIdentityUpdate=null,"fulfilled"===c.status?this.latestCaUpdate={caCertificate:c.value}:this.latestCaUpdate=null,this.identityListeners))d(this.latestIdentityUpdate);for(let a of this.caListeners)a(this.latestCaUpdate)}}),i("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){let a=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;a>this.config.refreshIntervalMs&&this.updateCertificates(),a>2*this.config.refreshIntervalMs&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),i("File watcher started watching")}}maybeStopWatchingFiles(){0===this.caListeners.size&&0===this.identityListeners.size&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(a){this.caListeners.add(a),this.maybeStartWatchingFiles(),void 0!==this.latestCaUpdate&&process.nextTick(a,this.latestCaUpdate)}removeCaCertificateListener(a){this.caListeners.delete(a),this.maybeStopWatchingFiles()}addIdentityCertificateListener(a){this.identityListeners.add(a),this.maybeStartWatchingFiles(),void 0!==this.latestIdentityUpdate&&process.nextTick(a,this.latestIdentityUpdate)}removeIdentityCertificateListener(a){this.identityListeners.delete(a),this.maybeStopWatchingFiles()}}b.FileWatcherCertificateProvider=k},51702:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(15792);d.code='require("ajv/dist/runtime/equal").default',b.default=d},51753:(a,b,c)=>{"use strict";var d=b;function e(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}d.build="minimal",d.Writer=c(44044),d.BufferWriter=c(20793),d.Reader=c(47628),d.BufferReader=c(62937),d.util=c(16813),d.rpc=c(91754),d.roots=c(468),d.configure=e,e()},51809:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(3667),e=c(78404);b.default=(a,b)=>{let c;switch(a.code){case d.ZodIssueCode.invalid_type:c=a.received===e.ZodParsedType.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case d.ZodIssueCode.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.util.jsonStringifyReplacer)}`;break;case d.ZodIssueCode.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.util.joinValues(a.keys,", ")}`;break;case d.ZodIssueCode.invalid_union:c="Invalid input";break;case d.ZodIssueCode.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.util.joinValues(a.options)}`;break;case d.ZodIssueCode.invalid_enum_value:c=`Invalid enum value. Expected ${e.util.joinValues(a.options)}, received '${a.received}'`;break;case d.ZodIssueCode.invalid_arguments:c="Invalid function arguments";break;case d.ZodIssueCode.invalid_return_type:c="Invalid function return type";break;case d.ZodIssueCode.invalid_date:c="Invalid date";break;case d.ZodIssueCode.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.util.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case d.ZodIssueCode.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case d.ZodIssueCode.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case d.ZodIssueCode.custom:c="Invalid input";break;case d.ZodIssueCode.invalid_intersection_types:c="Intersection results could not be merged";break;case d.ZodIssueCode.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case d.ZodIssueCode.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.util.assertNever(a)}return{message:c}}},51859:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>B,AlwaysOnSampler:()=>C,BasicTracerProvider:()=>aj,BatchSpanProcessor:()=>ai,ConsoleSpanExporter:()=>al,ForceFlushState:()=>e,InMemorySpanExporter:()=>ao,NoopSpanProcessor:()=>ac,ParentBasedSampler:()=>F,RandomIdGenerator:()=>S,SamplingDecision:()=>d,SimpleSpanProcessor:()=>as,Span:()=>y,TraceIdRatioBasedSampler:()=>G,Tracer:()=>V});var d,e,f=c(20531),g=c(88018),h=c(79361),i=c(27267),j=c(33890),k=c(37425),l=c(54616),m=c(81588),n=c(32823),o=c(86847),p=c(27845),q=c(99591),r="exception.type",s="exception.message",t="exception.stacktrace",u="exception",v=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},w=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},x=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},y=function(){function a(a,b,c,d,e,f,g,h,i,j){void 0===g&&(g=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:o.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=d,this.parentSpanId=f,this.kind=e,this.links=g;var k=Date.now();this._performanceStartTime=p.u.now(),this._performanceOffset=k-(this._performanceStartTime+(0,q.uc)()),this._startTimeProvided=null!=h,this.startTime=this._getTime(null!=h?h:k),this.resource=a.resource,this.instrumentationLibrary=a.instrumentationLibrary,this._spanLimits=a.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=j&&this.setAttributes(j),this._spanProcessor=a.getActiveSpanProcessor(),this._spanProcessor.onStart(this,b)}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return null==b||this._isSpanEnded()||(0===a.length?h.s.warn("Invalid attribute key: "+a):(0,n.m)(b)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)?this._droppedAttributesCount++:this.attributes[a]=this._truncateToSize(b):h.s.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=v(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=w(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.addEvent=function(a,b,c){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return h.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&h.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,q.Ir)(b)&&((0,q.Ir)(c)||(c=b),b=void 0);var d=(0,n.L)(b);return this.events.push({name:a,attributes:d,time:this._getTime(c),droppedAttributesCount:0}),this},a.prototype.addLink=function(a){return this.links.push(a),this},a.prototype.addLinks=function(a){var b;return(b=this.links).push.apply(b,x([],w(a),!1)),this},a.prototype.setStatus=function(a){return this._isSpanEnded()||(this.status=a),this},a.prototype.updateName=function(a){return this._isSpanEnded()||(this.name=a),this},a.prototype.end=function(a){if(this._isSpanEnded())return void h.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");this._ended=!0,this.endTime=this._getTime(a),this._duration=(0,q.W5)(this.startTime,this.endTime),this._duration[0]<0&&(h.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&h.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},a.prototype._getTime=function(a){if("number"==typeof a&&a<p.u.now())return(0,q._5)(a+this._performanceOffset);if("number"==typeof a)return(0,q.lg)(a);if(a instanceof Date)return(0,q.lg)(a.getTime());if((0,q.VL)(a))return a;if(this._startTimeProvided)return(0,q.lg)(Date.now());var b=p.u.now()-this._performanceStartTime;return(0,q.mw)(this.startTime,(0,q.lg)(b))},a.prototype.isRecording=function(){return!1===this._ended},a.prototype.recordException=function(a,b){var c={};"string"==typeof a?c[s]=a:a&&(a.code?c[r]=a.code.toString():a.name&&(c[r]=a.name),a.message&&(c[s]=a.message),a.stack&&(c[t]=a.stack)),c[r]||c[s]?this.addEvent(u,c,b):h.s.warn("Failed to record an exception "+a)},Object.defineProperty(a.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),a.prototype._isSpanEnded=function(){return this._ended&&h.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substr(0,b)},a.prototype._truncateToSize=function(a){var b=this,c=this._attributeValueLengthLimit;return c<=0?(h.s.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a}(),z=c(66336),A=c(23615);!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(d||(d={}));var B=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:d.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),C=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:d.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),D=c(58746),E=c(49127),F=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||((0,E.s)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new C),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new C,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new B,this._localParentSampled=null!=(d=a.localParentSampled)?d:new C,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new B}return a.prototype.shouldSample=function(a,b,c,d,e,f){var h=g.u.getSpanContext(a);return h&&(0,D.YA)(h)?h.isRemote?h.traceFlags&l.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):h.traceFlags&l.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),G=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,D.hX)(b)&&this._accumulate(b)<this._upperBound?d.RECORD_AND_SAMPLED:d.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),H=(0,z._)(),I=A.R.AlwaysOn,J=1;function K(){return{sampler:L(H),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,z._)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,z._)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,z._)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,z._)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,z._)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,z._)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,z._)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,z._)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function L(a){switch(void 0===a&&(a=(0,z._)()),a.OTEL_TRACES_SAMPLER){case A.R.AlwaysOn:return new C;case A.R.AlwaysOff:return new B;case A.R.ParentBasedAlwaysOn:return new F({root:new C});case A.R.ParentBasedAlwaysOff:return new F({root:new B});case A.R.TraceIdRatio:return new G(M(a));case A.R.ParentBasedTraceIdRatio:return new F({root:new G(M(a))});default:return h.s.error('OTEL_TRACES_SAMPLER value "'+a.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+I+'".'),new C}}function M(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return h.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+J+"."),J;var b=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(b)?(h.s.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+J+"."),J):b<0||b>1?(h.s.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+J+"."),J):b}var N=c(37579);function O(a){var b={sampler:L()},c=K(),d=Object.assign({},c,b,a);return d.generalLimits=Object.assign({},c.generalLimits,a.generalLimits||{}),d.spanLimits=Object.assign({},c.spanLimits,a.spanLimits||{}),d}function P(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=Object.assign({},a.spanLimits),o=(0,z.w)();return n.attributeCountLimit=null!=(g=null!=(f=null!=(e=null!=(c=null==(b=a.spanLimits)?void 0:b.attributeCountLimit)?c:null==(d=a.generalLimits)?void 0:d.attributeCountLimit)?e:o.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)?f:o.OTEL_ATTRIBUTE_COUNT_LIMIT)?g:N.fv,n.attributeValueLengthLimit=null!=(m=null!=(l=null!=(k=null!=(i=null==(h=a.spanLimits)?void 0:h.attributeValueLengthLimit)?i:null==(j=a.generalLimits)?void 0:j.attributeValueLengthLimit)?k:o.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)?l:o.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?m:N.aE,Object.assign({},a,{spanLimits:n})}var Q=8,R=16,S=function(){return function(){this.generateTraceId=U(R),this.generateSpanId=U(Q)}}(),T=Buffer.allocUnsafe(R);function U(a){return function(){for(var b=0;b<a/4;b++)T.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(T[b]>0)break;else b===a-1&&(T[a-1]=1);return T.toString("hex",0,a)}}var V=function(){function a(a,b,c){this._tracerProvider=c;var d=O(b);this._sampler=d.sampler,this._generalLimits=d.generalLimits,this._spanLimits=d.spanLimits,this._idGenerator=b.idGenerator||new S,this.resource=c.resource,this.instrumentationLibrary=a}return a.prototype.startSpan=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c=f._.active()),b.root&&(c=g.u.deleteSpan(c));var d,e,o,p,q,r,s=g.u.getSpan(c);if((0,m.Zf)(c)){h.s.debug("Instrumentation suppressed, returning Noop Span");var t=g.u.wrapSpanContext(i.dM);return t}var u=null==s?void 0:s.spanContext(),v=this._idGenerator.generateSpanId();u&&g.u.isSpanContextValid(u)?(p=u.traceId,q=u.traceState,r=u.spanId):p=this._idGenerator.generateTraceId();var w=null!=(d=b.kind)?d:j.v.INTERNAL,x=(null!=(e=b.links)?e:[]).map(function(a){return{context:a.context,attributes:(0,n.L)(a.attributes)}}),z=(0,n.L)(b.attributes),A=this._sampler.shouldSample(c,p,a,w,z,x);q=null!=(o=A.traceState)?o:q;var B={traceId:p,spanId:v,traceFlags:A.decision===k.i.RECORD_AND_SAMPLED?l.X.SAMPLED:l.X.NONE,traceState:q};if(A.decision===k.i.NOT_RECORD){h.s.debug("Recording is off, propagating context in a non-recording span");var t=g.u.wrapSpanContext(B);return t}var C=(0,n.L)(Object.assign(z,A.attributes));return new y(this,c,a,B,w,r,x,b.startTime,void 0,C)},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?i=b:3==arguments.length?(e=b,i=c):(e=b,h=c,i=d);var e,h,i,j=null!=h?h:f._.active(),k=this.startSpan(a,e,j),l=g.u.setSpan(j,k);return f._.with(l,i,void 0,k)}},a.prototype.getGeneralLimits=function(){return this._generalLimits},a.prototype.getSpanLimits=function(){return this._spanLimits},a.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},a}(),W=c(37002),X=c(35025),Y=c(36008),Z=c(51354),$=c(69580),_=c(57182),aa=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ab=function(){function a(a){this._spanProcessors=a}return a.prototype.forceFlush=function(){var a,b,c=[];try{for(var d=aa(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.forceFlush())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a){Promise.all(c).then(function(){a()}).catch(function(b){(0,E.s)(b||Error("MultiSpanProcessor: forceFlush failed")),a()})})},a.prototype.onStart=function(a,b){var c,d;try{for(var e=aa(this._spanProcessors),f=e.next();!f.done;f=e.next())f.value.onStart(a,b)}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}},a.prototype.onEnd=function(a){var b,c;try{for(var d=aa(this._spanProcessors),e=d.next();!e.done;e=d.next())e.value.onEnd(a)}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}},a.prototype.shutdown=function(){var a,b,c=[];try{for(var d=aa(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.shutdown())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a,b){Promise.all(c).then(function(){a()},b)})},a}(),ac=function(){function a(){}return a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){},a.prototype.shutdown=function(){return Promise.resolve()},a.prototype.forceFlush=function(){return Promise.resolve()},a}(),ad=c(51064),ae=c(4875),af=c(36769),ag=function(){function a(a,b){this._exporter=a,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var c=(0,z._)();this._maxExportBatchSize="number"==typeof(null==b?void 0:b.maxExportBatchSize)?b.maxExportBatchSize:c.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==b?void 0:b.maxQueueSize)?b.maxQueueSize:c.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==b?void 0:b.scheduledDelayMillis)?b.scheduledDelayMillis:c.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==b?void 0:b.exportTimeoutMillis)?b.exportTimeoutMillis:c.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ad.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(h.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){this._shutdownOnce.isCalled||(a.spanContext().traceFlags&l.X.SAMPLED)!=0&&this._addToBuffer(a)},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){var a=this;return Promise.resolve().then(function(){return a.onShutdown()}).then(function(){return a._flushAll()}).then(function(){return a._exporter.shutdown()})},a.prototype._addToBuffer=function(a){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&h.s.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(h.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(a),this._maybeStartTimer()},a.prototype._flushAll=function(){var a=this;return new Promise(function(b,c){for(var d=[],e=Math.ceil(a._finishedSpans.length/a._maxExportBatchSize),f=0,g=e;f<g;f++)d.push(a._flushOneBatch());Promise.all(d).then(function(){b()}).catch(c)})},a.prototype._flushOneBatch=function(){var a=this;return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise(function(b,c){var d=setTimeout(function(){c(Error("Timeout"))},a._exportTimeoutMillis);f._.with((0,m.M1)(f._.active()),function(){a._finishedSpans.length<=a._maxExportBatchSize?(e=a._finishedSpans,a._finishedSpans=[]):e=a._finishedSpans.splice(0,a._maxExportBatchSize);for(var e,f=function(){return a._exporter.export(e,function(a){var e;clearTimeout(d),a.code===ae.V.SUCCESS?b():c(null!=(e=a.error)?e:Error("BatchSpanProcessor: span export failed"))})},g=null,h=0,i=e.length;h<i;h++){var j=e[h];j.resource.asyncAttributesPending&&j.resource.waitForAsyncAttributes&&(null!=g||(g=[]),g.push(j.resource.waitForAsyncAttributes()))}null===g?f():Promise.all(g).then(f,function(a){(0,E.s)(a),c(a)})})})},a.prototype._maybeStartTimer=function(){var a=this;if(!this._isExporting){var b=function(){a._isExporting=!0,a._flushOneBatch().finally(function(){a._isExporting=!1,a._finishedSpans.length>0&&(a._clearTimer(),a._maybeStartTimer())}).catch(function(b){a._isExporting=!1,(0,E.s)(b)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return b();void 0===this._timer&&(this._timer=setTimeout(function(){return b()},this._scheduledDelayMillis),(0,af.K)(this._timer))}},a.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},a}(),ah=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ai=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ah(b,a),b.prototype.onShutdown=function(){},b}(ag);!function(a){a[a.resolved=0]="resolved",a[a.timeout=1]="timeout",a[a.error=2]="error",a[a.unresolved=3]="unresolved"}(e||(e={}));var aj=function(){function a(a){void 0===a&&(a={}),this._registeredSpanProcessors=[],this._tracers=new Map;var b,c=(0,X.h)({},K(),P(a));this.resource=null!=(b=c.resource)?b:_.F.empty(),this.resource=_.F.default().merge(this.resource),this._config=Object.assign({},c,{resource:this.resource});var d=this._buildExporterFromEnv();if(void 0!==d){var e=new ai(d);this.activeSpanProcessor=e}else this.activeSpanProcessor=new ac}return a.prototype.getTracer=function(a,b,c){var d=a+"@"+(b||"")+":"+((null==c?void 0:c.schemaUrl)||"");return this._tracers.has(d)||this._tracers.set(d,new V({name:a,version:b,schemaUrl:null==c?void 0:c.schemaUrl},this._config,this)),this._tracers.get(d)},a.prototype.addSpanProcessor=function(a){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(a){return h.s.error("Error while trying to shutdown current span processor",a)}),this._registeredSpanProcessors.push(a),this.activeSpanProcessor=new ab(this._registeredSpanProcessors)},a.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},a.prototype.register=function(a){void 0===a&&(a={}),g.u.setGlobalTracerProvider(this),void 0===a.propagator&&(a.propagator=this._buildPropagatorFromEnv()),a.contextManager&&f._.setGlobalContextManager(a.contextManager),a.propagator&&W.$.setGlobalPropagator(a.propagator)},a.prototype.forceFlush=function(){var a=this._config.forceFlushTimeoutMillis,b=this._registeredSpanProcessors.map(function(b){return new Promise(function(c){var d,f=setTimeout(function(){c(Error("Span processor did not completed within timeout period of "+a+" ms")),d=e.timeout},a);b.forceFlush().then(function(){clearTimeout(f),d!==e.timeout&&c(d=e.resolved)}).catch(function(a){clearTimeout(f),d=e.error,c(a)})})});return new Promise(function(a,c){Promise.all(b).then(function(b){var d=b.filter(function(a){return a!==e.resolved});d.length>0?c(d):a()}).catch(function(a){return c([a])})})},a.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},a.prototype._getPropagator=function(a){var b;return null==(b=this.constructor._registeredPropagators.get(a))?void 0:b()},a.prototype._getSpanExporter=function(a){var b;return null==(b=this.constructor._registeredExporters.get(a))?void 0:b()},a.prototype._buildPropagatorFromEnv=function(){var a=this,b=Array.from(new Set((0,z._)().OTEL_PROPAGATORS)),c=b.map(function(b){var c=a._getPropagator(b);return c||h.s.warn('Propagator "'+b+'" requested through environment variable is unavailable.'),c}).reduce(function(a,b){return b&&a.push(b),a},[]);return 0===c.length?void 0:1===b.length?c[0]:new Y.n({propagators:c})},a.prototype._buildExporterFromEnv=function(){var a=(0,z._)().OTEL_TRACES_EXPORTER;if("none"!==a&&""!==a){var b=this._getSpanExporter(a);return b||h.s.error('Exporter "'+a+'" requested through environment variable is unavailable.'),b}},a._registeredPropagators=new Map([["tracecontext",function(){return new Z.lm}],["baggage",function(){return new $.t}]]),a._registeredExporters=new Map,a}(),ak=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},al=function(){function a(){}return a.prototype.export=function(a,b){return this._sendSpans(a,b)},a.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype._exportInfo=function(a){var b;return{resource:{attributes:a.resource.attributes},traceId:a.spanContext().traceId,parentId:a.parentSpanId,traceState:null==(b=a.spanContext().traceState)?void 0:b.serialize(),name:a.name,id:a.spanContext().spanId,kind:a.kind,timestamp:(0,q.w_)(a.startTime),duration:(0,q.w_)(a.duration),attributes:a.attributes,status:a.status,events:a.events,links:a.links}},a.prototype._sendSpans=function(a,b){var c,d;try{for(var e=ak(a),f=e.next();!f.done;f=e.next()){var g=f.value;console.dir(this._exportInfo(g),{depth:3})}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}if(b)return b({code:ae.V.SUCCESS})},a}(),am=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},an=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ao=function(){function a(){this._finishedSpans=[],this._stopped=!1}return a.prototype.export=function(a,b){var c;if(this._stopped)return b({code:ae.V.FAILED,error:Error("Exporter has been stopped")});(c=this._finishedSpans).push.apply(c,an([],am(a),!1)),setTimeout(function(){return b({code:ae.V.SUCCESS})},0)},a.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.reset=function(){this._finishedSpans=[]},a.prototype.getFinishedSpans=function(){return this._finishedSpans},a}(),ap=c(41625),aq=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},ar=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},as=function(){function a(a){this._exporter=a,this._shutdownOnce=new ad.I(this._shutdown,this),this._unresolvedExports=new Set}return a.prototype.forceFlush=function(){return aq(this,void 0,void 0,function(){return ar(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:if(a.sent(),!this._exporter.forceFlush)return[3,3];return[4,this._exporter.forceFlush()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){var b,c,d=this;if(!this._shutdownOnce.isCalled&&(a.spanContext().traceFlags&l.X.SAMPLED)!=0){var e=function(){return ap.internal._export(d._exporter,[a]).then(function(a){var b;a.code!==ae.V.SUCCESS&&(0,E.s)(null!=(b=a.error)?b:Error("SimpleSpanProcessor: span export failed (status "+a+")"))}).catch(function(a){(0,E.s)(a)})};if(a.resource.asyncAttributesPending){var f=null==(c=(b=a.resource).waitForAsyncAttributes)?void 0:c.call(b).then(function(){return null!=f&&d._unresolvedExports.delete(f),e()},function(a){return(0,E.s)(a)});null!=f&&this._unresolvedExports.add(f)}else e()}},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._exporter.shutdown()},a}()},51905:(a,b,c)=>{"use strict";var d=c(24148);let e=a=>"bigint"==typeof a||Number.isInteger(a),f=(a,b,c,{intAsBigInt:d})=>d?BigInt(a):parseInt(a.substring(b),c);function g(a,b,c){let{value:f}=a;return e(f)&&f>=0?c+f.toString(b):d.stringifyNumber(a)}let h={identify:a=>e(a)&&a>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(a,b,c)=>f(a,2,8,c),stringify:a=>g(a,8,"0o")},i={identify:e,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(a,b,c)=>f(a,0,10,c),stringify:d.stringifyNumber},j={identify:a=>e(a)&&a>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(a,b,c)=>f(a,2,16,c),stringify:a=>g(a,16,"0x")};b.int=i,b.intHex=j,b.intOct=h},51925:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{defineFlow:()=>n,flow:()=>m,run:()=>p}),a.exports=i(j);var k=c(24275),l=c(64089);function m(a,b){return o("string"==typeof a?{name:a}:a,b)}function n(a,b,c){let d=m(b,c);return a.registerAction("flow",d),d}function o(a,b){return(0,k.action)({actionType:"flow",name:a.name,inputSchema:a.inputSchema,outputSchema:a.outputSchema,streamSchema:a.streamSchema,metadata:a.metadata},async(a,{sendChunk:c,context:d,trace:e,abortSignal:f,streamingRequested:g})=>{let h=c;return h.sendChunk=c,h.context=d,h.trace=e,h.abortSignal=f,h.streamingRequested=g,b(a,h)})}function p(a,b,c,d){let e,f,g=!1;if("function"==typeof b?e=b:(f=b,g=!0),"function"==typeof c&&(e=c),!e)throw Error("unable to resolve run function");return(0,l.runInNewSpan)({metadata:{name:a},labels:{[l.SPAN_TYPE_ATTR]:"flowStep"}},async a=>{a.input=f;let b=g?await e(f):await e();return a.output=JSON.stringify(b),b})}},52291:(a,b)=>{"use strict";function c(a){return a instanceof Error?a.message:String(a)}function d(a){return"object"==typeof a&&null!==a&&"code"in a&&"number"==typeof a.code?a.code:null}Object.defineProperty(b,"__esModule",{value:!0}),b.getErrorMessage=c,b.getErrorCode=d},52298:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){return function(a){this.buffer=a}}()},52318:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{BailoutToCSRError:function(){return d},isBailoutToCSRError:function(){return e}});let c="BAILOUT_TO_CLIENT_SIDE_RENDERING";class d extends Error{constructor(a){super("Bail out to client-side rendering: "+a),this.reason=a,this.digest=c}}function e(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===c}},52577:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DynamicServerError:function(){return d},isDynamicServerError:function(){return e}});let c="DYNAMIC_SERVER_USAGE";class d extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=c}}function e(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===c}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},52693:(a,b,c)=>{"use strict";a.exports.ThriftByte=c(69443).ThriftI8,a.exports.ByteRW=c(69443).I8RW},52764:(a,b,c)=>{"use strict";c.d(b,{q:()=>i});var d=c(85840),e=new(function(){function a(){}return a.prototype.getMeter=function(a,b,c){return d.Dq},a}()),f=c(60233),g=c(91178),h="metrics",i=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalMeterProvider=function(a){return(0,f.$G)(h,a,g.K.instance())},a.prototype.getMeterProvider=function(){return(0,f.mS)(h)||e},a.prototype.getMeter=function(a,b,c){return this.getMeterProvider().getMeter(a,b,c)},a.prototype.disable=function(){(0,f.kv)(h,g.K.instance())},a})().getInstance()},52800:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762);b.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},53083:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}b.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let{gen:b,parentSchema:c,it:g}=a;void 0===c.then&&void 0===c.else&&(0,e.checkStrictMode)(g,'"if" without "then" and "else" is ignored');let h=f(g,"then"),i=f(g,"else");if(!h&&!i)return;let j=b.let("valid",!0),k=b.name("_valid");if(l(),a.reset(),h&&i){let c=b.let("ifClause");a.setParams({ifClause:c}),b.if(k,m("then",c),m("else",c))}else h?b.if(k,m("then")):b.if((0,d.not)(k),m("else"));function l(){let b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);a.mergeEvaluated(b)}function m(c,e){return()=>{let f=a.subschema({keyword:c},k);b.assign(j,k),a.mergeValidEvaluated(f,j),e?b.assign(e,(0,d._)`${c}`):a.setParams({ifClause:c})}}a.pass(j,()=>a.error(!0))}}},53205:(a,b,c)=>{"use strict";var d;c.d(b,{e:()=>d}),function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(d||(d={}))},53259:(a,b,c)=>{"use strict";a.exports=j;var d,e=c(32795);((j.prototype=Object.create(e.prototype)).constructor=j).className="Field";var f=c(67958),g=c(75688),h=c(305),i=/^required|optional|repeated$/;function j(a,b,c,d,f,j,k){if(h.isObject(d)?(k=f,j=d,d=f=void 0):h.isObject(f)&&(k=j,j=f,f=void 0),e.call(this,a,j),!h.isInteger(b)||b<0)throw TypeError("id must be a non-negative integer");if(!h.isString(c))throw TypeError("type must be a string");if(void 0!==d&&!i.test(d=d.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==f&&!h.isString(f))throw TypeError("extend must be a string");"proto3_optional"===d&&(d="optional"),this.rule=d&&"optional"!==d?d:void 0,this.type=c,this.id=b,this.extend=f||void 0,this.repeated="repeated"===d,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!h.Long&&void 0!==g.long[c],this.bytes="bytes"===c,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=k}j.fromJSON=function(a,b){var c=new j(a,b.id,b.type,b.rule,b.extend,b.options,b.comment);return b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},Object.defineProperty(j.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(j.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(j.prototype,"delimited",{get:function(){return this.resolvedType instanceof d&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(j.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(j.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),j.prototype.setOption=function(a,b,c){return e.prototype.setOption.call(this,a,b,c)},j.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return h.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},j.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=g.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof d?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof f&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof f||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=h.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var a;h.base64.test(this.typeDefault)?h.base64.decode(this.typeDefault,a=h.newBuffer(h.base64.length(this.typeDefault)),0):h.utf8.write(this.typeDefault,a=h.newBuffer(h.utf8.length(this.typeDefault)),0),this.typeDefault=a}return this.map?this.defaultValue=h.emptyObject:this.repeated?this.defaultValue=h.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof d&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},j.prototype._inferLegacyProtoFeatures=function(a){if("proto2"!==a&&"proto3"!==a)return{};var b={};if("required"===this.rule&&(b.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===g.defaults[this.type]){var c=this.parent.get(this.type.split(".").pop());c&&c instanceof d&&c.group&&(b.message_encoding="DELIMITED")}return!0===this.getOption("packed")?b.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(b.repeated_field_encoding="EXPANDED"),b},j.prototype._resolveFeatures=function(a){return e.prototype._resolveFeatures.call(this,this._edition||a)},j.d=function(a,b,c,d){return"function"==typeof b?b=h.decorateType(b).name:b&&"object"==typeof b&&(b=h.decorateEnum(b).name),function(e,f){h.decorateType(e.constructor).add(new j(f,a,b,c,{default:d}))}},j._configure=function(a){d=a}},53365:(a,b,c)=>{"use strict";var d,e=c(82625),f=c(28354);c(63211).Struct;var g=c(32437),h={},i={CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},j={1:"CALL",2:"REPLY",3:"EXCEPTION",4:"ONEWAY"},k={type:"Enum",id:{name:"ThriftMessageEnvelopeExceptionType"},definitions:[{id:{name:"UNKNOWN"},value:{value:0}},{id:{name:"UNKNOWN_METHOD"},value:{value:1}},{id:{name:"INVALID_MESSAGE_TYPE"},value:{value:2}},{id:{name:"WRONG_METHOD_NAME"},value:{value:3}},{id:{name:"BAD_SEQUENCE_ID"},value:{value:4}},{id:{name:"MISSING_RESULT"},value:{value:5}},{id:{name:"INTERNAL_ERROR"},value:{value:6}},{id:{name:"PROTOCOL_ERROR"},value:{value:7}},{id:{name:"INVALID_TRANSFORM"},value:{value:8}},{id:{name:"INVALID_PROTOCOL"},value:{value:9}},{id:{name:"UNSUPPORTED_CLIENT_TYPE"},value:{value:10}}]},l={type:"Struct",id:{name:"ThriftMessageEnvelopeException"},fields:[{id:{value:1},name:"message",valueType:{type:"BaseType",baseType:"string"},optional:!0,required:!1},{id:{value:2},name:"type",valueType:{type:"Identifier",name:"ThriftMessageEnvelopeExceptionType"},optional:!0,required:!1}]};function m(a){a=a||h,this.id=a.id,this.name=a.name,this.body=a.body,this.type=a.type,this.version=a.version||0}function n(a,b){this.body=a,this.exception=b,e.call(this)}f.inherits(n,e),n.prototype.poolByteLength=function(a,b){var c=b.name.length;return(b.version>0?c+=12:c+=9,"EXCEPTION"===b.type)?(a=this.exception.poolByteLength(a,b.body)).err?a:(c+=a.length,a.reset(null,c)):(a=this.body.poolByteLength(a,b.body)).err?a:(c+=a.length,a.reset(null,c))},n.prototype.poolWriteInto=function(a,b,c,d){return(a=b.version>0?this.poolStrictWriteInto(a,b,c,d):this.poolLegacyWriteInto(a,b,c,d)).err?a:(d=a.offset,"EXCEPTION"===b.type)?this.exception.poolWriteInto(a,b.body,c,d):this.body.poolWriteInto(a,b.body,c,d)},n.prototype.poolStrictWriteInto=function(a,b,c,d){c.writeUInt16BE(32768|b.version,d),d+=2;var e=i[b.type];return null==e?a.reset(new g.InvalidMessageEnvelopeTypeName({name:b.type})):(c.writeUInt16BE(e,d),d+=2,c.writeUInt32BE(b.name.length,d),d+=4,c.write(b.name,d,"ascii"),d+=b.name.length,c.writeUInt32BE(b.id,d),d+=4,a.reset(null,d))},n.prototype.poolLegacyWriteInto=function(a,b,c,d){c.writeUInt32BE(b.name.length,d,!0),d+=4,c.write(b.name,d,"ascii"),d+=b.name.length;var e=i[b.type];return null==e?a.reset(new g.InvalidMessageEnvelopeTypeName({name:b.type})):(c.writeUInt8(e,d),d+=1,c.writeUInt32BE(b.id,d,!0),d+=4,a.reset(null,d))},n.prototype.poolReadFrom=function(a,b,c){if((a=0>b.readInt8(c,!0)?this.poolStrictReadFrom(a,b,c):this.poolLegacyReadFrom(a,b,c)).err)return a;var d=a.value;return(c=a.offset,"EXCEPTION"===d.type)?(a=this.exception.poolReadFrom(a,b,c)).err?a:(d.body=a.value,c+=a.offset,a.reset(d.body,c,d)):(a=this.body.poolReadFrom(a,b,c)).err?a:(d.body=a.value,c=a.offset,a.reset(null,c,d))},n.prototype.poolStrictReadFrom=function(a,b,c){var d=new m;if(d.version=-32769&b.readUInt16BE(c,!0),c+=2,1!==d.version)return a.reset(new g.UnrecognizedMessageEnvelopeVersion({version:d.version}));var e=255&b.readUInt16BE(c,!0);if(c+=2,d.type=j[e],null==d.type)return a.reset(new g.UnrecognizedMessageEnvelopeType({value:e}));var f=b.readUInt32BE(c,!0);return c+=4,d.name=b.toString("ascii",c,c+f,!0),c+=f,d.id=b.readUInt32BE(c,!0),c+=4,a.reset(null,c,d)},n.prototype.poolLegacyReadFrom=function(a,b,c){var d=new m,e=b.readUInt32BE(c,!0);c+=4,d.name=b.toString("ascii",c,c+e,!0),c+=e;var f=b.readUInt8(c,!0);return(c+=1,d.id=b.readUInt32BE(c,!0),c+=4,d.type=j[f],null==d.type)?a.reset(new g.UnrecognizedMessageEnvelopeType({value:f})):a.reset(null,c,d)},a.exports.QB=m,a.exports.n=n,d=i,d=j,a.exports.bX=l,a.exports.UI=k},53369:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GenkitError:()=>l,UnstableApiError:()=>m,UserFacingError:()=>o,assertUnstable:()=>n,getCallableJSON:()=>q,getErrorMessage:()=>r,getErrorStack:()=>s,getHttpStatus:()=>p}),a.exports=i(j);var k=c(87938);class l extends Error{source;status;detail;code;originalMessage;constructor({status:a,message:b,detail:c,source:d}){super(`${d?`${d}: `:""}${a}: ${b}`),this.originalMessage=b,this.code=(0,k.httpStatusCode)(a),this.status=a,this.detail=c,this.name="GenkitError"}toJSON(){return{...void 0===this.detail?{}:{details:this.detail},status:this.status,message:this.originalMessage}}}class m extends l{constructor(a,b){super({status:"FAILED_PRECONDITION",message:`${b?b+" ":""}This API requires '${a}' stability level.

To use this feature, initialize Genkit using \`import {genkit} from "genkit/${a}"\`.`}),this.name="UnstableApiError"}}function n(a,b,c){if("beta"===b&&"stable"===a.apiStability)throw new m(b,c)}class o extends l{constructor(a,b,c){super({status:a,detail:c,message:b}),super.name="UserFacingError"}}function p(a){return a instanceof l?a.code:500}function q(a){return a instanceof l?a.toJSON():{message:"Internal Error",status:"INTERNAL"}}function r(a){return a instanceof Error?a.message:`${a}`}function s(a){if(a instanceof Error)return a.stack}},53476:(a,b)=>{"use strict";function c(a,b){if(0===b.length)return 0;if(0===a.length||b.length>a.length)return -1;for(let c=0;c<=a.length-b.length;c++){let d=!0;for(let e=0;e<b.length;e++)if(a[c+e]!==b[e]){d=!1;break}if(d)return c}return -1}function d(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function e(a,b){let d=c(a,b);if(0===d)return a.subarray(b.length);if(!(d>-1))return a;{let c=new Uint8Array(a.length-b.length);return c.set(a.slice(0,d)),c.set(a.slice(d+b.length),d),c}}Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{indexOfUint8Array:function(){return c},isEquivalentUint8Arrays:function(){return d},removeFromUint8Array:function(){return e}})},53488:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=new(c(43794)).o,e=function(){function a(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}return a.prototype.startSpan=function(a,b,c){return this._getTracer().startSpan(a,b,c)},a.prototype.startActiveSpan=function(a,b,c,d){var e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d},a}()},53567:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseServerInterceptingCall=b.ServerInterceptingCall=b.ResponderBuilder=b.ServerListenerBuilder=void 0,b.isInterceptingServerListener=p,b.getServerInterceptingCall=G;let d=c(33604),e=c(56458),f=c(73496),g=c(52291),h=c(74075),i=c(15999),j=c(38702),k=c(34631),l=c(35696),m="server_call";function n(a){j.trace(e.LogVerbosity.DEBUG,m,a)}class o{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveHalfClose(a){return this.halfClose=a,this}withOnCancel(a){return this.cancel=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}function p(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length}b.ServerListenerBuilder=o;class q{constructor(a,b){this.listener=a,this.nextListener=b,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(a){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.cancelled||(this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(a){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.cancelled||(this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class r{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(a){return this.start=a,this}withSendMetadata(a){return this.metadata=a,this}withSendMessage(a){return this.message=a,this}withSendStatus(a){return this.status=a,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}b.ResponderBuilder=r;let s={onReceiveMetadata:(a,b)=>{b(a)},onReceiveMessage:(a,b)=>{b(a)},onReceiveHalfClose:a=>{a()},onCancel:()=>{}},t={start:a=>{a()},sendMetadata:(a,b)=>{b(a)},sendMessage:(a,b)=>{b(a)},sendStatus:(a,b)=>{b(a)}};class u{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:null!=(c=null==b?void 0:b.start)?c:t.start,sendMetadata:null!=(d=null==b?void 0:b.sendMetadata)?d:t.sendMetadata,sendMessage:null!=(e=null==b?void 0:b.sendMessage)?e:t.sendMessage,sendStatus:null!=(f=null==b?void 0:b.sendStatus)?f:t.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(a){this.responder.start(b=>{var c,d,e,f;let g=new q({onReceiveMetadata:null!=(c=null==b?void 0:b.onReceiveMetadata)?c:s.onReceiveMetadata,onReceiveMessage:null!=(d=null==b?void 0:b.onReceiveMessage)?d:s.onReceiveMessage,onReceiveHalfClose:null!=(e=null==b?void 0:b.onReceiveHalfClose)?e:s.onReceiveHalfClose,onCancel:null!=(f=null==b?void 0:b.onCancel)?f:s.onCancel},a);this.nextCall.start(g)})}sendMetadata(a){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(a,a=>{this.processingMetadata=!1,this.nextCall.sendMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(a,b){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new d.Metadata),this.responder.sendMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.pendingMessageCallback=b):this.nextCall.sendMessage(a,b)})}sendStatus(a){this.responder.sendStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextCall.sendStatus(a)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}}b.ServerInterceptingCall=u;let v="grpc-accept-encoding",w="grpc-encoding",x="grpc-message",y="grpc-status",z="grpc-timeout",A=/(\d{1,8})\s*([HMSmun])/,B={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},C={[v]:"identity,deflate,gzip",[w]:"identity"},D={[f.constants.HTTP2_HEADER_STATUS]:f.constants.HTTP_STATUS_OK,[f.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},E={waitForTrailers:!0};class F{constructor(a,b,c,g,h){var k,o;this.stream=a,this.callEventTracker=c,this.handler=g,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=e.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=e.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.metricsRecorder=new l.PerRequestMetricRecorder,this.stream.once("error",a=>{}),this.stream.once("close",()=>{var a;n("Request to method "+(null==(a=this.handler)?void 0:a.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:e.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",a=>{this.handleDataFrame(a)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in h&&(this.maxSendMessageSize=h["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in h&&(this.maxReceiveMessageSize=h["grpc.max_receive_message_length"]),this.host=null!=(k=b[":authority"])?k:b.host,this.decoder=new i.StreamDecoder(this.maxReceiveMessageSize);let p=d.Metadata.fromHttp2Headers(b);j.isTracerEnabled(m)&&n("Request to "+this.handler.path+" received headers "+JSON.stringify(p.toJSON()));let q=p.get(z);q.length>0&&this.handleTimeoutHeader(q[0]);let r=p.get(w);r.length>0&&(this.incomingEncoding=r[0]),p.remove(z),p.remove(w),p.remove(v),p.remove(f.constants.HTTP2_HEADER_ACCEPT_ENCODING),p.remove(f.constants.HTTP2_HEADER_TE),p.remove(f.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=p;let s=null==(o=a.session)?void 0:o.socket;this.connectionInfo={localAddress:null==s?void 0:s.localAddress,localPort:null==s?void 0:s.localPort,remoteAddress:null==s?void 0:s.remoteAddress,remotePort:null==s?void 0:s.remotePort},this.shouldSendMetrics=!!h["grpc.server_call_metric_recording"]}handleTimeoutHeader(a){let b=a.toString().match(A);if(null===b){let b={code:e.Status.INTERNAL,details:`Invalid ${z} value "${a}"`,metadata:null};process.nextTick(()=>{this.sendStatus(b)});return}let c=b[1]*B[b[2]]|0,d=new Date;this.deadline=d.setMilliseconds(d.getMilliseconds()+c),this.deadlineTimer=setTimeout(()=>{let a={code:e.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},c)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var a;null==(a=this.listener)||a.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new d.Metadata)}serializeMessage(a){let b=this.handler.serialize(a),c=b.byteLength,d=Buffer.allocUnsafe(c+5);return d.writeUInt8(0,0),d.writeUInt32BE(c,1),b.copy(d,5),d}decompressMessage(a,b){let c=a.subarray(5);if("identity"===b)return c;if("deflate"!==b&&"gzip"!==b)return Promise.reject({code:e.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${b}"`});{let a;return a="deflate"===b?h.createInflate():h.createGunzip(),new Promise((b,d)=>{let f=0,g=[];a.on("data",b=>{g.push(b),f+=b.byteLength,-1!==this.maxReceiveMessageSize&&f>this.maxReceiveMessageSize&&(a.destroy(),d({code:e.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),a.on("end",()=>{b(Buffer.concat(g))}),a.write(c),a.end()})}}async decompressAndMaybePush(a){let b;if("COMPRESSED"!==a.type)throw Error(`Invalid queue entry type: ${a.type}`);let c=1===a.compressedMessage.readUInt8(0)?this.incomingEncoding:"identity";try{b=await this.decompressMessage(a.compressedMessage,c)}catch(a){this.sendStatus(a);return}try{a.parsedMessage=this.handler.deserialize(b)}catch(a){this.sendStatus({code:e.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}a.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&"COMPRESSED"!==this.readQueue[0].type){this.isReadPending=!1;let a=this.readQueue.shift();"READABLE"===a.type?this.listener.onReceiveMessage(a.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(a){var b;let c;if(!this.checkCancelled()){n("Request to "+this.handler.path+" received data frame of size "+a.length);try{c=this.decoder.write(a)}catch(a){this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:a.message});return}for(let a of c){this.stream.pause();let c={type:"COMPRESSED",compressedMessage:a,parsedMessage:null};this.readQueue.push(c),this.decompressAndMaybePush(c),null==(b=this.callEventTracker)||b.addMessageReceived()}}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(a){n("Request to "+this.handler.path+" start called"),this.checkCancelled()||(this.listener=a,a.onReceiveMetadata(this.metadata))}sendMetadata(a){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let b=a?a.toHttp2Headers():null,c=Object.assign(Object.assign(Object.assign({},D),C),b);this.stream.respond(c,E)}sendMessage(a,b){let c;if(!this.checkCancelled()){try{c=this.serializeMessage(a)}catch(a){this.sendStatus({code:e.Status.INTERNAL,details:`Error serializing response: ${(0,g.getErrorMessage)(a)}`,metadata:null});return}if(-1!==this.maxSendMessageSize&&c.length-5>this.maxSendMessageSize)return void this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${c.length} vs. ${this.maxSendMessageSize})`,metadata:null});this.maybeSendMetadata(),n("Request to "+this.handler.path+" sent data frame of size "+c.length),this.stream.write(c,a=>{var c;if(a)return void this.sendStatus({code:e.Status.INTERNAL,details:`Error writing message: ${(0,g.getErrorMessage)(a)}`,metadata:null});null==(c=this.callEventTracker)||c.addMessageSent(),b()})}}sendStatus(a){var b,c,f;if(this.checkCancelled())return;n("Request to method "+(null==(b=this.handler)?void 0:b.path)+" ended with status code: "+e.Status[a.code]+" details: "+a.details);let g=null!=(f=null==(c=a.metadata)?void 0:c.clone())?f:new d.Metadata;if(this.shouldSendMetrics&&g.set(l.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(a));let b=Object.assign({[y]:a.code,[x]:encodeURI(a.details)},g.toHttp2Headers());this.stream.sendTrailers(b),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(a));let b=Object.assign(Object.assign({[y]:a.code,[x]:encodeURI(a.details)},D),g.toHttp2Headers());this.stream.respond(b,{endStream:!0}),this.notifyOnCancel()}}startRead(){n("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,0===this.readQueue.length?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var a;let b=null==(a=this.stream.session)?void 0:a.socket;return null!=b&&b.remoteAddress?b.remotePort?`${b.remoteAddress}:${b.remotePort}`:b.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var a;if(!((null==(a=this.stream.session)?void 0:a.socket)instanceof k.TLSSocket))return{};{let a=this.stream.session.socket.getPeerCertificate();return{transportSecurityType:"ssl",sslPeerCertificate:a.raw?a:void 0}}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}}function G(a,b,c,d,e,f){let g={path:e.path,requestStream:"clientStream"===e.type||"bidi"===e.type,responseStream:"serverStream"===e.type||"bidi"===e.type,requestDeserialize:e.deserialize,responseSerialize:e.serialize},h=new F(b,c,d,e,f);return a.reduce((a,b)=>b(g,a),h)}b.BaseServerInterceptingCall=F},53733:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeSDK=void 0;let d=c(68948),e=c(11394),f=c(64593),g=c(80277),h=c(62626),i=c(68345),j=c(51859),k=c(19889),l=c(47338),m=c(11779),n=c(41625),o=c(91898);class p{constructor(a={}){var b,c,e,f,h,i,k;let l=(0,n.getEnv)(),m=(0,n.getEnvWithoutDefaults)();l.OTEL_SDK_DISABLED&&(this._disabled=!0),m.OTEL_LOG_LEVEL&&d.diag.setLogger(new d.DiagConsoleLogger,{logLevel:m.OTEL_LOG_LEVEL}),this._configuration=a,this._resource=null!=(b=a.resource)?b:new g.Resource({});let p=[];if(p=null!=process.env.OTEL_NODE_RESOURCE_DETECTORS?(0,o.getResourceDetectorsFromEnv)():[g.envDetector,g.processDetector,g.hostDetector],this._resourceDetectors=null!=(c=a.resourceDetectors)?c:p,this._serviceName=a.serviceName,this._autoDetectResources=null==(e=a.autoDetectResources)||e,a.traceExporter||a.spanProcessor||a.spanProcessors){let b={};a.sampler&&(b.sampler=a.sampler),a.spanLimits&&(b.spanLimits=a.spanLimits),a.idGenerator&&(b.idGenerator=a.idGenerator),a.spanProcessor&&d.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let c=null!=(f=a.spanProcessor)?f:new j.BatchSpanProcessor(a.traceExporter),e=null!=(h=a.spanProcessors)?h:[c];this._tracerProviderConfig={tracerConfig:b,spanProcessors:e,contextManager:a.contextManager,textMapPropagator:a.textMapPropagator}}if(a.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:a.logRecordProcessor}),a.metricReader||a.views){let b={};a.metricReader&&(b.reader=a.metricReader),a.views&&(b.views=a.views),this._meterProviderConfig=b}this._instrumentations=null!=(k=null==(i=a.instrumentations)?void 0:i.flat())?k:[]}start(){var a,b,c,j,n,o;if(this._disabled)return;if((0,f.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let a={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,g.detectResourcesSync)(a))}this._resource=void 0===this._serviceName?this._resource:this._resource.merge(new g.Resource({[l.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let p=new(this._tracerProviderConfig?k.NodeTracerProvider:m.TracerProviderWithEnvExporters)(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=p,this._tracerProviderConfig)for(let a of this._tracerProviderConfig.spanProcessors)p.addSpanProcessor(a);if(p.register({contextManager:null!=(b=null==(a=this._tracerProviderConfig)?void 0:a.contextManager)?b:null==(c=this._configuration)?void 0:c.contextManager,propagator:null==(j=this._tracerProviderConfig)?void 0:j.textMapPropagator}),this._loggerProviderConfig){let a=new h.LoggerProvider({resource:this._resource});a.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=a,e.logs.setGlobalLoggerProvider(a)}if(this._meterProviderConfig){let a=[];this._meterProviderConfig.reader&&a.push(this._meterProviderConfig.reader);let b=new i.MeterProvider({resource:this._resource,views:null!=(o=null==(n=this._meterProviderConfig)?void 0:n.views)?o:[],readers:a});for(let a of(this._meterProvider=b,d.metrics.setGlobalMeterProvider(b),this._instrumentations))a.setMeterProvider(d.metrics.getMeterProvider())}}shutdown(){let a=[];return this._tracerProvider&&a.push(this._tracerProvider.shutdown()),this._loggerProvider&&a.push(this._loggerProvider.shutdown()),this._meterProvider&&a.push(this._meterProvider.shutdown()),Promise.all(a).then(()=>{})}}b.NodeSDK=p},53849:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setup=r;let d=c(91645),e=c(13685),f=c(56458),g=c(33604),h=c(43313),i=c(41835),j=c(9413),k=c(38702),l="ip_resolver";function m(a){k.trace(f.LogVerbosity.DEBUG,l,a)}let n="ipv4",o="ipv6",p=443;class q{constructor(a,b,c){var e;this.listener=b,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,m("Resolver constructed for target "+(0,j.uriToString)(a));let h=[];if(a.scheme!==n&&a.scheme!==o){this.error={code:f.Status.UNAVAILABLE,details:`Unrecognized scheme ${a.scheme} in IP resolver`,metadata:new g.Metadata};return}for(let b of a.path.split(",")){let c=(0,j.splitHostPort)(b);if(null===c||a.scheme===n&&!(0,d.isIPv4)(c.host)||a.scheme===o&&!(0,d.isIPv6)(c.host)){this.error={code:f.Status.UNAVAILABLE,details:`Failed to parse ${a.scheme} address ${b}`,metadata:new g.Metadata};return}h.push({host:c.host,port:null!=(e=c.port)?e:p})}this.endpoints=h.map(a=>({addresses:[a]})),m("Parsed "+a.scheme+" address list "+h.map(i.subchannelAddressToString))}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener((0,e.statusOrFromError)(this.error),{},null,""):this.listener((0,e.statusOrFromValue)(this.endpoints),{},null,"")}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return a.path.split(",")[0]}}function r(){(0,h.registerResolver)(n,q),(0,h.registerResolver)(o,q)}},53864:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;let d=c(91255),e=c(60328);var f=c(91255);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return f.Name}});var g=c(60328);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),b.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=G(this.rhs,a,b),this}get names(){return F(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class n extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class o extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=G(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class p extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(H(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>E(a,b.names),{})}}class q extends p{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class r extends p{}class s extends q{}s.kind="else";class t extends q{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new s(a):a}return b?!1===a?b instanceof t?b:b.nodes:this.nodes.length?this:new t(I(a),b instanceof t?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=G(this.condition,a,b),this}get names(){let a=super.names;return F(a,this.condition),this.else&&E(a,this.else.names),a}}t.kind="if";class u extends q{}u.kind="for";class v extends u{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=G(this.iteration,a,b),this}get names(){return E(super.names,this.iteration.names)}}class w extends u{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=F(super.names,this.from);return F(a,this.to)}}class x extends u{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=G(this.iterable,a,b),this}get names(){return E(super.names,this.iterable.names)}}class y extends q{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}y.kind="func";class z extends p{render(a){return"return "+super.render(a)}}z.kind="return";class A extends q{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&E(a,this.catch.names),this.finally&&E(a,this.finally.names),a}}class B extends q{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}B.kind="catch";class C extends q{render(a){return"finally"+super.render(a)}}C.kind="finally";class D{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new r]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,c){return this._leafNode(new k(a,b.operators.ADD,c))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new o(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new t(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new t(a))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(t,s)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new v(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new w(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new x("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new x("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(u)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new z;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new A;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new B(a),b(a)}return c&&(this._currNode=d.finally=new C,this.code(c)),this._endBlockNode(B,C)}throw(a){return this._leafNode(new n(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new y(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof t))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}}function E(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function F(a,b){return b instanceof d._CodeOrName?E(a,b.names):a}function G(a,b,c){if(a instanceof d.Name)return e(a);if(!f(a))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=e(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function e(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}function f(a){return a instanceof d._Code&&a._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])}}function H(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}function I(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${M(a)}`}b.CodeGen=D,b.not=I;let J=L(b.operators.AND);b.and=function(...a){return a.reduce(J)};let K=L(b.operators.OR);function L(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${M(b)} ${a} ${M(c)}`}function M(a){return a instanceof d.Name?a:(0,d._)`(${a})`}b.or=function(...a){return a.reduce(K)}},53910:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(50398);class e extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}b.default=e},54147:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(83255),g=c(94214);b.stringifyPair=function({key:a,value:b},c,h,i){let j,k,l,{allNullValues:m,doc:n,indent:o,indentStep:p,options:{commentString:q,indentSeq:r,simpleKeys:s}}=c,t=d.isNode(a)&&a.comment||null;if(s){if(t)throw Error("With simple keys, key nodes cannot have comments");if(d.isCollection(a)||!d.isNode(a)&&"object"==typeof a)throw Error("With simple keys, collection cannot be used as a key value")}let u=!s&&(!a||t&&null==b&&!c.inFlow||d.isCollection(a)||(d.isScalar(a)?a.type===e.Scalar.BLOCK_FOLDED||a.type===e.Scalar.BLOCK_LITERAL:"object"==typeof a));c=Object.assign({},c,{allNullValues:!1,implicitKey:!u&&(s||!m),indent:o+p});let v=!1,w=!1,x=f.stringify(a,c,()=>v=!0,()=>w=!0);if(!u&&!c.inFlow&&x.length>1024){if(s)throw Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(c.inFlow){if(m||null==b)return v&&h&&h(),""===x?"?":u?`? ${x}`:x}else if(m&&!s||null==b&&u)return x=`? ${x}`,t&&!v?x+=g.lineComment(x,c.indent,q(t)):w&&i&&i(),x;v&&(t=null),u?(t&&(x+=g.lineComment(x,c.indent,q(t))),x=`? ${x}
${o}:`):(x=`${x}:`,t&&(x+=g.lineComment(x,c.indent,q(t)))),d.isNode(b)?(j=!!b.spaceBefore,k=b.commentBefore,l=b.comment):(j=!1,k=null,l=null,b&&"object"==typeof b&&(b=n.createNode(b))),c.implicitKey=!1,!u&&!t&&d.isScalar(b)&&(c.indentAtStart=x.length+1),w=!1,!(!r&&p.length>=2&&!c.inFlow&&!u&&d.isSeq(b))||b.flow||b.tag||b.anchor||(c.indent=c.indent.substring(2));let y=!1,z=f.stringify(b,c,()=>y=!0,()=>w=!0),A=" ";if(t||j||k){if(A=j?"\n":"",k){let a=q(k);A+=`
${g.indentComment(a,c.indent)}`}""!==z||c.inFlow?A+=`
${c.indent}`:"\n"===A&&(A="\n\n")}else if(!u&&d.isCollection(b)){let a=z[0],d=z.indexOf("\n"),e=-1!==d,f=c.inFlow??b.flow??0===b.items.length;if(e||!f){let b=!1;if(e&&("&"===a||"!"===a)){let c=z.indexOf(" ");"&"===a&&-1!==c&&c<d&&"!"===z[c+1]&&(c=z.indexOf(" ",c+1)),(-1===c||d<c)&&(b=!0)}b||(A=`
${c.indent}`)}}else(""===z||"\n"===z[0])&&(A="");return x+=A+z,c.inFlow?y&&h&&h():l&&!y?x+=g.lineComment(x,c.indent,q(l)):w&&i&&i(),x}},54210:(a,b,c)=>{"use strict";let d;Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{arrayBufferToString:function(){return h},decrypt:function(){return k},encrypt:function(){return j},getActionEncryptionKey:function(){return p},getClientReferenceManifestForRsc:function(){return o},getServerModuleMap:function(){return n},setReferenceManifestsSingleton:function(){return m},stringToUint8Array:function(){return i}});let e=c(58871),f=c(17916),g=c(29294);function h(a){let b=new Uint8Array(a),c=b.byteLength;if(c<65535)return String.fromCharCode.apply(null,b);let d="";for(let a=0;a<c;a++)d+=String.fromCharCode(b[a]);return d}function i(a){let b=a.length,c=new Uint8Array(b);for(let d=0;d<b;d++)c[d]=a.charCodeAt(d);return c}function j(a,b,c){return crypto.subtle.encrypt({name:"AES-GCM",iv:b},a,c)}function k(a,b,c){return crypto.subtle.decrypt({name:"AES-GCM",iv:b},a,c)}let l=Symbol.for("next.server.action-manifests");function m({page:a,clientReferenceManifest:b,serverActionsManifest:c,serverModuleMap:d}){var e;let g=null==(e=globalThis[l])?void 0:e.clientReferenceManifestsPerPage;globalThis[l]={clientReferenceManifestsPerPage:{...g,[(0,f.normalizeAppPath)(a)]:b},serverActionsManifest:c,serverModuleMap:d}}function n(){let a=globalThis[l];if(!a)throw Object.defineProperty(new e.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});return a.serverModuleMap}function o(){let a=globalThis[l];if(!a)throw Object.defineProperty(new e.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let{clientReferenceManifestsPerPage:b}=a,c=g.workAsyncStorage.getStore();if(!c)return q(b);let d=b[c.route];if(!d)throw Object.defineProperty(new e.InvariantError(`Missing Client Reference Manifest for ${c.route}.`),"__NEXT_ERROR_CODE",{value:"E570",enumerable:!1,configurable:!0});return d}async function p(){if(d)return d;let a=globalThis[l];if(!a)throw Object.defineProperty(new e.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let b=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||a.serverActionsManifest.encryptionKey;if(void 0===b)throw Object.defineProperty(new e.InvariantError("Missing encryption key for Server Actions"),"__NEXT_ERROR_CODE",{value:"E571",enumerable:!1,configurable:!0});return d=await crypto.subtle.importKey("raw",i(atob(b)),"AES-GCM",!0,["encrypt","decrypt"])}function q(a){let b=Object.values(a),c={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let a of b)c.clientModules={...c.clientModules,...a.clientModules},c.edgeRscModuleMapping={...c.edgeRscModuleMapping,...a.edgeRscModuleMapping},c.rscModuleMapping={...c.rscModuleMapping,...a.rscModuleMapping};return c}},54353:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DOC_PREFETCH_RANGE_HEADER_VALUE:function(){return e},doesExportedHtmlMatchBuildId:function(){return h},insertBuildIdComment:function(){return g}});let c="<!DOCTYPE html>",d=24,e="bytes=0-63";function f(a){return a.slice(0,d).replace(/-/g,"_")}function g(a,b){return b.includes("--\x3e")||!a.startsWith(c)?a:a.replace(c,c+"\x3c!--"+f(b)+"--\x3e")}function h(a,b){return a.startsWith(c+"\x3c!--"+f(b)+"--\x3e")}},54452:(a,b,c)=>{"use strict";a.exports=g;var d=c(32795);((g.prototype=Object.create(d.prototype)).constructor=g).className="OneOf";var e=c(53259),f=c(305);function g(a,b,c,e){if(Array.isArray(b)||(c=b,b=void 0),d.call(this,a,c),!(void 0===b||Array.isArray(b)))throw TypeError("fieldNames must be an Array");this.oneof=b||[],this.fieldsArray=[],this.comment=e}function h(a){if(a.parent)for(var b=0;b<a.fieldsArray.length;++b)a.fieldsArray[b].parent||a.parent.add(a.fieldsArray[b])}g.fromJSON=function(a,b){return new g(a,b.oneof,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["options",this.options,"oneof",this.oneof,"comment",b?this.comment:void 0])},g.prototype.add=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");return a.parent&&a.parent!==this.parent&&a.parent.remove(a),this.oneof.push(a.name),this.fieldsArray.push(a),a.partOf=this,h(this),this},g.prototype.remove=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");var b=this.fieldsArray.indexOf(a);if(b<0)throw Error(a+" is not a member of "+this);return this.fieldsArray.splice(b,1),(b=this.oneof.indexOf(a.name))>-1&&this.oneof.splice(b,1),a.partOf=null,this},g.prototype.onAdd=function(a){d.prototype.onAdd.call(this,a);for(var b=this,c=0;c<this.oneof.length;++c){var e=a.get(this.oneof[c]);e&&!e.partOf&&(e.partOf=b,b.fieldsArray.push(e))}h(this)},g.prototype.onRemove=function(a){for(var b,c=0;c<this.fieldsArray.length;++c)(b=this.fieldsArray[c]).parent&&b.parent.remove(b);d.prototype.onRemove.call(this,a)},Object.defineProperty(g.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var a=this.fieldsArray[0];return null!=a.options&&!0===a.options.proto3_optional}}),g.d=function(){for(var a=Array(arguments.length),b=0;b<arguments.length;)a[b]=arguments[b++];return function(b,c){f.decorateType(b.constructor).add(new g(c,a)),Object.defineProperty(b,c,{get:f.oneOfGetter(a),set:f.oneOfSetter(a)})}}},54465:a=>{"use strict";function b(a){this.thrift=a}a.exports.C=b},54616:(a,b,c)=>{"use strict";var d;c.d(b,{X:()=>d}),function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(d||(d={}))},54726:(a,b,c)=>{"use strict";var d=c(14755),e=c(85467),f=c(87928),g=c(42218),h=c(8408),i=c(89390);class j extends f.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(a){super(g.SEQ,a),this.items=[]}add(a){this.items.push(a)}delete(a){let b=k(a);return"number"==typeof b&&this.items.splice(b,1).length>0}get(a,b){let c=k(a);if("number"!=typeof c)return;let d=this.items[c];return!b&&g.isScalar(d)?d.value:d}has(a){let b=k(a);return"number"==typeof b&&b<this.items.length}set(a,b){let c=k(a);if("number"!=typeof c)throw Error(`Expected a valid index, not ${a}.`);let d=this.items[c];g.isScalar(d)&&h.isScalarValue(b)?d.value=b:this.items[c]=b}toJSON(a,b){let c=[];b?.onCreate&&b.onCreate(c);let d=0;for(let a of this.items)c.push(i.toJS(a,String(d++),b));return c}toString(a,b,c){return a?e.stringifyCollection(this,a,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(a.indent||"")+"  ",onChompKeep:c,onComment:b}):JSON.stringify(this)}static from(a,b,c){let{replacer:e}=c,f=new this(a);if(b&&Symbol.iterator in Object(b)){let a=0;for(let g of b){if("function"==typeof e){let c=b instanceof Set?g:String(a++);g=e.call(b,c,g)}f.items.push(d.createNode(g,void 0,c))}}return f}}function k(a){let b=g.isScalar(a)?a.value:a;return b&&"string"==typeof b&&(b=Number(b)),"number"==typeof b&&Number.isInteger(b)&&b>=0?b:null}b.YAMLSeq=j},54999:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){!function(){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)}();var b=globalThis.Handlebars;a.noConflict=function(){return globalThis.Handlebars===a&&(globalThis.Handlebars=b),a}},a.exports=b.default},55423:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;let d=c(96535),e=c(71367),f=c(27017),g=c(71367);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}b.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},b.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},b.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},b.hasPropFunc=h,b.isOwnProperty=i,b.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},b.noPropertyInData=j,b.allSchemaProperties=k,b.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},b.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,n=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&n.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let o=(0,d._)`${m}, ${c.object(...n)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${o})`:(0,d._)`${j}(${o})`};let l=(0,d._)`new RegExp`;b.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},b.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},b.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},55446:(a,b,c)=>{"use strict";c.d(b,{YF:()=>L});var d=c(8567);let e=["debug","info","warn","error"],f="__genkit_logger",g={shouldLog(a){return e.indexOf(this.level)<=e.indexOf(a)},debug(...a){this.shouldLog("debug")&&console.debug(...a)},info(...a){this.shouldLog("info")&&console.info(...a)},warn(...a){this.shouldLog("warn")&&console.warn(...a)},error(...a){this.shouldLog("error")&&console.error(...a)},level:"info"};function h(){return global[f]||(global[f]=g),global[f]}class i{defaultLogger=g;init(a){global[f]=a}info(...a){h().info.apply(h(),a)}debug(...a){h().debug.apply(h(),a)}error(...a){h().error.apply(h(),a)}warn(...a){h().warn.apply(h(),a)}setLogLevel(a){h().level=a}logStructured(a,b){h().info(a,b)}logStructuredError(a,b){h().error(a,b)}}let j=new i;c(31843);var k=c(31574);c(24275),c(50673),c(49528),c(58482),c(71639);var l=c(53369);c(51925),c(77924),c(20790),c(76944),c(94829),c(49176);var m=c(76058),n=c(21813);Symbol("Let zodToJsonSchema decide on which parser to use"),n(new m),l.GenkitError,c(643);var o=c(25399);function p(a){let b=a.name;a.namespace&&!b.startsWith(a.namespace+"/")&&(b=`${a.namespace}/${b}`);let c={...a,name:b};return c.withConfig=c=>p({...a,name:b,config:c}),c.withVersion=c=>p({...a,name:b,version:c}),c}c(14015),c(29706),c(19606);let q=k.object({embedding:k.array(k.number()),metadata:k.record(k.string(),k.unknown()).optional()});k.object({input:k.array(o.DocumentDataSchema),options:k.any().optional()}),k.object({embeddings:k.array(q)}),k.object({label:k.string().optional(),supports:k.object({input:k.array(k.enum(["text","image","video"])).optional(),multilingual:k.boolean().optional()}).optional(),dimensions:k.number().optional()}),c(42656),c(75151),c(15750),c(63711),c(55511);let r=k.object({input:k.unknown(),output:k.unknown().optional(),context:k.array(k.unknown()).optional(),reference:k.unknown().optional(),testCaseId:k.string().optional(),traceIds:k.array(k.string()).optional()});r.extend({testCaseId:k.string()});let s=k.enum(["UNKNOWN","PASS","FAIL"]);var t=(a=>(a.UNKNOWN="UNKNOWN",a.PASS="PASS",a.FAIL="FAIL",a))(t||{});let u=k.object({id:k.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:k.union([k.number(),k.string(),k.boolean()]).optional(),status:s.optional(),error:k.string().optional(),details:k.object({reasoning:k.string().optional()}).passthrough().optional()}),v=k.object({sampleIndex:k.number().optional(),testCaseId:k.string(),traceId:k.string().optional(),spanId:k.string().optional(),evaluation:k.union([u,k.array(u)])});k.array(v),k.object({dataset:k.array(r),evalRunId:k.string(),options:k.unknown()}),k.object({label:k.string().optional(),metrics:k.array(k.string())});var w=c(1998);let x=k.object({score:k.number()}).passthrough(),y=k.object({content:k.array(o.PartSchema),metadata:x});function z(a,b,c,d){return e=>({name:a,initializer:async()=>{await b(e)},resolver:async(a,b)=>{if(c)return await c(e,a,b)},listActions:async()=>d?await d():[]})}w.Document,k.object({query:w.DocumentDataSchema,documents:k.array(w.DocumentDataSchema),options:k.any().optional()}),k.object({documents:k.array(y)}),k.object({label:k.string().optional(),supports:k.object({media:k.boolean().optional()}).optional()}),k.object({k:k.number().describe("Number of documents to rerank").optional()}),k.object({query:o.DocumentDataSchema,options:k.any().optional()}),k.object({documents:k.array(o.DocumentDataSchema)}),k.object({documents:k.array(o.DocumentDataSchema),options:k.any().optional()}),k.object({label:k.string().optional(),supports:k.object({media:k.boolean().optional()}).optional()}),k.object({k:k.number().describe("Number of documents to retrieve").optional()});var A=c(73396),B=c(85783),C=c(84618),D=c(70604),E=c(7986),F=c(98095);async function G(a,b){let c=["v1"];if(b?.apiVersion&&(c=Array.isArray(b?.apiVersion)?b?.apiVersion:[b?.apiVersion]),c.includes("v1beta")&&Object.keys(C.SUPPORTED_GEMINI_MODELS).forEach(c=>(0,C.defineGoogleAIModel)({ai:a,name:c,apiKey:b?.apiKey,apiVersion:"v1beta",baseUrl:b?.baseUrl,debugTraces:b?.experimental_debugTraces})),c.includes("v1")&&(Object.keys(C.SUPPORTED_GEMINI_MODELS).forEach(c=>(0,C.defineGoogleAIModel)({ai:a,name:c,apiKey:b?.apiKey,apiVersion:void 0,baseUrl:b?.baseUrl,debugTraces:b?.experimental_debugTraces})),Object.keys(B.SUPPORTED_MODELS).forEach(c=>(0,B.defineGoogleAIEmbedder)(a,c,{apiKey:b?.apiKey}))),b?.models)for(let c of b?.models){let d="string"==typeof c?c:c.name.split("/")[1],e="string"==typeof c?(0,C.gemini)(c):c;(0,C.defineGoogleAIModel)({ai:a,name:d,apiKey:b?.apiKey,baseUrl:b?.baseUrl,info:{...e.info,label:`Google AI - ${d}`},debugTraces:b?.experimental_debugTraces})}}async function H(a,b,c,d){"embedder"===b?J(a,c,d):c.startsWith("veo")?"background-model"===b&&(0,F.defineVeoModel)(a,c,d?.apiKey):"model"===b&&I(a,c,d)}function I(a,b,c){if(b.startsWith("imagen"))return void(0,D.defineImagenModel)(a,b,c?.apiKey);let d=(0,C.gemini)(b);(0,C.defineGoogleAIModel)({ai:a,name:d.name,apiKey:c?.apiKey,baseUrl:c?.baseUrl,info:{...d.info,label:`Google AI - ${b}`},debugTraces:c?.experimental_debugTraces})}function J(a,b,c){(0,B.defineGoogleAIEmbedder)(a,`googleai/${b}`,{apiKey:c?.apiKey})}async function K(a){let b=a?.apiKey||(0,A.getApiKeyFromEnvVar)();if(!b)return j.error("Pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable."),[];let c=await (0,E.listModels)(a?.baseUrl||"https://generativelanguage.googleapis.com",b);return[...c.filter(a=>a.supportedGenerationMethods.includes("predict")&&a.name.includes("imagen")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=a.name.split("/").at(-1);return(0,d.modelActionMetadata)({name:`googleai/${b}`,info:{...D.GENERIC_IMAGEN_INFO},configSchema:D.ImagenConfigSchema})}),...c.filter(a=>a.supportedGenerationMethods.includes("predictLongRunning")&&a.name.includes("veo")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=a.name.split("/").at(-1);return(0,d.modelActionMetadata)({name:`googleai/${b}`,info:{...F.GENERIC_VEO_INFO},configSchema:F.VeoConfigSchema,background:!0})}),...c.filter(a=>a.supportedGenerationMethods.includes("generateContent")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=(0,C.gemini)(a.name.startsWith("models/")?a.name.substring(7):a.name);return(0,d.modelActionMetadata)({name:b.name,info:b.info,configSchema:C.GeminiConfigSchema})}),...c.filter(a=>a.supportedGenerationMethods.includes("embedContent")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b="googleai/"+(a.name.startsWith("models/")?a.name.substring(7):a.name);return(0,d.embedderActionMetadata)({name:b,configSchema:B.GeminiEmbeddingConfigSchema,info:{dimensions:768,label:`Google Gen AI - ${b}`,supports:{input:["text"]}}})})]}let L=function(a){let b;return z("googleai",async b=>await G(b,a),async(b,c,d)=>await H(b,c,d,a),async()=>b||(b=await K(a)))};L.model=(a,b)=>a.startsWith("imagen")?p({name:`googleai/${a}`,config:b,configSchema:D.ImagenConfigSchema}):a.startsWith("veo")?p({name:`googleai/${a}`,config:b,configSchema:F.VeoConfigSchema}):p({name:`googleai/${a}`,config:b,configSchema:C.GeminiConfigSchema}),L.embedder=(a,b)=>(0,d.embedderRef)({name:`googleai/${a}`,config:b,configSchema:B.GeminiEmbeddingConfigSchema})},55929:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResolvingCall=void 0;let d=c(10589),e=c(56458),f=c(8319),g=c(33604),h=c(38702),i=c(16390),j="resolving_call";class k{constructor(a,b,c,g,h){this.channel=a,this.method=b,this.filterStackFactory=g,this.callNumber=h,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=d.CallCredentials.createEmpty(),this.deadline=c.deadline,this.host=c.host,c.parentCall&&(c.flags&e.Propagate.CANCELLATION&&c.parentCall.on("cancelled",()=>{this.cancelWithStatus(e.Status.CANCELLED,"Cancelled by parent call")}),c.flags&e.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+c.parentCall.getDeadline()),this.deadline=(0,f.minDeadline)(this.deadline,c.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(a){h.trace(e.LogVerbosity.DEBUG,j,"["+this.callNumber+"] "+a)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,f.deadlineToString)(this.deadline));let a=(0,f.getRelativeTimeout)(this.deadline);if(a!==1/0){this.trace("Deadline will be reached in "+a+"ms");let b=()=>{if(!this.deadlineStartTime)return void this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,"Deadline exceeded");let a=[],b=new Date;a.push(`Deadline exceeded after ${(0,f.formatDateDifference)(this.deadlineStartTime,b)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&a.push(`name resolution: ${(0,f.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&a.push(`metadata filters: ${(0,f.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):a.push("waiting for metadata filters")):a.push("waiting for name resolution"),this.child&&a.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,a.join(","))};a<=0?process.nextTick(b):this.deadlineTimer=setTimeout(b,a)}}outputStatus(a){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let b=this.filterStack.receiveTrailers(a);this.trace("ended with status: code="+b.code+' details="'+b.details+'"'),this.statusWatchers.forEach(a=>a(b)),process.nextTick(()=>{var a;null==(a=this.listener)||a.onReceiveStatus(b)})}}sendMessageOnChild(a,b){if(!this.child)throw Error("sendMessageonChild called with child not populated");let c=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags})).then(b=>{this.writeFilterPending=!1,c.sendMessageWithContext(a,b.message),this.pendingHalfClose&&c.halfClose()},a=>{this.cancelWithStatus(a.code,a.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let a=this.channel.getConfig(this.method,this.metadata);if("NONE"===a.type)return void this.channel.queueCallForConfig(this);if("ERROR"===a.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(a.error));this.configReceivedTime=new Date;let b=a.config;if(b.status!==e.Status.OK){let{code:a,details:c}=(0,i.restrictControlPlaneStatusCode)(b.status,"Failed to route call to method "+this.method);this.outputStatus({code:a,details:c,metadata:new g.Metadata});return}if(b.methodConfig.timeout){let a=new Date;a.setSeconds(a.getSeconds()+b.methodConfig.timeout.seconds),a.setMilliseconds(a.getMilliseconds()+b.methodConfig.timeout.nanos/1e6),this.deadline=(0,f.minDeadline)(this.deadline,a),this.runDeadlineTimer()}this.filterStackFactory.push(b.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(a=>{this.child=this.channel.createRetryingCall(b,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(a,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(a))},onReceiveMessage:a=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(a).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:a=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=a:this.outputStatus(a)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},a=>{this.outputStatus(a)})}reportResolverError(a){var b;(null==(b=this.metadata)?void 0:b.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(a)}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata})}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.metadata=a.clone(),this.listener=b,this.getConfig()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.sendMessageOnChild(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){this.credentials=a}addStatusWatcher(a){this.statusWatchers.push(a)}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}b.ResolvingCall=k},56025:(a,b,c)=>{"use strict";a.exports=e;var d=c(16813);function e(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)this[b[c]]=a[b[c]]}e.create=function(a){return this.$type.create(a)},e.encode=function(a,b){return this.$type.encode(a,b)},e.encodeDelimited=function(a,b){return this.$type.encodeDelimited(a,b)},e.decode=function(a){return this.$type.decode(a)},e.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},e.verify=function(a){return this.$type.verify(a)},e.fromObject=function(a){return this.$type.fromObject(a)},e.toObject=function(a,b){return this.$type.toObject(a,b)},e.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)}},56222:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},56280:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Registry:()=>v,isActionType:()=>s,parseRegistryKey:()=>u}),a.exports=i(j);var k=c(76110),l=c(24275),m=c(49528),n=c(71639),o=c(53369),p=c(42656),q=c(76944);let r=["custom","dynamic-action-provider","embedder","evaluator","executable-prompt","flow","indexer","model","background-model","check-operation","cancel-operation","prompt","reranker","retriever","tool","util","resource"];function s(a){return r.includes(a)}function t(a){let b=a.split("/");if(b.length>=4)return b[2]}function u(a){if(a.startsWith("/dynamic-action-provider")){let b=a.split(":"),c=b[0].split("/");if(c.length<3)return;if(b.length<2)return{actionType:"dynamic-action-provider",actionName:c[2]};let d=b[1].split("/");if(d.length<2||!s(d[0]))return;return{dynamicActionHost:c[2],actionType:d[0],actionName:d.slice(1).join("/")}}let b=a.split("/");if(!(b.length<3))return b.length>=4?{actionType:b[1],pluginName:b[2],actionName:b.slice(3).join("/")}:{actionType:b[1],actionName:b[2]}}class v{actionsById={};pluginsByName={};schemasByName={};valueByTypeAndName={};allPluginsInitialized=!1;apiStability="stable";dotprompt;parent;context;constructor(a){a?(this.parent=a,this.apiStability=a?.apiStability,this.dotprompt=a.dotprompt):this.dotprompt=new k.Dotprompt({schemaResolver:async a=>{let b=await this.lookupSchema(a);if(!b)throw new o.GenkitError({message:`Schema '${a}' not found`,status:"NOT_FOUND"});return(0,q.toJsonSchema)(b)}})}static withParent(a){return new v(a)}async resolveActionNames(a){let b=u(a);if(b?.dynamicActionHost){let a=`/dynamic-action-provider/${b.dynamicActionHost}`,c=await this.actionsById[a];return c&&(0,n.isDynamicActionProvider)(c)?(await c.listActionMetadata(b.actionType,b.actionName)).map(c=>`${a}:${b.actionType}/${c.name}`):[]}return await this.lookupAction(a)?[a]:[]}async lookupAction(a){let b=u(a);if(b?.dynamicActionHost&&this.actionsById[`/dynamic-action-provider/${b.dynamicActionHost}`]){let a=await this.getDynamicAction(b);if(a)return a}return b?.pluginName&&this.pluginsByName[b.pluginName]&&(await this.initializePlugin(b.pluginName),this.actionsById[a]||await this.resolvePluginAction(b.pluginName,b.actionType,b.actionName)),await this.actionsById[a]||this.parent?.lookupAction(a)}async lookupBackgroundAction(a){return(0,m.lookupBackgroundAction)(this,a)}registerAction(a,b,c){if(a!==b.__action.actionType)throw new o.GenkitError({status:"INVALID_ARGUMENT",message:`action type (${a}) does not match type on action (${b.__action.actionType})`});c?.namespace&&!b.__action.name.startsWith(`${c.namespace}/`)&&(b.__action.name=`${c.namespace}/${b.__action.name}`);let d=`/${a}/${b.__action.name}`;p.logger.debug(`registering ${d}`),this.actionsById.hasOwnProperty(d)&&p.logger.warn(`WARNING: ${d} already has an entry in the registry. Overwriting.`),this.actionsById[d]=b,b.__registry&&p.logger.error(`ERROR: ${d} already registered.`),b.__registry=this}registerActionAsync(a,b,c,d){d?.namespace&&!b.startsWith(`${d.namespace}/`)&&(b=`${d.namespace}/${b}`);let e=`/${a}/${b}`;p.logger.debug(`registering ${e} (async)`),this.actionsById.hasOwnProperty(e)&&p.logger.warn(`WARNING: ${e} already has an entry in the registry. Overwriting.`),this.actionsById[e]=c}async listActions(){await this.initializeAllPlugins();let a={};return await Promise.all(Object.entries(this.actionsById).map(async([b,c])=>{a[b]=await c})),{...await this.parent?.listActions(),...a}}async listResolvableActions(){let a={};for(let[b,c]of(await Promise.all(Object.entries(this.pluginsByName).map(async([b,c])=>{if(c.listActions)try{(await c.listActions()).forEach(c=>{if(!c.name)throw new o.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${b} - name required`});if(!c.actionType)throw new o.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${b} - actionType required`});a[`/${c.actionType}/${c.name}`]=c})}catch(a){p.logger.error(`Error listing actions for ${b}
`,a)}})),Object.entries(await this.listActions())))a[b]=c.__action;return{...await this.parent?.listResolvableActions(),...a}}async initializeAllPlugins(){if(!this.allPluginsInitialized){for(let a of Object.keys(this.pluginsByName))await this.initializePlugin(a);this.allPluginsInitialized=!0}}registerPluginProvider(a,b){let c;if(this.pluginsByName[a])throw Error(`Plugin ${a} already registered`);this.allPluginsInitialized=!1;let d=!1;this.pluginsByName[a]={name:b.name,initializer:()=>(d||(c=b.initializer(),d=!0),c),resolver:async(a,c)=>{b.resolver&&await b.resolver(a,c)},listActions:async()=>b.listActions?await b.listActions():[]}}lookupPlugin(a){return this.pluginsByName[a]||this.parent?.lookupPlugin(a)}async resolvePluginAction(a,b,c){let d=this.pluginsByName[a];if(d)return await (0,l.runOutsideActionRuntimeContext)(async()=>{d.resolver&&await d.resolver(b,c)})}async getDynamicAction(a){if(a.actionName.includes("*"))return;let b=`/dynamic-action-provider/${a.dynamicActionHost}`,c=await this.actionsById[b];if(c&&(0,n.isDynamicActionProvider)(c))return await c.getAction(a.actionType,a.actionName)}async initializePlugin(a){if(this.pluginsByName[a])return await (0,l.runOutsideActionRuntimeContext)(()=>this.pluginsByName[a].initializer())}registerSchema(a,b){if(this.schemasByName[a])throw Error(`Schema ${a} already registered`);this.schemasByName[a]=b}registerValue(a,b,c){this.valueByTypeAndName[a]||(this.valueByTypeAndName[a]={}),this.valueByTypeAndName[a][b]=c}async lookupValue(a,b){let c=t(b);return!this.valueByTypeAndName[a]?.[b]&&c&&await this.initializePlugin(c),this.valueByTypeAndName[a]?.[b]||this.parent?.lookupValue(a,b)}async listValues(a){return await this.initializeAllPlugins(),{...await this.parent?.listValues(a)||{},...this.valueByTypeAndName[a]||{}}}lookupSchema(a){return this.schemasByName[a]||this.parent?.lookupSchema(a)}}},56458:(a,b)=>{"use strict";var c,d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=b.DEFAULT_MAX_SEND_MESSAGE_LENGTH=b.Propagate=b.LogVerbosity=b.Status=void 0,function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(c||(b.Status=c={})),function(a){a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.ERROR=2]="ERROR",a[a.NONE=3]="NONE"}(d||(b.LogVerbosity=d={})),function(a){a[a.DEADLINE=1]="DEADLINE",a[a.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",a[a.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",a[a.CANCELLATION=8]="CANCELLATION",a[a.DEFAULTS=65535]="DEFAULTS"}(e||(b.Propagate=e={})),b.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,b.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},56679:(a,b,c)=>{"use strict";c.d(b,{yT:()=>f,zs:()=>d,RK:()=>e,ko:()=>g,AC:()=>h,Cn:()=>l,U2:()=>m,fP:()=>j,xQ:()=>k,Yb:()=>n,ky:()=>i,C3:()=>q,lb:()=>o,cV:()=>p,PL:()=>s,AV:()=>r,Pl:()=>u,$L:()=>t,y$:()=>v});var d="host.id",e="host.name",f="host.arch",g="os.type",h="os.version",i="process.pid",j="process.executable.name",k="process.executable.path",l="process.command",m="process.command_args",n="process.owner",o="process.runtime.name",p="process.runtime.version",q="process.runtime.description",r="service.name",s="service.instance.id",t="telemetry.sdk.name",u="telemetry.sdk.language",v="telemetry.sdk.version"},56823:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseOptionalDef=void 0;let d=c(31958),e=c(10715);b.parseOptionalDef=(a,b)=>{if(b.currentPath.toString()===b.propertyPath?.toString())return(0,d.parseDef)(a.innerType._def,b);let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath,"anyOf","1"]});return c?{anyOf:[{not:(0,e.parseAnyDef)(b)},c]}:(0,e.parseAnyDef)(b)}},56867:a=>{var b=1/0,c="[object Symbol]",d=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f="\ud800-\udfff",g="\\u0300-\\u036f\\ufe20-\\ufe23",h="\\u20d0-\\u20f0",i="\\u2700-\\u27bf",j="a-z\\xdf-\\xf6\\xf8-\\xff",k="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\ufe0e\\ufe0f",m="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="['’]",o="["+f+"]",p="["+m+"]",q="["+g+h+"]",r="\\d+",s="["+i+"]",t="["+j+"]",u="[^"+f+m+r+i+j+k+"]",v="\ud83c[\udffb-\udfff]",w="[^"+f+"]",x="(?:\ud83c[\udde6-\uddff]){2}",y="[\ud800-\udbff][\udc00-\udfff]",z="["+k+"]",A="\\u200d",B="(?:"+t+"|"+u+")",C="(?:"+z+"|"+u+")",D="(?:"+n+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+n+"(?:D|LL|M|RE|S|T|VE))?",F="(?:"+q+"|"+v+")?",G="["+l+"]?",H="(?:"+A+"(?:"+[w,x,y].join("|")+")"+G+F+")*",I=G+F+H,J="(?:"+[s,x,y].join("|")+")"+I,K="(?:"+[w+q+"?",q,x,y,o].join("|")+")",L=RegExp(n,"g"),M=RegExp(q,"g"),N=RegExp(v+"(?="+v+")|"+K+I,"g"),O=RegExp([z+"?"+t+"+"+D+"(?="+[p,z,"$"].join("|")+")",C+"+"+E+"(?="+[p,z+B,"$"].join("|")+")",z+"?"+B+"+"+D,z+"+"+E,r,J].join("|"),"g"),P=RegExp("["+A+f+g+h+l+"]"),Q=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},S="object"==typeof global&&global&&global.Object===Object&&global,T="object"==typeof self&&self&&self.Object===Object&&self,U=S||T||Function("return this")();function V(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function W(a){return a.split("")}function X(a){return a.match(d)||[]}var Y=function(a){return function(b){return null==a?void 0:a[b]}}(R);function Z(a){return P.test(a)}function $(a){return Q.test(a)}function _(a){return Z(a)?aa(a):W(a)}function aa(a){return a.match(N)||[]}function ab(a){return a.match(O)||[]}var ac=Object.prototype.toString,ad=U.Symbol,ae=ad?ad.prototype:void 0,af=ae?ae.toString:void 0;function ag(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function ah(a){if("string"==typeof a)return a;if(al(a))return af?af.call(a):"";var c=a+"";return"0"==c&&1/a==-b?"-0":c}function ai(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:ag(a,b,c)}function aj(a){return function(b){var c=Z(b=am(b))?_(b):void 0,d=c?c[0]:b.charAt(0),e=c?ai(c,1).join(""):b.slice(1);return d[a]()+e}}function ak(a){return!!a&&"object"==typeof a}function al(a){return"symbol"==typeof a||ak(a)&&ac.call(a)==c}function am(a){return null==a?"":ah(a)}var an=function(a){return function(b){return V(ar(ap(b).replace(L,"")),a,"")}}(function(a,b,c){return b=b.toLowerCase(),a+(c?ao(b):b)});function ao(a){return aq(am(a).toLowerCase())}function ap(a){return(a=am(a))&&a.replace(e,Y).replace(M,"")}var aq=aj("toUpperCase");function ar(a,b,c){return(a=am(a),void 0===(b=c?void 0:b))?$(a)?ab(a):X(a):a.match(b)||[]}a.exports=an},57136:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(71367);b.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},57182:(a,b,c)=>{"use strict";c.d(b,{F:()=>l});var d=c(79361),e=c(56679),f=c(47314),g=c(29990),h=function(){return(h=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},i=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},j=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},k=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},l=function(){function a(a,b){var c,e=this;this._attributes=a,this.asyncAttributesPending=null!=b,this._syncAttributes=null!=(c=this._attributes)?c:{},this._asyncAttributesPromise=null==b?void 0:b.then(function(a){return e._attributes=Object.assign({},e._attributes,a),e.asyncAttributesPending=!1,a},function(a){return d.s.debug("a resource's async attributes promise rejected: %s",a),e.asyncAttributesPending=!1,{}})}return a.empty=function(){return a.EMPTY},a.default=function(){var b;return new a(((b={})[e.AV]=(0,g.m)(),b[e.Pl]=f.q[e.Pl],b[e.$L]=f.q[e.$L],b[e.y$]=f.q[e.y$],b))},Object.defineProperty(a.prototype,"attributes",{get:function(){var a;return this.asyncAttributesPending&&d.s.error("Accessing resource attributes before async attributes settled"),null!=(a=this._attributes)?a:{}},enumerable:!1,configurable:!0}),a.prototype.waitForAsyncAttributes=function(){return i(this,void 0,void 0,function(){return j(this,function(a){switch(a.label){case 0:if(!this.asyncAttributesPending)return[3,2];return[4,this._asyncAttributesPromise];case 1:a.sent(),a.label=2;case 2:return[2]}})})},a.prototype.merge=function(b){var c,d=this;if(!b)return this;var e=h(h({},this._syncAttributes),null!=(c=b._syncAttributes)?c:b.attributes);return this._asyncAttributesPromise||b._asyncAttributesPromise?new a(e,Promise.all([this._asyncAttributesPromise,b._asyncAttributesPromise]).then(function(a){var c,e=k(a,2),f=e[0],g=e[1];return h(h(h(h({},d._syncAttributes),f),null!=(c=b._syncAttributes)?c:b.attributes),g)})):new a(e)},a.EMPTY=new a({}),a}()},57317:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).minor},57341:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUndefinedDef=void 0;let d=c(10715);b.parseUndefinedDef=function(a){return{not:(0,d.parseAnyDef)(a)}}},57514:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setup=g;let d=c(43313),e=c(13685);class f{constructor(a,b,c){let d;this.listener=b,this.hasReturnedResult=!1,this.endpoints=[],d=""===a.authority?"/"+a.path:a.path,this.endpoints=[{addresses:[{path:d}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener,(0,e.statusOrFromValue)(this.endpoints),{},null,""))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return"localhost"}}function g(){(0,d.registerResolver)("unix",f)}},57593:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a.trim().replace(/^[=v]+/,""),b);return c?c.version:null}},57607:(a,b,c)=>{"use strict";var d=b,e=c(67958),f=c(305);function g(a,b,c,d){var f=!1;if(b.resolvedType)if(b.resolvedType instanceof e){a("switch(d%s){",d);for(var g=b.resolvedType.values,h=Object.keys(g),i=0;i<h.length;++i)g[h[i]]!==b.typeDefault||f||(a("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',d,d,d),b.repeated||a("break"),f=!0),a("case%j:",h[i])("case %i:",g[h[i]])("m%s=%j",d,g[h[i]])("break");a("}")}else a('if(typeof d%s!=="object")',d)("throw TypeError(%j)",b.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",d,c,d);else{var j=!1;switch(b.type){case"double":case"float":a("m%s=Number(d%s)",d,d);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",d,d);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",d,d);break;case"uint64":j=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",d,d,j)('else if(typeof d%s==="string")',d)("m%s=parseInt(d%s,10)",d,d)('else if(typeof d%s==="number")',d)("m%s=d%s",d,d)('else if(typeof d%s==="object")',d)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",d,d,d,j?"true":"");break;case"bytes":a('if(typeof d%s==="string")',d)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",d,d,d)("else if(d%s.length >= 0)",d)("m%s=d%s",d,d);break;case"string":a("m%s=String(d%s)",d,d);break;case"bool":a("m%s=Boolean(d%s)",d,d)}}return a}function h(a,b,c,d){if(b.resolvedType)b.resolvedType instanceof e?a("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",d,c,d,d,c,d,d):a("d%s=types[%i].toObject(m%s,o)",d,c,d);else{var f=!1;switch(b.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",d,d,d,d);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a('if(typeof m%s==="number")',d)("d%s=o.longs===String?String(m%s):m%s",d,d,d)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",d,d,d,d,f?"true":"",d);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",d,d,d,d,d);break;default:a("d%s=m%s",d,d)}}return a}d.fromObject=function(a){var b=a.fieldsArray,c=f.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!b.length)return c("return new this.ctor");c("var m=new this.ctor");for(var d=0;d<b.length;++d){var h=b[d].resolve(),i=f.safeProp(h.name);h.map?(c("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",h.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),g(c,h,d,i+"[ks[i]]")("}")("}")):h.repeated?(c("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",h.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),g(c,h,d,i+"[i]")("}")("}")):(h.resolvedType instanceof e||c("if(d%s!=null){",i),g(c,h,d,i),h.resolvedType instanceof e||c("}"))}return c("return m")},d.toObject=function(a){var b=a.fieldsArray.slice().sort(f.compareFieldsById);if(!b.length)return f.codegen()("return {}");for(var c=f.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],g=[],i=[],j=0;j<b.length;++j)b[j].partOf||(b[j].resolve().repeated?d:b[j].map?g:i).push(b[j]);if(d.length){for(c("if(o.arrays||o.defaults){"),j=0;j<d.length;++j)c("d%s=[]",f.safeProp(d[j].name));c("}")}if(g.length){for(c("if(o.objects||o.defaults){"),j=0;j<g.length;++j)c("d%s={}",f.safeProp(g[j].name));c("}")}if(i.length){for(c("if(o.defaults){"),j=0;j<i.length;++j){var k=i[j],l=f.safeProp(k.name);if(k.resolvedType instanceof e)c("d%s=o.enums===String?%j:%j",l,k.resolvedType.valuesById[k.typeDefault],k.typeDefault);else if(k.long)c("if(util.Long){")("var n=new util.Long(%i,%i,%j)",k.typeDefault.low,k.typeDefault.high,k.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,k.typeDefault.toString(),k.typeDefault.toNumber());else if(k.bytes){var m="["+Array.prototype.slice.call(k.typeDefault).join(",")+"]";c("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,k.typeDefault))("else{")("d%s=%s",l,m)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else c("d%s=%j",l,k.typeDefault)}c("}")}var n=!1;for(j=0;j<b.length;++j){var k=b[j],o=a._fieldsArray.indexOf(k),l=f.safeProp(k.name);k.map?(n||(n=!0,c("var ks2")),c("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),h(c,k,o,l+"[ks2[j]]")("}")):k.repeated?(c("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),h(c,k,o,l+"[j]")("}")):(c("if(m%s!=null&&m.hasOwnProperty(%j)){",l,k.name),h(c,k,o,l),k.partOf&&c("if(o.oneofs)")("d%s=%j",f.safeProp(k.partOf.name),k.name)),c("}")}return c("return d")}},57614:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0,function(a){a.Tag="tag",a.Mapping="mapping"}(c||(b.DiscrError=c={}))},57941:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"MISSING_ROOT_TAGS_ERROR",{enumerable:!0,get:function(){return c}});let c="NEXT_MISSING_ROOT_TAGS";("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},57976:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,b);return c&&c.prerelease.length?c.prerelease:null}},58062:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.Compiler=i,b.precompile=j,b.compile=k;var e=d(c(99008)),f=c(80496),g=d(c(68747)),h=[].slice;function i(){}function j(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);"data"in(b=b||{})||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),f=new c.Compiler().compile(d,b);return new c.JavaScriptCompiler().compile(f,b)}function k(a,b,c){if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in(b=f.extend({},b))||(b.data=!0),b.compat&&(b.useDepths=!0);var d=void 0;function g(){var d=c.parse(a,b),e=new c.Compiler().compile(d,b),f=new c.JavaScriptCompiler().compile(e,b,void 0,!0);return c.template(f)}function h(a,b){return d||(d=g()),d.call(this,a,b)}return h._setup=function(a){return d||(d=g()),d._setup(a)},h._child=function(a,b,c,e){return d||(d=g()),d._child(a,b,c,e)},h}function l(a,b){if(a===b)return!0;if(f.isArray(a)&&f.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!l(a[c],b[c]))return!1;return!0}}function m(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}i.prototype={compiler:i,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!l(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[],b.knownHelpers=f.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},b.knownHelpers),this.accept(a)},compileProgram:function(a){var b=new this.compiler().compile(a,this.options),c=this.guid++;return this.usePartial=this.usePartial||b.usePartial,this.children[c]=b,this.useDepths=this.useDepths||b.useDepths,c},accept:function(a){if(!this[a.type])throw new e.default("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){m(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new e.default("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,f="SubExpression"===a.name.type;f&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var g=a.indent||"";this.options.preventIndent&&g&&(this.opcode("appendContent",g),g=""),this.opcode("invokePartial",f,d,g),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){m(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),f=a.path,h=f.parts[0];if(this.options.knownHelpers[h])this.opcode("invokeKnownHelper",d.length,h);else if(this.options.knownHelpersOnly)throw new e.default("You specified knownHelpersOnly, but used the unknown helper "+h,a);else f.strict=!0,f.falsy=!0,this.accept(f),this.opcode("invokeHelper",d.length,f.original,g.default.helpers.simpleId(f))},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=g.default.helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=g.default.helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&g.default.helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],h=this.options;h.knownHelpers[f]?d=!0:h.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||g.default.helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else(b=a.original||b).replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&f.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},58302:function(a,b){var c,d,e;!function(f,g){d=[],void 0===(e="function"==typeof(c=g)?c.apply(b,d):c)||(a.exports=e)}(0,function(){var a={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},b={"*":!0};function c(a){return encodeURI(a).replace(/%25[0-9][0-9]/g,function(a){return"%"+a.substring(3)})}function d(a){return encodeURIComponent(a=a.replace(/%../g,""))===a}function e(e){var f="";a[e.charAt(0)]&&(f=e.charAt(0),e=e.substring(1));var g="",h="",i=!0,j=!1,k=!1;"+"==f?i=!1:"."==f?(h=".",g="."):"/"==f?(h="/",g="/"):"#"==f?(h="#",i=!1):";"==f?(h=";",g=";",j=!0,k=!0):"?"==f?(h="?",g="&",j=!0):"&"==f&&(h="&",g="&",j=!0);for(var l=[],m=e.split(","),n=[],o={},p=0;p<m.length;p++){var q=m[p],r=null;if(-1!=q.indexOf(":")){var s=q.split(":");q=s[0],r=parseInt(s[1])}for(var t={};b[q.charAt(q.length-1)];)t[q.charAt(q.length-1)]=!0,q=q.substring(0,q.length-1);var u={truncate:r,name:q,suffices:t};n.push(u),o[q]=u,l.push(q)}var v=function(a){for(var b="",d=0,e=0;e<n.length;e++){var f=n[e],l=a(f.name);if(null==l||Array.isArray(l)&&0==l.length||"object"==typeof l&&0==Object.keys(l).length){d++;continue}if(e==d?b+=h:b+=g||",",Array.isArray(l)){j&&(b+=f.name+"=");for(var m=0;m<l.length;m++)m>0&&(b+=f.suffices["*"]&&g||",",f.suffices["*"]&&j&&(b+=f.name+"=")),b+=i?encodeURIComponent(l[m]).replace(/!/g,"%21"):c(l[m])}else if("object"==typeof l){j&&!f.suffices["*"]&&(b+=f.name+"=");var o=!0;for(var p in l)o||(b+=f.suffices["*"]&&g||","),o=!1,b+=i?encodeURIComponent(p).replace(/!/g,"%21"):c(p),b+=f.suffices["*"]?"=":",",b+=i?encodeURIComponent(l[p]).replace(/!/g,"%21"):c(l[p])}else j&&(b+=f.name,k&&""==l||(b+="=")),null!=f.truncate&&(l=l.substring(0,f.truncate)),b+=i?encodeURIComponent(l).replace(/!/g,"%21"):c(l)}return b},w=function(a,b,c){if(h&&(a=a.substring(h.length)),1==n.length&&n[0].suffices["*"]){for(var e=n[0],f=e.name,k=e.suffices["*"]?a.split(g||","):[a],l=i&&-1!=a.indexOf("="),m=1;m<k.length;m++){var a=k[m];l&&-1==a.indexOf("=")&&(k[m-1]+=(g||",")+a,k.splice(m,1),m--)}for(var m=0;m<k.length;m++){var a=k[m];i&&-1!=a.indexOf("=")&&(l=!0);var p=a.split(",");1==p.length?k[m]=p[0]:k[m]=p}if(j||l){for(var q=b[f]||{},r=0;r<k.length;r++){var s=a;if(!j||s){if("string"==typeof k[r]){var a=k[r],t=a.split("=",1)[0],a=a.substring(t.length+1);if(i){if(c&&!d(a))return;a=decodeURIComponent(a)}s=a}else{var a=k[r][0],t=a.split("=",1)[0],a=a.substring(t.length+1);if(i){if(c&&!d(a))return;a=decodeURIComponent(a)}k[r][0]=a,s=k[r]}if(i){if(c&&!d(t))return;t=decodeURIComponent(t)}void 0!==q[t]?Array.isArray(q[t])?q[t].push(s):q[t]=[q[t],s]:q[t]=s}}1==Object.keys(q).length&&void 0!==q[f]?b[f]=q[f]:b[f]=q}else{if(i)for(var r=0;r<k.length;r++){var p=k[r];if(Array.isArray(p))for(var u=0;u<p.length;u++){if(c&&!d(p[u]))return;p[u]=decodeURIComponent(p[u])}else{if(c&&!d(p))return;k[r]=decodeURIComponent(p)}}void 0!==b[f]?Array.isArray(b[f])?b[f]=b[f].concat(k):b[f]=[b[f]].concat(k):1!=k.length||e.suffices["*"]?b[f]=k:b[f]=k[0]}}else{for(var k=1==n.length?[a]:a.split(g||","),v={},m=0;m<k.length;m++){for(var w=0;w<n.length-1&&w<m&&!n[w].suffices["*"];w++);if(w==m){v[m]=m;continue}for(var x=n.length-1;x>0&&n.length-x<k.length-m&&!n[x].suffices["*"];x--);if(n.length-x==k.length-m){v[m]=x;continue}v[m]=w}for(var m=0;m<k.length;m++){var a=k[m];if(a||!j){var p=a.split(","),l=!1;if(j){var a=p[0],f=a.split("=",1)[0],a=a.substring(f.length+1);p[0]=a;var e=o[f]||n[0]}else var e=n[v[m]],f=e.name;for(var r=0;r<p.length;r++)if(i){if(c&&!d(p[r]))return;p[r]=decodeURIComponent(p[r])}(j||e.suffices["*"])&&void 0!==b[f]?Array.isArray(b[f])?b[f]=b[f].concat(p):b[f]=[b[f]].concat(p):1!=p.length||e.suffices["*"]?b[f]=p:b[f]=p[0]}}}return 1};return{varNames:l,prefix:h,substitution:v,unSubstitution:w}}function f(a){if(!(this instanceof f))return new f(a);for(var b=a.split("{"),c=[b.shift()],d=[],g=[],h=[],i=[];b.length>0;){var j=b.shift(),k=j.split("}")[0],l=j.substring(k.length+1),m=e(k);g.push(m.substitution),h.push(m.unSubstitution),d.push(m.prefix),c.push(l),i=i.concat(m.varNames)}this.fill=function(a){if(a&&"function"!=typeof a){var b=a;a=function(a){return b[a]}}for(var d=c[0],e=0;e<g.length;e++)d+=(0,g[e])(a),d+=c[e+1];return d},this.fromUri=function(a,b){b=b||{};for(var e={},f=0;f<c.length;f++){var g=c[f];if(a.substring(0,g.length)!==g)return;if(a=a.substring(g.length),f>=c.length-1)if(""!=a)return;else break;var i=d[f];if(!i||a.substring(0,i.length)===i){for(var j=c[f+1],k=f;;){if(k==c.length-2){var l=a.substring(a.length-j.length);if(l!==j)return;var m=a.substring(0,a.length-j.length);a=l}else if(j){var n=a.indexOf(j),m=a.substring(0,n);a=a.substring(n)}else if(d[k+1]){var n=a.indexOf(d[k+1]);-1===n&&(n=a.length);var m=a.substring(0,n);a=a.substring(n)}else if(c.length>k+2){j=c[++k+1];continue}else{var m=a;a=""}break}if(!h[f](m,e,b.strict))return}}return e},this.varNames=i,this.template=a}return f.prototype={toString:function(){return this.template},fillFromObject:function(a){return this.fill(a)},test:function(a,b){return!!this.fromUri(a,b)}},f})},58337:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).major},58470:(a,b,c)=>{"use strict";var d=c(37451).WriteResult,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b){if("number"!=typeof b||b<0)return a.reset(g.expected(b,"unsigned integer"));if(0===b)return a.reset(null,1);var c=Math.ceil(k(b)/7);return a.reset(null,c)}function i(a,b,c,e){if("number"!=typeof b||b<0)return a.reset(g.expected(b,"unsigned integer"),null);var f=Math.ceil(k(b)/7),h=e,i=e+f;if(i>c.length){var j=c.length-e;return d.poolShortError(a,f,j,e)}for(e=i;e>h;){var l=127&b;if(b>>=7,e!==i&&(l|=128),c.writeUInt8(l,--e,!0),b<=0)break}return a.reset(null,i)}function j(a,b,c){for(var d=c,f=0;c<b.length;){var g=b.readUInt8(c++,!0);if(0!==f&&(f<<=7),f+=127&g,!(128&g))return a.reset(null,c,f)}var h=c-d;return e.poolShortError(a,h+1,h,d,c)}function k(a){for(var b=1;a>>=1;)b++;return b}a.exports.unsigned=f(h,j,i,!0)},58482:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{apiKey:()=>q,getContext:()=>p,runWithContext:()=>o}),a.exports=i(j);var k=c(24275),l=c(50673),m=c(53369);let n="core.auth.context";function o(a,b){return void 0===a?b():(0,l.getAsyncContext)().run(n,a,()=>(0,k.runInActionRuntimeContext)(b))}function p(){return(0,l.getAsyncContext)().getStore(n)}function q(a){return async b=>{let c={auth:{apiKey:b.headers.authorization}};if("string"==typeof a){if(!c.auth?.apiKey)throw console.error("THROWING UNAUTHENTICATED"),new m.UserFacingError("UNAUTHENTICATED","Unauthenticated");if(c.auth?.apiKey!=a)throw console.error("Throwing PERMISSION_DENIED"),new m.UserFacingError("PERMISSION_DENIED","Permission Denied")}else if("function"==typeof a)await a(c);else if(void 0!==a)throw Error(`Invalid type ${typeof a} passed to apiKey()`);return c}}},58704:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(86224),e=c(11108),f=c(38623);function g(){b.tracer=new f.default,b.span=new d.default,b.spanContext=new e.default}b.tracer=null,b.spanContext=null,b.span=null,b.initialize=g},58746:(a,b,c)=>{"use strict";c.d(b,{IP:()=>k,YA:()=>j,hX:()=>h,wN:()=>i});var d=c(27267),e=c(62367),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.RH}function i(a){return g.test(a)&&a!==d.w9}function j(a){return h(a.traceId)&&i(a.spanId)}function k(a){return new e.d(a)}},58871:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"InvariantError",{enumerable:!0,get:function(){return c}});class c extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},58948:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i16",h.prototype.width=2,h.prototype.min=-32768,h.prototype.max=32767,h.prototype.poolReadFrom=function(a,b,c){var d=b.readInt16BE(c,!0);return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c.writeInt16BE(g,f,!0),a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i16",i.prototype.typeid=g.I16,i.prototype.surface=Number,i.prototype.models="type",a.exports.I16RW=h,a.exports.ThriftI16=i},59218:a=>{"use strict";let b=/^[0-9]+$/,c=(a,c)=>{if("number"==typeof a&&"number"==typeof c)return a===c?0:a<c?-1:1;let d=b.test(a),e=b.test(c);return d&&e&&(a*=1,c*=1),a===c?0:d&&!e?-1:e&&!d?1:a<c?-1:1},d=(a,b)=>c(b,a);a.exports={compareIdentifiers:c,rcompareIdentifiers:d}},59320:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseIntersectionDef=void 0;let d=c(31958),e=a=>(!("type"in a)||"string"!==a.type)&&"allOf"in a;b.parseIntersectionDef=function(a,b){let c=[(0,d.parseDef)(a.left._def,{...b,currentPath:[...b.currentPath,"allOf","0"]}),(0,d.parseDef)(a.right._def,{...b,currentPath:[...b.currentPath,"allOf","1"]})].filter(a=>!!a),f="jsonSchema2019-09"===b.target?{unevaluatedProperties:!1}:void 0,g=[];return c.forEach(a=>{if(e(a))g.push(...a.allOf),void 0===a.unevaluatedProperties&&(f=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else f=void 0;g.push(b)}}),g.length?{allOf:g,...f}:void 0}},59366:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0>d(a,b,c)},59368:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{initNodeTelemetryProvider:()=>s}),a.exports=i(j);var k=c(50613),l=c(51859),m=c(42656),n=c(64089),o=c(49176),p=c(75151);let q=null,r=null;function s(){(0,n.setTelemetryProvider)({enableTelemetry:t,flushTracing:x})}async function t(a){process.env.GENKIT_TELEMETRY_SERVER&&(0,p.setTelemetryServerUrl)(process.env.GENKIT_TELEMETRY_SERVER),r=(a=a instanceof Promise?await a:a)||{};let b=[v()];if(r.traceExporter)throw Error("Please specify spanProcessors instead.");r.spanProcessors&&b.push(...r.spanProcessors),r.spanProcessor&&(b.push(r.spanProcessor),delete r.spanProcessor),r.spanProcessors=b,(q=new k.NodeSDK(r)).start(),process.on("SIGTERM",async()=>await u())}async function u(){q&&(await w(),await q.shutdown(),m.logger.debug("OpenTelemetry SDK shut down."),q=null)}function v(){let a=new p.TraceServerExporter;return(0,o.isDevEnv)()?new l.SimpleSpanProcessor(a):new l.BatchSpanProcessor(a)}function w(){return r?.metricReader?r.metricReader.forceFlush():Promise.resolve()}async function x(){r?.spanProcessors&&await Promise.all(r.spanProcessors.map(a=>a.forceFlush()))}},59377:a=>{"use strict";a.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59762:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;let e=c(53864),f=c(91255);function g(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||o(a,`unknown keyword: "${c}"`)}function h(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function i(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function j(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function k({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(f,g,h,i)=>{let j=void 0===h?g:h instanceof e.Name?(g instanceof e.Name?a(f,g,h):b(f,g,h),h):g instanceof e.Name?(b(f,h,g),g):c(g,h);return i!==e.Name||j instanceof e.Name?j:d(f,j)}}function l(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,e._)`{}`);return void 0!==b&&m(a,c,b),c}function m(a,b,c){Object.keys(c).forEach(c=>a.assign((0,e._)`${b}${(0,e.getProperty)(c)}`,!0))}b.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},b.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(g(a,b),!h(b,a.self.RULES.all))},b.checkUnknownRules=g,b.schemaHasRules=h,b.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},b.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,f){if(!f){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,e._)`${c}`}return(0,e._)`${a}${b}${(0,e.getProperty)(d)}`},b.unescapeFragment=function(a){return j(decodeURIComponent(a))},b.escapeFragment=function(a){return encodeURIComponent(i(a))},b.escapeJsonPointer=i,b.unescapeJsonPointer=j,b.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},b.mergeEvaluated={props:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,e._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,e._)`${c} || {}`).code((0,e._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,e._)`${c} || {}`),m(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:l}),items:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,e._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>a.assign(c,!0===b||(0,e._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},b.evaluatedPropsToName=l,b.setEvaluated=m;let n={};function o(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}b.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:n[b.code]||(n[b.code]=new f._Code(b.code))})},function(a){a[a.Num=0]="Num",a[a.Str=1]="Str"}(d||(b.Type=d={})),b.getErrorPath=function(a,b,c){if(a instanceof e.Name){let f=b===d.Num;return c?f?(0,e._)`"[" + ${a} + "]"`:(0,e._)`"['" + ${a} + "']"`:f?(0,e._)`"/" + ${a}`:(0,e._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,e.getProperty)(a).toString():"/"+i(a)},b.checkStrictMode=o},59816:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.errorUtil=void 0,function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(c||(b.errorUtil=c={}))},59938:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;let d=c(53864),e=c(42945),f=c(51018),g=c(50398),h=c(59762),i=c(18601);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:n}=this.opts,o=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:n});a.$async&&(b=o.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let p=o.scopeName("validate");a.validateName=p;let q={gen:o,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:p,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(q),o.optimize(this.opts.code.optimize);let b=o.toString();c=`${o.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(p,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:p,validateCode:b,scopeValues:o._values}),this.opts.unevaluated){let{props:a,items:b}=q;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let b of this._compilations)if(n(b,a))return b}function n(a,b){return a.schema===b.schema&&a.root===b.root&&a.baseId===b.baseId}function o(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||p.call(this,a,b)}function p(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return r.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=p.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return r.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return r.call(this,c,h)}}b.SchemaEnv=j,b.compileSchema=k,b.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=o.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},b.getCompilingSchema=m,b.resolveSchema=p;let q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function r(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!q.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=p.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},60012:(a,b,c)=>{"use strict";c.d(b,{Z:()=>e});var d=c(76673);function e(a){return{attributes:(0,d.Zs)(a.attributes),droppedAttributesCount:0}}},60233:(a,b,c)=>{"use strict";c.d(b,{mS:()=>k,$G:()=>j,kv:()=>l});var d="object"==typeof globalThis?globalThis:global,e="1.9.0",f=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,g=function(a){var b=new Set([a]),c=new Set,d=a.match(f);if(!d)return function(){return!1};var e={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=e.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}function h(a){return b.add(a),!0}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;var d=a.match(f);if(!d)return g(a);var i={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return null!=i.prerelease||e.major!==i.major?g(a):0===e.major?e.minor===i.minor&&e.patch<=i.patch?h(a):g(a):e.minor<=i.minor?h(a):g(a)}}(e),h=Symbol.for("opentelemetry.js.api."+e.split(".")[0]),i=d;function j(a,b,c,d){void 0===d&&(d=!1);var f,g=i[h]=null!=(f=i[h])?f:{version:e};if(!d&&g[a]){var j=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return c.error(j.stack||j.message),!1}if(g.version!==e){var j=Error("@opentelemetry/api: Registration of version v"+g.version+" for "+a+" does not match previously registered API v"+e);return c.error(j.stack||j.message),!1}return g[a]=b,c.debug("@opentelemetry/api: Registered a global for "+a+" v"+e+"."),!0}function k(a){var b,c,d=null==(b=i[h])?void 0:b.version;if(d&&g(d))return null==(c=i[h])?void 0:c[a]}function l(a,b){b.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+e+".");var c=i[h];c&&delete c[a]}},60328:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;let e=c(91255);class f extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}!function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"}(d||(b.UsedValueState=d={})),b.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class g{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof e.Name?a:this.name(a)}name(a){return new e.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}b.Scope=g;class h extends e.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,e._)`.${new e.Name(b)}[${c}]`}}b.ValueScopeName=h;let i=(0,e._)`\n`;class j extends g{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?i:e.nil}}get(){return this._scope}name(a){return new h(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,e._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,c,g={},h){let i=e.nil;for(let j in a){let k=a[j];if(!k)continue;let l=g[j]=g[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let g=c(a);if(g){let c=this.opts.es5?b.varKinds.var:b.varKinds.const;i=(0,e._)`${i}${c} ${a} = ${g};${this.opts._n}`}else if(g=null==h?void 0:h(a))i=(0,e._)`${i}${g}${this.opts._n}`;else throw new f(a);l.set(a,d.Completed)})}return i}}b.ValueScope=j},60407:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;let e=c(38006);class f extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}!function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"}(d||(b.UsedValueState=d={})),b.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class g{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof e.Name?a:this.name(a)}name(a){return new e.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}b.Scope=g;class h extends e.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,e._)`.${new e.Name(b)}[${c}]`}}b.ValueScopeName=h;let i=(0,e._)`\n`;class j extends g{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?i:e.nil}}get(){return this._scope}name(a){return new h(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,e._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,c,g={},h){let i=e.nil;for(let j in a){let k=a[j];if(!k)continue;let l=g[j]=g[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let g=c(a);if(g){let c=this.opts.es5?b.varKinds.var:b.varKinds.const;i=(0,e._)`${i}${c} ${a} = ${g};${this.opts._n}`}else if(g=null==h?void 0:h(a))i=(0,e._)`${i}${g}${this.opts._n}`;else throw new f(a);l.set(a,d.Completed)})}return i}}b.ValueScope=j},60583:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=new d.VariableBuffer(d.Int32BE);function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="binary",g.prototype.typeid=e.STRING,g.prototype.surface=Buffer,g.prototype.models="type",a.exports.BinaryRW=f,a.exports.ThriftBinary=g},60664:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.configureCompression=b.getCredentialsFromEnvironment=b.configureCredentials=b.validateAndNormalizeUrl=b.DEFAULT_COLLECTOR_URL=void 0;let d=c(68948),e=c(41625),f=c(33873),g=c(79551),h=c(29021),i=c(83442),j=c(96786);function k(a,c){return a||(!c.startsWith("https://")&&(c.startsWith("http://")||c===b.DEFAULT_COLLECTOR_URL||l())?(0,j.createInsecureCredentials)():m())}function l(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return!!a&&"true"===a.toLowerCase()}function m(){let a=n(),b=o(),c=p();return(0,j.createSslCredentials)(a,b,c)}function n(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read root certificate file");return}}function o(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read client certificate private key file");return}}function p(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read client certificate chain file");return}}b.DEFAULT_COLLECTOR_URL="http://localhost:4317",b.validateAndNormalizeUrl=function(a){var b;a.match(/^([\w]{1,8}):\/\//)||(a=`https://${a}`);let c=new g.URL(a);return"unix:"===c.protocol?a:(c.pathname&&"/"!==c.pathname&&d.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),""===c.protocol||(null==(b=c.protocol)?void 0:b.match(/^(http)s?:$/))||d.diag.warn("URL protocol should be http(s)://. Using http://."),c.host)},b.configureCredentials=k,b.getCredentialsFromEnvironment=m,b.configureCompression=function(a){if(null!=a)return a;let b=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,e.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return"gzip"===b?i.CompressionAlgorithm.GZIP:("none"===b||d.diag.warn('Unknown compression "'+b+'", falling back to "none"'),i.CompressionAlgorithm.NONE)}},61367:(a,b,c)=>{"use strict";function d(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}function e(a){for(var b=new Uint8Array(a.length/2),c=0,e=0;e<a.length;e+=2){var f=d(a.charCodeAt(e)),g=d(a.charCodeAt(e+1));b[c++]=f<<4|g}return b}c.d(b,{Q:()=>e})},61710:(a,b)=>{var c={off:0,bold:1,italic:3,underline:4,blink:5,inverse:7,hidden:8,black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,black_bg:40,red_bg:41,green_bg:42,yellow_bg:43,blue_bg:44,magenta_bg:45,cyan_bg:46,white_bg:47};b.h=function(a,b){if(!b)return a;for(var d,e=b.split("+"),f="",g=0;d=e[g];g++)f+="\x1b["+c[d]+"m";return f+(a+"\x1b["+c.off+"m")}},61937:(a,b,c)=>{"use strict";var d;let e;Object.defineProperty(b,"__esModule",{value:!0}),b.discriminatedUnion=b.date=b.boolean=b.bigint=b.array=b.any=b.coerce=b.ZodFirstPartyTypeKind=b.late=b.ZodSchema=b.Schema=b.ZodReadonly=b.ZodPipeline=b.ZodBranded=b.BRAND=b.ZodNaN=b.ZodCatch=b.ZodDefault=b.ZodNullable=b.ZodOptional=b.ZodTransformer=b.ZodEffects=b.ZodPromise=b.ZodNativeEnum=b.ZodEnum=b.ZodLiteral=b.ZodLazy=b.ZodFunction=b.ZodSet=b.ZodMap=b.ZodRecord=b.ZodTuple=b.ZodIntersection=b.ZodDiscriminatedUnion=b.ZodUnion=b.ZodObject=b.ZodArray=b.ZodVoid=b.ZodNever=b.ZodUnknown=b.ZodAny=b.ZodNull=b.ZodUndefined=b.ZodSymbol=b.ZodDate=b.ZodBoolean=b.ZodBigInt=b.ZodNumber=b.ZodString=b.ZodType=void 0,b.NEVER=b.void=b.unknown=b.union=b.undefined=b.tuple=b.transformer=b.symbol=b.string=b.strictObject=b.set=b.record=b.promise=b.preprocess=b.pipeline=b.ostring=b.optional=b.onumber=b.oboolean=b.object=b.number=b.nullable=b.null=b.never=b.nativeEnum=b.nan=b.map=b.literal=b.lazy=b.intersection=b.instanceof=b.function=b.enum=b.effect=void 0,b.datetimeRegex=H,b.custom=az;let f=c(3667),g=c(64062),h=c(59816),i=c(11293),j=c(78404);class k{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let l=(a,b)=>{if((0,i.isValid)(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new f.ZodError(a.common.issues);return this._error=b,this._error}}};function m(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class n{get description(){return this._def.description}_getType(a){return(0,j.getParsedType)(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:(0,j.getParsedType)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new i.ParseStatus,ctx:{common:a.parent.common,data:a.data,parsedType:(0,j.getParsedType)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if((0,i.isAsync)(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)},d=this._parseSync({data:a,path:c.path,parent:c});return l(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return(0,i.isValid)(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>(0,i.isValid)(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)},d=this._parse({data:a,path:c.path,parent:c});return l(c,await ((0,i.isAsync)(d)?d:Promise.resolve(d)))}refine(a,b){let c=a=>"string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(a):b;return this._refinement((b,d)=>{let e=a(b),g=()=>d.addIssue({code:f.ZodIssueCode.custom,...c(b)});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(g(),!1)):!!e||(g(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new ap({schema:this,typeName:d.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return aq.create(this,this._def)}nullable(){return ar.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Y.create(this)}promise(){return ao.create(this,this._def)}or(a){return _.create([this,a],this._def)}and(a){return ad.create(this,a,this._def)}transform(a){return new ap({...m(this._def),schema:this,typeName:d.ZodEffects,effect:{type:"transform",transform:a}})}default(a){let b="function"==typeof a?a:()=>a;return new as({...m(this._def),innerType:this,defaultValue:b,typeName:d.ZodDefault})}brand(){return new av({typeName:d.ZodBranded,type:this,...m(this._def)})}catch(a){let b="function"==typeof a?a:()=>a;return new at({...m(this._def),innerType:this,catchValue:b,typeName:d.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aw.create(this,a)}readonly(){return ax.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}b.ZodType=n,b.Schema=n,b.ZodSchema=n;let o=/^c[^\s-]{8,}$/i,p=/^[0-9a-z]+$/,q=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,s=/^[a-z0-9_-]{21}$/i,t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,u=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,w="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E=RegExp(`^${D}$`);function F(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function G(a){return RegExp(`^${F(a)}$`)}function H(a){let b=`${D}T${F(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}function I(a,b){return!!(("v4"===b||!b)&&x.test(a)||("v6"===b||!b)&&z.test(a))}function J(a,b){if(!t.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}function K(a,b){return!!(("v4"===b||!b)&&y.test(a)||("v6"===b||!b)&&A.test(a))}class L extends n{_parse(a){let b;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==j.ZodParsedType.string){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.string,received:b.parsedType}),i.INVALID}let c=new i.ParseStatus;for(let d of this._def.checks)if("min"===d.kind)a.data.length<d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),c.dirty());else if("max"===d.kind)a.data.length>d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),c.dirty());else if("length"===d.kind){let e=a.data.length>d.value,g=a.data.length<d.value;(e||g)&&(b=this._getOrReturnCtx(a,b),e?(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):g&&(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),c.dirty())}else if("email"===d.kind)v.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"email",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("emoji"===d.kind)e||(e=RegExp(w,"u")),e.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"emoji",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("uuid"===d.kind)r.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"uuid",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("nanoid"===d.kind)s.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"nanoid",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("cuid"===d.kind)o.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"cuid",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("cuid2"===d.kind)p.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"cuid2",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("ulid"===d.kind)q.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"ulid",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty());else if("url"===d.kind)try{new URL(a.data)}catch{b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"url",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()}else"regex"===d.kind?(d.regex.lastIndex=0,d.regex.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"regex",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty())):"trim"===d.kind?a.data=a.data.trim():"includes"===d.kind?a.data.includes(d.value,d.position)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),c.dirty()):"toLowerCase"===d.kind?a.data=a.data.toLowerCase():"toUpperCase"===d.kind?a.data=a.data.toUpperCase():"startsWith"===d.kind?a.data.startsWith(d.value)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:{startsWith:d.value},message:d.message}),c.dirty()):"endsWith"===d.kind?a.data.endsWith(d.value)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:{endsWith:d.value},message:d.message}),c.dirty()):"datetime"===d.kind?H(d).test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:"datetime",message:d.message}),c.dirty()):"date"===d.kind?E.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:"date",message:d.message}),c.dirty()):"time"===d.kind?G(d).test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_string,validation:"time",message:d.message}),c.dirty()):"duration"===d.kind?u.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"duration",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):"ip"===d.kind?I(a.data,d.version)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"ip",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):"jwt"===d.kind?J(a.data,d.alg)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"jwt",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):"cidr"===d.kind?K(a.data,d.version)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"cidr",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):"base64"===d.kind?B.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"base64",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):"base64url"===d.kind?C.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{validation:"base64url",code:f.ZodIssueCode.invalid_string,message:d.message}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:f.ZodIssueCode.invalid_string,...h.errorUtil.errToObj(c)})}_addCheck(a){return new L({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...h.errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...h.errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...h.errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...h.errorUtil.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...h.errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...h.errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...h.errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...h.errorUtil.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...h.errorUtil.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...h.errorUtil.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...h.errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...h.errorUtil.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...h.errorUtil.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...h.errorUtil.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...h.errorUtil.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...h.errorUtil.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...h.errorUtil.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...h.errorUtil.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...h.errorUtil.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...h.errorUtil.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...h.errorUtil.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...h.errorUtil.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...h.errorUtil.errToObj(b)})}nonempty(a){return this.min(1,h.errorUtil.errToObj(a))}trim(){return new L({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new L({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new L({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}function M(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}b.ZodString=L,L.create=a=>new L({checks:[],typeName:d.ZodString,coerce:a?.coerce??!1,...m(a)});class N extends n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==j.ZodParsedType.number){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.number,received:b.parsedType}),i.INVALID}let c=new i.ParseStatus;for(let d of this._def.checks)"int"===d.kind?j.util.isInteger(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==M(a.data,d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_finite,message:d.message}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,h.errorUtil.toString(b))}gt(a,b){return this.setLimit("min",a,!1,h.errorUtil.toString(b))}lte(a,b){return this.setLimit("max",a,!0,h.errorUtil.toString(b))}lt(a,b){return this.setLimit("max",a,!1,h.errorUtil.toString(b))}setLimit(a,b,c,d){return new N({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:h.errorUtil.toString(d)}]})}_addCheck(a){return new N({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:h.errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h.errorUtil.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:h.errorUtil.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:h.errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h.errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h.errorUtil.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&j.util.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}b.ZodNumber=N,N.create=a=>new N({checks:[],typeName:d.ZodNumber,coerce:a?.coerce||!1,...m(a)});class O extends n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==j.ZodParsedType.bigint)return this._getInvalidInput(a);let c=new i.ParseStatus;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.bigint,received:b.parsedType}),i.INVALID}gte(a,b){return this.setLimit("min",a,!0,h.errorUtil.toString(b))}gt(a,b){return this.setLimit("min",a,!1,h.errorUtil.toString(b))}lte(a,b){return this.setLimit("max",a,!0,h.errorUtil.toString(b))}lt(a,b){return this.setLimit("max",a,!1,h.errorUtil.toString(b))}setLimit(a,b,c,d){return new O({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:h.errorUtil.toString(d)}]})}_addCheck(a){return new O({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h.errorUtil.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:h.errorUtil.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}b.ZodBigInt=O,O.create=a=>new O({checks:[],typeName:d.ZodBigInt,coerce:a?.coerce??!1,...m(a)});class P extends n{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==j.ZodParsedType.boolean){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.boolean,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodBoolean=P,P.create=a=>new P({typeName:d.ZodBoolean,coerce:a?.coerce||!1,...m(a)});class Q extends n{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==j.ZodParsedType.date){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.date,received:b.parsedType}),i.INVALID}if(Number.isNaN(a.data.getTime())){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_date}),i.INVALID}let c=new i.ParseStatus;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new Q({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:h.errorUtil.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:h.errorUtil.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}b.ZodDate=Q,Q.create=a=>new Q({checks:[],coerce:a?.coerce||!1,typeName:d.ZodDate,...m(a)});class R extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.symbol){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.symbol,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodSymbol=R,R.create=a=>new R({typeName:d.ZodSymbol,...m(a)});class S extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.undefined){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.undefined,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodUndefined=S,S.create=a=>new S({typeName:d.ZodUndefined,...m(a)});class T extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.null){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.null,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodNull=T,T.create=a=>new T({typeName:d.ZodNull,...m(a)});class U extends n{constructor(){super(...arguments),this._any=!0}_parse(a){return(0,i.OK)(a.data)}}b.ZodAny=U,U.create=a=>new U({typeName:d.ZodAny,...m(a)});class V extends n{constructor(){super(...arguments),this._unknown=!0}_parse(a){return(0,i.OK)(a.data)}}b.ZodUnknown=V,V.create=a=>new V({typeName:d.ZodUnknown,...m(a)});class W extends n{_parse(a){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.never,received:b.parsedType}),i.INVALID}}b.ZodNever=W,W.create=a=>new W({typeName:d.ZodNever,...m(a)});class X extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.undefined){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.void,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodVoid=X,X.create=a=>new X({typeName:d.ZodVoid,...m(a)});class Y extends n{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==j.ZodParsedType.array)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.array,received:b.parsedType}),i.INVALID;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&((0,i.addIssueToContext)(b,{code:a?f.ZodIssueCode.too_big:f.ZodIssueCode.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new k(b,a,b.path,c)))).then(a=>i.ParseStatus.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new k(b,a,b.path,c)));return i.ParseStatus.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new Y({...this._def,minLength:{value:a,message:h.errorUtil.toString(b)}})}max(a,b){return new Y({...this._def,maxLength:{value:a,message:h.errorUtil.toString(b)}})}length(a,b){return new Y({...this._def,exactLength:{value:a,message:h.errorUtil.toString(b)}})}nonempty(a){return this.min(1,a)}}function Z(a){if(a instanceof $){let b={};for(let c in a.shape){let d=a.shape[c];b[c]=aq.create(Z(d))}return new $({...a._def,shape:()=>b})}if(a instanceof Y)return new Y({...a._def,type:Z(a.element)});if(a instanceof aq)return aq.create(Z(a.unwrap()));if(a instanceof ar)return ar.create(Z(a.unwrap()));if(a instanceof ae)return ae.create(a.items.map(a=>Z(a)));else return a}b.ZodArray=Y,Y.create=(a,b)=>new Y({type:a,minLength:null,maxLength:null,exactLength:null,typeName:d.ZodArray,...m(b)});class $ extends n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=j.util.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==j.ZodParsedType.object){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:b.parsedType}),i.INVALID}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),g=[];if(!(this._def.catchall instanceof W&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||g.push(a);let h=[];for(let a of e){let b=d[a],e=c.data[a];h.push({key:{status:"valid",value:a},value:b._parse(new k(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof W){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of g)h.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)g.length>0&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.unrecognized_keys,keys:g}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of g){let d=c.data[b];h.push({key:{status:"valid",value:b},value:a._parse(new k(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of h){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>i.ParseStatus.mergeObjectSync(b,a)):i.ParseStatus.mergeObjectSync(b,h)}get shape(){return this._def.shape()}strict(a){return h.errorUtil.errToObj,new $({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:h.errorUtil.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(a){return new $({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new $({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:d.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new $({...this._def,catchall:a})}pick(a){let b={};for(let c of j.util.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new $({...this._def,shape:()=>b})}omit(a){let b={};for(let c of j.util.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new $({...this._def,shape:()=>b})}deepPartial(){return Z(this)}partial(a){let b={};for(let c of j.util.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new $({...this._def,shape:()=>b})}required(a){let b={};for(let c of j.util.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof aq;)a=a._def.innerType;b[c]=a}return new $({...this._def,shape:()=>b})}keyof(){return al(j.util.objectKeys(this.shape))}}b.ZodObject=$,$.create=(a,b)=>new $({shape:()=>a,unknownKeys:"strip",catchall:W.create(),typeName:d.ZodObject,...m(b)}),$.strictCreate=(a,b)=>new $({shape:()=>a,unknownKeys:"strict",catchall:W.create(),typeName:d.ZodObject,...m(b)}),$.lazycreate=(a,b)=>new $({shape:a,unknownKeys:"strip",catchall:W.create(),typeName:d.ZodObject,...m(b)});class _ extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;function d(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new f.ZodError(a.ctx.common.issues));return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union,unionErrors:c}),i.INVALID}if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(d);{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new f.ZodError(a));return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union,unionErrors:e}),i.INVALID}}get options(){return this._def.options}}b.ZodUnion=_,_.create=(a,b)=>new _({options:a,typeName:d.ZodUnion,...m(b)});let aa=a=>{if(a instanceof aj)return aa(a.schema);if(a instanceof ap)return aa(a.innerType());if(a instanceof ak)return[a.value];if(a instanceof am)return a.options;if(a instanceof an)return j.util.objectValues(a.enum);else if(a instanceof as)return aa(a._def.innerType);else if(a instanceof S)return[void 0];else if(a instanceof T)return[null];else if(a instanceof aq)return[void 0,...aa(a.unwrap())];else if(a instanceof ar)return[null,...aa(a.unwrap())];else if(a instanceof av)return aa(a.unwrap());else if(a instanceof ax)return aa(a.unwrap());else if(a instanceof at)return aa(a._def.innerType);else return[]};class ab extends n{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.object)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:b.parsedType}),i.INVALID;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),i.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let e=new Map;for(let c of b){let b=aa(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let d of b){if(e.has(d))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(d)}`);e.set(d,c)}}return new ab({typeName:d.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:e,...m(c)})}}function ac(a,b){let c=(0,j.getParsedType)(a),d=(0,j.getParsedType)(b);if(a===b)return{valid:!0,data:a};if(c===j.ZodParsedType.object&&d===j.ZodParsedType.object){let c=j.util.objectKeys(b),d=j.util.objectKeys(a).filter(a=>-1!==c.indexOf(a)),e={...a,...b};for(let c of d){let d=ac(a[c],b[c]);if(!d.valid)return{valid:!1};e[c]=d.data}return{valid:!0,data:e}}if(c===j.ZodParsedType.array&&d===j.ZodParsedType.array){if(a.length!==b.length)return{valid:!1};let c=[];for(let d=0;d<a.length;d++){let e=ac(a[d],b[d]);if(!e.valid)return{valid:!1};c.push(e.data)}return{valid:!0,data:c}}if(c===j.ZodParsedType.date&&d===j.ZodParsedType.date&&+a==+b)return{valid:!0,data:a};return{valid:!1}}b.ZodDiscriminatedUnion=ab;class ad extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if((0,i.isAborted)(a)||(0,i.isAborted)(d))return i.INVALID;let e=ac(a.value,d.value);return e.valid?(((0,i.isDirty)(a)||(0,i.isDirty)(d))&&b.dirty(),{status:b.value,value:e.data}):((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_intersection_types}),i.INVALID)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}b.ZodIntersection=ad,ad.create=(a,b,c)=>new ad({left:a,right:b,typeName:d.ZodIntersection,...m(c)});class ae extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.array)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.array,received:c.parsedType}),i.INVALID;if(c.data.length<this._def.items.length)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.INVALID;!this._def.rest&&c.data.length>this._def.items.length&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new k(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>i.ParseStatus.mergeArray(b,a)):i.ParseStatus.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new ae({...this._def,rest:a})}}b.ZodTuple=ae,ae.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ae({items:a,typeName:d.ZodTuple,rest:null,...m(b)})};class af extends n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.object)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:c.parsedType}),i.INVALID;let d=[],e=this._def.keyType,g=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new k(c,a,c.path,a)),value:g._parse(new k(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?i.ParseStatus.mergeObjectAsync(b,d):i.ParseStatus.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new af(b instanceof n?{keyType:a,valueType:b,typeName:d.ZodRecord,...m(c)}:{keyType:L.create(),valueType:a,typeName:d.ZodRecord,...m(b)})}}b.ZodRecord=af;class ag extends n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.map)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.map,received:c.parsedType}),i.INVALID;let d=this._def.keyType,e=this._def.valueType,g=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new k(c,a,c.path,[f,"key"])),value:e._parse(new k(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of g){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return i.INVALID;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of g){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return i.INVALID;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}b.ZodMap=ag,ag.create=(a,b,c)=>new ag({valueType:b,keyType:a,typeName:d.ZodMap,...m(c)});class ah extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.set)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.set,received:c.parsedType}),i.INVALID;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function g(a){let c=new Set;for(let d of a){if("aborted"===d.status)return i.INVALID;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let h=[...c.data.values()].map((a,b)=>e._parse(new k(c,a,c.path,b)));return c.common.async?Promise.all(h).then(a=>g(a)):g(h)}min(a,b){return new ah({...this._def,minSize:{value:a,message:h.errorUtil.toString(b)}})}max(a,b){return new ah({...this._def,maxSize:{value:a,message:h.errorUtil.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}b.ZodSet=ah,ah.create=(a,b)=>new ah({valueType:a,minSize:null,maxSize:null,typeName:d.ZodSet,...m(b)});class ai extends n{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.function)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.function,received:b.parsedType}),i.INVALID;function c(a,c){return(0,i.makeIssue)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.getErrorMap)(),g.defaultErrorMap].filter(a=>!!a),issueData:{code:f.ZodIssueCode.invalid_arguments,argumentsError:c}})}function d(a,c){return(0,i.makeIssue)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.getErrorMap)(),g.defaultErrorMap].filter(a=>!!a),issueData:{code:f.ZodIssueCode.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},h=b.data;if(this._def.returns instanceof ao){let a=this;return(0,i.OK)(async function(...b){let g=new f.ZodError([]),i=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),j=await Reflect.apply(h,this,i);return await a._def.returns._def.type.parseAsync(j,e).catch(a=>{throw g.addIssue(d(j,a)),g})})}{let a=this;return(0,i.OK)(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new f.ZodError([c(b,g.error)]);let i=Reflect.apply(h,this,g.data),j=a._def.returns.safeParse(i,e);if(!j.success)throw new f.ZodError([d(i,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new ai({...this._def,args:ae.create(a).rest(V.create())})}returns(a){return new ai({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new ai({args:a||ae.create([]).rest(V.create()),returns:b||V.create(),typeName:d.ZodFunction,...m(c)})}}b.ZodFunction=ai;class aj extends n{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}b.ZodLazy=aj,aj.create=(a,b)=>new aj({getter:a,typeName:d.ZodLazy,...m(b)});class ak extends n{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{received:b.data,code:f.ZodIssueCode.invalid_literal,expected:this._def.value}),i.INVALID}return{status:"valid",value:a.data}}get value(){return this._def.value}}function al(a,b){return new am({values:a,typeName:d.ZodEnum,...m(b)})}b.ZodLiteral=ak,ak.create=(a,b)=>new ak({value:a,typeName:d.ZodLiteral,...m(b)});class am extends n{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,i.addIssueToContext)(b,{expected:j.util.joinValues(c),received:b.parsedType,code:f.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,i.addIssueToContext)(b,{received:b.data,code:f.ZodIssueCode.invalid_enum_value,options:c}),i.INVALID}return(0,i.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return am.create(a,{...this._def,...b})}exclude(a,b=this._def){return am.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}b.ZodEnum=am,am.create=al;class an extends n{_parse(a){let b=j.util.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==j.ZodParsedType.string&&c.parsedType!==j.ZodParsedType.number){let a=j.util.objectValues(b);return(0,i.addIssueToContext)(c,{expected:j.util.joinValues(a),received:c.parsedType,code:f.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(j.util.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=j.util.objectValues(b);return(0,i.addIssueToContext)(c,{received:c.data,code:f.ZodIssueCode.invalid_enum_value,options:a}),i.INVALID}return(0,i.OK)(a.data)}get enum(){return this._def.values}}b.ZodNativeEnum=an,an.create=(a,b)=>new an({values:a,typeName:d.ZodNativeEnum,...m(b)});class ao extends n{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.promise&&!1===b.common.async)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.promise,received:b.parsedType}),i.INVALID;let c=b.parsedType===j.ZodParsedType.promise?b.data:Promise.resolve(b.data);return(0,i.OK)(c.then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}b.ZodPromise=ao,ao.create=(a,b)=>new ao({type:a,typeName:d.ZodPromise,...m(b)});class ap extends n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===d.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{(0,i.addIssueToContext)(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return i.INVALID;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:"dirty"===d.status||"dirty"===b.value?(0,i.DIRTY)(d.value):d});{if("aborted"===b.value)return i.INVALID;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:"dirty"===d.status||"dirty"===b.value?(0,i.DIRTY)(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?i.INVALID:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>(0,i.isValid)(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):i.INVALID);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!(0,i.isValid)(a))return i.INVALID;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}j.util.assertNever(d)}}b.ZodEffects=ap,b.ZodTransformer=ap,ap.create=(a,b,c)=>new ap({schema:a,typeName:d.ZodEffects,effect:b,...m(c)}),ap.createWithPreprocess=(a,b,c)=>new ap({schema:b,effect:{type:"preprocess",transform:a},typeName:d.ZodEffects,...m(c)});class aq extends n{_parse(a){return this._getType(a)===j.ZodParsedType.undefined?(0,i.OK)(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}b.ZodOptional=aq,aq.create=(a,b)=>new aq({innerType:a,typeName:d.ZodOptional,...m(b)});class ar extends n{_parse(a){return this._getType(a)===j.ZodParsedType.null?(0,i.OK)(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}b.ZodNullable=ar,ar.create=(a,b)=>new ar({innerType:a,typeName:d.ZodNullable,...m(b)});class as extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===j.ZodParsedType.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}b.ZodDefault=as,as.create=(a,b)=>new as({innerType:a,typeName:d.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...m(b)});class at extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return(0,i.isAsync)(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new f.ZodError(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new f.ZodError(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}b.ZodCatch=at,at.create=(a,b)=>new at({innerType:a,typeName:d.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...m(b)});class au extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.nan){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.nan,received:b.parsedType}),i.INVALID}return{status:"valid",value:a.data}}}b.ZodNaN=au,au.create=a=>new au({typeName:d.ZodNaN,...m(a)}),b.BRAND=Symbol("zod_brand");class av extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}b.ZodBranded=av;class aw extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?i.INVALID:"dirty"===a.status?(b.dirty(),(0,i.DIRTY)(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?i.INVALID:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aw({in:a,out:b,typeName:d.ZodPipeline})}}b.ZodPipeline=aw;class ax extends n{_parse(a){let b=this._def.innerType._parse(a),c=a=>((0,i.isValid)(a)&&(a.value=Object.freeze(a.value)),a);return(0,i.isAsync)(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function ay(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function az(a,b={},c){return a?U.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=ay(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=ay(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):U.create()}b.ZodReadonly=ax,ax.create=(a,b)=>new ax({innerType:a,typeName:d.ZodReadonly,...m(b)}),b.late={object:$.lazycreate},function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(d||(b.ZodFirstPartyTypeKind=d={})),b.instanceof=(a,b={message:`Input not instance of ${a.name}`})=>az(b=>b instanceof a,b);let aA=L.create;b.string=aA;let aB=N.create;b.number=aB,b.nan=au.create,b.bigint=O.create;let aC=P.create;b.boolean=aC,b.date=Q.create,b.symbol=R.create,b.undefined=S.create,b.null=T.create,b.any=U.create,b.unknown=V.create,b.never=W.create,b.void=X.create,b.array=Y.create,b.object=$.create,b.strictObject=$.strictCreate,b.union=_.create,b.discriminatedUnion=ab.create,b.intersection=ad.create,b.tuple=ae.create,b.record=af.create,b.map=ag.create,b.set=ah.create,b.function=ai.create,b.lazy=aj.create,b.literal=ak.create,b.enum=am.create,b.nativeEnum=an.create,b.promise=ao.create;let aD=ap.create;b.effect=aD,b.transformer=aD,b.optional=aq.create,b.nullable=ar.create,b.preprocess=ap.createWithPreprocess,b.pipeline=aw.create,b.ostring=()=>aA().optional(),b.onumber=()=>aB().optional(),b.oboolean=()=>aC().optional(),b.coerce={string:a=>L.create({...a,coerce:!0}),number:a=>N.create({...a,coerce:!0}),boolean:a=>P.create({...a,coerce:!0}),bigint:a=>O.create({...a,coerce:!0}),date:a=>Q.create({...a,coerce:!0})},b.NEVER=i.INVALID},62048:(a,b,c)=>{"use strict";var d=a.exports=c(51753);function e(a,b,c){return"function"==typeof b?(c=b,b=new d.Root):b||(b=new d.Root),b.load(a,c)}function f(a,b){return b||(b=new d.Root),b.loadSync(a)}d.build="light",d.load=e,d.loadSync=f,d.encoder=c(92519),d.decoder=c(45507),d.verifier=c(86375),d.converter=c(57607),d.ReflectionObject=c(32795),d.Namespace=c(31162),d.Root=c(31705),d.Enum=c(67958),d.Type=c(68069),d.Field=c(53259),d.OneOf=c(54452),d.MapField=c(82619),d.Service=c(12834),d.Method=c(382),d.Message=c(56025),d.wrappers=c(77773),d.types=c(75688),d.util=c(305),d.ReflectionObject._configure(d.Root),d.Namespace._configure(d.Type,d.Service,d.Enum),d.Root._configure(d.Type),d.Field._configure(d.Type)},62147:(a,b,c)=>{"use strict";var d=c(42218),e=c(17350),f=c(32557),g=c(51139),h=c(85981);let i=(a,b)=>a.key<b.key?-1:+(a.key>b.key);class j{constructor({compat:a,customTags:b,merge:c,resolveKnownTags:j,schema:k,sortMapEntries:l,toStringDefaults:m}){this.compat=Array.isArray(a)?h.getTags(a,"compat"):a?h.getTags(null,a):null,this.name="string"==typeof k&&k||"core",this.knownTags=j?h.coreKnownTags:{},this.tags=h.getTags(b,this.name,c),this.toStringOptions=m??null,Object.defineProperty(this,d.MAP,{value:e.map}),Object.defineProperty(this,d.SCALAR,{value:g.string}),Object.defineProperty(this,d.SEQ,{value:f.seq}),this.sortMapEntries="function"==typeof l?l:!0===l?i:null}clone(){let a=Object.create(j.prototype,Object.getOwnPropertyDescriptors(this));return a.tags=this.tags.slice(),a}}b.Schema=j},62367:(a,b,c)=>{"use strict";c.d(b,{d:()=>e});var d=c(27267),e=function(){function a(a){void 0===a&&(a=d.dM),this._spanContext=a}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return this},a.prototype.setAttributes=function(a){return this},a.prototype.addEvent=function(a,b){return this},a.prototype.addLink=function(a){return this},a.prototype.addLinks=function(a){return this},a.prototype.setStatus=function(a){return this},a.prototype.updateName=function(a){return this},a.prototype.end=function(a){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(a,b){},a}()},62626:(a,b,c)=>{"use strict";c.r(b),c.d(b,{BatchLogRecordProcessor:()=>U,ConsoleLogRecordExporter:()=>G,InMemoryLogRecordExporter:()=>O,LogRecord:()=>p,LoggerProvider:()=>D,NoopLogRecordProcessor:()=>A,SimpleLogRecordProcessor:()=>L});var d=c(79361),e=c(24405),f=c(57182),g=c(35025),h=c(51064),i=c(20531),j=c(88018),k=c(58746),l=c(99591),m=c(32823),n=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},p=function(){function a(a,b,c){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var d=c.timestamp,e=c.observedTimestamp,f=c.severityNumber,g=c.severityText,h=c.body,i=c.attributes,m=void 0===i?{}:i,n=c.context,o=Date.now();if(this.hrTime=(0,l.KJ)(null!=d?d:o),this.hrTimeObserved=(0,l.KJ)(null!=e?e:o),n){var p=j.u.getSpanContext(n);p&&k.YA(p)&&(this.spanContext=p)}this.severityNumber=f,this.severityText=g,this.body=h,this.resource=a.resource,this.instrumentationScope=b,this._logRecordLimits=a.logRecordLimits,this.setAttributes(m)}return Object.defineProperty(a.prototype,"severityText",{get:function(){return this._severityText},set:function(a){this._isLogRecordReadonly()||(this._severityText=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(a){this._isLogRecordReadonly()||(this._severityNumber=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"body",{get:function(){return this._body},set:function(a){this._isLogRecordReadonly()||(this._body=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),a.prototype.setAttribute=function(a,b){return this._isLogRecordReadonly()||null===b||(0===a.length?d.s.warn("Invalid attribute key: "+a):(0,m.m)(b)||"object"==typeof b&&!Array.isArray(b)&&Object.keys(b).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a))?1===this.droppedAttributesCount&&d.s.warn("Dropping extra attributes."):(0,m.m)(b)?this.attributes[a]=this._truncateToSize(b):this.attributes[a]=b:d.s.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=n(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=o(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.setBody=function(a){return this.body=a,this},a.prototype.setSeverityNumber=function(a){return this.severityNumber=a,this},a.prototype.setSeverityText=function(a){return this.severityText=a,this},a.prototype._makeReadonly=function(){this._isReadonly=!0},a.prototype._truncateToSize=function(a){var b=this,c=this._logRecordLimits.attributeValueLengthLimit;return c<=0?(d.s.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substring(0,b)},a.prototype._isLogRecordReadonly=function(){return this._isReadonly&&d.s.warn("Can not execute the operation on emitted log record"),this._isReadonly},a}(),q=function(){return(q=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},r=function(){function a(a,b){this.instrumentationScope=a,this._sharedState=b}return a.prototype.emit=function(a){var b=a.context||i._.active(),c=new p(this._sharedState,this.instrumentationScope,q({context:b},a));this._sharedState.activeProcessor.onEmit(c,b),c._makeReadonly()},a}(),s=c(66336),t=c(37579);function u(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,s._)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,s._)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}function v(a){var b,c,d,e,f,g,h=(0,s.w)();return{attributeCountLimit:null!=(d=null!=(c=null!=(b=a.attributeCountLimit)?b:h.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)?c:h.OTEL_ATTRIBUTE_COUNT_LIMIT)?d:t.fv,attributeValueLengthLimit:null!=(g=null!=(f=null!=(e=a.attributeValueLengthLimit)?e:h.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)?f:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?g:t.aE}}var w=c(24321),x=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},y=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},z=function(){function a(a,b){this.processors=a,this.forceFlushTimeoutMillis=b}return a.prototype.forceFlush=function(){return x(this,void 0,void 0,function(){var a;return y(this,function(b){switch(b.label){case 0:return a=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map(function(b){return(0,w.o)(b.forceFlush(),a)}))];case 1:return b.sent(),[2]}})})},a.prototype.onEmit=function(a,b){this.processors.forEach(function(c){return c.onEmit(a,b)})},a.prototype.shutdown=function(){return x(this,void 0,void 0,function(){return y(this,function(a){switch(a.label){case 0:return[4,Promise.all(this.processors.map(function(a){return a.shutdown()}))];case 1:return a.sent(),[2]}})})},a}(),A=function(){function a(){}return a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.onEmit=function(a,b){},a.prototype.shutdown=function(){return Promise.resolve()},a}(),B=function(){return function(a,b,c){this.resource=a,this.forceFlushTimeoutMillis=b,this.logRecordLimits=c,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new A}}(),C="unknown",D=function(){function a(a){void 0===a&&(a={});var b,c=(0,g.h)({},u(),a),d=f.F.default().merge(null!=(b=c.resource)?b:f.F.empty());this._sharedState=new B(d,c.forceFlushTimeoutMillis,v(c.logRecordLimits)),this._shutdownOnce=new h.I(this._shutdown,this)}return a.prototype.getLogger=function(a,b,c){if(this._shutdownOnce.isCalled)return d.s.warn("A shutdown LoggerProvider cannot provide a Logger"),e.G;a||d.s.warn("Logger requested without instrumentation scope name.");var f=a||C,g=f+"@"+(b||"")+":"+((null==c?void 0:c.schemaUrl)||"");return this._sharedState.loggers.has(g)||this._sharedState.loggers.set(g,new r({name:f,version:b,schemaUrl:null==c?void 0:c.schemaUrl},this._sharedState)),this._sharedState.loggers.get(g)},a.prototype.addLogRecordProcessor=function(a){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch(function(a){return d.s.error("Error while trying to shutdown current log record processor",a)}),this._sharedState.registeredLogRecordProcessors.push(a),this._sharedState.activeProcessor=new z(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(d.s.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},a.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(d.s.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},a}(),E=c(4875),F=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},G=function(){function a(){}return a.prototype.export=function(a,b){this._sendLogRecords(a,b)},a.prototype.shutdown=function(){return Promise.resolve()},a.prototype._exportInfo=function(a){var b,c,d;return{resource:{attributes:a.resource.attributes},timestamp:(0,l.w_)(a.hrTime),traceId:null==(b=a.spanContext)?void 0:b.traceId,spanId:null==(c=a.spanContext)?void 0:c.spanId,traceFlags:null==(d=a.spanContext)?void 0:d.traceFlags,severityText:a.severityText,severityNumber:a.severityNumber,body:a.body,attributes:a.attributes}},a.prototype._sendLogRecords=function(a,b){var c,d;try{for(var e=F(a),f=e.next();!f.done;f=e.next()){var g=f.value;console.dir(this._exportInfo(g),{depth:3})}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}null==b||b({code:E.V.SUCCESS})},a}(),H=c(41625),I=c(49127),J=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},K=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},L=function(){function a(a){this._exporter=a,this._shutdownOnce=new h.I(this._shutdown,this),this._unresolvedExports=new Set}return a.prototype.onEmit=function(a){var b,c,d=this;if(!this._shutdownOnce.isCalled){var e=function(){return H.internal._export(d._exporter,[a]).then(function(a){var b;a.code!==E.V.SUCCESS&&(0,I.s)(null!=(b=a.error)?b:Error("SimpleLogRecordProcessor: log record export failed (status "+a+")"))}).catch(I.s)};if(a.resource.asyncAttributesPending){var f=null==(c=(b=a.resource).waitForAsyncAttributes)?void 0:c.call(b).then(function(){return d._unresolvedExports.delete(f),e()},I.s);null!=f&&this._unresolvedExports.add(f)}else e()}},a.prototype.forceFlush=function(){return J(this,void 0,void 0,function(){return K(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return a.sent(),[2]}})})},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._exporter.shutdown()},a}(),M=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},N=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},O=function(){function a(){this._finishedLogRecords=[],this._stopped=!1}return a.prototype.export=function(a,b){var c;if(this._stopped)return b({code:E.V.FAILED,error:Error("Exporter has been stopped")});(c=this._finishedLogRecords).push.apply(c,N([],M(a),!1)),b({code:E.V.SUCCESS})},a.prototype.shutdown=function(){return this._stopped=!0,this.reset(),Promise.resolve()},a.prototype.getFinishedLogRecords=function(){return this._finishedLogRecords},a.prototype.reset=function(){this._finishedLogRecords=[]},a}(),P=c(36769),Q=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},R=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},S=function(){function a(a,b){this._exporter=a,this._finishedLogRecords=[];var c,e,f,g,i=(0,s._)();this._maxExportBatchSize=null!=(c=null==b?void 0:b.maxExportBatchSize)?c:i.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!=(e=null==b?void 0:b.maxQueueSize)?e:i.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!=(f=null==b?void 0:b.scheduledDelayMillis)?f:i.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!=(g=null==b?void 0:b.exportTimeoutMillis)?g:i.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new h.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(d.s.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return a.prototype.onEmit=function(a){this._shutdownOnce.isCalled||this._addToBuffer(a)},a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){return Q(this,void 0,void 0,function(){return R(this,function(a){switch(a.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return a.sent(),[4,this._exporter.shutdown()];case 2:return a.sent(),[2]}})})},a.prototype._addToBuffer=function(a){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(a),this._maybeStartTimer())},a.prototype._flushAll=function(){var a=this;return new Promise(function(b,c){for(var d=[],e=Math.ceil(a._finishedLogRecords.length/a._maxExportBatchSize),f=0;f<e;f++)d.push(a._flushOneBatch());Promise.all(d).then(function(){b()}).catch(c)})},a.prototype._flushOneBatch=function(){var a=this;return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise(function(b,c){(0,w.o)(a._export(a._finishedLogRecords.splice(0,a._maxExportBatchSize)),a._exportTimeoutMillis).then(function(){return b()}).catch(c)})},a.prototype._maybeStartTimer=function(){var a=this;void 0===this._timer&&(this._timer=setTimeout(function(){a._flushOneBatch().then(function(){a._finishedLogRecords.length>0&&(a._clearTimer(),a._maybeStartTimer())}).catch(function(a){(0,I.s)(a)})},this._scheduledDelayMillis),(0,P.K)(this._timer))},a.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},a.prototype._export=function(a){var b=this,c=function(){return H.internal._export(b._exporter,a).then(function(a){var b;a.code!==E.V.SUCCESS&&(0,I.s)(null!=(b=a.error)?b:Error("BatchLogRecordProcessor: log record export failed (status "+a+")"))}).catch(I.s)},d=a.map(function(a){return a.resource}).filter(function(a){return a.asyncAttributesPending});return 0===d.length?c():Promise.all(d.map(function(a){var b;return null==(b=a.waitForAsyncAttributes)?void 0:b.call(a)})).then(c,I.s)},a}(),T=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),U=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return T(b,a),b.prototype.onShutdown=function(){},b}(S)},62806:(a,b,c)=>{"use strict";var d=c(27714);b.flowIndentCheck=function(a,b,c){if(b?.type==="flow-collection"){let e=b.end[0];e.indent===a&&("]"===e.source||"}"===e.source)&&d.containsNewline(b)&&c(e,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},62890:(a,b)=>{"use strict";let c=Symbol("break visit"),d=Symbol("skip children"),e=Symbol("remove item");function f(a,b){"type"in a&&"document"===a.type&&(a={start:a.start,value:a.value}),g(Object.freeze([]),a,b)}function g(a,b,d){let f=d(b,a);if("symbol"==typeof f)return f;for(let h of["key","value"]){let i=b[h];if(i&&"items"in i){for(let b=0;b<i.items.length;++b){let f=g(Object.freeze(a.concat([[h,b]])),i.items[b],d);if("number"==typeof f)b=f-1;else{if(f===c)return c;f===e&&(i.items.splice(b,1),b-=1)}}"function"==typeof f&&"key"===h&&(f=f(b,a))}}return"function"==typeof f?f(b,a):f}f.BREAK=c,f.SKIP=d,f.REMOVE=e,f.itemAtPath=(a,b)=>{let c=a;for(let[a,d]of b){let b=c?.[a];if(!b||!("items"in b))return;c=b.items[d]}return c},f.parentCollection=(a,b)=>{let c=f.itemAtPath(a,b.slice(0,-1)),d=b[b.length-1][0],e=c?.[d];if(e&&"items"in e)return e;throw Error("Parent collection not found")},b.visit=f},62934:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.z=void 0;let h=f(c(1961));b.z=h,g(c(1961),b),b.default=h},62937:(a,b,c)=>{"use strict";a.exports=f;var d=c(47628);(f.prototype=Object.create(d.prototype)).constructor=f;var e=c(16813);function f(a){d.call(this,a)}f._configure=function(){e.Buffer&&(f.prototype._slice=e.Buffer.prototype.slice)},f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},f._configure()},63062:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JaegerExporter=void 0;let d=c(68948),e=c(26061),f=c(19185),g=c(99052),h=c(85584),i=c(51227);class j{constructor(a){let b=Object.assign({},a);this._onShutdownFlushTimeout="number"==typeof b.flushTimeout?b.flushTimeout:2e3;let c=(0,e.getEnv)();b.endpoint=b.endpoint||c.OTEL_EXPORTER_JAEGER_ENDPOINT,b.username=b.username||c.OTEL_EXPORTER_JAEGER_USER,b.password=b.password||c.OTEL_EXPORTER_JAEGER_PASSWORD,b.host=b.host||c.OTEL_EXPORTER_JAEGER_AGENT_HOST,b.port=b.port||c.OTEL_EXPORTER_JAEGER_AGENT_PORT,this._localConfig=b,this._shutdownOnce=new e.BindOnceFuture(this._shutdown,this)}export(a,b){if(!this._shutdownOnce.isCalled){if(0===a.length)return b({code:e.ExportResultCode.SUCCESS});d.diag.debug("Jaeger exporter export"),this._sendSpans(a,b).catch(a=>b({code:e.ExportResultCode.FAILED,error:a}))}}shutdown(){return this._shutdownOnce.call()}forceFlush(){return this._flush()}_shutdown(){return Promise.race([new Promise((a,b)=>{setTimeout(()=>b(Error("Flush timeout")),this._onShutdownFlushTimeout)}),this._flush()]).finally(()=>{var a;null==(a=this._sender)||a.close()})}async _sendSpans(a,b){let c=a.map(a=>(0,h.spanToThrift)(a));for(let a of c)try{await this._append(a)}catch(a){if(b)return b({code:e.ExportResultCode.FAILED,error:a})}if(d.diag.debug(`successful append for : ${c.length}`),await this._flush(),b)return process.nextTick(b,{code:e.ExportResultCode.SUCCESS})}async _append(a){return new Promise((b,c)=>{this._getSender(a).append(a,(a,d)=>{if(d)return c(Error(d));b(a)})})}_getSender(a){if(this._sender)return this._sender;let b=this._localConfig.endpoint?new i.HTTPSender(this._localConfig):new i.UDPSender(this._localConfig);b._client instanceof f.Socket&&b._client.unref();let c=a.tags.find(a=>a.key===g.SEMRESATTRS_SERVICE_NAME),d=(null==c?void 0:c.vStr)||"unknown_service";return b.setProcess({serviceName:d,tags:i.ThriftUtils.getThriftTags(this._localConfig.tags||[])}),this._sender=b,b}async _flush(){await new Promise((a,b)=>{if(!this._sender)return a();this._sender.flush((c,e)=>{if(e)return b(Error(e));d.diag.debug(`successful flush for ${c} spans`),a()})})}}b.JaegerExporter=j},63197:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;let d=c(71367),e=c(15792),f=c(68302),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);b.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!i(a):!!b&&j(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a){for(let b in a){if(h.has(b))return!0;let c=a[b];if(Array.isArray(c)&&c.some(i)||"object"==typeof c&&i(c))return!0}return!1}function j(a){let b=0;for(let c in a)if("$ref"===c||(b++,!g.has(c)&&("object"==typeof a[c]&&(0,d.eachItem)(a[c],a=>b+=j(a)),b===1/0)))return 1/0;return b}function k(a,b="",c){!1!==c&&(b=n(b));let d=a.parse(b);return l(a,d)}function l(a,b){return a.serialize(b).split("#")[0]+"#"}b.getFullPath=k,b._getFullPath=l;let m=/#\/?$/;function n(a){return a?a.replace(m,""):""}b.normalizeId=n,b.resolveUrl=function(a,b,c){return c=n(c),a.resolve(b,c)};let o=/^[a-z_][-a-z0-9._]*$/i;b.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=n(a[c]||b),h={"":g},i=k(d,g,!1),j={},l=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=i+b,g=h[e];function k(b){let c=this.opts.uriResolver.resolve;if(b=n(g?c(g,b):b),l.has(b))throw p(b);l.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?m(a,d.schema,b):b!==n(f)&&("#"===b[0]?(m(a,j[b],b),j[b]=a):this.refs[b]=f),b}function q(a){if("string"==typeof a){if(!o.test(a))throw Error(`invalid anchor "${a}"`);k.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=k.call(this,a[c])),q.call(this,a.$anchor),q.call(this,a.$dynamicAnchor),h[b]=g}),j;function m(a,b,c){if(void 0!==b&&!e(a,b))throw p(c)}function p(a){return Error(`reference "${a}" resolves to more than one schema`)}}},63211:(a,b,c)=>{"use strict";var d,e=c(12412),f=c(89220),g=c(82625),h=c(82740),i=c(1148),j=c(32437),k=c(87965).s,l=c(28354),m=c(54465).C,n=c(20192).h;function o(a,b){e(a.isResult||a.id.value>0,"field identifier must be greater than 0 for "+JSON.stringify(a.name)+" on "+JSON.stringify(b.name)+" at "+a.id.line+":"+a.id.column),this.id=a.id.value,this.name=a.name,this.required=a.required,this.optional=a.optional,this.valueDefinition=a.valueType,this.valueType=null,this.defaultValueDefinition=a.defaultValue||b.defaultValueDefinition,this.defaultValue=null,this.annotations=a.annotations}function p(a){a=a||{},this.name=null,this.strict=void 0===a.strict||a.strict,this.defaultValueDefinition=a.defaultValueDefinition,this.fields=[],this.fieldNames=[],this.fieldsById={},this.fieldsByName={},this.isArgument=null,this.isResult=null,this.isException=a.isException||!1,this.Constructor=null,this.surface=null,this.rw=new this.RW(this),this.thrift=null,this.linked=!1,this.annotations=null}function q(a){e(a,"model required"),this.model=a,g.call(this)}o.prototype.link=function(a){this.valueType=a.resolve(this.valueDefinition),e(this.valueType,"value type was defined, as returned by resolve")},o.prototype.linkValue=function(a){this.defaultValue=a.resolveValue(this.defaultValueDefinition)},p.prototype.name="struct",p.prototype.typeid=h.STRUCT,p.prototype.RW=q,p.prototype.isUnion=!1,p.prototype.models="type",p.prototype.toBuffer=function(a){return f.toBuffer(this.rw,a)},p.prototype.toBufferResult=function(a){return f.toBufferResult(this.rw,a)},p.prototype.fromBuffer=function(a,b){return f.fromBuffer(this.rw,a,b)},p.prototype.fromBufferResult=function(a){return f.fromBufferResult(this.rw,a)},p.prototype.compile=function(a,b){this.name=a.annotations&&a.annotations["js.name"]||a.id.name,this.fullName=a.id.as||this.name,this.isArgument=a.isArgument||!1,this.isResult=a.isResult||!1,this.thrift=b;for(var c=a.fields,d=0;d<c.length;d++){var e=new o(c[d],this);e.name=e.annotations&&e.annotations["js.name"]||e.name,this.fieldsById[e.id]=e,this.fieldsByName[e.name]=e,this.fieldNames[d]=e.name,this.fields.push(e)}this.annotations=a.annotations},p.prototype.link=function(a){if(this.linked)return this;for(b=0,this.linked=!0;b<this.fields.length;b++){var b,c=this.fields[b];c.linkValue(a),this.isArgument&&(this.thrift.allowOptionalArguments?c.required||c.optional||void 0!==c.defaultValue||(c.optional=!0):c.optional?e.ok(!1,"no field of an argument struct may be marked optional including "+c.name+" of "+this.name+"; consider new Thrift({allowOptionalArguments: true})."):c.required=!0),this.strict&&e(c.required||c.optional||null!==c.defaultValue&&void 0!==c.defaultValue||this.isArgument||this.isResult||this.isUnion,"every field must be marked optional, required, or have a default value on "+this.name+' including "'+c.name+'" in strict mode')}for(b=0,this.Constructor=this.createConstructor(this.name,this.fields),this.Constructor.rw=this.rw,this.Constructor.fromBuffer=this.fromBuffer,this.Constructor.fromBufferResult=this.fromBufferResult,this.Constructor.toBuffer=this.toBuffer,this.Constructor.toBufferResult=this.toBufferResult,this.surface=this.Constructor;b<this.fields.length;b++)this.fields[b].link(a);return this.isUnion?a.unions[this.name]=this.Constructor:this.isException?a.exceptions[this.name]=this.Constructor:a.structs[this.name]=this.Constructor,/^[a-z]/.test(this.name)||(a[this.name]=this.Constructor),this},p.prototype.validateStruct=function(a){for(var b=0;b<this.fields.length;b++){var c=this.fields[b];if(c.required&&null==c.defaultValue){var d=a&&a[c.name],e=null!=d;if(!e)return j.FieldRequiredError({name:c.name,id:c.id,structName:this.name})}}return null},p.prototype.createConstructor=function(a,b){var c;c="(function thriftrw_"+a+"(options) {\n";for(var d=0;d<b.length;d++){var e=b[d];c+="    if (options && typeof options."+e.name+' !== "undefined") { this.'+e.name+" = options."+e.name+"; }\n"+("    else { this."+e.name+" = "+JSON.stringify(e.defaultValue))+"; }\n"}return(0,eval)(c+="})\n")},p.prototype.create=function(){return new this.Constructor},p.prototype.set=function(a,b,c){a[b]=c},p.prototype.finalize=function(a){return a},l.inherits(q,g),q.prototype.poolByteLength=function(a,b){for(var c,d=1,e=0;e<this.model.fields.length;e++){var f=this.model.fields[e],g=b&&b[f.name],h=null!=g;if(!h&&f.required)return a.reset(j.FieldRequiredError({name:f.name,id:f.id,structName:this.model.name,what:b}));if(h){if(d+=3,c=f.valueType.rw.poolByteLength(a,g),c.err)return c;d+=c.length}}return a.reset(null,d)},q.prototype.poolWriteInto=function(a,b,c,d){for(var e,g=0;g<this.model.fields.length;g++){var i=this.model.fields[g],k=b&&b[i.name],l=null!=k;if(!l&&i.required)return a.reset(j.FieldRequiredError({name:i.name,id:i.id,structName:this.model.name,what:b}));if(l){if(e=f.Int8.poolWriteInto(a,i.valueType.typeid,c,d),e.err||(d=e.offset,e=f.Int16BE.poolWriteInto(a,i.id,c,d),e.err)||(d=e.offset,e=i.valueType.rw.poolWriteInto(a,k,c,d),e.err))return e;d=e.offset}}return(e=f.Int8.poolWriteInto(a,h.STOP,c,d)).err?e:(d=e.offset,a.reset(null,d))},q.prototype.poolReadFrom=function(a,b,c){for(var d,e=this.model.create();;){if((d=f.Int8.poolReadFrom(a,b,c)).err)return d;c=d.offset;var g=d.value;if(g===h.STOP)break;if((d=f.Int16BE.poolReadFrom(a,b,c)).err)return d;c=d.offset;var l=d.value;if(!this.model.fieldsById[l]&&this.model.isResult){if((d=n(a,b,c,g)).err)return d;c=d.offset,this.model.set(e,"failure",new m(d.value));continue}if(!this.model.fieldsById[l]){if((d=k(a,b,c,g)).err)return d;c=d.offset;continue}var o=this.model.fieldsById[l];if(o.valueType.typeid!==g&&o.valueType.altTypeid!==g)return a.reset(j.UnexpectedFieldValueTypeidError({fieldId:l,fieldName:o.name,structName:this.model.name,typeid:g,typeName:i[g],expectedTypeid:o.valueType.typeid,expectedTypeName:i[o.valueType.typeid]}),c);if((d=o.valueType.rw.poolReadFrom(a,b,c)).err)return a.reset(d.err,c);c=d.offset,this.model.set(e,o.name,d.value)}var p=this.model.validateStruct(e);return p?a.reset(p,c):a.reset(null,c,this.model.finalize(e))},d=o,a.exports.N1=p,d=q},63268:(a,b,c)=>{"use strict";var d=c(20992),e=c(42218),f=c(6068),g=c(92180),h=c(955),i=c(93662);let j={composeNode:k,composeEmptyNode:l};function k(a,b,c,d){let h,i=a.atKey,{spaceBefore:k,comment:n,anchor:o,tag:p}=c,q=!0;switch(b.type){case"alias":h=m(a,b,d),(o||p)&&d(b,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=g.composeScalar(a,b,p,d),o&&(h.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=f.composeCollection(j,a,b,c,d),o&&(h.anchor=o.source.substring(1));break;default:{let e="error"===b.type?b.message:`Unsupported token (type: ${b.type})`;d(b,"UNEXPECTED_TOKEN",e),h=l(a,b.offset,void 0,null,c,d),q=!1}}return o&&""===h.anchor&&d(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&a.options.stringKeys&&(!e.isScalar(h)||"string"!=typeof h.value||h.tag&&"tag:yaml.org,2002:str"!==h.tag)&&d(p??b,"NON_STRING_KEY","With stringKeys, all keys must be strings"),k&&(h.spaceBefore=!0),n&&("scalar"===b.type&&""===b.source?h.comment=n:h.commentBefore=n),a.options.keepSourceTokens&&q&&(h.srcToken=b),h}function l(a,b,c,d,{spaceBefore:e,comment:f,anchor:h,tag:j,end:k},l){let m={type:"scalar",offset:i.emptyScalarPosition(b,c,d),indent:-1,source:""},n=g.composeScalar(a,m,j,l);return h&&(n.anchor=h.source.substring(1),""===n.anchor&&l(h,"BAD_ALIAS","Anchor cannot be an empty string")),e&&(n.spaceBefore=!0),f&&(n.comment=f,n.range[2]=k),n}function m({options:a},{offset:b,source:c,end:e},f){let g=new d.Alias(c.substring(1));""===g.source&&f(b,"BAD_ALIAS","Alias cannot be an empty string"),g.source.endsWith(":")&&f(b+c.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let i=b+c.length,j=h.resolveEnd(e,i,a.strict,f);return g.range=[b,i,j.offset],j.comment&&(g.comment=j.comment),g}b.composeEmptyNode=l,b.composeNode=k},63663:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ZipkinExporter:()=>z,prepareSend:()=>l});var d,e,f=c(79361),g=c(4875),h=c(81630),i=c(55591),j=c(79551),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function l(a,b){var c=j.parse(a),d=Object.assign({method:"POST",headers:k({"Content-Type":"application/json"},b)},c);return function(a,b){if(0===a.length)return f.s.debug("Zipkin send with empty spans"),b({code:g.V.SUCCESS});var c=(0,("http:"===d.protocol?h:i).request)(d,function(a){var c="";a.on("data",function(a){c+=a}),a.on("end",function(){var d=a.statusCode||0;return(f.s.debug("Zipkin response status code: "+d+", body: "+c),d<400)?b({code:g.V.SUCCESS}):b({code:g.V.FAILED,error:Error("Got unexpected status code from zipkin: "+d)})})});c.on("error",function(a){return b({code:g.V.FAILED,error:a})});var e=JSON.stringify(a);f.s.debug("Zipkin request payload: "+e),c.write(e,"utf8"),c.end()}}var m=c(66336),n=c(33890),o=c(86847),p=c(99591);!function(a){a.CLIENT="CLIENT",a.SERVER="SERVER",a.CONSUMER="CONSUMER",a.PRODUCER="PRODUCER"}(d||(d={}));var q=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},r=((e={})[n.v.CLIENT]=d.CLIENT,e[n.v.SERVER]=d.SERVER,e[n.v.CONSUMER]=d.CONSUMER,e[n.v.PRODUCER]=d.PRODUCER,e[n.v.INTERNAL]=void 0,e),s="otel.status_code",t="error";function u(a,b,c,d){return{traceId:a.spanContext().traceId,parentId:a.parentSpanId,name:a.name,id:a.spanContext().spanId,kind:r[a.kind],timestamp:(0,p.w_)(a.startTime),duration:Math.round((0,p.w_)(a.duration)),localEndpoint:{serviceName:b},tags:v(a,c,d),annotations:a.events.length?w(a.events):void 0}}function v(a,b,c){var d,e,f=a.attributes,g=a.resource,h=a.status,i=a.droppedAttributesCount,j=a.droppedEventsCount,k=a.droppedLinksCount,l={};try{for(var m=q(Object.keys(f)),n=m.next();!n.done;n=m.next()){var p=n.value;l[p]=String(f[p])}}catch(a){d={error:a}}finally{try{n&&!n.done&&(e=m.return)&&e.call(m)}finally{if(d)throw d.error}}return h.code!==o.s.UNSET&&(l[b]=String(o.s[h.code])),h.code===o.s.ERROR&&h.message&&(l[c]=h.message),i&&(l["otel.dropped_attributes_count"]=String(i)),j&&(l["otel.dropped_events_count"]=String(j)),k&&(l["otel.dropped_links_count"]=String(k)),Object.keys(g.attributes).forEach(function(a){return l[a]=String(g.attributes[a])}),l}function w(a){return a.map(function(a){return{timestamp:Math.round((0,p.w_)(a.time)),value:a.name}})}var x="service.name";function y(a){return function(){return a()}}var z=function(){function a(a){void 0===a&&(a={}),this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=a.url||(0,m._)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=l(this._urlStr,a.headers),this._serviceName=a.serviceName,this._statusCodeTagName=a.statusCodeTagName||s,this._statusDescriptionTagName=a.statusDescriptionTagName||t,this._isShutdown=!1,"function"==typeof a.getExportRequestHeaders?this._getHeaders=y(a.getExportRequestHeaders):this._beforeSend=function(){}}return a.prototype.export=function(a,b){var c=this,d=String(this._serviceName||a[0].resource.attributes[x]||this.DEFAULT_SERVICE_NAME);if(f.s.debug("Zipkin exporter export"),this._isShutdown)return void setTimeout(function(){return b({code:g.V.FAILED,error:Error("Exporter has been shutdown")})});var e=new Promise(function(e){c._sendSpans(a,d,function(a){e(),b(a)})});this._sendingPromises.push(e);var h=function(){var a=c._sendingPromises.indexOf(e);c._sendingPromises.splice(a,1)};e.then(h,h)},a.prototype.shutdown=function(){return f.s.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()},a.prototype.forceFlush=function(){var a=this;return new Promise(function(b,c){Promise.all(a._sendingPromises).then(function(){b()},c)})},a.prototype._beforeSend=function(){this._getHeaders&&(this._send=l(this._urlStr,this._getHeaders()))},a.prototype._sendSpans=function(a,b,c){var d=this,e=a.map(function(a){return u(a,String(a.attributes[x]||a.resource.attributes[x]||b),d._statusCodeTagName,d._statusDescriptionTagName)});return this._beforeSend(),this._send(e,function(a){if(c)return c(a)})},a}()},63711:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{InstrumentationLibrarySchema:()=>s,LinkSchema:()=>r,PathMetadataSchema:()=>l,SpanContextSchema:()=>q,SpanDataSchema:()=>t,SpanMetadataSchema:()=>n,SpanStatusSchema:()=>o,TimeEventSchema:()=>p,TraceDataSchema:()=>u,TraceMetadataSchema:()=>m}),a.exports=i(j);var k=c(62934);let l=k.z.object({path:k.z.string(),status:k.z.string(),error:k.z.string().optional(),latency:k.z.number()}),m=k.z.object({featureName:k.z.string().optional(),paths:k.z.set(l).optional(),timestamp:k.z.number()}),n=k.z.object({name:k.z.string(),state:k.z.enum(["success","error"]).optional(),input:k.z.any().optional(),output:k.z.any().optional(),isRoot:k.z.boolean().optional(),metadata:k.z.record(k.z.string(),k.z.string()).optional(),path:k.z.string().optional(),isFailureSource:k.z.boolean().optional()}),o=k.z.object({code:k.z.number(),message:k.z.string().optional()}),p=k.z.object({time:k.z.number(),annotation:k.z.object({attributes:k.z.record(k.z.string(),k.z.any()),description:k.z.string()})}),q=k.z.object({traceId:k.z.string(),spanId:k.z.string(),isRemote:k.z.boolean().optional(),traceFlags:k.z.number()}),r=k.z.object({context:q.optional(),attributes:k.z.record(k.z.string(),k.z.any()).optional(),droppedAttributesCount:k.z.number().optional()}),s=k.z.object({name:k.z.string().readonly(),version:k.z.string().optional().readonly(),schemaUrl:k.z.string().optional().readonly()}),t=k.z.object({spanId:k.z.string(),traceId:k.z.string(),parentSpanId:k.z.string().optional(),startTime:k.z.number(),endTime:k.z.number(),attributes:k.z.record(k.z.string(),k.z.any()),displayName:k.z.string(),links:k.z.array(r).optional(),instrumentationLibrary:s,spanKind:k.z.string(),sameProcessAsParentSpan:k.z.object({value:k.z.boolean()}).optional(),status:o.optional(),timeEvents:k.z.object({timeEvent:k.z.array(p)}).optional(),truncated:k.z.boolean().optional()}),u=k.z.object({traceId:k.z.string(),displayName:k.z.string().optional(),startTime:k.z.number().optional().describe("trace start time in milliseconds since the epoch"),endTime:k.z.number().optional().describe("end time in milliseconds since the epoch"),spans:k.z.record(k.z.string(),t)})},63971:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateRetryThrottling=l,b.validateServiceConfig=n,b.extractAndSelectServiceConfig=q;let d=c(21820),e=c(56458),f=/^\d+(\.\d{1,9})?s$/,g="node";function h(a){if("service"in a&&""!==a.service){if("string"!=typeof a.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof a.service}`);if(!("method"in a)||""===a.method)return{service:a.service};if("string"!=typeof a.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof a.service}`);return{service:a.service,method:a.method}}if("method"in a&&void 0!==a.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function i(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in a)||"string"!=typeof a.initialBackoff||!f.test(a.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in a)||"string"!=typeof a.maxBackoff||!f.test(a.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in a)||"number"!=typeof a.backoffMultiplier||a.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in a&&Array.isArray(a.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===a.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let b of a.retryableStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:a.maxAttempts,initialBackoff:a.initialBackoff,maxBackoff:a.maxBackoff,backoffMultiplier:a.backoffMultiplier,retryableStatusCodes:a.retryableStatusCodes}}function j(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in a&&("string"!=typeof a.hedgingDelay||!f.test(a.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in a&&Array.isArray(a.nonFatalStatusCodes))for(let b of a.nonFatalStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let b={maxAttempts:a.maxAttempts};return a.hedgingDelay&&(b.hedgingDelay=a.hedgingDelay),a.nonFatalStatusCodes&&(b.nonFatalStatusCodes=a.nonFatalStatusCodes),b}function k(a){var b;let c={name:[]};if(!("name"in a)||!Array.isArray(a.name))throw Error("Invalid method config: invalid name array");for(let b of a.name)c.name.push(h(b));if("waitForReady"in a){if("boolean"!=typeof a.waitForReady)throw Error("Invalid method config: invalid waitForReady");c.waitForReady=a.waitForReady}if("timeout"in a)if("object"==typeof a.timeout){if(!("seconds"in a.timeout)||"number"!=typeof a.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in a.timeout)||"number"!=typeof a.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");c.timeout=a.timeout}else if("string"==typeof a.timeout&&f.test(a.timeout)){let d=a.timeout.substring(0,a.timeout.length-1).split(".");c.timeout={seconds:0|d[0],nanos:(null!=(b=d[1])?b:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in a){if("number"!=typeof a.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxRequestBytes=a.maxRequestBytes}if("maxResponseBytes"in a){if("number"!=typeof a.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxResponseBytes=a.maxResponseBytes}if("retryPolicy"in a)if("hedgingPolicy"in a)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else c.retryPolicy=i(a.retryPolicy);else"hedgingPolicy"in a&&(c.hedgingPolicy=j(a.hedgingPolicy));return c}function l(a){if(!("maxTokens"in a)||"number"!=typeof a.maxTokens||a.maxTokens<=0||a.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in a)||"number"!=typeof a.tokenRatio||a.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+a.maxTokens.toFixed(3),tokenRatio:+a.tokenRatio.toFixed(3)}}function m(a){if("object"!=typeof a||null===a)throw Error(`Invalid loadBalancingConfig: unexpected type ${typeof a}`);let b=Object.keys(a);if(b.length>1)throw Error(`Invalid loadBalancingConfig: unexpected multiple keys ${b}`);if(0===b.length)throw Error("Invalid loadBalancingConfig: load balancing policy name required");return{[b[0]]:a[b[0]]}}function n(a){let b={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in a)if("string"==typeof a.loadBalancingPolicy)b.loadBalancingPolicy=a.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in a)if(Array.isArray(a.loadBalancingConfig))for(let c of a.loadBalancingConfig)b.loadBalancingConfig.push(m(c));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in a&&Array.isArray(a.methodConfig))for(let c of a.methodConfig)b.methodConfig.push(k(c));"retryThrottling"in a&&(b.retryThrottling=l(a.retryThrottling));let c=[];for(let a of b.methodConfig)for(let b of a.name){for(let a of c)if(b.service===a.service&&b.method===a.method)throw Error(`Invalid service config: duplicate name ${b.service}/${b.method}`);c.push(b)}return b}function o(a){if(!("serviceConfig"in a))throw Error("Invalid service config choice: missing service config");let b={serviceConfig:n(a.serviceConfig)};if("clientLanguage"in a)if(Array.isArray(a.clientLanguage))for(let c of(b.clientLanguage=[],a.clientLanguage))if("string"==typeof c)b.clientLanguage.push(c);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in a)if(Array.isArray(a.clientHostname))for(let c of(b.clientHostname=[],a.clientHostname))if("string"==typeof c)b.clientHostname.push(c);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in a)if("number"==typeof a.percentage&&0<=a.percentage&&a.percentage<=100)b.percentage=a.percentage;else throw Error("Invalid service config choice: invalid percentage");let c=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let b in a)if(!c.includes(b))throw Error(`Invalid service config choice: unexpected field ${b}`);return b}function p(a,b){if(!Array.isArray(a))throw Error("Invalid service config list");for(let c of a){let a=o(c);if("number"!=typeof a.percentage||!(b>a.percentage)){if(Array.isArray(a.clientHostname)){let b=!1;for(let c of a.clientHostname)c===d.hostname()&&(b=!0);if(!b)continue}if(Array.isArray(a.clientLanguage)){let b=!1;for(let c of a.clientLanguage)c===g&&(b=!0);if(!b)continue}return a.serviceConfig}}throw Error("No matching service config found")}function q(a,b){for(let c of a)if(c.length>0&&c[0].startsWith("grpc_config="))return p(JSON.parse(c.join("").substring(12)),b);return null}},64062:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.defaultErrorMap=void 0,b.setErrorMap=g,b.getErrorMap=h;let e=d(c(51809));b.defaultErrorMap=e.default;let f=e.default;function g(a){f=a}function h(){return f}},64072:(a,b)=>{"use strict";function c(a){switch(a.type){case"block-scalar":{let b="";for(let d of a.props)b+=c(d);return b+a.source}case"block-map":case"block-seq":{let b="";for(let c of a.items)b+=d(c);return b}case"flow-collection":{let b=a.start.source;for(let c of a.items)b+=d(c);for(let c of a.end)b+=c.source;return b}case"document":{let b=d(a);if(a.end)for(let c of a.end)b+=c.source;return b}default:{let b=a.source;if("end"in a&&a.end)for(let c of a.end)b+=c.source;return b}}}function d({start:a,key:b,sep:d,value:e}){let f="";for(let b of a)f+=b.source;if(b&&(f+=c(b)),d)for(let a of d)f+=a.source;return e&&(f+=c(e)),f}b.stringify=a=>"type"in a?c(a):d(a)},64089:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j=a=>h(d({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(k,{enableTelemetry:()=>t,ensureBasicTelemetryInstrumentation:()=>p,flushTracing:()=>u,setTelemetryProvider:()=>s}),a.exports=j(k);var l=c(53369),m=c(42656);i(k,c(75151),a.exports),i(k,c(15750),a.exports),i(k,c(63711),a.exports);let n="__GENKIT_TELEMETRY_INSTRUMENTED",o="__GENKIT_TELEMETRY_PROVIDER";async function p(){if(await q(),global[n])return await global[n];await t({})}async function q(){if(!global[n]&&"true"===process.env.ENABLE_FIREBASE_MONITORING)try{let a=Function("moduleName","return import(moduleName)");(await a("@genkit-ai/firebase")).enableFirebaseTelemetry()}catch(a){m.logger.warn("It looks like you're trying to enable firebase monitoring, but haven't installed the firebase plugin. Please run `npm i --save @genkit-ai/firebase` and redeploy.")}}function r(){if(global[o])return global[o];throw new l.GenkitError({status:"FAILED_PRECONDITION",message:"TelemetryProvider is not initialized."})}function s(a){global[o]||(global[o]=a)}async function t(a){return global[n]=a instanceof Promise?a:Promise.resolve(),r().enableTelemetry(a)}async function u(){return r().flushTracing()}},64488:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;let d=c(53864),e=c(59762),f=c(28872);b.error={message:({params:{property:a,depsCount:b,deps:c}})=>{let e=1===b?"property":"properties";return(0,d.str)`must have ${e} ${c} when property ${a} is present`},params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(a){let[b,c]=h(a);i(a,b),j(a,c)}};function h({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}function i(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let h=c.let("missing");for(let i in b){let j=b[i];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,i,g.opts.ownProperties);a.setParams({property:i,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,h)})`),(0,f.reportMissingProp)(a,h),c.else())}}function j(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,i=c.name("valid");for(let j in b)(0,e.alwaysValidSchema)(h,b[j])||(c.if((0,f.propertyInData)(c,d,j,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:j},i);a.mergeValidEvaluated(b,i)},()=>c.var(i,!0)),a.ok(i))}b.validatePropertyDeps=i,b.validateSchemaDeps=j,b.default=g},64508:a=>{"use strict";let b=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),c=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function d(a){let b="",c=0,d=0;for(d=0;d<a.length;d++)if(48!==(c=a[d].charCodeAt(0))){if(!(c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d];break}for(d+=1;d<a.length;d++){if(!((c=a[d].charCodeAt(0))>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d]}return b}function e(a){return a.length=0,!0}function f(a,b,c){if(a.length){let e=d(a);if(""===e)return c.error=!0,!1;b.push(e),a.length=0}return!0}function g(a){let b=0,c={error:!1,address:"",zone:""},g=[],h=[],i=!1,j=!1,k=f;for(let d=0;d<a.length;d++){let f=a[d];if("["!==f&&"]"!==f)if(":"===f){if(!0===i&&(j=!0),!k(h,g,c))break;if(++b>7){c.error=!0;break}d>0&&":"===a[d-1]&&(i=!0),g.push(":");continue}else if("%"===f){if(!k(h,g,c))break;k=e}else{h.push(f);continue}}return h.length&&(k===e?c.zone=h.join(""):j?g.push(h.join("")):g.push(d(h))),c.address=g.join(""),c}function h(a){if(2>i(a,":"))return{host:a,isIPV6:!1};let b=g(a);if(b.error)return{host:a,isIPV6:!1};{let a=b.address,c=b.address;return b.zone&&(a+="%"+b.zone,c+="%25"+b.zone),{host:a,isIPV6:!0,escapedHost:c}}}function i(a,b){let c=0;for(let d=0;d<a.length;d++)a[d]===b&&c++;return c}function j(a){let b=a,c=[],d=-1,e=0;for(;e=b.length;){if(1===e)if("."===b)break;else if("/"===b){c.push("/");break}else{c.push(b);break}if(2===e){if("."===b[0]){if("."===b[1])break;else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&("."===b[1]||"/"===b[1])){c.push("/");break}}else if(3===e&&"/.."===b){0!==c.length&&c.pop(),c.push("/");break}if("."===b[0]){if("."===b[1]){if("/"===b[2]){b=b.slice(3);continue}}else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&"."===b[1]){if("/"===b[2]){b=b.slice(2);continue}else if("."===b[2]&&"/"===b[3]){b=b.slice(3),0!==c.length&&c.pop();continue}}if(-1===(d=b.indexOf("/",1))){c.push(b);break}c.push(b.slice(0,d)),b=b.slice(d)}return c.join("")}function k(a,b){let c=!0!==b?escape:unescape;return void 0!==a.scheme&&(a.scheme=c(a.scheme)),void 0!==a.userinfo&&(a.userinfo=c(a.userinfo)),void 0!==a.host&&(a.host=c(a.host)),void 0!==a.path&&(a.path=c(a.path)),void 0!==a.query&&(a.query=c(a.query)),void 0!==a.fragment&&(a.fragment=c(a.fragment)),a}function l(a){let b=[];if(void 0!==a.userinfo&&(b.push(a.userinfo),b.push("@")),void 0!==a.host){let d=unescape(a.host);if(!c(d)){let b=h(d);d=!0===b.isIPV6?`[${b.escapedHost}]`:a.host}b.push(d)}return("number"==typeof a.port||"string"==typeof a.port)&&(b.push(":"),b.push(String(a.port))),b.length?b.join(""):void 0}a.exports={nonSimpleDomain:RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u),recomposeAuthority:l,normalizeComponentEncoding:k,removeDotSegments:j,isIPv4:c,isUUID:b,normalizeIPv6:h,stringArrayToHexStripped:d}},64593:(a,b,c)=>{"use strict";c.r(b),c.d(b,{InstrumentationBase:()=>K,InstrumentationNodeModuleDefinition:()=>M,InstrumentationNodeModuleFile:()=>N,isWrapped:()=>H,registerInstrumentations:()=>i,safeExecuteInTheMiddle:()=>F,safeExecuteInTheMiddleAsync:()=>G});var d=c(88018),e=c(52764),f=c(11394);function g(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e];b&&g.setTracerProvider(b),c&&g.setMeterProvider(c),d&&g.setLoggerProvider&&g.setLoggerProvider(d),g.getConfig().enabled||g.enable()}}function h(a){a.forEach(function(a){return a.disable()})}function i(a){var b,c,i=a.tracerProvider||d.u.getTracerProvider(),j=a.meterProvider||e.q.getMeterProvider(),k=a.loggerProvider||f.logs.getLoggerProvider(),l=null!=(c=null==(b=a.instrumentations)?void 0:b.flat())?c:[];return g(l,i,j,k),function(){h(l)}}var j=c(33873),k=c(28354),l=c(16260),m=c(21807),n=c(79361),o=function(){return(o=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},p=function(){function a(a,b,c){this.instrumentationName=a,this.instrumentationVersion=b,this._wrap=m.wrap,this._unwrap=m.unwrap,this._massWrap=m.massWrap,this._massUnwrap=m.massUnwrap,this._config=o({enabled:!0},c),this._diag=n.s.createComponentLogger({namespace:a}),this._tracer=d.u.getTracer(a,b),this._meter=e.q.getMeter(a,b),this._logger=f.logs.getLogger(a,b),this._updateMetricInstruments()}return Object.defineProperty(a.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),a.prototype.setMeterProvider=function(a){this._meter=a.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(a.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),a.prototype.setLoggerProvider=function(a){this._logger=a.getLogger(this.instrumentationName,this.instrumentationVersion)},a.prototype.getModuleDefinitions=function(){var a,b=null!=(a=this.init())?a:[];return Array.isArray(b)?b:[b]},a.prototype._updateMetricInstruments=function(){},a.prototype.getConfig=function(){return this._config},a.prototype.setConfig=function(a){this._config=o({},a)},a.prototype.setTracerProvider=function(a){this._tracer=a.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(a.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),a.prototype._runSpanCustomizationHook=function(a,b,c,d){if(a)try{a(c,d)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:b},a)}},a}(),q=c(19063),r=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},t=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},u="/",v=function(){return function(){this.hooks=[],this.children=new Map}}(),w=function(){function a(){this._trie=new v,this._counter=0}return a.prototype.insert=function(a){var b,c,d=this._trie;try{for(var e=r(a.moduleName.split(u)),f=e.next();!f.done;f=e.next()){var g=f.value,h=d.children.get(g);h||(h=new v,d.children.set(g,h)),d=h}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}d.hooks.push({hook:a,insertedId:this._counter++})},a.prototype.search=function(a,b){var c,d,e=void 0===b?{}:b,f=e.maintainInsertionOrder,g=e.fullOnly,h=this._trie,i=[],j=!0;try{for(var k=r(a.split(u)),l=k.next();!l.done;l=k.next()){var m=l.value,n=h.children.get(m);if(!n){j=!1;break}g||i.push.apply(i,t([],s(n.hooks),!1)),h=n}}catch(a){c={error:a}}finally{try{l&&!l.done&&(d=k.return)&&d.call(k)}finally{if(c)throw c.error}}return(g&&j&&i.push.apply(i,t([],s(h.hooks),!1)),0===i.length)?[]:1===i.length?[i[0].hook]:(f&&i.sort(function(a,b){return a.insertedId-b.insertedId}),i.map(function(a){return a.hook}))},a}(),x=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},y=["afterEach","after","beforeEach","before","describe","it"].every(function(a){return"function"==typeof global[a]}),z=function(){function a(){this._moduleNameTrie=new w,this._initialize()}return a.prototype._initialize=function(){var a=this;new q.Hook(null,{internals:!0},function(b,c,d){var e,f,g=A(c),h=a._moduleNameTrie.search(g,{maintainInsertionOrder:!0,fullOnly:void 0===d});try{for(var i=x(h),j=i.next();!j.done;j=i.next())b=(0,j.value.onRequire)(b,c,d)}catch(a){e={error:a}}finally{try{j&&!j.done&&(f=i.return)&&f.call(i)}finally{if(e)throw e.error}}return b})},a.prototype.register=function(a,b){var c={moduleName:a,onRequire:b};return this._moduleNameTrie.insert(c),c},a.getInstance=function(){var b;return y?new a:this._instance=null!=(b=this._instance)?b:new a},a}();function A(a){return j.sep!==u?a.split(j.sep).join(u):a}var B=c(56801),C=c(29021),D=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},E=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};function F(a,b,c){var d,e;try{e=a()}catch(a){d=a}finally{if(b(d,e),d&&!c)throw d;return e}}function G(a,b,c){return D(this,void 0,void 0,function(){var d,e;return E(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,3,4]),[4,a()];case 1:return e=f.sent(),[3,4];case 2:return d=f.sent(),[3,4];case 3:if(b(d,e),d&&!c)throw d;return[2,e];case 4:return[2]}})})}function H(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var I=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),J=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(a){function b(b,c,d){var e=a.call(this,b,c,d)||this;e._hooks=[],e._requireInTheMiddleSingleton=z.getInstance(),e._enabled=!1,e._wrap=function(a,b,c){if(H(a[b])&&e._unwrap(a,b),!k.types.isProxy(a))return(0,m.wrap)(a,b,c);var d=(0,m.wrap)(Object.assign({},a),b,c);return Object.defineProperty(a,b,{value:d})},e._unwrap=function(a,b){return k.types.isProxy(a)?Object.defineProperty(a,b,{value:a[b]}):(0,m.unwrap)(a,b)},e._massWrap=function(a,b,c){return a?(Array.isArray(a)||(a=[a]),b&&Array.isArray(b))?void a.forEach(function(a){b.forEach(function(b){e._wrap(a,b,c)})}):void n.s.error("must provide one or more functions to wrap on modules"):void n.s.error("must provide one or more modules to patch")},e._massUnwrap=function(a,b){return a?(Array.isArray(a)||(a=[a]),b&&Array.isArray(b))?void a.forEach(function(a){b.forEach(function(b){e._unwrap(a,b)})}):void n.s.error("must provide one or more functions to wrap on modules"):void n.s.error("must provide one or more modules to patch")};var f=e.init();return f&&!Array.isArray(f)&&(f=[f]),e._modules=f||[],0===e._modules.length&&n.s.debug("No modules instrumentation has been defined for "+("'"+e.instrumentationName+"@")+e.instrumentationVersion+"', nothing will be patched"),e._config.enabled&&e.enable(),e}return I(b,a),b.prototype._warnOnPreloadedModules=function(){var a=this;this._modules.forEach(function(b){var d=b.name;try{var e=c(47002).resolve(d);c.c[e]&&a._diag.warn("Module "+d+" has been loaded before "+a.instrumentationName+" so it might not work, please initialize it before requiring "+d)}catch(a){}})},b.prototype._extractPackageVersion=function(a){try{var b=(0,C.readFileSync)(j.join(a,"package.json"),{encoding:"utf8"}),c=JSON.parse(b).version;return"string"==typeof c?c:void 0}catch(b){n.s.warn("Failed extracting version",a)}},b.prototype._onRequire=function(a,b,c,d){var e,f=this;if(!d)return"function"==typeof a.patch&&(a.moduleExports=b,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:a.name}),a.patch(b)):b;var g=this._extractPackageVersion(d);if(a.moduleVersion=g,a.name===c)return L(a.supportedVersions,g,a.includePrerelease)&&"function"==typeof a.patch&&(a.moduleExports=b,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:a.name,version:a.moduleVersion,baseDir:d}),a.patch(b,a.moduleVersion)):b;var h=null!=(e=a.files)?e:[],i=j.normalize(c);return h.filter(function(a){return a.name===i}).filter(function(b){return L(b.supportedVersions,g,a.includePrerelease)}).reduce(function(b,c){return(c.moduleExports=b,f._enabled)?(f._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:a.name,version:a.moduleVersion,fileName:c.name,baseDir:d}),c.patch(b,a.moduleVersion)):b},b)},b.prototype.enable=function(){var a,b,c,d,e,f,g=this;if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){try{for(var h=J(this._modules),i=h.next();!i.done;i=h.next()){var k=i.value;"function"==typeof k.patch&&k.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:k.name,version:k.moduleVersion}),k.patch(k.moduleExports,k.moduleVersion));try{for(var l=(c=void 0,J(k.files)),m=l.next();!m.done;m=l.next()){var n=m.value;n.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:k.name,version:k.moduleVersion,fileName:n.name}),n.patch(n.moduleExports,k.moduleVersion))}}catch(a){c={error:a}}finally{try{m&&!m.done&&(d=l.return)&&d.call(l)}finally{if(c)throw c.error}}}}catch(b){a={error:b}}finally{try{i&&!i.done&&(b=h.return)&&b.call(h)}finally{if(a)throw a.error}}return}this._warnOnPreloadedModules();var o=function(a){var b=function(b,c,d){return g._onRequire(a,b,c,d)},c=function(b,c,d){return g._onRequire(a,b,c,d)},d=j.isAbsolute(a.name)?new q.Hook([a.name],{internals:!0},c):p._requireInTheMiddleSingleton.register(a.name,c);p._hooks.push(d);var e=new B.Hook([a.name],{internals:!1},b);p._hooks.push(e)},p=this;try{for(var r=J(this._modules),s=r.next();!s.done;s=r.next()){var t=s.value;o(t)}}catch(a){e={error:a}}finally{try{s&&!s.done&&(f=r.return)&&f.call(r)}finally{if(e)throw e.error}}}},b.prototype.disable=function(){var a,b,c,d;if(this._enabled){this._enabled=!1;try{for(var e=J(this._modules),f=e.next();!f.done;f=e.next()){var g=f.value;"function"==typeof g.unpatch&&g.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:g.name,version:g.moduleVersion}),g.unpatch(g.moduleExports,g.moduleVersion));try{for(var h=(c=void 0,J(g.files)),i=h.next();!i.done;i=h.next()){var j=i.value;j.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:g.name,version:g.moduleVersion,fileName:j.name}),j.unpatch(j.moduleExports,g.moduleVersion))}}catch(a){c={error:a}}finally{try{i&&!i.done&&(d=h.return)&&d.call(h)}finally{if(c)throw c.error}}}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(a)throw a.error}}}},b.prototype.isEnabled=function(){return this._enabled},b}(p);function L(a,b,c){return void 0===b?a.includes("*"):a.some(function(a){return(0,l.satisfies)(b,a,{includePrerelease:c})})}var M=function(){return function(a,b,c,d,e){this.name=a,this.supportedVersions=b,this.patch=c,this.unpatch=d,this.files=e||[]}}(),N=function(){return function(a,b,c,d){this.supportedVersions=b,this.patch=c,this.unpatch=d,this.name=(0,j.normalize)(a)}}()},64710:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBigintDef=void 0;let d=c(50130);b.parseBigintDef=function(a,b){let c={type:"integer",format:"int64"};if(!a.checks)return c;for(let e of a.checks)switch(e.kind){case"min":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMinimum",e.value,e.message,b):(e.inclusive||(c.exclusiveMinimum=!0),(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b));break;case"max":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMaximum",e.value,e.message,b):(e.inclusive||(c.exclusiveMaximum=!0),(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b));break;case"multipleOf":(0,d.setResponseValueAndErrors)(c,"multipleOf",e.value,e.message,b)}return c}},64905:(a,b,c)=>{"use strict";b.__esModule=!0,b.createNewLookupObject=e;var d=c(80496);function e(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.extend.apply(void 0,[Object.create(null)].concat(b))}},65025:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(63197);class e extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}b.default=e},65076:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).BufferRW,f=c(8193);function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);c=c||{},this.valrw=a,this.cases=b,this.cons=c.cons||h,this.valKey=c.valKey||"0",this.dataKey=c.dataKey||"1",c.structMode&&(this.poolReadFrom=this.structReadFrom),e.call(this)}function h(a,b){Array.call(this),this[0]=a,this[1]=b}d(g,e),g.prototype.poolByteLength=function(a,b){var c=b[this.valKey],d=b[this.dataKey],e=this.cases[c];if(void 0===e)return a.reset(f.WriteInvalidSwitchValue({value:c}));if(this.valrw.poolByteLength(a,c),a.err)return a;var g=a.length;if(e.poolByteLength(a,d),a.err)return a;var h=a.length;return a.reset(null,h+g)},g.prototype.poolWriteInto=function(a,b,c,d){var e=b[this.valKey],g=b[this.dataKey],h=this.cases[e];if(void 0===h)return a.reset(f.WriteInvalidSwitchValue({value:e}),d);var i=this.valrw.poolWriteInto(a,e,c,d);return i.err?i:i=h.poolWriteInto(a,g,c,i.offset)},g.prototype.poolReadFrom=function(a,b,c){var d=this.valrw.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value,g=this.cases[e];if(void 0===g)return a.reset(f.ReadInvalidSwitchValue({value:e}),c);if((d=g.poolReadFrom(a,b,c)).err)return d;c=d.offset;var h=d.value,i=new this.cons(e,h);return a.reset(null,c,i)},g.prototype.poolStructReadFrom=function(a,b,c,d){var e=this.valrw.poolReadFrom(a,c,d);if(e.err)return e;d=e.offset;var g=e.value,h=this.cases[g];return void 0===h?a.reset(f.ReadInvalidSwitchValue({value:g}),d):(b[this.valKey]=g,(e=h.poolReadFrom(a,c,d)).err||(b[this.dataKey]=e.value),e)},d(h,Array),g.Pair=h},65165:(a,b)=>{"use strict";function c(a,b){return{validate:a,compare:b}}function d(a){return a%4==0&&(a%100!=0||a%400==0)}Object.defineProperty(b,"__esModule",{value:!0}),b.formatNames=b.fastFormats=b.fullFormats=void 0,b.fullFormats={date:c(g,h),time:c(j(!0),k),"date-time":c(n(!0),o),"iso-time":c(j(),l),"iso-date-time":c(n(),p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:s,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:B,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:u,int32:{type:"number",validate:x},int64:{type:"number",validate:y},float:{type:"number",validate:z},double:{type:"number",validate:z},password:!0,binary:!0},b.fastFormats={...b.fullFormats,date:c(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,h),time:c(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,k),"date-time":c(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,o),"iso-time":c(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"iso-date-time":c(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},b.formatNames=Object.keys(b.fullFormats);let e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,f=[0,31,28,31,30,31,30,31,31,30,31,30,31];function g(a){let b=e.exec(a);if(!b)return!1;let c=+b[1],g=+b[2],h=+b[3];return g>=1&&g<=12&&h>=1&&h<=(2===g&&d(c)?29:f[g])}function h(a,b){if(a&&b)return a>b?1:a<b?-1:0}let i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function j(a){return function(b){let c=i.exec(b);if(!c)return!1;let d=+c[1],e=+c[2],f=+c[3],g=c[4],h="-"===c[5]?-1:1,j=+(c[6]||0),k=+(c[7]||0);if(j>23||k>59||a&&!g)return!1;if(d<=23&&e<=59&&f<60)return!0;let l=e-k*h,m=d-j*h-(l<0);return(23===m||-1===m)&&(59===l||-1===l)&&f<61}}function k(a,b){if(!(a&&b))return;let c=new Date("2020-01-01T"+a).valueOf(),d=new Date("2020-01-01T"+b).valueOf();if(c&&d)return c-d}function l(a,b){if(!(a&&b))return;let c=i.exec(a),d=i.exec(b);if(c&&d)return(a=c[1]+c[2]+c[3],a>(b=d[1]+d[2]+d[3]))?1:a<b?-1:0}let m=/t|\s/i;function n(a){let b=j(a);return function(a){let c=a.split(m);return 2===c.length&&g(c[0])&&b(c[1])}}function o(a,b){if(!(a&&b))return;let c=new Date(a).valueOf(),d=new Date(b).valueOf();if(c&&d)return c-d}function p(a,b){if(!(a&&b))return;let[c,d]=a.split(m),[e,f]=b.split(m),g=h(c,e);if(void 0!==g)return g||k(d,f)}let q=/\/|:/,r=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function s(a){return q.test(a)&&r.test(a)}let t=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function u(a){return t.lastIndex=0,t.test(a)}let v=-0x80000000,w=0x80000000-1;function x(a){return Number.isInteger(a)&&a<=w&&a>=v}function y(a){return Number.isInteger(a)}function z(){return!0}let A=/[^\\]\\Z/;function B(a){if(A.test(a))return!1;try{return new RegExp(a),!0}catch(a){return!1}}},65312:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNumberDef=void 0;let d=c(50130);b.parseNumberDef=function(a,b){let c={type:"number"};if(!a.checks)return c;for(let e of a.checks)switch(e.kind){case"int":c.type="integer",(0,d.addErrorMessage)(c,"type",e.message,b);break;case"min":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMinimum",e.value,e.message,b):(e.inclusive||(c.exclusiveMinimum=!0),(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b));break;case"max":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMaximum",e.value,e.message,b):(e.inclusive||(c.exclusiveMaximum=!0),(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b));break;case"multipleOf":(0,d.setResponseValueAndErrors)(c,"multipleOf",e.value,e.message,b)}return c}},65431:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDateDef=void 0;let d=c(50130);function e(a,b,c){let d=c??b.dateStrategy;if(Array.isArray(d))return{anyOf:d.map((c,d)=>e(a,b,c))};switch(d){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return f(a,b)}}b.parseDateDef=e;let f=(a,b)=>{let c={type:"integer",format:"unix-time"};if("openApi3"===b.target)return c;for(let e of a.checks)switch(e.kind){case"min":(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b);break;case"max":(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b)}return c}},65444:(a,b,c)=>{"use strict";var d=c(20992),e=c(87928),f=c(42218),g=c(74648),h=c(89390),i=c(62147),j=c(78592),k=c(32355),l=c(88512),m=c(14755),n=c(22709);class o{constructor(a,b,c){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,f.NODE_TYPE,{value:f.DOC});let d=null;"function"==typeof b||Array.isArray(b)?d=b:void 0===c&&b&&(c=b,b=void 0);let e=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},c);this.options=e;let{version:g}=e;c?._directives?(this.directives=c._directives.atDocument(),this.directives.yaml.explicit&&(g=this.directives.yaml.version)):this.directives=new n.Directives({version:g}),this.setSchema(g,c),this.contents=void 0===a?null:this.createNode(a,d,c)}clone(){let a=Object.create(o.prototype,{[f.NODE_TYPE]:{value:f.DOC}});return a.commentBefore=this.commentBefore,a.comment=this.comment,a.errors=this.errors.slice(),a.warnings=this.warnings.slice(),a.options=Object.assign({},this.options),this.directives&&(a.directives=this.directives.clone()),a.schema=this.schema.clone(),a.contents=f.isNode(this.contents)?this.contents.clone(a.schema):this.contents,this.range&&(a.range=this.range.slice()),a}add(a){p(this.contents)&&this.contents.add(a)}addIn(a,b){p(this.contents)&&this.contents.addIn(a,b)}createAlias(a,b){if(!a.anchor){let c=k.anchorNames(this);a.anchor=!b||c.has(b)?k.findNewAnchor(b||"a",c):b}return new d.Alias(a.anchor)}createNode(a,b,c){let d;if("function"==typeof b)a=b.call({"":a},"",a),d=b;else if(Array.isArray(b)){let a=a=>"number"==typeof a||a instanceof String||a instanceof Number,c=b.filter(a).map(String);c.length>0&&(b=b.concat(c)),d=b}else void 0===c&&b&&(c=b,b=void 0);let{aliasDuplicateObjects:e,anchorPrefix:g,flow:h,keepUndefined:i,onTagObj:j,tag:l}=c??{},{onAnchor:n,setAnchors:o,sourceObjects:p}=k.createNodeAnchors(this,g||"a"),q={aliasDuplicateObjects:e??!0,keepUndefined:i??!1,onAnchor:n,onTagObj:j,replacer:d,schema:this.schema,sourceObjects:p},r=m.createNode(a,l,q);return h&&f.isCollection(r)&&(r.flow=!0),o(),r}createPair(a,b,c={}){let d=this.createNode(a,null,c),e=this.createNode(b,null,c);return new g.Pair(d,e)}delete(a){return!!p(this.contents)&&this.contents.delete(a)}deleteIn(a){return e.isEmptyPath(a)?null!=this.contents&&(this.contents=null,!0):!!p(this.contents)&&this.contents.deleteIn(a)}get(a,b){return f.isCollection(this.contents)?this.contents.get(a,b):void 0}getIn(a,b){return e.isEmptyPath(a)?!b&&f.isScalar(this.contents)?this.contents.value:this.contents:f.isCollection(this.contents)?this.contents.getIn(a,b):void 0}has(a){return!!f.isCollection(this.contents)&&this.contents.has(a)}hasIn(a){return e.isEmptyPath(a)?void 0!==this.contents:!!f.isCollection(this.contents)&&this.contents.hasIn(a)}set(a,b){null==this.contents?this.contents=e.collectionFromPath(this.schema,[a],b):p(this.contents)&&this.contents.set(a,b)}setIn(a,b){e.isEmptyPath(a)?this.contents=b:null==this.contents?this.contents=e.collectionFromPath(this.schema,Array.from(a),b):p(this.contents)&&this.contents.setIn(a,b)}setSchema(a,b={}){let c;switch("number"==typeof a&&(a=String(a)),a){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new n.Directives({version:"1.1"}),c={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=a:this.directives=new n.Directives({version:a}),c={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,c=null;break;default:{let b=JSON.stringify(a);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${b}`)}}if(b.schema instanceof Object)this.schema=b.schema;else if(c)this.schema=new i.Schema(Object.assign(c,b));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:a,jsonArg:b,mapAsMap:c,maxAliasCount:d,onAnchor:e,reviver:f}={}){let g={anchors:new Map,doc:this,keep:!a,mapAsMap:!0===c,mapKeyWarned:!1,maxAliasCount:"number"==typeof d?d:100},i=h.toJS(this.contents,b??"",g);if("function"==typeof e)for(let{count:a,res:b}of g.anchors.values())e(b,a);return"function"==typeof f?l.applyReviver(f,{"":i},"",i):i}toJSON(a,b){return this.toJS({json:!0,jsonArg:a,mapAsMap:!1,onAnchor:b})}toString(a={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in a&&(!Number.isInteger(a.indent)||0>=Number(a.indent))){let b=JSON.stringify(a.indent);throw Error(`"indent" option must be a positive integer, not ${b}`)}return j.stringifyDocument(this,a)}}function p(a){if(f.isCollection(a))return!0;throw Error("Expected a YAML collection as document contents")}b.Document=o},65549:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.selectParser=void 0;let d=c(62934),e=c(10715),f=c(91810),g=c(64710),h=c(74361),i=c(83361),j=c(85535),k=c(65431),l=c(90506),m=c(35427),n=c(17216),o=c(59320),p=c(73076),q=c(45055),r=c(26981),s=c(1735),t=c(43316),u=c(65756),v=c(65312),w=c(21257),x=c(56823),y=c(82141),z=c(65966),A=c(32044),B=c(77949),C=c(93416),D=c(68575),E=c(57341),F=c(69316),G=c(90999),H=c(83681);b.selectParser=(a,b,c)=>{switch(b){case d.ZodFirstPartyTypeKind.ZodString:return(0,C.parseStringDef)(a,c);case d.ZodFirstPartyTypeKind.ZodNumber:return(0,v.parseNumberDef)(a,c);case d.ZodFirstPartyTypeKind.ZodObject:return(0,w.parseObjectDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBigInt:return(0,g.parseBigintDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBoolean:return(0,h.parseBooleanDef)();case d.ZodFirstPartyTypeKind.ZodDate:return(0,k.parseDateDef)(a,c);case d.ZodFirstPartyTypeKind.ZodUndefined:return(0,E.parseUndefinedDef)(c);case d.ZodFirstPartyTypeKind.ZodNull:return(0,t.parseNullDef)(c);case d.ZodFirstPartyTypeKind.ZodArray:return(0,f.parseArrayDef)(a,c);case d.ZodFirstPartyTypeKind.ZodUnion:case d.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,F.parseUnionDef)(a,c);case d.ZodFirstPartyTypeKind.ZodIntersection:return(0,o.parseIntersectionDef)(a,c);case d.ZodFirstPartyTypeKind.ZodTuple:return(0,D.parseTupleDef)(a,c);case d.ZodFirstPartyTypeKind.ZodRecord:return(0,A.parseRecordDef)(a,c);case d.ZodFirstPartyTypeKind.ZodLiteral:return(0,p.parseLiteralDef)(a,c);case d.ZodFirstPartyTypeKind.ZodEnum:return(0,n.parseEnumDef)(a);case d.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,r.parseNativeEnumDef)(a);case d.ZodFirstPartyTypeKind.ZodNullable:return(0,u.parseNullableDef)(a,c);case d.ZodFirstPartyTypeKind.ZodOptional:return(0,x.parseOptionalDef)(a,c);case d.ZodFirstPartyTypeKind.ZodMap:return(0,q.parseMapDef)(a,c);case d.ZodFirstPartyTypeKind.ZodSet:return(0,B.parseSetDef)(a,c);case d.ZodFirstPartyTypeKind.ZodLazy:return()=>a.getter()._def;case d.ZodFirstPartyTypeKind.ZodPromise:return(0,z.parsePromiseDef)(a,c);case d.ZodFirstPartyTypeKind.ZodNaN:case d.ZodFirstPartyTypeKind.ZodNever:return(0,s.parseNeverDef)(c);case d.ZodFirstPartyTypeKind.ZodEffects:return(0,m.parseEffectsDef)(a,c);case d.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)(c);case d.ZodFirstPartyTypeKind.ZodUnknown:return(0,G.parseUnknownDef)(c);case d.ZodFirstPartyTypeKind.ZodDefault:return(0,l.parseDefaultDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBranded:return(0,i.parseBrandedDef)(a,c);case d.ZodFirstPartyTypeKind.ZodReadonly:return(0,H.parseReadonlyDef)(a,c);case d.ZodFirstPartyTypeKind.ZodCatch:return(0,j.parseCatchDef)(a,c);case d.ZodFirstPartyTypeKind.ZodPipeline:return(0,y.parsePipelineDef)(a,c);case d.ZodFirstPartyTypeKind.ZodFunction:case d.ZodFirstPartyTypeKind.ZodVoid:case d.ZodFirstPartyTypeKind.ZodSymbol:return;default:let I;return void(I=0)}}},65653:(a,b,c)=>{"use strict";var d,e=c(66472),f=c(28354),g=c(32527),h=c(8193),i=c(31033),j=c(73022);function k(a,b,c){return b>0&&(a=a.slice(b)),c&&a.fill(0),new i(a)}function l(a,b,c,d){b.err&&b.offset===a.offset-c&&b.err.type===a.err.type&&b.err.message===a.err.message?a.err.buffer=d:a.err=h.UnstableRW(a.err,{otherMessage:b.err&&b.err.message})}var m=Buffer.alloc(0);function n(a,b,c){return x(a,b,c).toValue()}function o(a,b){return y(a,b).toValue()}function p(a,b){return z(a,b).toValue()}function q(a,b,c){return B(a,b,c).toValue()}function r(a,b,c){return x(a,b,c).toTuple()}function s(a,b){return y(a,b).toTuple()}function t(a,b){return z(a,b).toTuple()}function u(a,b,c){return B(a,b,c).toTuple()}function v(a,b){return a.err||a.offset===b.length||(a.err=h.ShortRead({remaining:b.length-a.offset,buffer:b,offset:a.offset})),a}function w(a,b,c,d){return a&&(void 0===a.offset&&(a.offset=d),void 0===a.buffer&&(a.buffer=c)),new g(a,b)}function x(a,b,c){var d=c||0,e=a.readFrom(b,d);if((e=v(e,b)).err){var f=k(b,d,!1),g=a.readFrom(f,0);l(e,g=v(g,b),d,f)}return w(e.err,e.value,b,e.offset)}function y(a,b){var c=a.byteLength(b);return c.err?new g(c.err,0):new g(null,c.length)}function z(a,b){var c=a.byteLength(b);if(c.err)return new g(c.err,m);var d=c.length;return B(a,Buffer.alloc(d),b)}function A(a,b){return a.err||a.offset===b.length||(a.err=h.ShortWrite({remaining:b.length-a.offset,buffer:b,offset:a.offset})),a}function B(a,b,c){var d=a.writeInto(c,b,0);return w((d=A(d,b)).err,b,b,d.offset)}function C(a,b){b=b||{};var c=a.name||a.constructor.name,d=f.format("%s: %s\n",c,a.message);return a.buffer&&a.buffer.hexdump?d+=a.buffer.hexdump({colored:b.color,boldStart:!1,highlight:b.color?j(a,b):null}):Buffer.isBuffer(a.buffer)&&(b.color?d+=D(a,b):d+=E(a,b)),d}function D(a,b){if(!e)return a.buffer.toString("hex");var c=(b=b||{}).hexerOptions?Object.create(b.hexerOptions):{};void 0===c.colored&&(c.colored=!0);var d=j(a,b);return c.decorateHexen=d,c.decorateHuman=d,e(a.buffer,c)}function E(a,b){if(!e)return a.buffer.toString("hex");b=b||{};var c=void 0!==a.offset&&null!==a.offset,d=void 0!==a.endOffset&&null!==a.endOffset,f=b.markStart||">",g=b.markEnd||"<",h=0,i=b.hexerOptions?Object.create(b.hexerOptions):{};return c&&(i.groupSeparator="",d?i.decorateHexen=j:i.decorateHexen=k),e(a.buffer,i);function j(b,c,d){var e;if(b===a.offset)return h=1,e=f+d,b===a.endOffset-1?(e+=g,h=0):e=" "+e,e;if(b===a.endOffset-1){for(e=d+g;h-- >0;)e+=" ";return h=0,e}return h?(h+=2,d):" "+d+" "}function k(b,c,d){return b===a.offset?f+d+g:" "+d+" "}}a.exports.fromBuffer=n,a.exports.byteLength=o,a.exports.toBuffer=p,a.exports.intoBuffer=q,a.exports.formatError=C,a.exports.fromBufferTuple=r,a.exports.byteLengthTuple=s,a.exports.toBufferTuple=t,a.exports.intoBufferTuple=u,a.exports.fromBufferResult=x,a.exports.byteLengthResult=y,a.exports.toBufferResult=z,a.exports.intoBufferResult=B,d=k,d=v,d=l},65756:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNullableDef=void 0;let d=c(31958),e=c(69316);b.parseNullableDef=function(a,b){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===b.target?{type:e.primitiveMappings[a.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[a.innerType._def.typeName],"null"]};if("openApi3"===b.target){let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath]});return c&&"$ref"in c?{allOf:[c],nullable:!0}:c&&{...c,nullable:!0}}let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath,"anyOf","0"]});return c&&{anyOf:[c,{type:"null"}]}}},65875:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerCredentials=void 0,b.createCertificateProviderServerCredentials=i,b.createServerCredentialsWithInterceptors=k;let d=c(30762);class e{constructor(a,b){this.serverConstructorOptions=a,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=null!=b?b:null}_addWatcher(a){this.watchers.add(a)}_removeWatcher(a){this.watchers.delete(a)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(a){for(let b of(this.latestContextOptions=a,this.watchers))b(this.latestContextOptions)}_isSecure(){return null!==this.serverConstructorOptions}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new f}static createSsl(a,b,c=!1){var e;if(null!==a&&!Buffer.isBuffer(a))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(b))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof c)throw TypeError("checkClientCertificate must be a boolean");let f=[],h=[];for(let a=0;a<b.length;a++){let c=b[a];if(null===c||"object"!=typeof c)throw TypeError(`keyCertPair[${a}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw TypeError(`keyCertPair[${a}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw TypeError(`keyCertPair[${a}].cert_chain must be a Buffer`);f.push(c.cert_chain),h.push(c.private_key)}return new g({requestCert:c,ciphers:d.CIPHER_SUITES},{ca:null!=(e=null!=a?a:(0,d.getDefaultRootsData)())?e:void 0,cert:f,key:h})}}b.ServerCredentials=e;class f extends e{constructor(){super(null)}_getSettings(){return null}_equals(a){return a instanceof f}}class g extends e{constructor(a,b){super(a,b),this.options=Object.assign(Object.assign({},a),b)}_equals(a){if(this===a)return!0;if(!(a instanceof g))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(a.options.ca)){if(!this.options.ca.equals(a.options.ca))return!1}else if(this.options.ca!==a.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(a.options.cert)){if(this.options.cert.length!==a.options.cert.length)return!1;for(let b=0;b<this.options.cert.length;b++){let c=this.options.cert[b],d=a.options.cert[b];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.cert!==a.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(a.options.key)){if(this.options.key.length!==a.options.key.length)return!1;for(let b=0;b<this.options.key.length;b++){let c=this.options.key[b],d=a.options.key[b];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.key!==a.options.key)return!1;return this.options.requestCert===a.options.requestCert}}class h extends e{constructor(a,b,c){super({requestCert:null!==b,rejectUnauthorized:c,ciphers:d.CIPHER_SUITES}),this.identityCertificateProvider=a,this.caCertificateProvider=b,this.requireClientCertificate=c,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(a){var b;0===this.getWatcherCount()&&(null==(b=this.caCertificateProvider)||b.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(a)}_removeWatcher(a){var b;super._removeWatcher(a),0===this.getWatcherCount()&&(null==(b=this.caCertificateProvider)||b.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(a){return this===a||a instanceof h&&this.caCertificateProvider===a.caCertificateProvider&&this.identityCertificateProvider===a.identityCertificateProvider&&this.requireClientCertificate===a.requireClientCertificate}calculateSecureContextOptions(){var a;return null===this.latestIdentityUpdate||null!==this.caCertificateProvider&&null===this.latestCaUpdate?null:{ca:null==(a=this.latestCaUpdate)?void 0:a.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let a=this.calculateSecureContextOptions();this.updateSecureContextOptions(a)}handleCaCertificateUpdate(a){this.latestCaUpdate=a,this.finalizeUpdate()}handleIdentityCertitificateUpdate(a){this.latestIdentityUpdate=a,this.finalizeUpdate()}}function i(a,b,c){return new h(a,b,c)}class j extends e{constructor(a,b){super({}),this.childCredentials=a,this.interceptors=b}_isSecure(){return this.childCredentials._isSecure()}_equals(a){if(!(a instanceof j)||!this.childCredentials._equals(a.childCredentials)||this.interceptors.length!==a.interceptors.length)return!1;for(let b=0;b<this.interceptors.length;b++)if(this.interceptors[b]!==a.interceptors[b])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(a){this.childCredentials._addWatcher(a)}_removeWatcher(a){this.childCredentials._removeWatcher(a)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function k(a,b){return new j(a,b)}},65966:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parsePromiseDef=void 0;let d=c(31958);b.parsePromiseDef=function(a,b){return(0,d.parseDef)(a.type._def,b)}},66065:a=>{"use strict";var b=a.exports=function(a,b,d){"function"==typeof b&&(d=b,b={});var e="function"==typeof(d=b.cb||d)?d:d.pre||function(){};c(b,e,d.post||function(){},a,"",a)};function c(a,e,f,g,h,i,j,k,l,m){if(g&&"object"==typeof g&&!Array.isArray(g)){for(var n in e(g,h,i,j,k,l,m),g){var o=g[n];if(Array.isArray(o)){if(n in b.arrayKeywords)for(var p=0;p<o.length;p++)c(a,e,f,o[p],h+"/"+n+"/"+p,i,h,n,g,p)}else if(n in b.propsKeywords){if(o&&"object"==typeof o)for(var q in o)c(a,e,f,o[q],h+"/"+n+"/"+d(q),i,h,n,g,q)}else(n in b.keywords||a.allKeys&&!(n in b.skipKeywords))&&c(a,e,f,o,h+"/"+n,i,h,n,g)}f(g,h,i,j,k,l,m)}}function d(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}b.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},b.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},b.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},b.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},66164:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(3642),i=c(46129),j=c(10433),k=c(22844),l=c(97167),m=c(470),n=c(28832),o=c(2495),p=c(69023);b.schema=[d.map,f.seq,g.string,e.nullTag,i.trueTag,i.falseTag,k.intBin,k.intOct,k.int,k.intHex,j.floatNaN,j.floatExp,j.float,h.binary,l.merge,m.omap,n.pairs,o.set,p.intTime,p.floatTime,p.timestamp]},66182:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.HandlebarsEnvironment=l;var e=c(80496),f=d(c(99008)),g=c(34832),h=c(46543),i=d(c(75905)),j=c(6528);b.VERSION="4.7.8",b.COMPILER_REVISION=8,b.LAST_COMPATIBLE_COMPILER_REVISION=7,b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var k="[object Object]";function l(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},g.registerDefaultHelpers(this),h.registerDefaultDecorators(this)}l.prototype={constructor:l,logger:i.default,log:i.default.log,registerHelper:function(a,b){if(e.toString.call(a)===k){if(b)throw new f.default("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(e.toString.call(a)===k)e.extend(this.partials,a);else{if(void 0===b)throw new f.default('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(e.toString.call(a)===k){if(b)throw new f.default("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]},resetLoggedPropertyAccesses:function(){j.resetLoggedProperties()}},b.log=i.default.log,b.createFrame=e.createFrame,b.logger=i.default},66229:a=>{"use strict";function b(a){if(0===a.length)return 1/0;for(var b=a[0],c=b.length,d=1;d<a.length;d++){for(var e=a[d],f=0;f<Math.min(c,e.length)&&e[f]===b[f];f++);c=f}return c}function c(a){var c=b(a),d=a[0].lastIndexOf("/",c-1);return a[0].slice(0,d+1)}a.exports.lengthOfCommonPrefix=b,a.exports.longestCommonPath=c},66336:(a,b,c)=>{"use strict";c.d(b,{_:()=>e,w:()=>f});var d=c(37579);function e(){var a=(0,d.Nq)(process.env);return Object.assign({},d.Uz,a)}function f(){return(0,d.Nq)(process.env)}},66472:(a,b,c)=>{"use strict";function d(a,b){if("string"==typeof a)return d(Buffer(a),b);if(!Buffer.isBuffer(a))throw Error("invalid argument to hex, expected a buffer or string");(b=b||{}).offsetWidth||(b.offsetWidth=2*Math.ceil(a.length.toString(16).length/2));var c=d.Transform(b);c.write(a),c.end();var e=c.read();return null===e?"":e=(e=String(e)).replace(/\n+$/,"")}d.Transform=c(94678),d.ChunkedTransform=c(18975),d.Spy=c(97216),a.exports=d},66509:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("lookup",function(a,b,c){return a?c.lookupProperty(a,b):a})},a.exports=b.default},66556:(a,b,c)=>{"use strict";function d(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d];e&&(b[String(e).toUpperCase().replace(/[-.]/g,"_")]=e)}return b}c.d(b,{O:()=>d})},67113:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GenerateResponse:()=>r.GenerateResponse,GenerateResponseChunk:()=>q.GenerateResponseChunk,GenerationBlockedError:()=>C,GenerationResponseError:()=>y,generate:()=>D,generateOperation:()=>E,generateStream:()=>M,tagAsPreamble:()=>N,toGenerateActionOptions:()=>H,toGenerateRequest:()=>x}),a.exports=i(j);var k=c(40979),l=c(2799),m=c(56280),n=c(76944),o=c(24317),p=c(19606),q=c(25835),r=c(81145),s=c(20689),t=c(95403),u=c(67842),v=c(84596),w=c(50438);async function x(a,b){let c,d,e=[];if(b.system&&e.push({role:"system",content:s.Message.parseContent(b.system)}),b.messages&&e.push(...b.messages.map(a=>s.Message.parseData(a))),b.prompt&&e.push({role:"user",content:s.Message.parseContent(b.prompt)}),0===e.length)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});if(b.resume&&!(e.at(-1)?.role==="model"&&e.at(-1)?.content.find(a=>!!a.toolRequest)))throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Last message must be a 'model' role with at least one tool request to 'resume' generation.",detail:e.at(-1)});b.tools&&(c=await (0,w.resolveTools)(a,b.tools)),b.resources&&(d=await (0,v.resolveResources)(a,b.resources));let f=(0,n.toJsonSchema)({schema:b.output?.schema,jsonSchema:b.output?.jsonSchema}),g=await (0,o.resolveFormat)(a,b.output),h=(0,o.resolveInstructions)(g,f,b?.output?.instructions),i={messages:(0,p.shouldInjectFormatInstructions)(g?.config,b.output)?(0,o.injectInstructions)(e,h):e,config:b.config,docs:b.docs,tools:c?.map(w.toToolDefinition)||[],resources:d?.map(a=>a.__action)||[],output:{...g?.config||{},...b.output,schema:f}};return i?.output?.schema||delete i?.output?.schema,i}class y extends k.GenkitError{detail;constructor(a,b,c,d){super({status:c||"FAILED_PRECONDITION",message:b}),this.detail={response:a,...d}}}async function z(a,b){if(!b)return;let c=[];for(let d of b)if("string"==typeof d){let b=await K(a,d);c.push(...b)}else if((0,k.isAction)(d)||(0,w.isDynamicTool)(d))c.push(`/${d.__action.metadata?.type}/${d.__action.name}`);else if((0,u.isExecutablePrompt)(d)){let a=await d.asTool();c.push(`/prompt/${a.__action.name}`)}else throw Error(`Unable to determine type of tool: ${JSON.stringify(d)}`);return c}async function A(a,b){if(!b)return;let c=[];for(let d of b)if("string"==typeof d){let b=await L(a,d);c.push(...b)}else if((0,k.isAction)(d))c.push(`/resource/${d.__action.name}`);else throw Error(`Unable to resolve resource: ${JSON.stringify(d)}`);return c}function B(a){let b=[];if(a.system&&b.push({role:"system",content:s.Message.parseContent(a.system)}),a.messages&&b.push(...a.messages),a.prompt&&b.push({role:"user",content:s.Message.parseContent(a.prompt)}),0===b.length)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});return b}class C extends y{}async function D(a,b){let c={...await Promise.resolve(b)},d=await (0,o.resolveFormat)(a,c.output);a=G(a=F(a,c),c);let e=await H(a,c),f=await z(a,c.tools),g=await A(a,c.resources),h=I(c.onChunk??c.streamingCallback),i=await (0,k.runWithContext)(c.context,()=>(0,p.generateHelper)(a,{rawRequest:e,middleware:c.use,abortSignal:c.abortSignal,streamingCallback:h})),j=await x(a,{...c,tools:f,resources:g});return new r.GenerateResponse(i,{request:i.request??j,parser:d?.handler(j.output?.schema).parseMessage})}async function E(a,b){(0,k.assertUnstable)(a,"beta","generateOperation is a beta feature."),b=await b;let c=await (0,t.resolveModel)(a,b.model);if(!c.modelAction.__action.metadata?.model.supports?.longRunning)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:`Model '${c.modelAction.__action.name}' does not support long running operations.`});let{operation:d}=await D(a,b);if(!d)throw new k.GenkitError({status:"FAILED_PRECONDITION",message:`Model '${c.modelAction.__action.name}' did not return an operation.`});return d}function F(a,b){let c=!1;return b?.tools?.forEach(b=>{(0,w.isDynamicTool)(b)&&(c||(c=!0,a=m.Registry.withParent(a)),a.registerAction("tool",b))}),a}function G(a,b){let c=!1;return b?.resources?.forEach(b=>{(0,v.isDynamicResourceAction)(b)&&(c||(c=!0,a=m.Registry.withParent(a)),a.registerAction("resource",b))}),a}async function H(a,b){let c=await (0,t.resolveModel)(a,b.model),d=await z(a,b.tools),e=await A(a,b.resources),f=B(b),g=(0,n.toJsonSchema)({schema:b.output?.schema,jsonSchema:b.output?.jsonSchema});(b.output?.schema||b.output?.jsonSchema)&&!b.output?.format&&(b.output.format="json");let h={model:c.modelAction.__action.name,docs:b.docs,messages:f,tools:d,resources:e,toolChoice:b.toolChoice,config:{version:c.version,...J(c.config),...J(b.config)},output:b.output&&{...b.output,format:b.output.format,jsonSchema:g},resume:b.resume&&{respond:[b.resume.respond||[]].flat(),restart:[b.resume.restart||[]].flat(),metadata:b.resume.metadata},returnToolRequests:b.returnToolRequests,maxTurns:b.maxTurns,stepName:b.stepName};return 0!==Object.keys(h.config).length||b.config||delete h.config,h}function I(a){if(a!==k.sentinelNoopStreamingCallback)return a}function J(a){if(!a)return a;let b={...a};return Object.keys(a).forEach(a=>{void 0===b[a]&&delete b[a]}),b}async function K(a,b){let c;if(b.split(":").length>1&&(c=await a.resolveActionNames(`/dynamic-action-provider/${b}`)).length)return c;if(await a.lookupAction(`/tool/${b}`))return[`/tool/${b}`];if(await a.lookupAction(`/prompt/${b}`))return[`/prompt/${b}`];throw Error(`Unable to resolve tool: ${b}`)}async function L(a,b){let c;if(b.split(":").length>1&&(c=await a.resolveActionNames(`/dynamic-action-provider/${b}`)).length)return c;if(await a.lookupAction(`/resource/${b}`))return[`/resource/${b}`];throw Error(`Unable to resolve resource: ${b}`)}function M(a,b){let c=new l.Channel,d=Promise.resolve(b).then(b=>D(a,{...b,onChunk:a=>c.send(a)}));return d.then(()=>c.close(),a=>c.error(a)),{response:d,stream:c}}function N(a){if(a)return a.map(a=>({...a,metadata:{...a.metadata,preamble:!0}}))}},67418:(a,b,c)=>{"use strict";let d=c(23948),e=c(97106),f=c(85327),g=c(94764),h=c(59366),i=c(97579);a.exports=(a,b,c,j)=>{switch(b){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a===c;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a!==c;case"":case"=":case"==":return d(a,c,j);case"!=":return e(a,c,j);case">":return f(a,c,j);case">=":return g(a,c,j);case"<":return h(a,c,j);case"<=":return i(a,c,j);default:throw TypeError(`Invalid operator: ${b}`)}}},67463:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_PORT=void 0,b.setup=t;let d=c(43313),e=c(14985),f=c(63971),g=c(56458),h=c(13685),i=c(33604),j=c(38702),k=c(56458),l=c(9413),m=c(91645),n=c(9251),o=c(46626),p="dns_resolver";function q(a){j.trace(k.LogVerbosity.DEBUG,p,a)}b.DEFAULT_PORT=443;let r=3e4;class s{constructor(a,c,d){var f,h,j;this.target=a,this.listener=c,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new e.promises.Resolver,q("Resolver constructed for target "+(0,l.uriToString)(a)),a.authority&&this.alternativeResolver.setServers([a.authority]);let k=(0,l.splitHostPort)(a.path);null===k?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,m.isIPv4)(k.host)||(0,m.isIPv6)(k.host)?(this.ipResult=[{addresses:[{host:k.host,port:null!=(f=k.port)?f:b.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=k.host,this.port=null!=(h=k.port)?h:b.DEFAULT_PORT),this.percentage=100*Math.random(),1===d["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:g.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata};let o={initialDelay:d["grpc.initial_reconnect_backoff_ms"],maxDelay:d["grpc.max_reconnect_backoff_ms"]};this.backoff=new n.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},o),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!=(j=d["grpc.dns_min_time_between_resolutions_ms"])?j:r,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(q("Returning IP address for target "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener((0,h.statusOrFromValue)(this.ipResult),{},null,"")}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)q("Failed to parse DNS address "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener((0,h.statusOrFromError)({code:g.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,l.uriToString)(this.target)}`}),{},null,"")}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;q("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let a=this.dnsHostname;this.pendingLookupPromise=this.lookup(a),this.pendingLookupPromise.then(a=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.latestLookupResult=(0,h.statusOrFromValue)(a.map(a=>({addresses:[a]})));let b="["+a.map(a=>a.host+":"+a.port).join(",")+"]";q("Resolved addresses for target "+(0,l.uriToString)(this.target)+": "+b);let c=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(c)},a=>{null!==this.pendingLookupPromise&&(q("Resolution error for target "+(0,l.uriToString)(this.target)+": "+a.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0,h.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=this.resolveTxt(a),this.pendingTxtPromise.then(a=>{let b;if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{(b=(0,f.extractAndSelectServiceConfig)(a,this.percentage))?this.latestServiceConfigResult=(0,h.statusOrFromValue)(b):this.latestServiceConfigResult=null}catch(a){this.latestServiceConfigResult=(0,h.statusOrFromError)({code:g.Status.UNAVAILABLE,details:`Parsing service config failed with error ${a.message}`})}null!==this.latestLookupResult&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"")}},a=>{}))}}handleHealthStatus(a){a?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=!0}async lookup(a){if(o.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){q("Using alternative DNS resolver.");let b=await Promise.allSettled([this.alternativeResolver.resolve4(a),this.alternativeResolver.resolve6(a)]);if(b.every(a=>"rejected"===a.status))throw Error(b[0].reason);return b.reduce((a,b)=>"fulfilled"===b.status?[...a,...b.value]:a,[]).map(a=>({host:a,port:+this.port}))}return(await e.promises.lookup(a,{all:!0})).map(a=>({host:a.address,port:+this.port}))}async resolveTxt(a){return o.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(q("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(a)):e.promises.resolveTxt(a)}startNextResolutionTimer(){var a,b;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),null==(b=(a=this.nextResolutionTimer).unref)||b.call(a),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?q('resolution update delayed by "min time between resolutions" rate limit'):q("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=!1}static getDefaultAuthority(a){return a.path}}function t(){(0,d.registerResolver)("dns",s),(0,d.registerDefaultScheme)("dns")}},67842:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{defineHelper:()=>K,definePartial:()=>J,definePrompt:()=>w,isExecutablePrompt:()=>G,isPromptAction:()=>v,loadPromptFolder:()=>H,loadPromptFolderRecursively:()=>I,prompt:()=>M}),a.exports=i(j);var k=c(40979),l=c(2799),m=c(42656),n=c(76944),o=c(64089),p=c(29021),q=c(33873),r=c(67113),s=c(20689),t=c(95403),u=c(50300);function v(a){return a.__action.metadata?.type==="prompt"}function w(a,b){return x(a,`${b.name}${b.variant?`.${b.variant}`:""}`,Promise.resolve(b),b.metadata)}function x(a,b,c,d){let e={},f=async(b,d)=>await (0,o.runInNewSpan)({metadata:{name:"render",input:b},labels:{[o.SPAN_TYPE_ATTR]:"promptTemplate"}},async f=>{let g,h=[];d={...d};let i=(0,u.getCurrentSession)(a),j=await c;await A(a,i,b,h,j,e,d),await B(a,i,b,h,j,d,e),await C(a,i,b,h,j,e,d),g="function"==typeof j.docs?await j.docs(b,{state:i?.state,context:d?.context||(0,k.getContext)()||{}}):j.docs;let l=(0,k.stripUndefinedProps)({model:j.model,maxTurns:j.maxTurns,messages:h,docs:g,tools:j.tools,returnToolRequests:j.returnToolRequests,toolChoice:j.toolChoice,context:j.context,output:j.output,use:j.use,...(0,k.stripUndefinedProps)(d),config:{...j?.config,...d?.config},metadata:j.metadata?.metadata?{prompt:j.metadata?.metadata}:void 0});return d?.abortSignal&&(l.abortSignal=d.abortSignal),0!==Object.keys(l.config).length||d?.config||delete l.config,f.output=l,l}),g=(0,l.lazy)(()=>c.then(b=>{let c=y(b);return{name:`${b.name}${b.variant?`.${b.variant}`:""}`,inputJsonSchema:b.input?.jsonSchema,inputSchema:b.input?.schema,description:b.description,actionType:"prompt",metadata:c,fn:async b=>(0,r.toGenerateRequest)(a,await f(b,void 0))}})),h=(0,k.defineActionAsync)(a,"prompt",b,g,a=>{a.__executablePrompt=j}),i=(0,l.lazy)(()=>c.then(b=>{let c=y(b);return{name:`${b.name}${b.variant?`.${b.variant}`:""}`,inputJsonSchema:b.input?.jsonSchema,inputSchema:b.input?.schema,outputSchema:t.GenerateActionOptionsSchema,description:b.description,actionType:"executable-prompt",metadata:c,fn:async b=>await (0,r.toGenerateActionOptions)(a,await f(b,void 0))}}));(0,k.defineActionAsync)(a,"executable-prompt",b,i,a=>{a.__executablePrompt=j});let j=z({registry:a,name:b,renderOptionsFn:f,rendererAction:h,metadata:d});return j}function y(a){let b={...a.metadata,prompt:{...a.metadata?.prompt,config:a.config,input:{schema:a.input?(0,n.toJsonSchema)(a.input):void 0},name:a.name.includes(".")?a.name.split(".")[0]:a.name,model:D(a.model)},type:"prompt"};return a.variant&&(b.prompt.variant=a.variant),b}function z(a){let b=async(b,c)=>await (0,o.runInNewSpan)(a.registry,{metadata:{name:(await a.rendererAction).__action.name,input:b},labels:{[o.SPAN_TYPE_ATTR]:"dotprompt"}},async d=>{let e=await (0,r.generate)(a.registry,{...await a.renderOptionsFn(b,c)});return d.output=e,e});return b.ref={name:a.name,metadata:a.metadata},b.render=async(b,c)=>({...await a.renderOptionsFn(b,c)}),b.stream=(b,c)=>(0,r.generateStream)(a.registry,a.renderOptionsFn(b,c)),b.asTool=async()=>await a.rendererAction,b}async function A(a,b,c,d,e,f,g){"function"==typeof e.system?d.push({role:"system",content:E(await e.system(c,{state:b?.state,context:g?.context||(0,k.getContext)()||{}}))}):"string"==typeof e.system?(f.system||(f.system=await a.dotprompt.compile(e.system)),d.push({role:"system",content:await F(a,f.system,c,b,e,g)})):e.system&&d.push({role:"system",content:E(e.system)})}async function B(a,b,c,d,e,f,g){if(e.messages)if("function"==typeof e.messages)d.push(...await e.messages(c,{state:b?.state,context:f?.context||(0,k.getContext)()||{},history:f?.messages}));else if("string"==typeof e.messages){g.messages||(g.messages=await a.dotprompt.compile(e.messages));let h=await g.messages({input:c,context:{...f?.context||(0,k.getContext)(),state:b?.state},messages:f?.messages?.map(a=>s.Message.parseData(a))});d.push(...h.messages)}else d.push(...e.messages);else f.messages&&d.push(...f.messages);f?.messages&&delete f.messages}async function C(a,b,c,d,e,f,g){"function"==typeof e.prompt?d.push({role:"user",content:E(await e.prompt(c,{state:b?.state,context:g?.context||(0,k.getContext)()||{}}))}):"string"==typeof e.prompt?(f.userPrompt||(f.userPrompt=await a.dotprompt.compile(e.prompt)),d.push({role:"user",content:await F(a,f.userPrompt,c,b,e,g)})):e.prompt&&d.push({role:"user",content:E(e.prompt)})}function D(a){if(void 0!==a)return"string"==typeof a?a:a.name?a.name:a.__action.name}function E(a){return Array.isArray(a)?a:"string"==typeof a?[{text:a}]:[a]}async function F(a,b,c,d,e,f){let g=await b({input:c,context:{...f?.context||(0,k.getContext)(),state:d?.state}});if(1!==g.messages.length)throw Error("parts tempate must produce only one message");return g.messages[0].content}function G(a){return!!a?.render&&!!a?.asTool&&!!a?.stream}function H(a,b="./prompts",c){let d=(0,q.resolve)(b);(0,p.existsSync)(d)&&I(a,b,c,"")}function I(a,b,c,d){let e=(0,q.resolve)(b);for(let f of(0,p.readdirSync)((0,q.join)(e,d),{withFileTypes:!0})){let g=(0,q.join)(e,d),h=f.name;if(f.isFile()&&h.endsWith(".prompt"))if(h.startsWith("_")){let b=h.substring(1,h.length-7);J(a,b,(0,p.readFileSync)((0,q.join)(g,h),{encoding:"utf8"})),m.logger.debug(`Registered Dotprompt partial "${b}" from "${(0,q.join)(g,h)}"`)}else L(a,e,h,d?`${d}/`:"",c);else f.isDirectory()&&I(a,b,c,(0,q.join)(d,h))}}function J(a,b,c){a.dotprompt.definePartial(b,c)}function K(a,b,c){a.dotprompt.defineHelper(b,c)}function L(a,b,c,d="",e="dotprompt"){let f=`${d??""}${(0,q.basename)(c,".prompt")}`,g=null;if(f.includes(".")){let a=f.split(".");f=a[0],g=a[1]}let h=(0,p.readFileSync)((0,q.join)(b,d??"",c),"utf8"),i=a.dotprompt.parse(h);x(a,P(f,g??void 0,e),(0,l.lazy)(async()=>{let b=await a.dotprompt.renderMetadata(i);g&&(b.variant=g),b.output?.schema?.description===null&&delete b.output.schema.description,b.input?.schema?.description===null&&delete b.input.schema.description;let c={...b.metadata,type:"prompt",prompt:{...b,template:i.template}};return b.raw?.metadata&&(c.metadata={...b.raw?.metadata}),{name:P(f,g??void 0,e),model:b.model,config:b.config,tools:b.tools,description:b.description,output:{jsonSchema:b.output?.schema,format:b.output?.format},input:{jsonSchema:b.input?.schema},metadata:c,maxTurns:b.raw?.maxTurns,toolChoice:b.raw?.toolChoice,returnToolRequests:b.raw?.returnToolRequests,messages:i.template}}))}async function M(a,b,c){return await O(a,b,c?.variant)}function N(a,b,c){return`/prompt/${P(a,b,c)}`}async function O(a,b,c){let d=await a.lookupAction(N(b,c));if(d)return d.__executablePrompt;throw new k.GenkitError({status:"NOT_FOUND",message:`Prompt ${b+(c?` (variant ${c})`:"")} not found`})}function P(a,b,c){return`${c?`${c}/`:""}${a}${b?`.${b}`:""}`}},67958:(a,b,c)=>{"use strict";a.exports=g;var d=c(32795);((g.prototype=Object.create(d.prototype)).constructor=g).className="Enum";var e=c(31162),f=c(305);function g(a,b,c,e,f,g){if(d.call(this,a,c),b&&"object"!=typeof b)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=e,this.comments=f||{},this.valuesOptions=g,this._valuesFeatures={},this.reserved=void 0,b)for(var h=Object.keys(b),i=0;i<h.length;++i)"number"==typeof b[h[i]]&&(this.valuesById[this.values[h[i]]=b[h[i]]]=h[i])}g.prototype._resolveFeatures=function(a){return a=this._edition||a,d.prototype._resolveFeatures.call(this,a),Object.keys(this.values).forEach(a=>{var b=Object.assign({},this._features);this._valuesFeatures[a]=Object.assign(b,this.valuesOptions&&this.valuesOptions[a]&&this.valuesOptions[a].features)}),this},g.fromJSON=function(a,b){var c=new g(a,b.values,b.options,b.comment,b.comments);return c.reserved=b.reserved,b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",b?this.comment:void 0,"comments",b?this.comments:void 0])},g.prototype.add=function(a,b,c,d){if(!f.isString(a))throw TypeError("name must be a string");if(!f.isInteger(b))throw TypeError("id must be an integer");if(void 0!==this.values[a])throw Error("duplicate name '"+a+"' in "+this);if(this.isReservedId(b))throw Error("id "+b+" is reserved in "+this);if(this.isReservedName(a))throw Error("name '"+a+"' is reserved in "+this);if(void 0!==this.valuesById[b]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+b+" in "+this);this.values[a]=b}else this.valuesById[this.values[a]=b]=a;return d&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[a]=d||null),this.comments[a]=c||null,this},g.prototype.remove=function(a){if(!f.isString(a))throw TypeError("name must be a string");var b=this.values[a];if(null==b)throw Error("name '"+a+"' does not exist in "+this);return delete this.valuesById[b],delete this.values[a],delete this.comments[a],this.valuesOptions&&delete this.valuesOptions[a],this},g.prototype.isReservedId=function(a){return e.isReservedId(this.reserved,a)},g.prototype.isReservedName=function(a){return e.isReservedName(this.reserved,a)}},68042:(a,b)=>{"use strict";b.resolveProps=function(a,{flow:b,indicator:c,next:d,offset:e,onError:f,parentIndent:g,startOnNewline:h}){let i=!1,j=h,k=h,l="",m="",n=!1,o=!1,p=null,q=null,r=null,s=null,t=null,u=null,v=null;for(let e of a)switch(o&&("space"!==e.type&&"newline"!==e.type&&"comma"!==e.type&&f(e.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),o=!1),p&&(j&&"comment"!==e.type&&"newline"!==e.type&&f(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),e.type){case"space":!b&&("doc-start"!==c||d?.type!=="flow-collection")&&e.source.includes("	")&&(p=e),k=!0;break;case"comment":{k||f(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let a=e.source.substring(1)||" ";l?l+=m+a:l=a,m="",j=!1;break}case"newline":j?l?l+=e.source:u&&"seq-item-ind"===c||(i=!0):m+=e.source,j=!0,n=!0,(q||r)&&(s=e),k=!0;break;case"anchor":q&&f(e,"MULTIPLE_ANCHORS","A node can have at most one anchor"),e.source.endsWith(":")&&f(e.offset+e.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),q=e,v??(v=e.offset),j=!1,k=!1,o=!0;break;case"tag":r&&f(e,"MULTIPLE_TAGS","A node can have at most one tag"),r=e,v??(v=e.offset),j=!1,k=!1,o=!0;break;case c:(q||r)&&f(e,"BAD_PROP_ORDER",`Anchors and tags must be after the ${e.source} indicator`),u&&f(e,"UNEXPECTED_TOKEN",`Unexpected ${e.source} in ${b??"collection"}`),u=e,j="seq-item-ind"===c||"explicit-key-ind"===c,k=!1;break;case"comma":if(b){t&&f(e,"UNEXPECTED_TOKEN",`Unexpected , in ${b}`),t=e,j=!1,k=!1;break}default:f(e,"UNEXPECTED_TOKEN",`Unexpected ${e.type} token`),j=!1,k=!1}let w=a[a.length-1],x=w?w.offset+w.source.length:e;return o&&d&&"space"!==d.type&&"newline"!==d.type&&"comma"!==d.type&&("scalar"!==d.type||""!==d.source)&&f(d.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(j&&p.indent<=g||d?.type==="block-map"||d?.type==="block-seq")&&f(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:t,found:u,spaceBefore:i,comment:l,hasNewline:n,anchor:q,tag:r,newlineAfterProp:s,end:x,start:v??x}}},68069:(a,b,c)=>{"use strict";a.exports=s;var d=c(31162);((s.prototype=Object.create(d.prototype)).constructor=s).className="Type";var e=c(67958),f=c(54452),g=c(53259),h=c(82619),i=c(12834),j=c(56025),k=c(47628),l=c(44044),m=c(305),n=c(92519),o=c(45507),p=c(86375),q=c(57607),r=c(77773);function s(a,b){d.call(this,a,b),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function t(a){return a._fieldsById=a._fieldsArray=a._oneofsArray=null,delete a.encode,delete a.decode,delete a.verify,a}Object.defineProperties(s.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var a=Object.keys(this.fields),b=0;b<a.length;++b){var c=this.fields[a[b]],d=c.id;if(this._fieldsById[d])throw Error("duplicate id "+d+" in "+this);this._fieldsById[d]=c}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=m.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=m.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=s.generateConstructor(this)())},set:function(a){var b=a.prototype;b instanceof j||((a.prototype=new j).constructor=a,m.merge(a.prototype,b)),a.$type=a.prototype.$type=this,m.merge(a,j,!0),this._ctor=a;for(var c=0;c<this.fieldsArray.length;++c)this._fieldsArray[c].resolve();var d={};for(c=0;c<this.oneofsArray.length;++c)d[this._oneofsArray[c].resolve().name]={get:m.oneOfGetter(this._oneofsArray[c].oneof),set:m.oneOfSetter(this._oneofsArray[c].oneof)};c&&Object.defineProperties(a.prototype,d)}}}),s.generateConstructor=function(a){for(var b,c=m.codegen(["p"],a.name),d=0;d<a.fieldsArray.length;++d)(b=a._fieldsArray[d]).map?c("this%s={}",m.safeProp(b.name)):b.repeated&&c("this%s=[]",m.safeProp(b.name));return c("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},s.fromJSON=function(a,b){var c=new s(a,b.options);c.extensions=b.extensions,c.reserved=b.reserved;for(var j=Object.keys(b.fields),k=0;k<j.length;++k)c.add((void 0!==b.fields[j[k]].keyType?h.fromJSON:g.fromJSON)(j[k],b.fields[j[k]]));if(b.oneofs)for(j=Object.keys(b.oneofs),k=0;k<j.length;++k)c.add(f.fromJSON(j[k],b.oneofs[j[k]]));if(b.nested)for(j=Object.keys(b.nested),k=0;k<j.length;++k){var l=b.nested[j[k]];c.add((void 0!==l.id?g.fromJSON:void 0!==l.fields?s.fromJSON:void 0!==l.values?e.fromJSON:void 0!==l.methods?i.fromJSON:d.fromJSON)(j[k],l))}return b.extensions&&b.extensions.length&&(c.extensions=b.extensions),b.reserved&&b.reserved.length&&(c.reserved=b.reserved),b.group&&(c.group=!0),b.comment&&(c.comment=b.comment),b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},s.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return m.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"oneofs",d.arrayToJSON(this.oneofsArray,a),"fields",d.arrayToJSON(this.fieldsArray.filter(function(a){return!a.declaringField}),a)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},s.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolveAll.call(this);var a=this.oneofsArray;for(c=0;c<a.length;)a[c++].resolve();for(var b=this.fieldsArray,c=0;c<b.length;)b[c++].resolve();return this},s.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.oneofsArray.forEach(b=>{b._resolveFeatures(a)}),this.fieldsArray.forEach(b=>{b._resolveFeatures(a)})),this},s.prototype.get=function(a){return this.fields[a]||this.oneofs&&this.oneofs[a]||this.nested&&this.nested[a]||null},s.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);if(a instanceof g&&void 0===a.extend){if(this._fieldsById?this._fieldsById[a.id]:this.fieldsById[a.id])throw Error("duplicate id "+a.id+" in "+this);if(this.isReservedId(a.id))throw Error("id "+a.id+" is reserved in "+this);if(this.isReservedName(a.name))throw Error("name '"+a.name+"' is reserved in "+this);return a.parent&&a.parent.remove(a),this.fields[a.name]=a,a.message=this,a.onAdd(this),t(this)}return a instanceof f?(this.oneofs||(this.oneofs={}),this.oneofs[a.name]=a,a.onAdd(this),t(this)):d.prototype.add.call(this,a)},s.prototype.remove=function(a){if(a instanceof g&&void 0===a.extend){if(!this.fields||this.fields[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.fields[a.name],a.parent=null,a.onRemove(this),t(this)}if(a instanceof f){if(!this.oneofs||this.oneofs[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.oneofs[a.name],a.parent=null,a.onRemove(this),t(this)}return d.prototype.remove.call(this,a)},s.prototype.isReservedId=function(a){return d.isReservedId(this.reserved,a)},s.prototype.isReservedName=function(a){return d.isReservedName(this.reserved,a)},s.prototype.create=function(a){return new this.ctor(a)},s.prototype.setup=function(){for(var a=this.fullName,b=[],c=0;c<this.fieldsArray.length;++c)b.push(this._fieldsArray[c].resolve().resolvedType);this.encode=n(this)({Writer:l,types:b,util:m}),this.decode=o(this)({Reader:k,types:b,util:m}),this.verify=p(this)({types:b,util:m}),this.fromObject=q.fromObject(this)({types:b,util:m}),this.toObject=q.toObject(this)({types:b,util:m});var d=r[a];if(d){var e=Object.create(this);e.fromObject=this.fromObject,this.fromObject=d.fromObject.bind(e),e.toObject=this.toObject,this.toObject=d.toObject.bind(e)}return this},s.prototype.encode=function(a,b){return this.setup().encode(a,b)},s.prototype.encodeDelimited=function(a,b){return this.encode(a,b&&b.len?b.fork():b).ldelim()},s.prototype.decode=function(a,b){return this.setup().decode(a,b)},s.prototype.decodeDelimited=function(a){return a instanceof k||(a=k.create(a)),this.decode(a,a.uint32())},s.prototype.verify=function(a){return this.setup().verify(a)},s.prototype.fromObject=function(a){return this.setup().fromObject(a)},s.prototype.toObject=function(a,b){return this.setup().toObject(a,b)},s.d=function(a){return function(b){m.decorateType(b,a)}}},68302:a=>{"use strict";var b=a.exports=function(a,b,d){"function"==typeof b&&(d=b,b={});var e="function"==typeof(d=b.cb||d)?d:d.pre||function(){};c(b,e,d.post||function(){},a,"",a)};function c(a,e,f,g,h,i,j,k,l,m){if(g&&"object"==typeof g&&!Array.isArray(g)){for(var n in e(g,h,i,j,k,l,m),g){var o=g[n];if(Array.isArray(o)){if(n in b.arrayKeywords)for(var p=0;p<o.length;p++)c(a,e,f,o[p],h+"/"+n+"/"+p,i,h,n,g,p)}else if(n in b.propsKeywords){if(o&&"object"==typeof o)for(var q in o)c(a,e,f,o[q],h+"/"+n+"/"+d(q),i,h,n,g,q)}else(n in b.keywords||a.allKeys&&!(n in b.skipKeywords))&&c(a,e,f,o,h+"/"+n,i,h,n,g)}f(g,h,i,j,k,l,m)}}function d(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}b.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},b.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},b.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},b.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},68345:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Aggregation:()=>au,AggregationTemporality:()=>f.h,ConsoleMetricExporter:()=>a_,DataPointType:()=>g.n,DefaultAggregation:()=>aB,DropAggregation:()=>av,ExplicitBucketHistogramAggregation:()=>az,ExponentialHistogramAggregation:()=>aA,HistogramAggregation:()=>ay,InMemoryMetricExporter:()=>aZ,InstrumentType:()=>e,LastValueAggregation:()=>ax,MeterProvider:()=>b2,MetricReader:()=>aO,PeriodicExportingMetricReader:()=>aY,SumAggregation:()=>aw,TimeoutError:()=>r,View:()=>b9});var d,e,f=c(28364),g=c(25020),h=c(79361),i=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),j=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},k=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},l=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},m=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},n=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(a){return null!=a}function p(a){var b=Object.keys(a);return 0===b.length?"":JSON.stringify((b=b.sort()).map(function(b){return[b,a[b]]}))}function q(a){var b,c;return a.name+":"+(null!=(b=a.version)?b:"")+":"+(null!=(c=a.schemaUrl)?c:"")}var r=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return i(b,a),b}(Error);function s(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new r("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}function t(a){return j(this,void 0,void 0,function(){var b=this;return k(this,function(c){return[2,Promise.all(a.map(function(a){return j(b,void 0,void 0,function(){return k(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,a];case 1:return[2,{status:"fulfilled",value:b.sent()}];case 2:return[2,{status:"rejected",reason:b.sent()}];case 3:return[2]}})})}))]})})}function u(a){return"rejected"===a.status}function v(a,b){var c=[];return a.forEach(function(a){c.push.apply(c,m([],l(b(a)),!1))}),c}function w(a,b){var c,d;if(a.size!==b.size)return!1;try{for(var e=n(a),f=e.next();!f.done;f=e.next()){var g=f.value;if(!b.has(g))return!1}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!0}function x(a,b){for(var c=0,d=a.length-1;d-c>1;){var e=Math.trunc((d+c)/2);a[e]<=b?c=e:d=e-1}return a[d]<=b?d:a[c]<=b?c:-1}function y(a,b){return a.toLowerCase()===b.toLowerCase()}!function(a){a[a.DROP=0]="DROP",a[a.SUM=1]="SUM",a[a.LAST_VALUE=2]="LAST_VALUE",a[a.HISTOGRAM=3]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(d||(d={}));var z=function(){function a(){this.kind=d.DROP}return a.prototype.createAccumulation=function(){},a.prototype.merge=function(a,b){},a.prototype.diff=function(a,b){},a.prototype.toMetricData=function(a,b,c,d){},a}(),A=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},B=function(){function a(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=!1),this.startTime=a,this.monotonic=b,this._current=c,this.reset=d}return a.prototype.record=function(a){this.monotonic&&a<0||(this._current+=a)},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),C=function(){function a(a){this.monotonic=a,this.kind=d.SUM}return a.prototype.createAccumulation=function(a){return new B(a,this.monotonic)},a.prototype.merge=function(a,b){var c=a.toPointValue(),d=b.toPointValue();return b.reset?new B(b.startTime,this.monotonic,d,b.reset):new B(a.startTime,this.monotonic,c+d)},a.prototype.diff=function(a,b){var c=a.toPointValue(),d=b.toPointValue();return this.monotonic&&c>d?new B(b.startTime,this.monotonic,d,!0):new B(b.startTime,this.monotonic,d-c)},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.SUM,dataPoints:c.map(function(a){var b=A(a,2),c=b[0],e=b[1];return{attributes:c,startTime:e.startTime,endTime:d,value:e.toPointValue()}}),isMonotonic:this.monotonic}},a}(),D=c(99591),E=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},F=function(){function a(a,b,c){void 0===b&&(b=0),void 0===c&&(c=[0,0]),this.startTime=a,this._current=b,this.sampleTime=c}return a.prototype.record=function(a){this._current=a,this.sampleTime=(0,D.lg)(Date.now())},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),G=function(){function a(){this.kind=d.LAST_VALUE}return a.prototype.createAccumulation=function(a){return new F(a)},a.prototype.merge=function(a,b){var c=(0,D.w_)(b.sampleTime)>=(0,D.w_)(a.sampleTime)?b:a;return new F(a.startTime,c.toPointValue(),c.sampleTime)},a.prototype.diff=function(a,b){var c=(0,D.w_)(b.sampleTime)>=(0,D.w_)(a.sampleTime)?b:a;return new F(b.startTime,c.toPointValue(),c.sampleTime)},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.GAUGE,dataPoints:c.map(function(a){var b=E(a,2),c=b[0],e=b[1];return{attributes:c,startTime:e.startTime,endTime:d,value:e.toPointValue()}})}},a}(),H=c(53205);function I(a,b,c){var d,e,f,g;return M(a)||h.s.warn('Invalid metric name: "'+a+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:a,type:b,description:null!=(d=null==c?void 0:c.description)?d:"",unit:null!=(e=null==c?void 0:c.unit)?e:"",valueType:null!=(f=null==c?void 0:c.valueType)?f:H.e.DOUBLE,advice:null!=(g=null==c?void 0:c.advice)?g:{}}}function J(a,b){var c,d;return{name:null!=(c=a.name)?c:b.name,description:null!=(d=a.description)?d:b.description,type:b.type,unit:b.unit,valueType:b.valueType,advice:b.advice}}function K(a,b){return y(a.name,b.name)&&a.unit===b.unit&&a.type===b.type&&a.valueType===b.valueType}!function(a){a.COUNTER="COUNTER",a.GAUGE="GAUGE",a.HISTOGRAM="HISTOGRAM",a.UP_DOWN_COUNTER="UP_DOWN_COUNTER",a.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",a.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",a.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(e||(e={}));var L=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function M(a){return null!=a.match(L)}var N=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function O(a){var b=a.map(function(){return 0});return b.push(0),{buckets:{boundaries:a,counts:b},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var P=function(){function a(a,b,c,d){void 0===c&&(c=!0),void 0===d&&(d=O(b)),this.startTime=a,this._boundaries=b,this._recordMinMax=c,this._current=d}return a.prototype.record=function(a){if(!Number.isNaN(a)){this._current.count+=1,this._current.sum+=a,this._recordMinMax&&(this._current.min=Math.min(a,this._current.min),this._current.max=Math.max(a,this._current.max),this._current.hasMinMax=!0);var b=x(this._boundaries,a);this._current.buckets.counts[b+1]+=1}},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),Q=function(){function a(a,b){this._boundaries=a,this._recordMinMax=b,this.kind=d.HISTOGRAM}return a.prototype.createAccumulation=function(a){return new P(a,this._boundaries,this._recordMinMax)},a.prototype.merge=function(a,b){for(var c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length),h=0;h<e.length;h++)g[h]=e[h]+f[h];var i=1/0,j=-1/0;return this._recordMinMax&&(c.hasMinMax&&d.hasMinMax?(i=Math.min(c.min,d.min),j=Math.max(c.max,d.max)):c.hasMinMax?(i=c.min,j=c.max):d.hasMinMax&&(i=d.min,j=d.max)),new P(a.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:c.count+d.count,sum:c.sum+d.sum,hasMinMax:this._recordMinMax&&(c.hasMinMax||d.hasMinMax),min:i,max:j})},a.prototype.diff=function(a,b){for(var c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length),h=0;h<e.length;h++)g[h]=f[h]-e[h];return new P(b.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:d.count-c.count,sum:d.sum-c.sum,hasMinMax:!1,min:1/0,max:-1/0})},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.HISTOGRAM,dataPoints:c.map(function(b){var c=N(b,2),f=c[0],g=c[1],h=g.toPointValue(),i=a.type===e.GAUGE||a.type===e.UP_DOWN_COUNTER||a.type===e.OBSERVABLE_GAUGE||a.type===e.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:f,startTime:g.startTime,endTime:d,value:{min:h.hasMinMax?h.min:void 0,max:h.hasMinMax?h.max:void 0,sum:i?void 0:h.sum,buckets:h.buckets,count:h.count}}})}},a}(),R=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},S=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},T=function(){function a(a,b,c,d){void 0===a&&(a=new U),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.backing=a,this.indexBase=b,this.indexStart=c,this.indexEnd=d}return Object.defineProperty(a.prototype,"offset",{get:function(){return this.indexStart},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1},enumerable:!1,configurable:!0}),a.prototype.counts=function(){var a=this;return Array.from({length:this.length},function(b,c){return a.at(c)})},a.prototype.at=function(a){var b=this.indexBase-this.indexStart;return a<b&&(a+=this.backing.length),a-=b,this.backing.countAt(a)},a.prototype.incrementBucket=function(a,b){this.backing.increment(a,b)},a.prototype.decrementBucket=function(a,b){this.backing.decrement(a,b)},a.prototype.trim=function(){for(var a=0;a<this.length;a++)if(0!==this.at(a)){this.indexStart+=a;break}else if(a===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(var a=this.length-1;a>=0;a--)if(0!==this.at(a)){this.indexEnd-=this.length-a-1;break}this._rotate()},a.prototype.downscale=function(a){this._rotate();for(var b=1+this.indexEnd-this.indexStart,c=1<<a,d=0,e=0,f=this.indexStart;f<=this.indexEnd;){var g=f%c;g<0&&(g+=c);for(var h=g;h<c&&d<b;h++)this._relocateBucket(e,d),d++,f++;e++}this.indexStart>>=a,this.indexEnd>>=a,this.indexBase=this.indexStart},a.prototype.clone=function(){return new a(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)},a.prototype._rotate=function(){var a=this.indexBase-this.indexStart;0!==a&&(a>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,a),this.backing.reverse(a,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+a)),this.indexBase=this.indexStart)},a.prototype._relocateBucket=function(a,b){a!==b&&this.incrementBucket(a,this.backing.emptyBucket(b))},a}(),U=function(){function a(a){void 0===a&&(a=[0]),this._counts=a}return Object.defineProperty(a.prototype,"length",{get:function(){return this._counts.length},enumerable:!1,configurable:!0}),a.prototype.countAt=function(a){return this._counts[a]},a.prototype.growTo=function(a,b,c){var d=Array(a).fill(0);d.splice.apply(d,S([c,this._counts.length-b],R(this._counts.slice(b)),!1)),d.splice.apply(d,S([0,b],R(this._counts.slice(0,b)),!1)),this._counts=d},a.prototype.reverse=function(a,b){for(var c=Math.floor((a+b)/2)-a,d=0;d<c;d++){var e=this._counts[a+d];this._counts[a+d]=this._counts[b-d-1],this._counts[b-d-1]=e}},a.prototype.emptyBucket=function(a){var b=this._counts[a];return this._counts[a]=0,b},a.prototype.increment=function(a,b){this._counts[a]+=b},a.prototype.decrement=function(a,b){this._counts[a]>=b?this._counts[a]-=b:this._counts[a]=0},a.prototype.clone=function(){return new a(S([],R(this._counts),!1))},a}(),V=52,W=0x7ff00000,X=1048575,Y=1023,Z=-1022,$=1023,_=22250738585072014e-324;function aa(a){var b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),((b.getUint32(0)&W)>>20)-Y}function ab(a){var b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),(b.getUint32(0)&X)*0x100000000+b.getUint32(4)}function ac(a,b){return 0===a||a===1/0||a===-1/0||Number.isNaN(a)?a:a*Math.pow(2,b)}function ad(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,++a}var ae=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),af=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ae(b,a),b}(Error),ag=function(){function a(a){this._shift=-a}return a.prototype.mapToIndex=function(a){return a<_?this._minNormalLowerBoundaryIndex():aa(a)+this._rightShift(ab(a)-1,V)>>this._shift},a.prototype.lowerBoundary=function(a){var b=this._minNormalLowerBoundaryIndex();if(a<b)throw new af("underflow: "+a+" is < minimum lower boundary: "+b);var c=this._maxNormalLowerBoundaryIndex();if(a>c)throw new af("overflow: "+a+" is > maximum lower boundary: "+c);return ac(1,a<<this._shift)},Object.defineProperty(a.prototype,"scale",{get:function(){return 0===this._shift?0:-this._shift},enumerable:!1,configurable:!0}),a.prototype._minNormalLowerBoundaryIndex=function(){var a=Z>>this._shift;return this._shift<2&&a--,a},a.prototype._maxNormalLowerBoundaryIndex=function(){return $>>this._shift},a.prototype._rightShift=function(a,b){return Math.floor(a*Math.pow(2,-b))},a}(),ah=function(){function a(a){this._scale=a,this._scaleFactor=ac(Math.LOG2E,a),this._inverseFactor=ac(Math.LN2,-a)}return a.prototype.mapToIndex=function(a){if(a<=_)return this._minNormalLowerBoundaryIndex()-1;if(0===ab(a))return(aa(a)<<this._scale)-1;var b=Math.floor(Math.log(a)*this._scaleFactor),c=this._maxNormalLowerBoundaryIndex();return b>=c?c:b},a.prototype.lowerBoundary=function(a){var b=this._maxNormalLowerBoundaryIndex();if(a>=b){if(a===b)return 2*Math.exp((a-(1<<this._scale))/this._scaleFactor);throw new af("overflow: "+a+" is > maximum lower boundary: "+b)}var c=this._minNormalLowerBoundaryIndex();if(a<=c){if(a===c)return _;if(a===c-1)return Math.exp((a+(1<<this._scale))/this._scaleFactor)/2;throw new af("overflow: "+a+" is < minimum lower boundary: "+c)}return Math.exp(a*this._inverseFactor)},Object.defineProperty(a.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),a.prototype._minNormalLowerBoundaryIndex=function(){return Z<<this._scale},a.prototype._maxNormalLowerBoundaryIndex=function(){return($+1<<this._scale)-1},a}(),ai=-10,aj=20,ak=Array.from({length:31},function(a,b){return b>10?new ah(b-10):new ag(b-10)});function al(a){if(a>aj||a<ai)throw new af("expected scale >= "+ai+" && <= "+aj+", got: "+a);return ak[a+10]}var am=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},an=function(){function a(a,b){this.low=a,this.high=b}return a.combine=function(b,c){return new a(Math.min(b.low,c.low),Math.max(b.high,c.high))},a}(),ao=20,ap=160,aq=2,ar=function(){function a(a,b,c,d,e,f,g,i,j,k,l){void 0===b&&(b=ap),void 0===c&&(c=!0),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=1/0),void 0===i&&(i=-1/0),void 0===j&&(j=new T),void 0===k&&(k=new T),void 0===l&&(l=al(ao)),this.startTime=a,this._maxSize=b,this._recordMinMax=c,this._sum=d,this._count=e,this._zeroCount=f,this._min=g,this._max=i,this._positive=j,this._negative=k,this._mapping=l,this._maxSize<aq&&(h.s.warn("Exponential Histogram Max Size set to "+this._maxSize+",                 changing to the minimum size of: "+aq),this._maxSize=aq)}return a.prototype.record=function(a){this.updateByIncrement(a,1)},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}},Object.defineProperty(a.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"zeroCount",{get:function(){return this._zeroCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale",{get:function(){return this._count===this._zeroCount?0:this._mapping.scale},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"positive",{get:function(){return this._positive},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"negative",{get:function(){return this._negative},enumerable:!1,configurable:!0}),a.prototype.updateByIncrement=function(a,b){if(!Number.isNaN(a)){if(a>this._max&&(this._max=a),a<this._min&&(this._min=a),this._count+=b,0===a){this._zeroCount+=b;return}this._sum+=a*b,a>0?this._updateBuckets(this._positive,a,b):this._updateBuckets(this._negative,-a,b)}},a.prototype.merge=function(a){0===this._count?(this._min=a.min,this._max=a.max):0!==a.count&&(a.min<this.min&&(this._min=a.min),a.max>this.max&&(this._max=a.max)),this.startTime=a.startTime,this._sum+=a.sum,this._count+=a.count,this._zeroCount+=a.zeroCount;var b=this._minScale(a);this._downscale(this.scale-b),this._mergeBuckets(this.positive,a,a.positive,b),this._mergeBuckets(this.negative,a,a.negative,b)},a.prototype.diff=function(a){this._min=1/0,this._max=-1/0,this._sum-=a.sum,this._count-=a.count,this._zeroCount-=a.zeroCount;var b=this._minScale(a);this._downscale(this.scale-b),this._diffBuckets(this.positive,a,a.positive,b),this._diffBuckets(this.negative,a,a.negative,b)},a.prototype.clone=function(){return new a(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)},a.prototype._updateBuckets=function(a,b,c){var d=this._mapping.mapToIndex(b),e=!1,f=0,g=0;if(0===a.length?(a.indexStart=d,a.indexEnd=a.indexStart,a.indexBase=a.indexStart):d<a.indexStart&&a.indexEnd-d>=this._maxSize?(e=!0,g=d,f=a.indexEnd):d>a.indexEnd&&d-a.indexStart>=this._maxSize&&(e=!0,g=a.indexStart,f=d),e){var h=this._changeScale(f,g);this._downscale(h),d=this._mapping.mapToIndex(b)}this._incrementIndexBy(a,d,c)},a.prototype._incrementIndexBy=function(a,b,c){if(0!==c){if(0===a.length&&(a.indexStart=a.indexEnd=a.indexBase=b),b<a.indexStart){var d=a.indexEnd-b;d>=a.backing.length&&this._grow(a,d+1),a.indexStart=b}else if(b>a.indexEnd){var d=b-a.indexStart;d>=a.backing.length&&this._grow(a,d+1),a.indexEnd=b}var e=b-a.indexBase;e<0&&(e+=a.backing.length),a.incrementBucket(e,c)}},a.prototype._grow=function(a,b){var c=a.backing.length,d=a.indexBase-a.indexStart,e=c-d,f=ad(b);f>this._maxSize&&(f=this._maxSize);var g=f-d;a.backing.growTo(f,e,g)},a.prototype._changeScale=function(a,b){for(var c=0;a-b>=this._maxSize;)a>>=1,b>>=1,c++;return c},a.prototype._downscale=function(a){if(0!==a){if(a<0)throw Error("impossible change of scale: "+this.scale);var b=this._mapping.scale-a;this._positive.downscale(a),this._negative.downscale(a),this._mapping=al(b)}},a.prototype._minScale=function(a){var b=Math.min(this.scale,a.scale),c=an.combine(this._highLowAtScale(this.positive,this.scale,b),this._highLowAtScale(a.positive,a.scale,b)),d=an.combine(this._highLowAtScale(this.negative,this.scale,b),this._highLowAtScale(a.negative,a.scale,b));return Math.min(b-this._changeScale(c.high,c.low),b-this._changeScale(d.high,d.low))},a.prototype._highLowAtScale=function(a,b,c){if(0===a.length)return new an(0,-1);var d=b-c;return new an(a.indexStart>>d,a.indexEnd>>d)},a.prototype._mergeBuckets=function(a,b,c,d){for(var e=c.offset,f=b.scale-d,g=0;g<c.length;g++)this._incrementIndexBy(a,e+g>>f,c.at(g))},a.prototype._diffBuckets=function(a,b,c,d){for(var e=c.offset,f=b.scale-d,g=0;g<c.length;g++){var h=(e+g>>f)-a.indexBase;h<0&&(h+=a.backing.length),a.decrementBucket(h,c.at(g))}a.trim()},a}(),as=function(){function a(a,b){this._maxSize=a,this._recordMinMax=b,this.kind=d.EXPONENTIAL_HISTOGRAM}return a.prototype.createAccumulation=function(a){return new ar(a,this._maxSize,this._recordMinMax)},a.prototype.merge=function(a,b){var c=b.clone();return c.merge(a),c},a.prototype.diff=function(a,b){var c=b.clone();return c.diff(a),c},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.EXPONENTIAL_HISTOGRAM,dataPoints:c.map(function(b){var c=am(b,2),f=c[0],g=c[1],h=g.toPointValue(),i=a.type===e.GAUGE||a.type===e.UP_DOWN_COUNTER||a.type===e.OBSERVABLE_GAUGE||a.type===e.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:f,startTime:g.startTime,endTime:d,value:{min:h.hasMinMax?h.min:void 0,max:h.hasMinMax?h.max:void 0,sum:i?void 0:h.sum,positive:{offset:h.positive.offset,bucketCounts:h.positive.bucketCounts},negative:{offset:h.negative.offset,bucketCounts:h.negative.bucketCounts},count:h.count,scale:h.scale,zeroCount:h.zeroCount}}})}},a}(),at=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),au=function(){function a(){}return a.Drop=function(){return aC},a.Sum=function(){return aD},a.LastValue=function(){return aE},a.Histogram=function(){return aF},a.ExponentialHistogram=function(){return aG},a.Default=function(){return aH},a}(),av=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return at(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new z,b}(au),aw=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return at(b,a),b.prototype.createAggregator=function(a){switch(a.type){case e.COUNTER:case e.OBSERVABLE_COUNTER:case e.HISTOGRAM:return b.MONOTONIC_INSTANCE;default:return b.NON_MONOTONIC_INSTANCE}},b.MONOTONIC_INSTANCE=new C(!0),b.NON_MONOTONIC_INSTANCE=new C(!1),b}(au),ax=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return at(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new G,b}(au),ay=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return at(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new Q([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0),b}(au),az=function(a){function b(b,c){void 0===c&&(c=!0);var d=a.call(this)||this;if(d._recordMinMax=c,null==b)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");var e=(b=(b=b.concat()).sort(function(a,b){return a-b})).lastIndexOf(-1/0),f=b.indexOf(1/0);return -1===f&&(f=void 0),d._boundaries=b.slice(e+1,f),d}return at(b,a),b.prototype.createAggregator=function(a){return new Q(this._boundaries,this._recordMinMax)},b}(au),aA=function(a){function b(b,c){void 0===b&&(b=160),void 0===c&&(c=!0);var d=a.call(this)||this;return d._maxSize=b,d._recordMinMax=c,d}return at(b,a),b.prototype.createAggregator=function(a){return new as(this._maxSize,this._recordMinMax)},b}(au),aB=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return at(b,a),b.prototype._resolve=function(a){switch(a.type){case e.COUNTER:case e.UP_DOWN_COUNTER:case e.OBSERVABLE_COUNTER:case e.OBSERVABLE_UP_DOWN_COUNTER:return aD;case e.GAUGE:case e.OBSERVABLE_GAUGE:return aE;case e.HISTOGRAM:if(a.advice.explicitBucketBoundaries)return new az(a.advice.explicitBucketBoundaries);return aF}return h.s.warn("Unable to recognize instrument type: "+a.type),aC},b.prototype.createAggregator=function(a){return this._resolve(a).createAggregator(a)},b}(au),aC=new av,aD=new aw,aE=new ax,aF=new ay,aG=new aA,aH=new aB,aI=function(a){return au.Default()},aJ=function(a){return f.h.CUMULATIVE},aK=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},aL=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},aM=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},aN=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},aO=function(){function a(a){var b,c,d;this._shutdown=!1,this._aggregationSelector=null!=(b=null==a?void 0:a.aggregationSelector)?b:aI,this._aggregationTemporalitySelector=null!=(c=null==a?void 0:a.aggregationTemporalitySelector)?c:aJ,this._metricProducers=null!=(d=null==a?void 0:a.metricProducers)?d:[]}return a.prototype.setMetricProducer=function(a){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=a,this.onInitialized()},a.prototype.selectAggregation=function(a){return this._aggregationSelector(a)},a.prototype.selectAggregationTemporality=function(a){return this._aggregationTemporalitySelector(a)},a.prototype.onInitialized=function(){},a.prototype.collect=function(a){return aK(this,void 0,void 0,function(){var b,c,d,e;return aL(this,function(f){switch(f.label){case 0:if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");return[4,Promise.all(aN([this._sdkMetricProducer.collect({timeoutMillis:null==a?void 0:a.timeoutMillis})],aM(this._metricProducers.map(function(b){return b.collect({timeoutMillis:null==a?void 0:a.timeoutMillis})})),!1))];case 1:return c=(b=aM.apply(void 0,[f.sent()]))[0],d=b.slice(1),e=c.errors.concat(v(d,function(a){return a.errors})),[2,{resourceMetrics:{resource:c.resourceMetrics.resource,scopeMetrics:c.resourceMetrics.scopeMetrics.concat(v(d,function(a){return a.resourceMetrics.scopeMetrics}))},errors:e}]}})})},a.prototype.shutdown=function(a){return aK(this,void 0,void 0,function(){return aL(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.error("Cannot call shutdown twice."),[2];if((null==a?void 0:a.timeoutMillis)!=null)return[3,2];return[4,this.onShutdown()];case 1:return b.sent(),[3,4];case 2:return[4,s(this.onShutdown(),a.timeoutMillis)];case 3:b.sent(),b.label=4;case 4:return this._shutdown=!0,[2]}})})},a.prototype.forceFlush=function(a){return aK(this,void 0,void 0,function(){return aL(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("Cannot forceFlush on already shutdown MetricReader."),[2];if((null==a?void 0:a.timeoutMillis)!=null)return[3,2];return[4,this.onForceFlush()];case 1:case 3:return b.sent(),[2];case 2:return[4,s(this.onForceFlush(),a.timeoutMillis)]}})})},a}(),aP=c(49127),aQ=c(41625),aR=c(4875),aS=c(36769),aT=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),aU=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},aV=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},aW=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},aX=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},aY=function(a){function b(b){var c,d,e,f,g=a.call(this,{aggregationSelector:null==(c=b.exporter.selectAggregation)?void 0:c.bind(b.exporter),aggregationTemporalitySelector:null==(d=b.exporter.selectAggregationTemporality)?void 0:d.bind(b.exporter),metricProducers:b.metricProducers})||this;if(void 0!==b.exportIntervalMillis&&b.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==b.exportTimeoutMillis&&b.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==b.exportTimeoutMillis&&void 0!==b.exportIntervalMillis&&b.exportIntervalMillis<b.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");return g._exportInterval=null!=(e=b.exportIntervalMillis)?e:6e4,g._exportTimeout=null!=(f=b.exportTimeoutMillis)?f:3e4,g._exporter=b.exporter,g}return aT(b,a),b.prototype._runOnce=function(){return aU(this,void 0,void 0,function(){var a;return aV(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,s(this._doRun(),this._exportTimeout)];case 1:return b.sent(),[3,3];case 2:if((a=b.sent())instanceof r)return h.s.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout),[2];return(0,aP.s)(a),[3,3];case 3:return[2]}})})},b.prototype._doRun=function(){var a,b;return aU(this,void 0,void 0,function(){var c,d,e,f,g,i=this;return aV(this,function(j){switch(j.label){case 0:return[4,this.collect({timeoutMillis:this._exportTimeout})];case 1:if(d=(c=j.sent()).resourceMetrics,(e=c.errors).length>0&&(g=h.s).error.apply(g,aX(["PeriodicExportingMetricReader: metrics collection errors"],aW(e),!1)),f=function(){return aU(i,void 0,void 0,function(){var a;return aV(this,function(b){switch(b.label){case 0:return[4,aQ.internal._export(this._exporter,d)];case 1:if((a=b.sent()).code!==aR.V.SUCCESS)throw Error("PeriodicExportingMetricReader: metrics export failed (error "+a.error+")");return[2]}})})},!d.resource.asyncAttributesPending)return[3,2];return null==(b=(a=d.resource).waitForAsyncAttributes)||b.call(a).then(f,function(a){return h.s.debug("Error while resolving async portion of resource: ",a)}),[3,4];case 2:return[4,f()];case 3:j.sent(),j.label=4;case 4:return[2]}})})},b.prototype.onInitialized=function(){var a=this;this._interval=setInterval(function(){a._runOnce()},this._exportInterval),(0,aS.K)(this._interval)},b.prototype.onForceFlush=function(){return aU(this,void 0,void 0,function(){return aV(this,function(a){switch(a.label){case 0:return[4,this._runOnce()];case 1:return a.sent(),[4,this._exporter.forceFlush()];case 2:return a.sent(),[2]}})})},b.prototype.onShutdown=function(){return aU(this,void 0,void 0,function(){return aV(this,function(a){switch(a.label){case 0:return this._interval&&clearInterval(this._interval),[4,this._exporter.shutdown()];case 1:return a.sent(),[2]}})})},b}(aO),aZ=function(){function a(a){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=a}return a.prototype.export=function(a,b){if(this._shutdown)return void setTimeout(function(){return b({code:aR.V.FAILED})},0);this._metrics.push(a),setTimeout(function(){return b({code:aR.V.SUCCESS})},0)},a.prototype.getMetrics=function(){return this._metrics},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.reset=function(){this._metrics=[]},a.prototype.selectAggregationTemporality=function(a){return this._aggregationTemporality},a.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},a}(),a$=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},a_=function(){function a(a){var b;this._shutdown=!1,this._temporalitySelector=null!=(b=null==a?void 0:a.temporalitySelector)?b:aJ}return a.prototype.export=function(b,c){return this._shutdown?void setImmediate(c,{code:aR.V.FAILED}):a._sendMetrics(b,c)},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.selectAggregationTemporality=function(a){return this._temporalitySelector(a)},a.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},a._sendMetrics=function(a,b){var c,d,e,f;try{for(var g=a$(a.scopeMetrics),h=g.next();!h.done;h=g.next()){var i=h.value;try{for(var j=(e=void 0,a$(i.metrics)),k=j.next();!k.done;k=j.next()){var l=k.value;console.dir({descriptor:l.descriptor,dataPointType:l.dataPointType,dataPoints:l.dataPoints},{depth:null})}}catch(a){e={error:a}}finally{try{k&&!k.done&&(f=j.return)&&f.call(j)}finally{if(e)throw e.error}}}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}b({code:aR.V.SUCCESS})},a}(),a0=c(85840),a1=c(57182),a2=function(){function a(){this._registeredViews=[]}return a.prototype.addView=function(a){this._registeredViews.push(a)},a.prototype.findViews=function(a,b){var c=this;return this._registeredViews.filter(function(d){return c._matchInstrument(d.instrumentSelector,a)&&c._matchMeter(d.meterSelector,b)})},a.prototype._matchInstrument=function(a,b){return(void 0===a.getType()||b.type===a.getType())&&a.getNameFilter().match(b.name)&&a.getUnitFilter().match(b.unit)},a.prototype._matchMeter=function(a,b){return a.getNameFilter().match(b.name)&&(void 0===b.version||a.getVersionFilter().match(b.version))&&(void 0===b.schemaUrl||a.getSchemaUrlFilter().match(b.schemaUrl))},a}(),a3=c(20531),a4=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),a5=function(){function a(a,b){this._writableMetricStorage=a,this._descriptor=b}return a.prototype._record=function(a,b,c){if(void 0===b&&(b={}),void 0===c&&(c=a3._.active()),"number"!=typeof a)return void h.s.warn("non-number value provided to metric "+this._descriptor.name+": "+a);(this._descriptor.valueType!==H.e.INT||Number.isInteger(a)||(h.s.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._writableMetricStorage.record(a,b,c,(0,D.lg)(Date.now()))},a}(),a6=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b.prototype.add=function(a,b,c){this._record(a,b,c)},b}(a5),a7=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b.prototype.add=function(a,b,c){if(a<0)return void h.s.warn("negative value provided to counter "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(a5),a8=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b.prototype.record=function(a,b,c){this._record(a,b,c)},b}(a5),a9=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b.prototype.record=function(a,b,c){if(a<0)return void h.s.warn("negative value provided to histogram "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(a5),ba=function(){function a(a,b,c){this._observableRegistry=c,this._descriptor=a,this._metricStorages=b}return a.prototype.addCallback=function(a){this._observableRegistry.addCallback(a,this)},a.prototype.removeCallback=function(a){this._observableRegistry.removeCallback(a,this)},a}(),bb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b}(ba),bc=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b}(ba),bd=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return a4(b,a),b}(ba);function be(a){return a instanceof ba}var bf=function(){function a(a){this._meterSharedState=a}return a.prototype.createGauge=function(a,b){var c=I(a,e.GAUGE,b);return new a8(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createHistogram=function(a,b){var c=I(a,e.HISTOGRAM,b);return new a9(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createCounter=function(a,b){var c=I(a,e.COUNTER,b);return new a7(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createUpDownCounter=function(a,b){var c=I(a,e.UP_DOWN_COUNTER,b);return new a6(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createObservableGauge=function(a,b){var c=I(a,e.OBSERVABLE_GAUGE,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new bc(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableCounter=function(a,b){var c=I(a,e.OBSERVABLE_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new bb(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableUpDownCounter=function(a,b){var c=I(a,e.OBSERVABLE_UP_DOWN_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new bd(c,d,this._meterSharedState.observableRegistry)},a.prototype.addBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.addBatchCallback(a,b)},a.prototype.removeBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.removeBatchCallback(a,b)},a}(),bg=function(){function a(a){this._instrumentDescriptor=a}return a.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},a.prototype.updateDescription=function(a){this._instrumentDescriptor=I(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:a,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},a}(),bh=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bi=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bj=function(a){function b(){return a.call(this,p)||this}return bh(b,a),b}(function(){function a(a){this._hash=a,this._valueMap=new Map,this._keyMap=new Map}return a.prototype.get=function(a,b){return null!=b||(b=this._hash(a)),this._valueMap.get(b)},a.prototype.getOrDefault=function(a,b){var c=this._hash(a);if(this._valueMap.has(c))return this._valueMap.get(c);var d=b();return this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,d),d},a.prototype.set=function(a,b,c){null!=c||(c=this._hash(a)),this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,b)},a.prototype.has=function(a,b){return null!=b||(b=this._hash(a)),this._valueMap.has(b)},a.prototype.keys=function(){var a,b;return bi(this,function(c){switch(c.label){case 0:b=(a=this._keyMap.entries()).next(),c.label=1;case 1:if(!0===b.done)return[3,3];return[4,[b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},a.prototype.entries=function(){var a,b;return bi(this,function(c){switch(c.label){case 0:b=(a=this._valueMap.entries()).next(),c.label=1;case 1:if(!0===b.done)return[3,3];return[4,[this._keyMap.get(b.value[0]),b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},Object.defineProperty(a.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),a}()),bk=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bl=function(){function a(a){this._aggregator=a,this._activeCollectionStorage=new bj,this._cumulativeMemoStorage=new bj}return a.prototype.record=function(a,b,c,d){var e=this,f=this._activeCollectionStorage.getOrDefault(b,function(){return e._aggregator.createAccumulation(d)});null==f||f.record(a)},a.prototype.batchCumulate=function(a,b){var c=this;Array.from(a.entries()).forEach(function(a){var d=bk(a,3),e=d[0],f=d[1],g=d[2],h=c._aggregator.createAccumulation(b);null==h||h.record(f);var i=h;if(c._cumulativeMemoStorage.has(e,g)){var j=c._cumulativeMemoStorage.get(e,g);i=c._aggregator.diff(j,h)}if(c._activeCollectionStorage.has(e,g)){var k=c._activeCollectionStorage.get(e,g);i=c._aggregator.merge(k,i)}c._cumulativeMemoStorage.set(e,h,g),c._activeCollectionStorage.set(e,i,g)})},a.prototype.collect=function(){var a=this._activeCollectionStorage;return this._activeCollectionStorage=new bj,a},a}(),bm=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bn=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bo=function(){function a(a,b){var c=this;this._aggregator=a,this._unreportedAccumulations=new Map,this._reportHistory=new Map,b.forEach(function(a){c._unreportedAccumulations.set(a,[])})}return a.prototype.buildMetrics=function(b,c,d,e){this._stashAccumulations(d);var g,h=this._getMergedUnreportedAccumulations(b),i=h;if(this._reportHistory.has(b)){var j=this._reportHistory.get(b),k=j.collectionTime;i=(g=j.aggregationTemporality)===f.h.CUMULATIVE?a.merge(j.accumulations,h,this._aggregator):a.calibrateStartTime(j.accumulations,h,k)}else g=b.selectAggregationTemporality(c.type);this._reportHistory.set(b,{accumulations:i,collectionTime:e,aggregationTemporality:g});var l=bp(i);if(0!==l.length)return this._aggregator.toMetricData(c,g,l,e)},a.prototype._stashAccumulations=function(a){var b,c,d=this._unreportedAccumulations.keys();try{for(var e=bm(d),f=e.next();!f.done;f=e.next()){var g=f.value,h=this._unreportedAccumulations.get(g);void 0===h&&(h=[],this._unreportedAccumulations.set(g,h)),h.push(a)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}},a.prototype._getMergedUnreportedAccumulations=function(b){var c,d,e=new bj,f=this._unreportedAccumulations.get(b);if(this._unreportedAccumulations.set(b,[]),void 0===f)return e;try{for(var g=bm(f),h=g.next();!h.done;h=g.next()){var i=h.value;e=a.merge(e,i,this._aggregator)}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}return e},a.merge=function(a,b,c){for(var d=a,e=b.entries(),f=e.next();!0!==f.done;){var g=bn(f.value,3),h=g[0],i=g[1],j=g[2];if(a.has(h,j)){var k=a.get(h,j),l=c.merge(k,i);d.set(h,l,j)}else d.set(h,i,j);f=e.next()}return d},a.calibrateStartTime=function(a,b,c){var d,e;try{for(var f=bm(a.keys()),g=f.next();!g.done;g=f.next()){var h=bn(g.value,2),i=h[0],j=h[1],k=b.get(i,j);null==k||k.setStartTime(c)}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}return b},a}();function bp(a){return Array.from(a.entries())}var bq=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),br=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bs=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new bl(c),f._temporalMetricStorage=new bo(c,e),f}return bq(b,a),b.prototype.record=function(a,b){var c=this,d=new bj;Array.from(a.entries()).forEach(function(a){var b=br(a,2),e=b[0],f=b[1];d.set(c._attributesProcessor.process(e),f)}),this._deltaMetricStorage.batchCumulate(d,b)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(bg);function bt(a,b){var c="";return a.unit!==b.unit&&(c+="	- Unit '"+a.unit+"' does not match '"+b.unit+"'\n"),a.type!==b.type&&(c+="	- Type '"+a.type+"' does not match '"+b.type+"'\n"),a.valueType!==b.valueType&&(c+="	- Value Type '"+a.valueType+"' does not match '"+b.valueType+"'\n"),a.description!==b.description&&(c+="	- Description '"+a.description+"' does not match '"+b.description+"'\n"),c}function bu(a,b){return"	- use valueType '"+a.valueType+"' on instrument creation or use an instrument name other than '"+b.name+"'"}function bv(a,b){return"	- use unit '"+a.unit+"' on instrument creation or use an instrument name other than '"+b.name+"'"}function bw(a,b){var c=JSON.stringify({name:b.name,type:b.type,unit:b.unit});return"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+c+"'"}function bx(a,b){var c=JSON.stringify({name:b.name,type:b.type,unit:b.unit});return"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+c+"'\n    	- OR - create a new view with the name "+a.name+" and description '"+a.description+"' and InstrumentSelector "+c+"\n    	- OR - create a new view with the name "+b.name+" and description '"+a.description+"' and InstrumentSelector "+c}function by(a,b){return a.valueType!==b.valueType?bu(a,b):a.unit!==b.unit?bv(a,b):a.type!==b.type?bw(a,b):a.description!==b.description?bx(a,b):""}var bz=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bA=function(){function a(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return a.create=function(){return new a},a.prototype.getStorages=function(a){var b,c,d,e,f=[];try{for(var g=bz(this._sharedRegistry.values()),h=g.next();!h.done;h=g.next()){var i=h.value;f=f.concat(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}var j=this._perCollectorRegistry.get(a);if(null!=j)try{for(var k=bz(j.values()),l=k.next();!l.done;l=k.next()){var i=l.value;f=f.concat(i)}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}return f},a.prototype.register=function(a){this._registerStorage(a,this._sharedRegistry)},a.prototype.registerForCollector=function(a,b){var c=this._perCollectorRegistry.get(a);null==c&&(c=new Map,this._perCollectorRegistry.set(a,c)),this._registerStorage(b,c)},a.prototype.findOrUpdateCompatibleStorage=function(a){var b=this._sharedRegistry.get(a.name);return void 0===b?null:this._findOrUpdateCompatibleStorage(a,b)},a.prototype.findOrUpdateCompatibleCollectorStorage=function(a,b){var c=this._perCollectorRegistry.get(a);if(void 0===c)return null;var d=c.get(b.name);return void 0===d?null:this._findOrUpdateCompatibleStorage(b,d)},a.prototype._registerStorage=function(a,b){var c=a.getInstrumentDescriptor(),d=b.get(c.name);if(void 0===d)return void b.set(c.name,[a]);d.push(a)},a.prototype._findOrUpdateCompatibleStorage=function(a,b){var c,d,e=null;try{for(var f=bz(b),g=f.next();!g.done;g=f.next()){var i=g.value,j=i.getInstrumentDescriptor();K(j,a)?(j.description!==a.description&&(a.description.length>j.description.length&&i.updateDescription(a.description),h.s.warn("A view or instrument with the name ",a.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",bt(j,a),"The longer description will be used.\nTo resolve the conflict:",by(j,a))),e=i):h.s.warn("A view or instrument with the name ",a.name," has already been registered and is incompatible with another registered view.\n","Details:\n",bt(j,a),"To resolve the conflict:\n",by(j,a))}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}return e},a}(),bB=function(){function a(a){this._backingStorages=a}return a.prototype.record=function(a,b,c,d){this._backingStorages.forEach(function(e){e.record(a,b,c,d)})},a}(),bC=function(){function a(a,b){this._instrumentName=a,this._valueType=b,this._buffer=new bj}return a.prototype.observe=function(a,b){if(void 0===b&&(b={}),"number"!=typeof a)return void h.s.warn("non-number value provided to metric "+this._instrumentName+": "+a);(this._valueType!==H.e.INT||Number.isInteger(a)||(h.s.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._buffer.set(b,a)},a}(),bD=function(){function a(){this._buffer=new Map}return a.prototype.observe=function(a,b,c){if(void 0===c&&(c={}),be(a)){var d=this._buffer.get(a);if(null==d&&(d=new bj,this._buffer.set(a,d)),"number"!=typeof b)return void h.s.warn("non-number value provided to metric "+a._descriptor.name+": "+b);(a._descriptor.valueType!==H.e.INT||Number.isInteger(b)||(h.s.warn("INT value type cannot accept a floating-point value for "+a._descriptor.name+", ignoring the fractional digits."),Number.isInteger(b=Math.trunc(b))))&&d.set(c,b)}},a}(),bE=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},bF=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bG=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bH=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},bI=function(){function a(){this._callbacks=[],this._batchCallbacks=[]}return a.prototype.addCallback=function(a,b){this._findCallback(a,b)>=0||this._callbacks.push({callback:a,instrument:b})},a.prototype.removeCallback=function(a,b){var c=this._findCallback(a,b);c<0||this._callbacks.splice(c,1)},a.prototype.addBatchCallback=function(a,b){var c=new Set(b.filter(be));if(0===c.size)return void h.s.error("BatchObservableCallback is not associated with valid instruments",b);this._findBatchCallback(a,c)>=0||this._batchCallbacks.push({callback:a,instruments:c})},a.prototype.removeBatchCallback=function(a,b){var c=new Set(b.filter(be)),d=this._findBatchCallback(a,c);d<0||this._batchCallbacks.splice(d,1)},a.prototype.observe=function(a,b){return bE(this,void 0,void 0,function(){var c,d;return bF(this,function(e){switch(e.label){case 0:return c=this._observeCallbacks(a,b),d=this._observeBatchCallbacks(a,b),[4,t(bH(bH([],bG(c),!1),bG(d),!1))];case 1:return[2,e.sent().filter(u).map(function(a){return a.reason})]}})})},a.prototype._observeCallbacks=function(a,b){var c=this;return this._callbacks.map(function(d){var e=d.callback,f=d.instrument;return bE(c,void 0,void 0,function(){var c,d;return bF(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new bC(f._descriptor.name,f._descriptor.valueType))),null!=b&&(d=s(d,b)),[4,d];case 1:return g.sent(),f._metricStorages.forEach(function(b){b.record(c._buffer,a)}),[2]}})})})},a.prototype._observeBatchCallbacks=function(a,b){var c=this;return this._batchCallbacks.map(function(d){var e=d.callback,f=d.instruments;return bE(c,void 0,void 0,function(){var c,d;return bF(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new bD)),null!=b&&(d=s(d,b)),[4,d];case 1:return g.sent(),f.forEach(function(b){var d=c._buffer.get(b);null!=d&&b._metricStorages.forEach(function(b){b.record(d,a)})}),[2]}})})})},a.prototype._findCallback=function(a,b){return this._callbacks.findIndex(function(c){return c.callback===a&&c.instrument===b})},a.prototype._findBatchCallback=function(a,b){return this._batchCallbacks.findIndex(function(c){return c.callback===a&&w(c.instruments,b)})},a}(),bJ=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bK=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new bl(c),f._temporalMetricStorage=new bo(c,e),f}return bJ(b,a),b.prototype.record=function(a,b,c,d){b=this._attributesProcessor.process(b,c),this._deltaMetricStorage.record(a,b,c,d)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(bg),bL=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bM=function(){function a(){}return a.Noop=function(){return bP},a}(),bN=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bL(b,a),b.prototype.process=function(a,b){return a},b}(bM),bO=function(a){function b(b){var c=a.call(this)||this;return c._allowedAttributeNames=b,c}return bL(b,a),b.prototype.process=function(a,b){var c=this,d={};return Object.keys(a).filter(function(a){return c._allowedAttributeNames.includes(a)}).forEach(function(b){return d[b]=a[b]}),d},b}(bM),bP=new bN,bQ=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},bR=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bS=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bT=function(){function a(a,b){this._meterProviderSharedState=a,this._instrumentationScope=b,this.metricStorageRegistry=new bA,this.observableRegistry=new bI,this.meter=new bf(this)}return a.prototype.registerMetricStorage=function(a){var b=this._registerMetricStorage(a,bK);return 1===b.length?b[0]:new bB(b)},a.prototype.registerAsyncMetricStorage=function(a){return this._registerMetricStorage(a,bs)},a.prototype.collect=function(a,b,c){return bQ(this,void 0,void 0,function(){var d,e,f;return bR(this,function(g){switch(g.label){case 0:return[4,this.observableRegistry.observe(b,null==c?void 0:c.timeoutMillis)];case 1:if(d=g.sent(),0===(e=this.metricStorageRegistry.getStorages(a)).length)return[2,null];if(0===(f=e.map(function(c){return c.collect(a,b)}).filter(o)).length)return[2,{errors:d}];return[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:f},errors:d}]}})})},a.prototype._registerMetricStorage=function(a,b){var c=this,d=this._meterProviderSharedState.viewRegistry.findViews(a,this._instrumentationScope).map(function(d){var e=J(d,a),f=c.metricStorageRegistry.findOrUpdateCompatibleStorage(e);if(null!=f)return f;var g=d.aggregation.createAggregator(e),h=new b(e,g,d.attributesProcessor,c._meterProviderSharedState.metricCollectors);return c.metricStorageRegistry.register(h),h});if(0===d.length){var e=this._meterProviderSharedState.selectAggregations(a.type).map(function(d){var e=bS(d,2),f=e[0],g=e[1],h=c.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(f,a);if(null!=h)return h;var i=g.createAggregator(a),j=new b(a,i,bM.Noop(),[f]);return c.metricStorageRegistry.registerForCollector(f,j),j});d=d.concat(e)}return d},a}(),bU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bV=function(){function a(a){this.resource=a,this.viewRegistry=new a2,this.metricCollectors=[],this.meterSharedStates=new Map}return a.prototype.getMeterSharedState=function(a){var b=q(a),c=this.meterSharedStates.get(b);return null==c&&(c=new bT(this,a),this.meterSharedStates.set(b,c)),c},a.prototype.selectAggregations=function(a){var b,c,d=[];try{for(var e=bU(this.metricCollectors),f=e.next();!f.done;f=e.next()){var g=f.value;d.push([g,g.selectAggregation(a)])}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d},a}(),bW=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},bX=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bY=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bZ=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},b$=function(){function a(a,b){this._sharedState=a,this._metricReader=b}return a.prototype.collect=function(a){return bW(this,void 0,void 0,function(){var b,c,d,e=this;return bX(this,function(f){switch(f.label){case 0:return b=(0,D.lg)(Date.now()),c=[],d=[],[4,Promise.all(Array.from(this._sharedState.meterSharedStates.values()).map(function(f){return bW(e,void 0,void 0,function(){var e;return bX(this,function(g){switch(g.label){case 0:return[4,f.collect(this,b,a)];case 1:return(null==(e=g.sent())?void 0:e.scopeMetrics)!=null&&c.push(e.scopeMetrics),(null==e?void 0:e.errors)!=null&&d.push.apply(d,bZ([],bY(e.errors),!1)),[2]}})})}))];case 1:return f.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:c},errors:d}]}})})},a.prototype.forceFlush=function(a){return bW(this,void 0,void 0,function(){return bX(this,function(b){switch(b.label){case 0:return[4,this._metricReader.forceFlush(a)];case 1:return b.sent(),[2]}})})},a.prototype.shutdown=function(a){return bW(this,void 0,void 0,function(){return bX(this,function(b){switch(b.label){case 0:return[4,this._metricReader.shutdown(a)];case 1:return b.sent(),[2]}})})},a.prototype.selectAggregationTemporality=function(a){return this._metricReader.selectAggregationTemporality(a)},a.prototype.selectAggregation=function(a){return this._metricReader.selectAggregation(a)},a}(),b_=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},b0=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},b1=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},b2=function(){function a(a){this._shutdown=!1;var b,c,d,e,f,g=a1.F.default().merge(null!=(f=null==a?void 0:a.resource)?f:a1.F.empty());if(this._sharedState=new bV(g),(null==a?void 0:a.views)!=null&&a.views.length>0)try{for(var h=b1(a.views),i=h.next();!i.done;i=h.next()){var j=i.value;this._sharedState.viewRegistry.addView(j)}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}if((null==a?void 0:a.readers)!=null&&a.readers.length>0)try{for(var k=b1(a.readers),l=k.next();!l.done;l=k.next()){var m=l.value;this.addMetricReader(m)}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}}return a.prototype.getMeter=function(a,b,c){return(void 0===b&&(b=""),void 0===c&&(c={}),this._shutdown)?(h.s.warn("A shutdown MeterProvider cannot provide a Meter"),(0,a0.Ac)()):this._sharedState.getMeterSharedState({name:a,version:b,schemaUrl:c.schemaUrl}).meter},a.prototype.addMetricReader=function(a){var b=new b$(this._sharedState,a);a.setMetricProducer(b),this._sharedState.metricCollectors.push(b)},a.prototype.shutdown=function(a){return b_(this,void 0,void 0,function(){return b0(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("shutdown may only be called once per MeterProvider"),[2];return this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.shutdown(a)}))];case 1:return b.sent(),[2]}})})},a.prototype.forceFlush=function(a){return b_(this,void 0,void 0,function(){return b0(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("invalid attempt to force flush after MeterProvider shutdown"),[2];return[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.forceFlush(a)}))];case 1:return b.sent(),[2]}})})},a}(),b3=/[\^$\\.+?()[\]{}|]/g,b4=function(){function a(b){"*"===b?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(a.escapePattern(b)))}return a.prototype.match=function(a){return!!this._matchAll||this._regexp.test(a)},a.escapePattern=function(a){return"^"+a.replace(b3,"\\$&").replace("*",".*")+"$"},a.hasWildcard=function(a){return a.includes("*")},a}(),b5=function(){function a(a){this._matchAll=void 0===a,this._pattern=a}return a.prototype.match=function(a){return!!this._matchAll||a===this._pattern},a}(),b6=function(){function a(a){var b;this._nameFilter=new b4(null!=(b=null==a?void 0:a.name)?b:"*"),this._type=null==a?void 0:a.type,this._unitFilter=new b5(null==a?void 0:a.unit)}return a.prototype.getType=function(){return this._type},a.prototype.getNameFilter=function(){return this._nameFilter},a.prototype.getUnitFilter=function(){return this._unitFilter},a}(),b7=function(){function a(a){this._nameFilter=new b5(null==a?void 0:a.name),this._versionFilter=new b5(null==a?void 0:a.version),this._schemaUrlFilter=new b5(null==a?void 0:a.schemaUrl)}return a.prototype.getNameFilter=function(){return this._nameFilter},a.prototype.getVersionFilter=function(){return this._versionFilter},a.prototype.getSchemaUrlFilter=function(){return this._schemaUrlFilter},a}();function b8(a){return null==a.instrumentName&&null==a.instrumentType&&null==a.instrumentUnit&&null==a.meterName&&null==a.meterVersion&&null==a.meterSchemaUrl}var b9=function(){return function(a){var b;if(b8(a))throw Error("Cannot create view with no selector arguments supplied");if(null!=a.name&&((null==a?void 0:a.instrumentName)==null||b4.hasWildcard(a.instrumentName)))throw Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=a.attributeKeys?this.attributesProcessor=new bO(a.attributeKeys):this.attributesProcessor=bM.Noop(),this.name=a.name,this.description=a.description,this.aggregation=null!=(b=a.aggregation)?b:au.Default(),this.instrumentSelector=new b6({name:a.instrumentName,type:a.instrumentType,unit:a.instrumentUnit}),this.meterSelector=new b7({name:a.meterName,version:a.meterVersion,schemaUrl:a.meterSchemaUrl})}}()},68423:(a,b)=>{"use strict";class c extends Error{constructor(a,b,c,d){super(),this.name=a,this.code=c,this.message=d,this.pos=b}}class d extends c{constructor(a,b,c){super("YAMLParseError",a,b,c)}}class e extends c{constructor(a,b,c){super("YAMLWarning",a,b,c)}}let f=(a,b)=>c=>{if(-1===c.pos[0])return;c.linePos=c.pos.map(a=>b.linePos(a));let{line:d,col:e}=c.linePos[0];c.message+=` at line ${d}, column ${e}`;let f=e-1,g=a.substring(b.lineStarts[d-1],b.lineStarts[d]).replace(/[\n\r]+$/,"");if(f>=60&&g.length>80){let a=Math.min(f-39,g.length-79);g="…"+g.substring(a),f-=a-1}if(g.length>80&&(g=g.substring(0,79)+"…"),d>1&&/^ *$/.test(g.substring(0,f))){let c=a.substring(b.lineStarts[d-2],b.lineStarts[d-1]);c.length>80&&(c=c.substring(0,79)+"…\n"),g=c+g}if(/[^ ]/.test(g)){let a=1,b=c.linePos[1];b&&b.line===d&&b.col>e&&(a=Math.max(1,Math.min(b.col-e,80-f)));let h=" ".repeat(f)+"^".repeat(a);c.message+=`:

${g}
${h}
`}};b.YAMLError=c,b.YAMLParseError=d,b.YAMLWarning=e,b.prettifyError=f},68448:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{CommonRerankerOptionsSchema:()=>y,RankedDocument:()=>q,RankedDocumentDataSchema:()=>p,RankedDocumentMetadataSchema:()=>o,RerankerInfoSchema:()=>t,defineReranker:()=>v,rerank:()=>x,reranker:()=>w,rerankerRef:()=>z}),a.exports=i(j);var k=c(40979),l=c(76944),m=c(25399),n=c(1998);let o=k.z.object({score:k.z.number()}).passthrough(),p=k.z.object({content:k.z.array(m.PartSchema),metadata:o});class q extends n.Document{content;metadata;constructor(a){super(a),this.content=a.content,this.metadata=a.metadata}score(){return this.metadata.score}}let r=k.z.object({query:n.DocumentDataSchema,documents:k.z.array(n.DocumentDataSchema),options:k.z.any().optional()}),s=k.z.object({documents:k.z.array(p)}),t=k.z.object({label:k.z.string().optional(),supports:k.z.object({media:k.z.boolean().optional()}).optional()});function u(a,b){let c=a;return c.__configSchema=b,c}function v(a,b,c){let d=w(b,c);return a.registerAction("reranker",d),d}function w(a,b){return u((0,k.action)({actionType:"reranker",name:a.name,inputSchema:a.configSchema?r.extend({options:a.configSchema.optional()}):r,outputSchema:s,metadata:{type:"reranker",info:a.info,reranker:{customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(new n.Document(a.query),a.documents.map(a=>new n.Document(a)),a.options)),a.configSchema)}async function x(a,b){let c;if(!(c="string"==typeof b.reranker?await a.lookupAction(`/reranker/${b.reranker}`):Object.hasOwnProperty.call(b.reranker,"info")?await a.lookupAction(`/reranker/${b.reranker.name}`):b.reranker))throw Error("Unable to resolve the reranker");return(await c({query:"string"==typeof b.query?n.Document.fromText(b.query):b.query,documents:b.documents,options:b.options})).documents.map(a=>new q(a))}let y=k.z.object({k:k.z.number().describe("Number of documents to rerank").optional()});function z(a){return{...a}}},68530:(a,b,c)=>{var d=c(28354).inherits,e=c(37451).WriteResult,f=c(37451).ReadResult,g=c(37451).BufferRW,h=c(8193);function i(a,b,c){if(!(this instanceof i))return new i(a,b,c);this.width=a,this.readAtomFrom=b,this.writeAtomInto=c,g.call(this)}function j(a,b,c,d,e){if(!(this instanceof j))return new j(a,b,c,d,e);i.call(this,a,d,e),this.min=b,this.max=c}d(i,g),i.prototype.poolByteLength=function(a){return a.reset(null,this.width)},i.prototype.poolReadFrom=function(a,b,c){var d=b.length-c;return d<this.width?f.poolShortError(a,this.width,d,c):this.readAtomFrom(a,b,c)},i.prototype.poolWriteInto=function(a,b,c,d){var f=c.length-d;return f<this.width&&e.poolShortError(a,this.width,f,d),this.writeAtomInto(a,b,c,d)},d(j,i),j.prototype.poolWriteInto=function(a,b,c,d){if("number"!=typeof b)return a.reset(h.expected(b,"a number"));if(b<this.min||b>this.max)return a.reset(h.RangeError({value:b,min:this.min,max:this.max}),d);var f=c.length-d;return f<this.width?e.poolShortError(a,this.width,f,d):this.writeAtomInto(a,b,c,d)};var k=j(1,-128,127,function(a,b,c){var d=b.readInt8(c,!0);return a.reset(null,c+1,d)},function(a,b,c,d){return c.writeInt8(b,d,!0),a.reset(null,d+1)}),l=j(2,-32768,32767,function(a,b,c){var d=b.readInt16BE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeInt16BE(b,d,!0),a.reset(null,d+2)}),m=j(4,-0x80000000,0x7fffffff,function(a,b,c){var d=b.readInt32BE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeInt32BE(b,d,!0),a.reset(null,d+4)}),n=j(2,-32768,32767,function(a,b,c){var d=b.readInt16LE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeInt16LE(b,d,!0),a.reset(null,d+2)}),o=j(4,-0x80000000,0x7fffffff,function(a,b,c){var d=b.readInt32LE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeInt32LE(b,d,!0),a.reset(null,d+4)}),p=j(1,0,255,function(a,b,c){var d=b.readUInt8(c,!0);return a.reset(null,c+1,d)},function(a,b,c,d){return c.writeUInt8(b,d,!0),a.reset(null,d+1)}),q=j(2,0,65535,function(a,b,c){var d=b.readUInt16BE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeUInt16BE(b,d,!0),a.reset(null,d+2)}),r=j(4,0,0xffffffff,function(a,b,c){var d=b.readUInt32BE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeUInt32BE(b,d,!0),a.reset(null,d+4)}),s=j(2,0,65535,function(a,b,c){var d=b.readUInt16LE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeUInt16LE(b,d,!0),a.reset(null,d+2)}),t=j(4,0,0xffffffff,function(a,b,c){var d=b.readUInt32LE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeUInt32LE(b,d,!0),a.reset(null,d+4)}),u=i(4,function(a,b,c){var d=b.readFloatLE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeFloatLE(b,d),a.reset(null,d+4))}),v=i(4,function(a,b,c){var d=b.readFloatBE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeFloatBE(b,d),a.reset(null,d+4))}),w=i(8,function(a,b,c){var d=b.readDoubleLE(c,!0);return a.reset(null,c+8,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeDoubleLE(b,d),a.reset(null,d+8))}),x=i(8,function(a,b,c){var d=b.readDoubleBE(c,!0);return a.reset(null,c+8,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeDoubleBE(b,d),a.reset(null,d+8))});a.exports.AtomRW=i,a.exports.Int8=k,a.exports.Int16BE=l,a.exports.Int32BE=m,a.exports.Int16LE=n,a.exports.Int32LE=o,a.exports.UInt8=p,a.exports.UInt16BE=q,a.exports.UInt32BE=r,a.exports.UInt16LE=s,a.exports.UInt32LE=t,a.exports.FloatLE=u,a.exports.FloatBE=v,a.exports.DoubleLE=w,a.exports.DoubleBE=x},68575:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseTupleDef=void 0;let d=c(31958);b.parseTupleDef=function(a,b){return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"items",`${c}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:(0,d.parseDef)(a.rest._def,{...b,currentPath:[...b.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"items",`${c}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])}}},68586:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RetryingCall=b.MessageBufferTracker=b.RetryThrottler=void 0;let d=c(56458),e=c(8319),f=c(33604),g=c(38702),h="retrying_call";class i{constructor(a,b,c){this.maxTokens=a,this.tokenRatio=b,c?this.tokens=c.tokens*(a/c.maxTokens):this.tokens=a}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}b.RetryThrottler=i;class j{constructor(a,b){this.totalLimit=a,this.limitPerCall=b,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(a,b){var c;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;return!(this.limitPerCall-d<a)&&!(this.totalLimit-this.totalAllocated<a)&&(this.allocatedPerCall.set(b,d+a),this.totalAllocated+=a,!0)}free(a,b){var c;if(this.totalAllocated<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > total allocated ${this.totalAllocated}`);this.totalAllocated-=a;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;if(d<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > allocated for call ${d}`);this.allocatedPerCall.set(b,d-a)}freeAll(a){var b;let c=null!=(b=this.allocatedPerCall.get(a))?b:0;if(this.totalAllocated<c)throw Error(`Invalid buffer allocation state: call ${a} allocated ${c} > total allocated ${this.totalAllocated}`);this.totalAllocated-=c,this.allocatedPerCall.delete(a)}}b.MessageBufferTracker=j;let k="grpc-previous-rpc-attempts",l=5;class m{constructor(a,b,c,d,e,f,g,h,i){var j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.bufferTracker=h,this.retryThrottler=i,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let k=null!=(j=a.getOptions()["grpc-node.retry_max_attempts_limit"])?j:l;if(0===a.getOptions()["grpc.enable_retries"])this.state="NO_RETRY",this.maxAttempts=1;else if(b.methodConfig.retryPolicy){this.state="RETRY";let a=b.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(a.initialBackoff.substring(0,a.initialBackoff.length-1)),this.maxAttempts=Math.min(a.maxAttempts,k)}else b.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(b.methodConfig.hedgingPolicy.maxAttempts,k)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(0===this.underlyingCalls.length)return[];let a=[],b=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&a.push(`previous attempts: ${this.underlyingCalls.length-1}`),b.startTime>this.startTime&&a.push(`time to current attempt start: ${(0,e.formatDateDifference)(this.startTime,b.startTime)}`),a.push(...b.call.getDeadlineInfo()),a}getCallNumber(){return this.callNumber}trace(a){g.trace(d.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+a)}reportStatus(a){this.trace("ended with status: code="+a.code+' details="'+a.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var b;null==(b=this.listener)||b.onReceiveStatus({code:a.code,details:a.details,metadata:a.metadata})})}cancelWithStatus(a,b){for(let{call:c}of(this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.reportStatus({code:a,details:b,metadata:new f.Metadata}),this.underlyingCalls))c.cancelWithStatus(a,b)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(a){var b;return null!=(b=this.writeBuffer[a-this.writeBufferOffset])?b:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){let a;if("COMMITTED"===this.state){a="COMPLETED"===this.underlyingCalls[this.committedCallIndex].state?this.getNextBufferIndex():this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let b=this.writeBufferOffset;b<a;b++){let a=this.getBufferEntry(b);a.allocated&&this.bufferTracker.free(a.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(a-this.writeBufferOffset),this.writeBufferOffset=a}}commitCall(a){var b,c;if("COMMITTED"!==this.state){this.trace("Committing call ["+this.underlyingCalls[a].call.getCallNumber()+"] at index "+a),this.state="COMMITTED",null==(c=(b=this.callConfig).onCommitted)||c.call(b),this.committedCallIndex=a;for(let b=0;b<this.underlyingCalls.length;b++)b!==a&&"COMPLETED"!==this.underlyingCalls[b].state&&(this.underlyingCalls[b].state="COMPLETED",this.underlyingCalls[b].call.cancelWithStatus(d.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let a=-1,b=-1;for(let[c,d]of this.underlyingCalls.entries())"ACTIVE"===d.state&&d.nextMessageToSend>a&&(a=d.nextMessageToSend,b=c);-1===b?this.state="TRANSPARENT_ONLY":this.commitCall(b)}isStatusCodeInList(a,b){return a.some(a=>{var c;return a===b||a.toString().toLowerCase()===(null==(c=d.Status[b])?void 0:c.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var a;let b=null==(a=this.callConfig)?void 0:a.methodConfig.retryPolicy;if(!b)return 0;let c=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,d=Number(b.maxBackoff.substring(0,b.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*b.backoffMultiplier,d),c}maybeRetryCall(a,b){let c;if("RETRY"!==this.state||this.attempts>=this.maxAttempts)return void b(!1);if(null===a)c=this.getNextRetryBackoffMs();else if(a<0){this.state="TRANSPARENT_ONLY",b(!1);return}else c=a,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,c;if("RETRY"!==this.state)return void b(!1);null==(c=null==(a=this.retryThrottler)?void 0:a.canRetryCall())||c?(b(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),b(!1))},c)}countActiveCalls(){let a=0;for(let b of this.underlyingCalls)(null==b?void 0:b.state)==="ACTIVE"&&(a+=1);return a}handleProcessedStatus(a,b,c){var d,e,f;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(b),this.reportStatus(a);break;case"HEDGING":if(this.isStatusCodeInList(null!=(d=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)?d:[],a.code)){let d;if(null==(e=this.retryThrottler)||e.addCallFailed(),null===c)d=0;else if(c<0){this.state="TRANSPARENT_ONLY",this.commitCall(b),this.reportStatus(a);return}else d=c;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(b),this.reportStatus(a))},d)}else this.commitCall(b),this.reportStatus(a);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,a.code)?(null==(f=this.retryThrottler)||f.addCallFailed(),this.maybeRetryCall(c,c=>{c||(this.commitCall(b),this.reportStatus(a))})):(this.commitCall(b),this.reportStatus(a))}}getPushback(a){let b=a.get("grpc-retry-pushback-ms");if(0===b.length)return null;try{return parseInt(b[0])}catch(a){return -1}}handleChildStatus(a,b){var c;if("COMPLETED"===this.underlyingCalls[b].state)return;if(this.trace("state="+this.state+" handling status with progress "+a.progress+" from child ["+this.underlyingCalls[b].call.getCallNumber()+"] in state "+this.underlyingCalls[b].state),this.underlyingCalls[b].state="COMPLETED",a.code===d.Status.OK){null==(c=this.retryThrottler)||c.addCallSucceeded(),this.commitCall(b),this.reportStatus(a);return}if("NO_RETRY"===this.state){this.commitCall(b),this.reportStatus(a);return}if("COMMITTED"===this.state)return void this.reportStatus(a);let e=this.getPushback(a.metadata);switch(a.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(a,b,e):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(b),this.reportStatus(a);break;case"PROCESSED":this.handleProcessedStatus(a,b,e)}}maybeStartHedgingAttempt(){"HEDGING"===this.state&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var a,b,c;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let d=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let e=null!=(a=d.hedgingDelay)?a:"0s",f=Number(e.substring(0,e.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*f),null==(c=(b=this.hedgingTimer).unref)||c.call(b)}startNewAttempt(){let a=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+a.getCallNumber()+"] for attempt "+this.attempts);let b=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:a,nextMessageToSend:0,startTime:new Date});let c=this.attempts-1,d=this.initialMetadata.clone();c>0&&d.set(k,`${c}`);let e=!1;a.start(d,{onReceiveMetadata:d=>{this.trace("Received metadata from child ["+a.getCallNumber()+"]"),this.commitCall(b),e=!0,c>0&&d.set(k,`${c}`),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMetadata(d)},onReceiveMessage:c=>{this.trace("Received message from child ["+a.getCallNumber()+"]"),this.commitCall(b),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMessage(c)},onReceiveStatus:d=>{this.trace("Received status from child ["+a.getCallNumber()+"]"),!e&&c>0&&d.metadata.set(k,`${c}`),this.handleChildStatus(d,b)}}),this.sendNextChildMessage(b),this.readStarted&&a.startRead()}start(a,b){this.trace("start called"),this.listener=b,this.initialMetadata=a,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(a){var b,c;let d=this.underlyingCalls[a],e=d.nextMessageToSend;null==(c=(b=this.getBufferEntry(e)).callback)||c.call(b),this.clearSentMessages(),d.nextMessageToSend+=1,this.sendNextChildMessage(a)}sendNextChildMessage(a){let b=this.underlyingCalls[a];if("COMPLETED"!==b.state&&this.getBufferEntry(b.nextMessageToSend)){let c=this.getBufferEntry(b.nextMessageToSend);switch(c.entryType){case"MESSAGE":b.call.sendMessageWithContext({callback:b=>{this.handleChildWriteCompleted(a)}},c.message.message);break;case"HALF_CLOSE":b.nextMessageToSend+=1,b.call.halfClose()}}}sendMessageWithContext(a,b){var c;this.trace("write() called with message of length "+b.length);let d={message:b,flags:a.flags},e=this.getNextBufferIndex(),f={entryType:"MESSAGE",message:d,allocated:this.bufferTracker.allocate(b.length,this.callNumber)};if(this.writeBuffer.push(f),f.allocated)for(let[d,f]of(null==(c=a.callback)||c.call(a),this.underlyingCalls.entries()))"ACTIVE"===f.state&&f.nextMessageToSend===e&&f.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(d)}},b);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let c=this.underlyingCalls[this.committedCallIndex];f.callback=a.callback,"ACTIVE"===c.state&&c.nextMessageToSend===e&&c.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(this.committedCallIndex)}},b)}}startRead(){for(let a of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==a?void 0:a.state)==="ACTIVE"&&a.call.startRead()}halfClose(){this.trace("halfClose called");let a=this.getNextBufferIndex();for(let b of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==b?void 0:b.state)==="ACTIVE"&&b.nextMessageToSend===a&&(b.nextMessageToSend+=1,b.call.halfClose())}setCredentials(a){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}}b.RetryingCall=m},68747:(a,b)=>{"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b.default=c,a.exports=b.default},68948:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DiagConsoleLogger:()=>g,DiagLogLevel:()=>h.u,INVALID_SPANID:()=>E.w9,INVALID_SPAN_CONTEXT:()=>E.dM,INVALID_TRACEID:()=>E.RH,ProxyTracer:()=>l.y,ProxyTracerProvider:()=>m.n,ROOT_CONTEXT:()=>e.l,SamplingDecision:()=>n.i,SpanKind:()=>o.v,SpanStatusCode:()=>p.s,TraceFlags:()=>q.X,ValueType:()=>j.e,baggageEntryMetadataFromString:()=>d.B,context:()=>F._,createContextKey:()=>e.n,createNoopMeter:()=>i.Ac,createTraceState:()=>C,default:()=>K,defaultTextMapGetter:()=>k.q,defaultTextMapSetter:()=>k.U,diag:()=>G.s,isSpanContextValid:()=>D.YA,isValidSpanId:()=>D.wN,isValidTraceId:()=>D.hX,metrics:()=>H.q,propagation:()=>I.$,trace:()=>J.u});var d=c(11194),e=c(76956),f=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],g=function(){return function(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(console){var d=console[a];if("function"!=typeof d&&(d=console.log),"function"==typeof d)return d.apply(console,b)}}}for(var b=0;b<f.length;b++)this[f[b].n]=a(f[b].c)}}(),h=c(38380),i=c(85840),j=c(53205),k=c(88404),l=c(53488),m=c(89768),n=c(37425),o=c(33890),p=c(86847),q=c(54616),r="[_0-9a-z-*/]",s=RegExp("^(?:[a-z]"+r+"{0,255}|"+("[a-z0-9]"+r+"{0,240}@[a-z]"+r)+"{0,13})$"),t=/^[ -~]{0,255}[!-~]$/,u=/,|=/;function v(a){return s.test(a)}function w(a){return t.test(a)&&!u.test(a)}var x=32,y=512,z=",",A="=",B=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+A+a.get(c)),b},[]).join(z)},a.prototype._parse=function(a){!(a.length>y)&&(this._internalState=a.split(z).reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf(A);if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);v(e)&&w(f)&&a.set(e,f)}return a},new Map),this._internalState.size>x&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,x))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}();function C(a){return new B(a)}var D=c(58746),E=c(27267),F=c(20531),G=c(79361),H=c(52764),I=c(37002),J=c(88018);let K={context:F._,diag:G.s,metrics:H.q,propagation:I.$,trace:J.u}},69023:(a,b,c)=>{"use strict";var d=c(24148);function e(a,b){let c=a[0],d="-"===c||"+"===c?a.substring(1):a,e=a=>b?BigInt(a):Number(a),f=d.replace(/_/g,"").split(":").reduce((a,b)=>a*e(60)+e(b),e(0));return"-"===c?e(-1)*f:f}function f(a){let{value:b}=a,c=a=>a;if("bigint"==typeof b)c=a=>BigInt(a);else if(isNaN(b)||!isFinite(b))return d.stringifyNumber(a);let e="";b<0&&(e="-",b*=c(-1));let f=c(60),g=[b%f];return b<60?g.unshift(0):(b=(b-g[0])/f,g.unshift(b%f),b>=60&&(b=(b-g[0])/f,g.unshift(b))),e+g.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}let g={identify:a=>"bigint"==typeof a||Number.isInteger(a),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(a,b,{intAsBigInt:c})=>e(a,c),stringify:f},h={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:a=>e(a,!1),stringify:f},i={identify:a=>a instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(a){let b=a.match(i.test);if(!b)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,c,d,f,g,h,j]=b.map(Number),k=Date.UTC(c,d-1,f,g||0,h||0,j||0,b[7]?Number((b[7]+"00").substr(1,3)):0),l=b[8];if(l&&"Z"!==l){let a=e(l,!1);30>Math.abs(a)&&(a*=60),k-=6e4*a}return new Date(k)},stringify:({value:a})=>a?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};b.floatTime=h,b.intTime=g,b.timestamp=i},69121:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b){if(!(this instanceof h))return new h(a,b);this.sizerw=a,b?this.poolReadFrom=this.lazyPoolReadFrom:this.poolReadFrom=this.eagerPoolReadFrom,f.call(this)}d(h,f),h.prototype.poolByteLength=function(a,b){var c=0;if(Buffer.isBuffer(b))c=b.length;else{if(null!=b)return a.reset(g.expected(b,"buffer, null, or undefined"),null);c=0}return(this.sizerw.poolByteLength(a,c),a.err)?a:a.reset(null,a.length+c)},h.prototype.poolWriteInto=function(a,b,c,d){var e=d+this.sizerw.width,f=0;if(Buffer.isBuffer(b))f=b.copy(c,e);else{if(null!=b)return a.reset(g.expected(b,"buffer, null, or undefined"),d);f=0}return(this.sizerw.poolWriteInto(a,f,c,d),a.err)?a:a.reset(null,e+f)},h.prototype.eagerPoolReadFrom=function(a,b,c){if(this.sizerw.poolReadFrom(a,b,c),a.err)return a;var d=a.value,f=b.length-a.offset;if(f<d)return e.poolShortError(a,d,f,c,a.offset);c=a.offset;var g=Buffer.alloc(d);return b.copy(g,0,c),a.reset(null,c+d,g)},h.prototype.lazyPoolReadFrom=function(a,b,c){if(this.sizerw.poolReadFrom(a,b,c),a.err)return a;var d=a.value,f=b.length-a.offset;if(f<d)return e.poolShortError(a,d,f,c,a.offset);var g=(c=a.offset)+d,h=b.slice(c,g);return a.reset(null,g,h)}},69316:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUnionDef=b.primitiveMappings=void 0;let d=c(31958);function e(a,c){if("openApi3"===c.target)return f(a,c);let d=a.options instanceof Map?Array.from(a.options.values()):a.options;if(d.every(a=>a._def.typeName in b.primitiveMappings&&(!a._def.checks||!a._def.checks.length))){let a=d.reduce((a,c)=>{let d=b.primitiveMappings[c._def.typeName];return d&&!a.includes(d)?[...a,d]:a},[]);return{type:a.length>1?a:a[0]}}if(d.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=d.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===d.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:d.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(d.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:d.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return f(a,c)}b.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},b.parseUnionDef=e;let f=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0}},69418:(a,b,c)=>{"use strict";c.d(b,{EC:()=>f,KV:()=>i,QC:()=>h,hN:()=>e,kI:()=>j,r_:()=>g,un:()=>d});var d="=",e=";",f=",",g="baggage",h=180,i=4096,j=8192},69443:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i8",h.prototype.width=1,h.prototype.min=-128,h.prototype.max=127,h.prototype.poolReadFrom=function(a,b,c){var d=b[c];return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c[f]=g,a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i8",i.prototype.typeid=g.I8,i.prototype.surface=Number,i.prototype.models="type",a.exports.I8RW=h,a.exports.ThriftI8=i},69506:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{calculateTTL:()=>y,extractCacheConfig:()=>v,findLastIndex:()=>x,generateCacheKey:()=>r,getContentForCache:()=>s,lookupContextCache:()=>u,validateContextCacheRequest:()=>w}),a.exports=l(m);var n=k(c(55511)),o=c(6250),p=c(72486),q=c(11438);function r(a){return n.default.createHash("sha256").update(JSON.stringify(a)).digest("hex")}function s(a,b,c,d){if(!c)throw Error("No model version provided for context caching");if(!b.history?.length)throw Error("No history provided for context caching");t(a,b);let{endOfCachedContents:e,cacheConfig:f}=d,g={model:c,contents:b.history.slice(0,e+1)};return b.history=b.history.slice(e+1),{cachedContent:g,chatRequest:b,cacheConfig:f}}function t(a,b){if(b.history?.length!==a.messages.length-1)throw new o.GenkitError({status:"INTERNAL",message:"Genkit request history and Gemini chat request history length do not match"})}async function u(a,b,c=100,d=100){let e,f=0;try{for(;f<c;){let{cachedContents:c,nextPageToken:g}=await a.list({pageSize:d,pageToken:e}),h=c?.find(a=>a.displayName===b);if(h)return h;if(!g)break;e=g,f++}}catch(b){let a=b instanceof Error?b.message:"Unknown Network Error";throw new o.GenkitError({status:"INTERNAL",message:`Error looking up context cache: ${a}`})}return null}let v=a=>{let b=x(a.messages,a=>!!a.metadata?.cache);return -1===b?null:{endOfCachedContents:b,cacheConfig:q.cacheConfigSchema.parse(a.messages[b].metadata?.cache)}};function w(a,b){if(!b||!p.CONTEXT_CACHE_SUPPORTED_MODELS.includes(b))throw new o.GenkitError({status:"INVALID_ARGUMENT",message:p.INVALID_ARGUMENT_MESSAGES.modelVersion});if(a.tools?.length)throw new o.GenkitError({status:"INVALID_ARGUMENT",message:p.INVALID_ARGUMENT_MESSAGES.tools});if(a.config?.codeExecution)throw new o.GenkitError({status:"INVALID_ARGUMENT",message:p.INVALID_ARGUMENT_MESSAGES.codeExecution});return!0}function x(a,b){for(let c=a.length-1;c>=0;c--)if(b(a[c],c,a))return c;return -1}function y(a){return!0===a.cacheConfig?p.DEFAULT_TTL:!1===a.cacheConfig?0:a.cacheConfig.ttlSeconds||p.DEFAULT_TTL}},69580:(a,b,c)=>{"use strict";c.d(b,{t:()=>h});var d=c(37002),e=c(81588),f=c(69418),g=c(24774),h=function(){function a(){}return a.prototype.inject=function(a,b,c){var h=d.$.getBaggage(a);if(!(!h||(0,e.Zf)(a))){var i=(0,g.getKeyPairs)(h).filter(function(a){return a.length<=f.KV}).slice(0,f.QC),j=(0,g.serializeKeyPairs)(i);j.length>0&&c.set(b,f.r_,j)}},a.prototype.extract=function(a,b,c){var e=c.get(b,f.r_),h=Array.isArray(e)?e.join(f.EC):e;if(!h)return a;var i={};return 0===h.length||(h.split(f.EC).forEach(function(a){var b=(0,g.parsePairKeyValue)(a);if(b){var c={value:b.value};b.metadata&&(c.metadata=b.metadata),i[b.key]=c}}),0===Object.entries(i).length)?a:d.$.setBaggage(a,d.$.createBaggage(i))},a.prototype.fields=function(){return[f.r_]},a}()},69686:a=>{function b(c){if(!(this instanceof b)||this===a.exports)return new b(c);if(!Array.isArray(c)||4!==c.length)throw TypeError("seed must be an array with 4 numbers");this._state0U=0|c[0],this._state0L=0|c[1],this._state1U=0|c[2],this._state1L=0|c[3]}function c(){return 0x100000000*Math.random()}b.prototype.randomint=function(){var a=this._state0U,b=this._state0L,c=this._state1U,d=this._state1L,e=(d>>>0)+(b>>>0),f=c+a+(e/2>>>31)>>>0,g=e>>>0;this._state0U=c,this._state0L=d;var h=0,i=0,j=0,k=0,l=23;h=a<<23|(-512&b)>>>9,i=b<<l,a^=h,b^=i,h=a^c,i=b^d;var m=18,n=262143;j=a>>>18,k=b>>>m|(a&n)<<32-m,h^=j,i^=k;var o=5,p=31;return j=c>>>5,k=d>>>o|(c&p)<<32-o,h^=j,i^=k,this._state1U=h,this._state1L=i,[f,g]},b.prototype.random=function(){var a=this.randomint();return 23283064365386963e-26*a[0]+(a[1]>>>12)*2220446049250313e-31},a.exports=new b([c(),c(),c(),c()]),a.exports.XorShift=b},69731:(a,b,c)=>{"use strict";var d=c(19771),e=c(99308),f=c(8980);function g(a,b){for(let c=0;c<a.length;++c)if(a[c].type===b)return!0;return!1}function h(a){for(let b=0;b<a.length;++b)switch(a[b].type){case"space":case"comment":case"newline":break;default:return b}return -1}function i(a){switch(a?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function j(a){switch(a.type){case"document":return a.start;case"block-map":{let b=a.items[a.items.length-1];return b.sep??b.start}case"block-seq":return a.items[a.items.length-1].start;default:return[]}}function k(a){if(0===a.length)return[];let b=a.length;a:for(;--b>=0;)switch(a[b].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break a}for(;a[++b]?.type==="space";);return a.splice(b,a.length)}function l(a){if("flow-seq-start"===a.start.type)for(let b of a.items)!b.sep||b.value||g(b.start,"explicit-key-ind")||g(b.sep,"map-value-ind")||(b.key&&(b.value=b.key),delete b.key,i(b.value)?b.value.end?Array.prototype.push.apply(b.value.end,b.sep):b.value.end=b.sep:Array.prototype.push.apply(b.start,b.sep),delete b.sep)}class m{constructor(a){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new f.Lexer,this.onNewLine=a}*parse(a,b=!1){for(let c of(this.onNewLine&&0===this.offset&&this.onNewLine(0),this.lexer.lex(a,b)))yield*this.next(c);b||(yield*this.end())}*next(a){if(this.source=a,d.env.LOG_TOKENS&&console.log("|",e.prettyToken(a)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=a.length;return}let b=e.tokenType(a);if(b)if("scalar"===b)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=b,yield*this.step(),b){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+a.length);break;case"space":this.atNewLine&&" "===a[0]&&(this.indent+=a.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=a.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=a.length}else{let b=`Not a YAML token: ${a}`;yield*this.pop({type:"error",offset:this.offset,message:b,source:a}),this.offset+=a.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let a=this.peek(1);if("doc-end"===this.type&&(!a||"doc-end"!==a.type)){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!a)return yield*this.stream();switch(a.type){case"document":return yield*this.document(a);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(a);case"block-scalar":return yield*this.blockScalar(a);case"block-map":return yield*this.blockMap(a);case"block-seq":return yield*this.blockSequence(a);case"flow-collection":return yield*this.flowCollection(a);case"doc-end":return yield*this.documentEnd(a)}yield*this.pop()}peek(a){return this.stack[this.stack.length-a]}*pop(a){let b=a??this.stack.pop();if(b)if(0===this.stack.length)yield b;else{let a=this.peek(1);switch("block-scalar"===b.type?b.indent="indent"in a?a.indent:0:"flow-collection"===b.type&&"document"===a.type&&(b.indent=0),"flow-collection"===b.type&&l(b),a.type){case"document":a.value=b;break;case"block-scalar":a.props.push(b);break;case"block-map":{let c=a.items[a.items.length-1];if(c.value){a.items.push({start:[],key:b,sep:[]}),this.onKeyLine=!0;return}if(c.sep)c.value=b;else{Object.assign(c,{key:b,sep:[]}),this.onKeyLine=!c.explicitKey;return}break}case"block-seq":{let c=a.items[a.items.length-1];c.value?a.items.push({start:[],value:b}):c.value=b;break}case"flow-collection":{let c=a.items[a.items.length-1];!c||c.value?a.items.push({start:[],key:b,sep:[]}):c.sep?c.value=b:Object.assign(c,{key:b,sep:[]});return}default:yield*this.pop(),yield*this.pop(b)}if(("document"===a.type||"block-map"===a.type||"block-seq"===a.type)&&("block-map"===b.type||"block-seq"===b.type)){let c=b.items[b.items.length-1];c&&!c.sep&&!c.value&&c.start.length>0&&-1===h(c.start)&&(0===b.indent||c.start.every(a=>"comment"!==a.type||a.indent<b.indent))&&("document"===a.type?a.end=c.start:a.items.push({start:c.start}),b.items.splice(-1,1))}}else{let a="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:a}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let a={type:"document",offset:this.offset,start:[]};"doc-start"===this.type&&a.start.push(this.sourceToken),this.stack.push(a);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(a){if(a.value)return yield*this.lineEnd(a);switch(this.type){case"doc-start":-1!==h(a.start)?(yield*this.pop(),yield*this.step()):a.start.push(this.sourceToken);return;case"anchor":case"tag":case"space":case"comment":case"newline":a.start.push(this.sourceToken);return}let b=this.startBlockValue(a);b?this.stack.push(b):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(a){if("map-value-ind"===this.type){let b,c=k(j(this.peek(2)));a.end?((b=a.end).push(this.sourceToken),delete a.end):b=[this.sourceToken];let d={type:"block-map",offset:a.offset,indent:a.indent,items:[{start:c,key:a,sep:b}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=d}else yield*this.lineEnd(a)}*blockScalar(a){switch(this.type){case"space":case"comment":case"newline":a.props.push(this.sourceToken);return;case"scalar":if(a.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let a=this.source.indexOf("\n")+1;for(;0!==a;)this.onNewLine(this.offset+a),a=this.source.indexOf("\n",a)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(a){let b=a.items[a.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,b.value){let c="end"in b.value?b.value.end:void 0,d=Array.isArray(c)?c[c.length-1]:void 0;d?.type==="comment"?c?.push(this.sourceToken):a.items.push({start:[this.sourceToken]})}else b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"space":case"comment":if(b.value)a.items.push({start:[this.sourceToken]});else if(b.sep)b.sep.push(this.sourceToken);else{if(this.atIndentedComment(b.start,a.indent)){let c=a.items[a.items.length-2],d=c?.value?.end;if(Array.isArray(d)){Array.prototype.push.apply(d,b.start),d.push(this.sourceToken),a.items.pop();return}}b.start.push(this.sourceToken)}return}if(this.indent>=a.indent){let c=!this.onKeyLine&&this.indent===a.indent,d=c&&(b.sep||b.explicitKey)&&"seq-item-ind"!==this.type,e=[];if(d&&b.sep&&!b.value){let c=[];for(let d=0;d<b.sep.length;++d){let e=b.sep[d];switch(e.type){case"newline":c.push(d);break;case"space":break;case"comment":e.indent>a.indent&&(c.length=0);break;default:c.length=0}}c.length>=2&&(e=b.sep.splice(c[1]))}switch(this.type){case"anchor":case"tag":d||b.value?(e.push(this.sourceToken),a.items.push({start:e}),this.onKeyLine=!0):b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"explicit-key-ind":b.sep||b.explicitKey?d||b.value?(e.push(this.sourceToken),a.items.push({start:e,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(b.start.push(this.sourceToken),b.explicitKey=!0),this.onKeyLine=!0;return;case"map-value-ind":if(b.explicitKey)if(b.sep)if(b.value)a.items.push({start:[],key:null,sep:[this.sourceToken]});else if(g(b.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]});else if(i(b.key)&&!g(b.sep,"newline")){let a=k(b.start),c=b.key,d=b.sep;d.push(this.sourceToken),delete b.key,delete b.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:c,sep:d}]})}else e.length>0?b.sep=b.sep.concat(e,this.sourceToken):b.sep.push(this.sourceToken);else if(g(b.start,"newline"))Object.assign(b,{key:null,sep:[this.sourceToken]});else{let a=k(b.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else b.sep?b.value||d?a.items.push({start:e,key:null,sep:[this.sourceToken]}):g(b.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):b.sep.push(this.sourceToken):Object.assign(b,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let c=this.flowScalar(this.type);d||b.value?(a.items.push({start:e,key:c,sep:[]}),this.onKeyLine=!0):b.sep?this.stack.push(c):(Object.assign(b,{key:c,sep:[]}),this.onKeyLine=!0);return}default:{let d=this.startBlockValue(a);if(d){if("block-seq"===d.type){if(!b.explicitKey&&b.sep&&!g(b.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else c&&a.items.push({start:e});this.stack.push(d);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(a){let b=a.items[a.items.length-1];switch(this.type){case"newline":if(b.value){let c="end"in b.value?b.value.end:void 0,d=Array.isArray(c)?c[c.length-1]:void 0;d?.type==="comment"?c?.push(this.sourceToken):a.items.push({start:[this.sourceToken]})}else b.start.push(this.sourceToken);return;case"space":case"comment":if(b.value)a.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(b.start,a.indent)){let c=a.items[a.items.length-2],d=c?.value?.end;if(Array.isArray(d)){Array.prototype.push.apply(d,b.start),d.push(this.sourceToken),a.items.pop();return}}b.start.push(this.sourceToken)}return;case"anchor":case"tag":if(b.value||this.indent<=a.indent)break;b.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==a.indent)break;b.value||g(b.start,"seq-item-ind")?a.items.push({start:[this.sourceToken]}):b.start.push(this.sourceToken);return}if(this.indent>a.indent){let b=this.startBlockValue(a);if(b)return void this.stack.push(b)}yield*this.pop(),yield*this.step()}*flowCollection(a){let b=a.items[a.items.length-1];if("flow-error-end"===this.type){let a;do yield*this.pop(),a=this.peek(1);while(a&&"flow-collection"===a.type)}else if(0===a.end.length){switch(this.type){case"comma":case"explicit-key-ind":!b||b.sep?a.items.push({start:[this.sourceToken]}):b.start.push(this.sourceToken);return;case"map-value-ind":!b||b.value?a.items.push({start:[],key:null,sep:[this.sourceToken]}):b.sep?b.sep.push(this.sourceToken):Object.assign(b,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!b||b.value?a.items.push({start:[this.sourceToken]}):b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let c=this.flowScalar(this.type);!b||b.value?a.items.push({start:[],key:c,sep:[]}):b.sep?this.stack.push(c):Object.assign(b,{key:c,sep:[]});return}case"flow-map-end":case"flow-seq-end":a.end.push(this.sourceToken);return}let c=this.startBlockValue(a);c?this.stack.push(c):(yield*this.pop(),yield*this.step())}else{let b=this.peek(2);if("block-map"!==b.type||("map-value-ind"!==this.type||b.indent!==a.indent)&&("newline"!==this.type||b.items[b.items.length-1].sep))if("map-value-ind"===this.type&&"flow-collection"!==b.type){let c=k(j(b));l(a);let d=a.end.splice(1,a.end.length);d.push(this.sourceToken);let e={type:"block-map",offset:a.offset,indent:a.indent,items:[{start:c,key:a,sep:d}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=e}else yield*this.lineEnd(a);else yield*this.pop(),yield*this.step()}}flowScalar(a){if(this.onNewLine){let a=this.source.indexOf("\n")+1;for(;0!==a;)this.onNewLine(this.offset+a),a=this.source.indexOf("\n",a)+1}return{type:a,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(a){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let b=k(j(a));return b.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let b=k(j(a));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(a,b){return"comment"===this.type&&!(this.indent<=b)&&a.every(a=>"newline"===a.type||"space"===a.type)}*documentEnd(a){"doc-mode"!==this.type&&(a.end?a.end.push(this.sourceToken):a.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(a){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:a.end?a.end.push(this.sourceToken):a.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}b.Parser=m},69774:(a,b,c)=>{"use strict";let d=c(74502);a.exports=(a,b,c)=>d(a,b,">",c)},69955:(a,b,c)=>{"use strict";var d=c(74876),e=c(97167),f=c(83255),g=c(42218),h=c(89390);function i(a,b,c){if(null===b)return"";if("object"!=typeof b)return String(b);if(g.isNode(a)&&c?.doc){let b=f.createStringifyContext(c.doc,{});for(let a of(b.anchors=new Set,c.anchors.keys()))b.anchors.add(a.anchor);b.inFlow=!0,b.inStringifyKey=!0;let e=a.toString(b);if(!c.mapKeyWarned){let a=JSON.stringify(e);a.length>40&&(a=a.substring(0,36)+'..."'),d.warn(c.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),c.mapKeyWarned=!0}return e}return JSON.stringify(b)}b.addPairToJSMap=function(a,b,{key:c,value:d}){if(g.isNode(c)&&c.addToJSMap)c.addToJSMap(a,b,d);else if(e.isMergeKey(a,c))e.addMergeToJSMap(a,b,d);else{let e=h.toJS(c,"",a);if(b instanceof Map)b.set(e,h.toJS(d,e,a));else if(b instanceof Set)b.add(e);else{let f=i(c,e,a),g=h.toJS(d,f,a);f in b?Object.defineProperty(b,f,{value:g,writable:!0,enumerable:!0,configurable:!0}):b[f]=g}}return b}},70149:(a,b,c)=>{"use strict";var d,e;c.d(b,{CR:()=>g,ZS:()=>d,Zp:()=>f,o6:()=>e}),function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(d||(d={})),function(a){a.mergeShapes=(a,b)=>({...a,...b})}(e||(e={}));let f=d.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),g=a=>{switch(typeof a){case"undefined":return f.undefined;case"string":return f.string;case"number":return Number.isNaN(a)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":if(Array.isArray(a))return f.array;if(null===a)return f.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return f.promise;if("undefined"!=typeof Map&&a instanceof Map)return f.map;if("undefined"!=typeof Set&&a instanceof Set)return f.set;if("undefined"!=typeof Date&&a instanceof Date)return f.date;return f.object;default:return f.unknown}}},70387:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FORMAT_BINARY="binary",b.FORMAT_TEXT_MAP="text_map",b.FORMAT_HTTP_HEADERS="http_headers",b.REFERENCE_CHILD_OF="child_of",b.REFERENCE_FOLLOWS_FROM="follows_from"},70410:a=>{"use strict";a.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},70553:(a,b,c)=>{"use strict";b.__esModule=!0;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new d.default('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new d.default(a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),!a[b]&&(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new d.default("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);if(this.current=this.parents.shift(),!this.mutating||b)return b;if(!1!==b)return a}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b.default=e,a.exports=b.default},70604:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GENERIC_IMAGEN_INFO:()=>s,ImagenConfigSchema:()=>o,defineImagenModel:()=>t}),a.exports=i(j);var k=c(6250),l=c(48145),m=c(73396),n=c(83926);let o=k.z.object({numberOfImages:k.z.number().describe("The number of images to generate, from 1 to 4 (inclusive). The default is 1.").optional(),aspectRatio:k.z.enum(["1:1","9:16","16:9","3:4","4:3"]).describe("Desired aspect ratio of the output image.").optional(),personGeneration:k.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional()}).passthrough();function p(a){let b={sampleCount:a.config?.numberOfImages??1,...a?.config};for(let a in b)b[a]||delete b[a];return b}function q(a){return a.messages.at(-1).content.map(a=>a.text||"").join("")}function r(a){return a.messages.at(-1)?.content.find(a=>!!a.media)?.media?.url.split(",")[1]}let s={label:"Google AI - Generic Imagen",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"]}};function t(a,b,c){if(!1!==c&&!(c=c||(0,m.getApiKeyFromEnvVar)()))throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let d=`googleai/${b}`,e=(0,l.modelRef)({name:d,info:{...s,label:`Google AI - ${b}`},configSchema:o});return a.defineModel({name:d,...e.info,configSchema:o},async a=>{let d={prompt:q(a)},f=r(a);f&&(d.image={bytesBase64Encoded:f});let g=(0,n.predictModel)(e.version||b,c,"predict"),h=await g([d],p(a));if(!h.predictions||0==h.predictions.length)throw Error("Model returned no predictions. Possibly due to content filters.");let i={role:"model",content:[]};return h.predictions.forEach((a,b)=>{let c=a.bytesBase64Encoded,d=a.mimeType;i.content.push({media:{url:`data:${d};base64,${c}`,contentType:d}})}),{finishReason:"stop",message:i,usage:(0,l.getBasicUsageStats)(a.messages,i),custom:h}})}},71367:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;let e=c(96535),f=c(38006);function g(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||o(a,`unknown keyword: "${c}"`)}function h(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function i(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function j(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function k({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(f,g,h,i)=>{let j=void 0===h?g:h instanceof e.Name?(g instanceof e.Name?a(f,g,h):b(f,g,h),h):g instanceof e.Name?(b(f,h,g),g):c(g,h);return i!==e.Name||j instanceof e.Name?j:d(f,j)}}function l(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,e._)`{}`);return void 0!==b&&m(a,c,b),c}function m(a,b,c){Object.keys(c).forEach(c=>a.assign((0,e._)`${b}${(0,e.getProperty)(c)}`,!0))}b.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},b.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(g(a,b),!h(b,a.self.RULES.all))},b.checkUnknownRules=g,b.schemaHasRules=h,b.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},b.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,f){if(!f){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,e._)`${c}`}return(0,e._)`${a}${b}${(0,e.getProperty)(d)}`},b.unescapeFragment=function(a){return j(decodeURIComponent(a))},b.escapeFragment=function(a){return encodeURIComponent(i(a))},b.escapeJsonPointer=i,b.unescapeJsonPointer=j,b.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},b.mergeEvaluated={props:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,e._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,e._)`${c} || {}`).code((0,e._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,e._)`${c} || {}`),m(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:l}),items:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,e._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>a.assign(c,!0===b||(0,e._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},b.evaluatedPropsToName=l,b.setEvaluated=m;let n={};function o(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}b.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:n[b.code]||(n[b.code]=new f._Code(b.code))})},function(a){a[a.Num=0]="Num",a[a.Str=1]="Str"}(d||(b.Type=d={})),b.getErrorPath=function(a,b,c){if(a instanceof e.Name){let f=b===d.Num;return c?f?(0,e._)`"[" + ${a} + "]"`:(0,e._)`"['" + ${a} + "']"`:f?(0,e._)`"/" + ${a}`:(0,e._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,e.getProperty)(a).toString():"/"+i(a)},b.checkStrictMode=o},71635:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c=!1)=>{if(a instanceof d)return a;try{return new d(a,b)}catch(a){if(!c)return null;throw a}}},71639:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{defineDynamicActionProvider:()=>o,isDynamicActionProvider:()=>m}),a.exports=i(j);var k=c(24275);class l{value;expiresAt;ttlMillis;dap;dapFn;fetchPromise=null;constructor(a,b,c){this.dap=a,this.dapFn=c,this.ttlMillis=b.cacheConfig?.ttlMillis?b.cacheConfig?.ttlMillis:3e3}async getOrFetch(){return!this.value||!this.expiresAt||this.ttlMillis<0||Date.now()>this.expiresAt?(this.fetchPromise||(this.fetchPromise=(async()=>{try{return this.value=await this.dapFn(),this.expiresAt=Date.now()+this.ttlMillis,this.dap.run(this.value),this.value}catch(a){throw console.error("Error fetching Dynamic Action Provider value:",a),this.invalidate(),a}finally{this.fetchPromise=null}})()),await this.fetchPromise):this.value}invalidate(){this.value=void 0}}function m(a){return a.__action?.metadata?.type=="dynamic-action-provider"}function n(a){let b={};for(let c of Object.keys(a))b[c]=a[c].map(a=>a.__action);return b}function o(a,b,c){let d;d="string"==typeof b?{name:b}:{...b};let e=(0,k.defineAction)(a,{...d,actionType:"dynamic-action-provider",metadata:{...d.metadata||{},type:"dynamic-action-provider"}},async(a,b)=>n(a));return p(e,d,c),e}function p(a,b,c){a.__cache=new l(a,b,c),a.invalidateCache=()=>{a.__cache.invalidate()},a.getAction=async(b,c)=>{let d=await a.__cache.getOrFetch();if(d[b])return d[b].find(a=>a.__action.name==c)},a.listActionMetadata=async(b,c)=>{let d=await a.__cache.getOrFetch();if(!d[b])return[];let e=d[b].map(a=>a.__action);if("*"==c)return e;if(c.endsWith("*")){let a=c.slice(0,-1);return e.filter(b=>b.name.startsWith(a))}return e.filter(a=>a.name==c)}}},71650:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367),f=c(55423),g=c(25967);b.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},71780:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,b);return c?c.version:null}},71878:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},g={message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`};b.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:g,code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},71918:(a,b,c)=>{"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}b.__esModule=!0,d.prototype=new(function(a){return a&&a.__esModule?a:{default:a}}(c(70553))).default,d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b.default=d,a.exports=b.default},72125:(a,b,c)=>{"use strict";var d=c(85467),e=c(69955),f=c(87928),g=c(42218),h=c(74648),i=c(8408);function j(a,b){let c=g.isScalar(b)?b.value:b;for(let d of a)if(g.isPair(d)&&(d.key===b||d.key===c||g.isScalar(d.key)&&d.key.value===c))return d}class k extends f.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(a){super(g.MAP,a),this.items=[]}static from(a,b,c){let{keepUndefined:d,replacer:e}=c,f=new this(a),g=(a,g)=>{if("function"==typeof e)g=e.call(b,a,g);else if(Array.isArray(e)&&!e.includes(a))return;(void 0!==g||d)&&f.items.push(h.createPair(a,g,c))};if(b instanceof Map)for(let[a,c]of b)g(a,c);else if(b&&"object"==typeof b)for(let a of Object.keys(b))g(a,b[a]);return"function"==typeof a.sortMapEntries&&f.items.sort(a.sortMapEntries),f}add(a,b){let c;c=g.isPair(a)?a:a&&"object"==typeof a&&"key"in a?new h.Pair(a.key,a.value):new h.Pair(a,a?.value);let d=j(this.items,c.key),e=this.schema?.sortMapEntries;if(d){if(!b)throw Error(`Key ${c.key} already set`);g.isScalar(d.value)&&i.isScalarValue(c.value)?d.value.value=c.value:d.value=c.value}else if(e){let a=this.items.findIndex(a=>0>e(c,a));-1===a?this.items.push(c):this.items.splice(a,0,c)}else this.items.push(c)}delete(a){let b=j(this.items,a);return!!b&&this.items.splice(this.items.indexOf(b),1).length>0}get(a,b){let c=j(this.items,a),d=c?.value;return(!b&&g.isScalar(d)?d.value:d)??void 0}has(a){return!!j(this.items,a)}set(a,b){this.add(new h.Pair(a,b),!0)}toJSON(a,b,c){let d=c?new c:b?.mapAsMap?new Map:{};for(let a of(b?.onCreate&&b.onCreate(d),this.items))e.addPairToJSMap(b,d,a);return d}toString(a,b,c){if(!a)return JSON.stringify(this);for(let a of this.items)if(!g.isPair(a))throw Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!a.allNullValues&&this.hasAllNullValues(!1)&&(a=Object.assign({},a,{allNullValues:!0})),d.stringifyCollection(this,a,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:a.indent||"",onChompKeep:c,onComment:b})}}b.YAMLMap=k,b.findPair=j},72204:(a,b,c)=>{"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0}),b.BinaryCarrier=c(52298).default,b.Tags=c(46923);var e=c(58704);b.Reference=c(95291).default,b.Span=c(86224).default,b.SpanContext=c(11108).default,b.Tracer=c(38623).Tracer,b.MockTracer=c(8919).MockTracer,d(c(84183)),d(c(70387)),d(c(12383)),e.initialize()},72300:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j=a=>h(d({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(k,{BaseDataPointSchema:()=>o.BaseDataPointSchema,Document:()=>m.Document,DocumentDataSchema:()=>m.DocumentDataSchema,EvalStatusEnum:()=>o.EvalStatusEnum,GenerateResponse:()=>p.GenerateResponse,GenerateResponseChunk:()=>p.GenerateResponseChunk,GenerateResponseChunkSchema:()=>r.GenerateResponseChunkSchema,GenerationBlockedError:()=>p.GenerationBlockedError,GenerationCommonConfigSchema:()=>r.GenerationCommonConfigSchema,GenerationResponseError:()=>p.GenerationResponseError,Message:()=>q.Message,MessageSchema:()=>r.MessageSchema,ModelRequestSchema:()=>r.ModelRequestSchema,ModelResponseSchema:()=>r.ModelResponseSchema,PartSchema:()=>r.PartSchema,ResourceInputSchema:()=>u.ResourceInputSchema,ResourceOutputSchema:()=>u.ResourceOutputSchema,RoleSchema:()=>r.RoleSchema,ToolInterruptError:()=>w.ToolInterruptError,asTool:()=>w.asTool,checkOperation:()=>l.checkOperation,defineHelper:()=>s.defineHelper,defineInterrupt:()=>w.defineInterrupt,definePartial:()=>s.definePartial,definePrompt:()=>s.definePrompt,defineResource:()=>u.defineResource,defineTool:()=>w.defineTool,dynamicResource:()=>u.dynamicResource,embed:()=>n.embed,embedderActionMetadata:()=>n.embedderActionMetadata,embedderRef:()=>n.embedderRef,evaluate:()=>o.evaluate,evaluatorRef:()=>o.evaluatorRef,generate:()=>p.generate,generateOperation:()=>p.generateOperation,generateStream:()=>p.generateStream,index:()=>v.index,indexerRef:()=>v.indexerRef,interrupt:()=>w.interrupt,isDynamicResourceAction:()=>u.isDynamicResourceAction,isExecutablePrompt:()=>s.isExecutablePrompt,loadPromptFolder:()=>s.loadPromptFolder,modelActionMetadata:()=>r.modelActionMetadata,modelRef:()=>r.modelRef,prompt:()=>s.prompt,rerank:()=>t.rerank,rerankerRef:()=>t.rerankerRef,resource:()=>u.resource,retrieve:()=>v.retrieve,retrieverRef:()=>v.retrieverRef,tagAsPreamble:()=>p.tagAsPreamble,toGenerateRequest:()=>p.toGenerateRequest}),a.exports=j(k);var l=c(13852),m=c(25399),n=c(13672),o=c(37719),p=c(67113),q=c(20689),r=c(95403),s=c(67842),t=c(68448),u=c(84596),v=c(1998),w=c(50438);i(k,c(4607),a.exports)},72447:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b,c){if(!(this instanceof h))return new h(a,b);if("object"==typeof a&&(b=a,a=null),c=c||{},this.cons=a||Object,this.fields=[],Array.isArray(b))this.fields.push.apply(this.fields,b);else{var d,e=Object.keys(b);for(d=0;d<e.length;++d){var f={};f.name=e[d],f.rw=b[f.name],this.fields.push(f)}}for(d=0,this.namedFields={};d<this.fields.length;++d)this.fields[d].name&&(this.namedFields[this.fields[d].name]=this.fields[d])}d(h,f),h.prototype.poolByteLength=function(a,b){for(var c=0,d=0;d<this.fields.length;d++){var e=this.fields[d];if(e.name&&!b.hasOwnProperty(e.name))return a.reset(g.MissingStructField({field:e.name,struct:this.cons.name}),null);var f=e.name&&b&&b[e.name];if(e.call)if(e.call.poolByteLength)e.call.poolByteLength(a,b);else{if(!e.call.byteLength)continue;var h=e.call.byteLength(b);a.copyFrom(h)}else e.rw.poolByteLength(a,f);if(a.err)return a;c+=a.length}return a.reset(null,c)},h.prototype.poolWriteInto=function(a,b,c,d){a.reset(null,d);for(var e=0;e<this.fields.length;e++){var f=this.fields[e];if(f.name&&!b.hasOwnProperty(f.name))return a.reset(g.MissingStructField({field:f.name,struct:this.cons.name}),null);var h=f.name&&b[f.name];if(f.call)if(f.call.poolWriteInto)f.call.poolWriteInto(a,b,c,d);else{if(!f.call.writeInto)continue;var i=f.call.writeInto(b,c,d);a.copyFrom(i)}else f.rw.poolWriteInto(a,h,c,d);if(a.err)break;d=a.offset}return a};var i=new e;h.prototype.poolReadFrom=function(a,b,c){"object"==typeof a.value&&null!==a.value?a.value.constructor!==this.cons&&(a.value=new this.cons):a.value=new this.cons;for(var d=0;d<this.fields.length;d++){var e=this.fields[d];if(e.call)if(e.call.poolReadFrom)e.call.poolReadFrom(i,a.value,b,c);else{if(!e.call.readFrom)continue;var f=e.call.readFrom(a.value,b,c);i.copyFrom(f)}else e.rw.poolReadFrom(i,b,c);if(i.err)return a.copyFrom(i);c=i.offset,e.name&&(a.value[e.name]=i.value)}return a.reset(null,c,a.value)}},72486:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a},g=a=>f(b({},"__esModule",{value:!0}),a),h={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(h,{CONTEXT_CACHE_SUPPORTED_MODELS:()=>i,DEFAULT_TTL:()=>k,INVALID_ARGUMENT_MESSAGES:()=>j}),a.exports=g(h);let i=["gemini-1.5-flash-001","gemini-1.5-pro-001"],j={modelVersion:`Model version is required for context caching, supported only in ${i.join(",")} models.`,tools:"Context caching cannot be used simultaneously with tools.",codeExecution:"Context caching cannot be used simultaneously with code execution."},k=300},72626:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(26469),b)},72693:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var d=c(18601);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=c(53864);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=c(42945),g=c(53910),h=c(30115),i=c(59938),j=c(53864),k=c(50398),l=c(39279),m=c(59762),n=c(70410),o=c(46963),p=(a,b)=>new RegExp(a,b);p.code="new RegExp";let q=["removeAdditional","useDefaults","coerceTypes"],r=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},t={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},u=200;function v(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,q,r,s,t,v,w,x,y,z,A,B,C;let D=a.strict,E=null==(b=a.code)?void 0:b.optimize,F=!0===E||void 0===E?1:E||0,G=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:p,H=null!=(e=a.uriResolver)?e:o.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:D)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:D)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:D)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:D)?m:"log",strictRequired:null!=(q=null!=(n=a.strictRequired)?n:D)&&q,code:a.code?{...a.code,optimize:F,regExp:G}:{optimize:F,regExp:G},loopRequired:null!=(r=a.loopRequired)?r:u,loopEnum:null!=(s=a.loopEnum)?s:u,meta:null==(t=a.meta)||t,messages:null==(v=a.messages)||v,inlineRefs:null==(w=a.inlineRefs)||w,schemaId:null!=(x=a.schemaId)?x:"$id",addUsedSchema:null==(y=a.addUsedSchema)||y,validateSchema:null==(z=a.validateSchema)||z,validateFormats:null==(A=a.validateFormats)||A,unicodeRegExp:null==(B=a.unicodeRegExp)||B,int32range:null==(C=a.int32range)||C,uriResolver:H}}class w{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...v(a)};let{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:r,es5:b,lines:c}),this.logger=E(a.logger);let d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),x.call(this,s,a,"NOT SUPPORTED"),x.call(this,t,a,"DEPRECATED","warn"),this._metaOpts=C.call(this),a.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&B.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),z.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=n;"id"===c&&((d={...n}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=y.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=y.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{let b=a;this._cache.delete(b);let c=a[this.opts.schemaId];return c&&(c=(0,k.normalizeId)(c),delete this.schemas[c],delete this.refs[c]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(G.call(this,c,b),!b)return(0,m.eachItem)(c,a=>H.call(this,a)),this;J.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>H.call(this,a,d):a=>d.type.forEach(b=>H.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=L(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function x(a,b,c,d="error"){for(let e in a){let f=e;f in b&&this.logger[d](`${c}: option ${e}. ${a[f]}`)}}function y(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function z(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function A(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function B(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function C(){let a={...this.opts};for(let b of q)delete a[b];return a}w.ValidationError=f.default,w.MissingRefError=g.default,b.default=w;let D={log(){},warn(){},error(){}};function E(a){if(!1===a)return D;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}let F=/^[a-z_$][a-z0-9_$:-]*$/i;function G(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!F.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function H(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?I.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function I(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function J(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=L(b)),a.validateSchema=this.compile(b,!0))}let K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(a){return{anyOf:[a,K]}}},73022:(a,b,c)=>{"use strict";var d=c(61710).h,e=c(1134);function f(a){return"function"==typeof a?a:function(b){return d(b,a)}}a.exports=function a(a,b){var c=f((b=b||{}).errorColor||"red+bold"),d=void 0!==a.offset&&null!==a.offset,g=void 0!==a.endOffset&&null!==a.endOffset,h=!1;if(!d)return null;if(g)return i;return j;function i(b,d,f){return b===a.offset?(h=b!==a.endOffset-1,c(e(f))):b===a.endOffset-1?(h=!1,c(e(f))):h?c(e(f)):f}function j(b,d,f){return b===a.offset?c(e(f)):f}}},73076:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseLiteralDef=void 0,b.parseLiteralDef=function(a,b){let c=typeof a.value;return"bigint"!==c&&"number"!==c&&"boolean"!==c&&"string"!==c?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===b.target?{type:"bigint"===c?"integer":c,enum:[a.value]}:{type:"bigint"===c?"integer":c,const:a.value}}},73174:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},73355:a=>{a.exports=c;var b=Object.prototype.hasOwnProperty;function c(a){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)b.call(d,e)&&(a[e]=d[e])}return a}},73396:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{getApiKeyFromEnvVar:()=>p,getGenkitClientHeader:()=>q}),a.exports=l(m);var n=c(6250),o=k(c(19771));function p(){return o.default.env.GEMINI_API_KEY||o.default.env.GOOGLE_API_KEY||o.default.env.GOOGLE_GENAI_API_KEY}function q(){return"true"==o.default.env.MONOSPACE_ENV?(0,n.getClientHeader)()+" firebase-studio-vm":(0,n.getClientHeader)()}},73475:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterceptingCall=b.RequesterBuilder=b.ListenerBuilder=b.InterceptorConfigurationError=void 0,b.getInterceptingCall=s;let d=c(33604),e=c(13685),f=c(56458),g=c(52291);class h extends Error{constructor(a){super(a),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,h)}}b.InterceptorConfigurationError=h;class i{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveStatus(a){return this.status=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}b.ListenerBuilder=i;class j{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(a){return this.start=a,this}withSendMessage(a){return this.message=a,this}withHalfClose(a){return this.halfClose=a,this}withCancel(a){return this.cancel=a,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}b.RequesterBuilder=j;let k={onReceiveMetadata:(a,b)=>{b(a)},onReceiveMessage:(a,b)=>{b(a)},onReceiveStatus:(a,b)=>{b(a)}},l={start:(a,b,c)=>{c(a,b)},sendMessage:(a,b)=>{b(a)},halfClose:a=>{a()},cancel:a=>{a()}};class m{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,b?this.requester={start:null!=(c=b.start)?c:l.start,sendMessage:null!=(d=b.sendMessage)?d:l.sendMessage,halfClose:null!=(e=b.halfClose)?e:l.halfClose,cancel:null!=(f=b.cancel)?f:l.cancel}:this.requester=l}cancelWithStatus(a,b){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(a,b)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(a,b){var c,d,f,g,h,i;let j={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:null!=(g=null==(f=null==b?void 0:b.onReceiveMessage)?void 0:f.bind(b))?g:a=>{},onReceiveStatus:null!=(i=null==(h=null==b?void 0:b.onReceiveStatus)?void 0:h.bind(b))?i:a=>{}};this.processingMetadata=!0,this.requester.start(a,j,(a,b)=>{var c,d,f;let g;if(this.processingMetadata=!1,(0,e.isInterceptingListener)(b))g=b;else{let a={onReceiveMetadata:null!=(c=b.onReceiveMetadata)?c:k.onReceiveMetadata,onReceiveMessage:null!=(d=b.onReceiveMessage)?d:k.onReceiveMessage,onReceiveStatus:null!=(f=b.onReceiveStatus)?f:k.onReceiveStatus};g=new e.InterceptingListenerImpl(a,j)}this.nextCall.start(a,g),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(a,b){this.processingMessage=!0,this.requester.sendMessage(b,c=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=a,this.pendingMessage=b):(this.nextCall.sendMessageWithContext(a,c),this.processPendingHalfClose())})}sendMessage(a){this.sendMessageWithContext({},a)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}getAuthContext(){return this.nextCall.getAuthContext()}}function n(a,b,c){var d,e;let f=null!=(d=c.deadline)?d:1/0,g=c.host,h=null!=(e=c.parent)?e:null,i=c.propagate_flags,j=c.credentials,k=a.createCall(b,f,g,h,i);return j&&k.setCredentials(j),k}b.InterceptingCall=m;class o{constructor(a,b){this.call=a,this.methodDefinition=b}cancelWithStatus(a,b){this.call.cancelWithStatus(a,b)}getPeer(){return this.call.getPeer()}sendMessageWithContext(a,b){let c;try{c=this.methodDefinition.requestSerialize(b)}catch(a){this.call.cancelWithStatus(f.Status.INTERNAL,`Request message serialization failure: ${(0,g.getErrorMessage)(a)}`);return}this.call.sendMessageWithContext(a,c)}sendMessage(a){this.sendMessageWithContext({},a)}start(a,b){let c=null;this.call.start(a,{onReceiveMetadata:a=>{var c;null==(c=null==b?void 0:b.onReceiveMetadata)||c.call(b,a)},onReceiveMessage:a=>{var e;let h;try{h=this.methodDefinition.responseDeserialize(a)}catch(a){c={code:f.Status.INTERNAL,details:`Response message parsing error: ${(0,g.getErrorMessage)(a)}`,metadata:new d.Metadata},this.call.cancelWithStatus(c.code,c.details);return}null==(e=null==b?void 0:b.onReceiveMessage)||e.call(b,h)},onReceiveStatus:a=>{var d,e;c?null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,c):null==(e=null==b?void 0:b.onReceiveStatus)||e.call(b,a)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}getAuthContext(){return this.call.getAuthContext()}}class p extends o{constructor(a,b){super(a,b)}start(a,b){var c,d;let e=!1,f={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:a=>{var c;e=!0,null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,a)},onReceiveStatus:a=>{var c,d;e||null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,null),null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,a)}};super.start(a,f),this.call.startRead()}}class q extends o{}function r(a,b,c){let d=n(a,c.path,b);return c.responseStream?new q(d,c):new p(d,c)}function s(a,b,c,d){if(a.clientInterceptors.length>0&&a.clientInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(a.callInterceptors.length>0&&a.callInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let e=[];e=a.callInterceptors.length>0||a.callInterceptorProviders.length>0?[].concat(a.callInterceptors,a.callInterceptorProviders.map(a=>a(b))).filter(a=>a):[].concat(a.clientInterceptors,a.clientInterceptorProviders.map(a=>a(b))).filter(a=>a);let f=Object.assign({},c,{method_definition:b});return e.reduceRight((a,b)=>c=>b(c,a),a=>r(d,a,b))(f)}},73501:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AbstractAsyncHooksContextManager=void 0;let d=c(94735),e=["addListener","on","once","prependListener","prependOnceListener"];class f{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(a,b){return b instanceof d.EventEmitter?this._bindEventEmitter(a,b):"function"==typeof b?this._bindFunction(a,b):b}_bindFunction(a,b){let c=this,d=function(...d){return c.with(a,()=>b.apply(this,d))};return Object.defineProperty(d,"length",{enumerable:!1,configurable:!0,writable:!1,value:b.length}),d}_bindEventEmitter(a,b){return void 0!==this._getPatchMap(b)||(this._createPatchMap(b),e.forEach(c=>{void 0!==b[c]&&(b[c]=this._patchAddListener(b,b[c],a))}),"function"==typeof b.removeListener&&(b.removeListener=this._patchRemoveListener(b,b.removeListener)),"function"==typeof b.off&&(b.off=this._patchRemoveListener(b,b.off)),"function"==typeof b.removeAllListeners&&(b.removeAllListeners=this._patchRemoveAllListeners(b,b.removeAllListeners))),b}_patchRemoveListener(a,b){let c=this;return function(d,e){var f;let g=null==(f=c._getPatchMap(a))?void 0:f[d];if(void 0===g)return b.call(this,d,e);let h=g.get(e);return b.call(this,d,h||e)}}_patchRemoveAllListeners(a,b){let c=this;return function(d){let e=c._getPatchMap(a);return void 0!==e&&(0==arguments.length?c._createPatchMap(a):void 0!==e[d]&&delete e[d]),b.apply(this,arguments)}}_patchAddListener(a,b,c){let d=this;return function(e,f){if(d._wrapped)return b.call(this,e,f);let g=d._getPatchMap(a);void 0===g&&(g=d._createPatchMap(a));let h=g[e];void 0===h&&(h=new WeakMap,g[e]=h);let i=d.bind(c,f);h.set(f,i),d._wrapped=!0;try{return b.call(this,e,i)}finally{d._wrapped=!1}}}_createPatchMap(a){let b=Object.create(null);return a[this._kOtListeners]=b,b}_getPatchMap(a){return a[this._kOtListeners]}}b.AbstractAsyncHooksContextManager=f},73816:(a,b,c)=>{"use strict";c.d(b,{D:()=>i});var d=c(29021),e=c(79361),f=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},g=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},h=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(){return f(this,void 0,void 0,function(){var a,b,c,f,i,j,k;return g(this,function(g){switch(g.label){case 0:a=["/etc/machine-id","/var/lib/dbus/machine-id"],g.label=1;case 1:g.trys.push([1,8,9,10]),c=(b=h(a)).next(),g.label=2;case 2:if(c.done)return[3,7];f=c.value,g.label=3;case 3:return g.trys.push([3,5,,6]),[4,d.promises.readFile(f,{encoding:"utf8"})];case 4:return[2,g.sent().trim()];case 5:return i=g.sent(),e.s.debug("error reading machine id: "+i),[3,6];case 6:return c=b.next(),[3,2];case 7:return[3,10];case 8:return j={error:g.sent()},[3,10];case 9:try{c&&!c.done&&(k=b.return)&&k.call(b)}finally{if(j)throw j.error}return[7];case 10:return[2,""]}})})}},73838:(a,b,c)=>{"use strict";var d=c(74648),e=c(72125),f=c(68042),g=c(27714),h=c(62806),i=c(17342);let j="All mapping items must start at the same column";b.resolveBlockMap=function({composeNode:a,composeEmptyNode:b},c,k,l,m){let n=new(m?.nodeClass??e.YAMLMap)(c.schema);c.atRoot&&(c.atRoot=!1);let o=k.offset,p=null;for(let e of k.items){let{start:m,key:q,sep:r,value:s}=e,t=f.resolveProps(m,{indicator:"explicit-key-ind",next:q??r?.[0],offset:o,onError:l,parentIndent:k.indent,startOnNewline:!0}),u=!t.found;if(u){if(q&&("block-seq"===q.type?l(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in q&&q.indent!==k.indent&&l(o,"BAD_INDENT",j)),!t.anchor&&!t.tag&&!r){p=t.end,t.comment&&(n.comment?n.comment+="\n"+t.comment:n.comment=t.comment);continue}(t.newlineAfterProp||g.containsNewline(q))&&l(q??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else t.found?.indent!==k.indent&&l(o,"BAD_INDENT",j);c.atKey=!0;let v=t.end,w=q?a(c,q,t,l):b(c,v,m,null,t,l);c.schema.compat&&h.flowIndentCheck(k.indent,q,l),c.atKey=!1,i.mapIncludes(c,n.items,w)&&l(v,"DUPLICATE_KEY","Map keys must be unique");let x=f.resolveProps(r??[],{indicator:"map-value-ind",next:s,offset:w.range[2],onError:l,parentIndent:k.indent,startOnNewline:!q||"block-scalar"===q.type});if(o=x.end,x.found){u&&(s?.type!=="block-map"||x.hasNewline||l(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),c.options.strict&&t.start<x.found.offset-1024&&l(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let f=s?a(c,s,x,l):b(c,o,r,null,x,l);c.schema.compat&&h.flowIndentCheck(k.indent,s,l),o=f.range[2];let g=new d.Pair(w,f);c.options.keepSourceTokens&&(g.srcToken=e),n.items.push(g)}else{u&&l(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(w.comment?w.comment+="\n"+x.comment:w.comment=x.comment);let a=new d.Pair(w);c.options.keepSourceTokens&&(a.srcToken=e),n.items.push(a)}}return p&&p<o&&l(p,"IMPOSSIBLE","Map comment with trailing content"),n.range=[k.offset,o,p??o],n}},74029:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseFilter=void 0;class c{async sendMetadata(a){return a}receiveMetadata(a){return a}async sendMessage(a){return a}async receiveMessage(a){return a}receiveTrailers(a){return a}}b.BaseFilter=c},74361:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBooleanDef=void 0,b.parseBooleanDef=function(){return{type:"boolean"}}},74389:a=>{"use strict";a.exports=function a(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}},74502:(a,b,c)=>{"use strict";let d=c(78871),e=c(50403),{ANY:f}=e,g=c(24346),h=c(32665),i=c(85327),j=c(59366),k=c(97579),l=c(94764);a.exports=(a,b,c,m)=>{let n,o,p,q,r;switch(a=new d(a,m),b=new g(b,m),c){case">":n=i,o=k,p=j,q=">",r=">=";break;case"<":n=j,o=l,p=i,q="<",r="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(h(a,b,m))return!1;for(let c=0;c<b.set.length;++c){let d=b.set[c],g=null,h=null;if(d.forEach(a=>{a.semver===f&&(a=new e(">=0.0.0")),g=g||a,h=h||a,n(a.semver,g.semver,m)?g=a:p(a.semver,h.semver,m)&&(h=a)}),g.operator===q||g.operator===r||(!h.operator||h.operator===q)&&o(a,h.semver)||h.operator===r&&p(a,h.semver))return!1}return!0}},74648:(a,b,c)=>{"use strict";var d=c(14755),e=c(54147),f=c(69955),g=c(42218);function h(a,b,c){return new i(d.createNode(a,void 0,c),d.createNode(b,void 0,c))}class i{constructor(a,b=null){Object.defineProperty(this,g.NODE_TYPE,{value:g.PAIR}),this.key=a,this.value=b}clone(a){let{key:b,value:c}=this;return g.isNode(b)&&(b=b.clone(a)),g.isNode(c)&&(c=c.clone(a)),new i(b,c)}toJSON(a,b){let c=b?.mapAsMap?new Map:{};return f.addPairToJSMap(b,c,this)}toString(a,b,c){return a?.doc?e.stringifyPair(this,a,b,c):JSON.stringify(this)}}b.Pair=i,b.createPair=h},74718:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(66182),f=d(c(99008)),g=c(80496),h=d(c(28199));function i(a){this.value=a}function j(){}function k(a,b,c,d,e){var f=b.popStack(),g=c.length;for(a&&g--;d<g;d++)f=b.nameLookup(f,c[d],e);return a?[b.aliasable("container.strict"),"(",f,", ",b.quotedString(c[d]),", ",JSON.stringify(b.source.currentLocation)," )"]:f}j.prototype={nameLookup:function(a,b){return this.internalNameLookup(a,b)},depthedLookup:function(a){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(a),")"]},compilerInfo:function(){var a=e.COMPILER_REVISION,b=e.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return(g.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple)?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(a,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",a,",",JSON.stringify(b),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,g=void 0,h=void 0,i=void 0,j=void 0;for(i=0,j=e.length;i<j;i++)g=e[i],this.source.currentLocation=g.loc,h=h||g.loc,this[g.opcode].apply(this,g.args);if(this.source.currentLocation=h,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(i=0,j=n.length;i<j;i++)n[i]&&(l[i]=n[i],o[i]&&(l[i+"_d"]=o[i],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName})).map=l.map&&l.map.toString():l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new h.default(this.options.srcName),this.decorators=new h.default(this.options.srcName)},createFunctionContext:function(a){var b=this,c="",d=this.stackVars.concat(this.registers.list);d.length>0&&(c+=", "+d.join(", "));var e=0;Object.keys(this.aliases).forEach(function(a){var d=b.aliases[a];d.children&&d.referenceCount>1&&(c+=", alias"+ ++e+"="+a,d.children[0]="alias"+e)}),this.lookupPropertyFunctionIsUsed&&(c+=", "+this.lookupPropertyFunctionVarDeclaration());var f=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&f.push("blockParams"),this.useDepths&&f.push("depths");var g=this.mergeSource(c);return a?(f.push(g),Function.apply(this,f)):this.source.wrap(["function(",f.join(","),") {\n  ",g,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(a){var b=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(k(this.options.strict&&e,this,b,c,a));for(var g=b.length;c<g;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=[];c&&f.push(e.name),f.push(d),this.options.strict||f.push(this.aliasable("container.hooks.helperMissing"));var g=["(",this.itemsSeparatedBy(f,"||"),")"],h=this.source.functionCall(g,"call",e.callParams);this.push(h)},itemsSeparatedBy:function(a,b){var c=[];c.push(a[0]);for(var d=1;d<a.length;d++)c.push(b,a[d]);return c},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",c,")"];this.options.strict||(e[0]="(helper = ",e.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",e,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:j,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof i||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new i(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,e=void 0;if(!this.isInline())throw new f.default("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof i)b=["(",c=[g.value]],e=!0;else{d=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var j=a.call(this,c);e||this.popStack(),d&&this.stackSlot--,this.push(b.concat(j,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d instanceof i)this.compileStack.push(d);else{var e=this.incrStack();this.pushSource([e," = ",d,";"]),this.compileStack.push(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof i)return c.value;if(!b){if(!this.stackSlot)throw new f.default("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof i?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?b.referenceCount++:((b=this.aliases[a]=this.source.wrap(a)).aliasable=!0,b.referenceCount=1),b},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c);return{params:d,paramsInit:e,name:this.nameLookup("helpers",b,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return(e.loc=JSON.stringify(this.source.currentLocation),e=this.objectLiteral(e),d)?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=j.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),j.isValidJavaScriptVariableName=function(a){return!j.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b.default=j,a.exports=b.default},74781:function(a,b){var c;!function(d,e){function f(a){return a.default||a}void 0===(c=(function(){var a={};return e(a),f(a)}).apply(b,[]))||(a.exports=c)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var b=null;try{b=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function c(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}function d(a){return!0===(a&&a.__isLong__)}function e(a){var b=Math.clz32(a&-a);return a?31-b:b}c.prototype.__isLong__,Object.defineProperty(c.prototype,"__isLong__",{value:!0}),c.isLong=d;var f={},g={};function h(a,b){var c,d,e;if(b)return(a>>>=0,(e=0<=a&&a<256)&&(d=g[a]))?d:(c=j(a,0,!0),e&&(g[a]=c),c);return(a|=0,(e=-128<=a&&a<128)&&(d=f[a]))?d:(c=j(a,a<0?-1:0,!1),e&&(f[a]=c),c)}function i(a,b){if(isNaN(a))return b?s:r;if(b){if(a<0)return s;if(a>=o)return x}else{if(a<=-p)return y;if(a+1>=p)return w}return a<0?i(-a,b).neg():j(a%n|0,a/n|0,b)}function j(a,b,d){return new c(a,b,d)}c.fromInt=h,c.fromNumber=i,c.fromBits=j;var k=Math.pow;function l(a,b,c){if(0===a.length)throw Error("empty string");if("number"==typeof b?(c=b,b=!1):b=!!b,"NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return b?s:r;if((c=c||10)<2||36<c)throw RangeError("radix");if((d=a.indexOf("-"))>0)throw Error("interior hyphen");if(0===d)return l(a.substring(1),b,c).neg();for(var d,e=i(k(c,8)),f=r,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),j=parseInt(a.substring(g,g+h),c);if(h<8){var m=i(k(c,h));f=f.mul(m).add(i(j))}else f=(f=f.mul(e)).add(i(j))}return f.unsigned=b,f}function m(a,b){return"number"==typeof a?i(a,b):"string"==typeof a?l(a,b):j(a.low,a.high,"boolean"==typeof b?b:a.unsigned)}c.fromString=l,c.fromValue=m;var n=0x100000000,o=0xffffffffffffffff,p=0x8000000000000000,q=h(0x1000000),r=h(0);c.ZERO=r;var s=h(0,!0);c.UZERO=s;var t=h(1);c.ONE=t;var u=h(1,!0);c.UONE=u;var v=h(-1);c.NEG_ONE=v;var w=j(-1,0x7fffffff,!1);c.MAX_VALUE=w;var x=j(-1,-1,!0);c.MAX_UNSIGNED_VALUE=x;var y=j(0,-0x80000000,!1);c.MIN_VALUE=y;var z=c.prototype;z.toInt=function(){return this.unsigned?this.low>>>0:this.low},z.toNumber=function(){return this.unsigned?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},z.toString=function(a){if((a=a||10)<2||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(y))return"-"+this.neg().toString(a);else{var b=i(a),c=this.div(b),d=c.mul(b).sub(this);return c.toString(a)+d.toInt().toString(a)}for(var e=i(k(a,6),this.unsigned),f=this,g="";;){var h=f.div(e),j=(f.sub(h.mul(e)).toInt()>>>0).toString(a);if((f=h).isZero())return j+g;for(;j.length<6;)j="0"+j;g=""+j+g}},z.getHighBits=function(){return this.high},z.getHighBitsUnsigned=function(){return this.high>>>0},z.getLowBits=function(){return this.low},z.getLowBitsUnsigned=function(){return this.low>>>0},z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(y)?64:this.neg().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;b>0&&(a&1<<b)==0;b--);return 0!=this.high?b+33:b+1},z.isSafeInteger=function(){var a=this.high>>21;return!a||!this.unsigned&&-1===a&&(0!==this.low||-2097152!==this.high)},z.isZero=function(){return 0===this.high&&0===this.low},z.eqz=z.isZero,z.isNegative=function(){return!this.unsigned&&this.high<0},z.isPositive=function(){return this.unsigned||this.high>=0},z.isOdd=function(){return(1&this.low)==1},z.isEven=function(){return(1&this.low)==0},z.equals=function(a){return d(a)||(a=m(a)),(this.unsigned===a.unsigned||this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low},z.eq=z.equals,z.notEquals=function(a){return!this.eq(a)},z.neq=z.notEquals,z.ne=z.notEquals,z.lessThan=function(a){return 0>this.comp(a)},z.lt=z.lessThan,z.lessThanOrEqual=function(a){return 0>=this.comp(a)},z.lte=z.lessThanOrEqual,z.le=z.lessThanOrEqual,z.greaterThan=function(a){return this.comp(a)>0},z.gt=z.greaterThan,z.greaterThanOrEqual=function(a){return this.comp(a)>=0},z.gte=z.greaterThanOrEqual,z.ge=z.greaterThanOrEqual,z.compare=function(a){if(d(a)||(a=m(a)),this.eq(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1},z.comp=z.compare,z.negate=function(){return!this.unsigned&&this.eq(y)?y:this.not().add(t)},z.neg=z.negate,z.add=function(a){d(a)||(a=m(a));var b,c,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,h=65535&this.low,i=a.high>>>16,k=65535&a.high,l=a.low>>>16,n=65535&a.low,o=0,p=0;return b=0+((c=0+(h+n))>>>16),c&=65535,b+=g+l,p+=b>>>16,b&=65535,p+=f+k,o+=p>>>16,p&=65535,o+=e+i,j(b<<16|c,(o&=65535)<<16|p,this.unsigned)},z.subtract=function(a){return d(a)||(a=m(a)),this.add(a.neg())},z.sub=z.subtract,z.multiply=function(a){if(this.isZero())return this;if(d(a)||(a=m(a)),b)return j(b.mul(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned);if(a.isZero())return this.unsigned?s:r;if(this.eq(y))return a.isOdd()?y:r;if(a.eq(y))return this.isOdd()?y:r;if(this.isNegative())if(a.isNegative())return this.neg().mul(a.neg());else return this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(q)&&a.lt(q))return i(this.toNumber()*a.toNumber(),this.unsigned);var c,e,f=this.high>>>16,g=65535&this.high,h=this.low>>>16,k=65535&this.low,l=a.high>>>16,n=65535&a.high,o=a.low>>>16,p=65535&a.low,t=0,u=0;return c=0+((e=0+k*p)>>>16),e&=65535,c+=h*p,u+=c>>>16,c&=65535,c+=k*o,u+=c>>>16,c&=65535,u+=g*p,t+=u>>>16,u&=65535,u+=h*o,t+=u>>>16,u&=65535,u+=k*n,t+=u>>>16,u&=65535,t+=f*p+g*o+h*n+k*l,j(c<<16|e,(t&=65535)<<16|u,this.unsigned)},z.mul=z.multiply,z.divide=function(a){if(d(a)||(a=m(a)),a.isZero())throw Error("division by zero");if(b){var c,e,f;return this.unsigned||-0x80000000!==this.high||-1!==a.low||-1!==a.high?j((this.unsigned?b.div_u:b.div_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?s:r;if(this.unsigned){if(a.unsigned||(a=a.toUnsigned()),a.gt(this))return s;if(a.gt(this.shru(1)))return u;f=s}else{if(this.eq(y))if(a.eq(t)||a.eq(v))return y;else return a.eq(y)?t:(c=this.shr(1).div(a).shl(1)).eq(r)?a.isNegative()?t:v:(e=this.sub(a.mul(c)),f=c.add(e.div(a)));if(a.eq(y))return this.unsigned?s:r;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();f=r}for(e=this;e.gte(a);){for(var g=Math.ceil(Math.log(c=Math.max(1,Math.floor(e.toNumber()/a.toNumber())))/Math.LN2),h=g<=48?1:k(2,g-48),l=i(c),n=l.mul(a);n.isNegative()||n.gt(e);)c-=h,n=(l=i(c,this.unsigned)).mul(a);l.isZero()&&(l=t),f=f.add(l),e=e.sub(n)}return f},z.div=z.divide,z.modulo=function(a){return(d(a)||(a=m(a)),b)?j((this.unsigned?b.rem_u:b.rem_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this.sub(this.div(a).mul(a))},z.mod=z.modulo,z.rem=z.modulo,z.not=function(){return j(~this.low,~this.high,this.unsigned)},z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},z.clz=z.countLeadingZeros,z.countTrailingZeros=function(){return this.low?e(this.low):e(this.high)+32},z.ctz=z.countTrailingZeros,z.and=function(a){return d(a)||(a=m(a)),j(this.low&a.low,this.high&a.high,this.unsigned)},z.or=function(a){return d(a)||(a=m(a)),j(this.low|a.low,this.high|a.high,this.unsigned)},z.xor=function(a){return d(a)||(a=m(a)),j(this.low^a.low,this.high^a.high,this.unsigned)},z.shiftLeft=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):j(0,this.low<<a-32,this.unsigned)},z.shl=z.shiftLeft,z.shiftRight=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):j(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},z.shr=z.shiftRight,z.shiftRightUnsigned=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>>a,this.unsigned):32===a?j(this.high,0,this.unsigned):j(this.high>>>a-32,0,this.unsigned)},z.shru=z.shiftRightUnsigned,z.shr_u=z.shiftRightUnsigned,z.rotateLeft=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.low<<a|this.high>>>b,this.high<<a|this.low>>>b,this.unsigned)):(a-=32,b=32-a,j(this.high<<a|this.low>>>b,this.low<<a|this.high>>>b,this.unsigned))},z.rotl=z.rotateLeft,z.rotateRight=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.high<<b|this.low>>>a,this.low<<b|this.high>>>a,this.unsigned)):(a-=32,b=32-a,j(this.low<<b|this.high>>>a,this.high<<b|this.low>>>a,this.unsigned))},z.rotr=z.rotateRight,z.toSigned=function(){return this.unsigned?j(this.low,this.high,!1):this},z.toUnsigned=function(){return this.unsigned?this:j(this.low,this.high,!0)},z.toBytes=function(a){return a?this.toBytesLE():this.toBytesBE()},z.toBytesLE=function(){var a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]},z.toBytesBE=function(){var a=this.high,b=this.low;return[a>>>24,a>>>16&255,a>>>8&255,255&a,b>>>24,b>>>16&255,b>>>8&255,255&b]},c.fromBytes=function(a,b,d){return d?c.fromBytesLE(a,b):c.fromBytesBE(a,b)},c.fromBytesLE=function(a,b){return new c(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24,b)},c.fromBytesBE=function(a,b){return new c(a[4]<<24|a[5]<<16|a[6]<<8|a[7],a[0]<<24|a[1]<<16|a[2]<<8|a[3],b)},"function"==typeof BigInt&&(c.fromBigInt=function(a,b){return j(Number(BigInt.asIntN(32,a)),Number(BigInt.asIntN(32,a>>BigInt(32))),b)},c.fromValue=function(a,b){return"bigint"==typeof a?c.fromBigInt(a,b):m(a,b)},z.toBigInt=function(){var a=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|a}),a.default=c})},74876:(a,b,c)=>{"use strict";var d=c(19771);function e(a,b){("debug"===a||"warn"===a)&&("function"==typeof d.emitWarning?d.emitWarning(b):console.warn(b))}b.debug=function(a,...b){"debug"===a&&console.log(...b)},b.warn=e},75018:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(80496),f=d(c(99008));b.default=function(a){a.registerHelper("if",function(a,b){if(2!=arguments.length)throw new f.default("#if requires exactly one argument");return(e.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||e.isEmpty(a))?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){if(2!=arguments.length)throw new f.default("#unless requires exactly one argument");return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b.default},75151:(a,b,c)=>{"use strict";let d;var e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,i=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of g(b))h.call(a,i)||i===c||e(a,i,{get:()=>b[i],enumerable:!(d=f(b,i))||d.enumerable});return a},j=a=>i(e({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{TraceServerExporter:()=>q,setTelemetryServerUrl:()=>p,telemetryServerUrl:()=>d}),a.exports=j(k);var l=c(68948),m=c(41625),n=c(42656),o=c(49176);function p(a){d=a}class q{export(a,b){this._sendSpans(a,b)}shutdown(){return this._sendSpans([]),this.forceFlush()}_exportInfo(a){let b={spanId:a.spanContext().spanId,traceId:a.spanContext().traceId,startTime:r(a.startTime),endTime:r(a.endTime),attributes:{...a.attributes},displayName:a.name,links:a.links,spanKind:l.SpanKind[a.kind],parentSpanId:a.parentSpanId,sameProcessAsParentSpan:{value:!a.spanContext().isRemote},status:a.status,timeEvents:{timeEvent:a.events.map(a=>({time:r(a.time),annotation:{attributes:a.attributes??{},description:a.name}}))}};return void 0!==a.instrumentationLibrary&&(b.instrumentationLibrary={name:a.instrumentationLibrary.name},void 0!==a.instrumentationLibrary.schemaUrl&&(b.instrumentationLibrary.schemaUrl=a.instrumentationLibrary.schemaUrl),void 0!==a.instrumentationLibrary.version&&(b.instrumentationLibrary.version=a.instrumentationLibrary.version)),(0,o.deleteUndefinedProps)(b),b}forceFlush(){return Promise.resolve()}async _sendSpans(a,b){let c={};for(let b of a)c[b.spanContext().traceId]||(c[b.spanContext().traceId]=[]),c[b.spanContext().traceId].push(b);let d=!1;for(let a of Object.keys(c)){try{await this.save(a,c[a])}catch(b){d=!0,n.logger.error(`Failed to save trace ${a}`,b)}if(b)return b({code:d?m.ExportResultCode.FAILED:m.ExportResultCode.SUCCESS})}}async save(a,b){if(!d)return void n.logger.debug(`Telemetry server is not configured, trace ${a} not saved!`);let c={traceId:a,spans:{}};for(let a of b){let b=this._exportInfo(a);c.spans[b.spanId]=b,b.parentSpanId||(c.displayName=b.displayName,c.startTime=b.startTime,c.endTime=b.endTime)}await fetch(`${d}/api/traces`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)})}}function r(a){return(0,m.hrTimeToMilliseconds)(a)}},75526:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864);b.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},75572:a=>{var b=/\{([0-9a-zA-Z]+)\}/g,c=Array.prototype.slice;a.exports=function a(a){var d;return d=2==arguments.length&&"object"==typeof arguments[1]?arguments[1]:c.call(arguments,1),d&&d.hasOwnProperty||(d={}),a.replace(b,function(b,c,e){var f;return"{"===a[e-1]&&"}"===a[e+b.length]?c:null==(f=d.hasOwnProperty(c)?d[c]:null)?"":f})}},75688:(a,b,c)=>{"use strict";var d=b,e=c(305),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g(a,b){var c=0,d={};for(b|=0;c<a.length;)d[f[c+b]]=a[c++];return d}d.basic=g([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),d.defaults=g([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),d.long=g([0,0,0,1,1],7),d.mapKey=g([0,0,0,5,5,0,0,0,1,1,0,2],2),d.packed=g([1,5,0,0,0,5,5,0,0,0,1,1,0])},75905:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b.default=e,a.exports=b.default},76019:function(a,b){var c,d,e;!function(f,g){d=[],void 0===(e="function"==typeof(c=g)?c.apply(b,d):c)||(a.exports=e)}(0,function(){"use strict";function a(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}a.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),a.isLong=function(a){return!0===(a&&a.__isLong__)};var b={},c={};a.fromInt=function(d,e){var f,g;if(e)return 0<=(d>>>=0)&&d<256&&(g=c[d])?g:(f=new a(d,(0|d)<0?-1:0,!0),0<=d&&d<256&&(c[d]=f),f);return -128<=(d|=0)&&d<128&&(g=b[d])?g:(f=new a(d,d<0?-1:0,!1),-128<=d&&d<128&&(b[d]=f),f)},a.fromNumber=function(b,c){return(c=!!c,isNaN(b)||!isFinite(b))?a.ZERO:!c&&b<=-g?a.MIN_VALUE:!c&&b+1>=g?a.MAX_VALUE:c&&b>=f?a.MAX_UNSIGNED_VALUE:b<0?a.fromNumber(-b,c).negate():new a(b%e|0,b/e|0,c)},a.fromBits=function(b,c,d){return new a(b,c,d)},a.fromString=function(b,c,d){if(0===b.length)throw Error("number format error: empty string");if("NaN"===b||"Infinity"===b||"+Infinity"===b||"-Infinity"===b)return a.ZERO;if("number"==typeof c&&(d=c,c=!1),(d=d||10)<2||36<d)throw Error("radix out of range: "+d);if((e=b.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+b);if(0===e)return a.fromString(b.substring(1),c,d).negate();for(var e,f=a.fromNumber(Math.pow(d,8)),g=a.ZERO,h=0;h<b.length;h+=8){var i=Math.min(8,b.length-h),j=parseInt(b.substring(h,h+i),d);if(i<8){var k=a.fromNumber(Math.pow(d,i));g=g.multiply(k).add(a.fromNumber(j))}else g=(g=g.multiply(f)).add(a.fromNumber(j))}return g.unsigned=c,g},a.fromValue=function(b){return b instanceof a?b:"number"==typeof b?a.fromNumber(b):"string"==typeof b?a.fromString(b):new a(b.low,b.high,b.unsigned)};var d=0x1000000,e=0x100000000,f=0xffffffffffffffff,g=0x8000000000000000,h=a.fromInt(d);return a.ZERO=a.fromInt(0),a.UZERO=a.fromInt(0,!0),a.ONE=a.fromInt(1),a.UONE=a.fromInt(1,!0),a.NEG_ONE=a.fromInt(-1),a.MAX_VALUE=a.fromBits(-1,0x7fffffff,!1),a.MAX_UNSIGNED_VALUE=a.fromBits(-1,-1,!0),a.MIN_VALUE=a.fromBits(0,-0x80000000,!1),a.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},a.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*e+(this.low>>>0):this.high*e+(this.low>>>0)},a.prototype.toString=function(b){if((b=b||10)<2||36<b)throw RangeError("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative())if(!this.equals(a.MIN_VALUE))return"-"+this.negate().toString(b);else{var c,d=a.fromNumber(b),e=this.divide(d);return c=e.multiply(d).subtract(this),e.toString(b)+c.toInt().toString(b)}var f=a.fromNumber(Math.pow(b,6),this.unsigned);c=this;for(var g="";;){var h=c.divide(f),i=(c.subtract(h.multiply(f)).toInt()>>>0).toString(b);if((c=h).isZero())return i+g;for(;i.length<6;)i="0"+i;g=""+i+g}},a.prototype.getHighBits=function(){return this.high},a.prototype.getHighBitsUnsigned=function(){return this.high>>>0},a.prototype.getLowBits=function(){return this.low},a.prototype.getLowBitsUnsigned=function(){return this.low>>>0},a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var b=0!=this.high?this.high:this.low,c=31;c>0&&(b&1<<c)==0;c--);return 0!=this.high?c+33:c+1},a.prototype.isZero=function(){return 0===this.high&&0===this.low},a.prototype.isNegative=function(){return!this.unsigned&&this.high<0},a.prototype.isPositive=function(){return this.unsigned||this.high>=0},a.prototype.isOdd=function(){return(1&this.low)==1},a.prototype.isEven=function(){return(1&this.low)==0},a.prototype.equals=function(b){return a.isLong(b)||(b=a.fromValue(b)),(this.unsigned===b.unsigned||this.high>>>31!=1||b.high>>>31!=1)&&this.high===b.high&&this.low===b.low},a.eq=a.prototype.equals,a.prototype.notEquals=function(a){return!this.equals(a)},a.neq=a.prototype.notEquals,a.prototype.lessThan=function(a){return 0>this.compare(a)},a.prototype.lt=a.prototype.lessThan,a.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)},a.prototype.lte=a.prototype.lessThanOrEqual,a.prototype.greaterThan=function(a){return this.compare(a)>0},a.prototype.gt=a.prototype.greaterThan,a.prototype.greaterThanOrEqual=function(a){return this.compare(a)>=0},a.prototype.gte=a.prototype.greaterThanOrEqual,a.prototype.compare=function(b){if(a.isLong(b)||(b=a.fromValue(b)),this.equals(b))return 0;var c=this.isNegative(),d=b.isNegative();return c&&!d?-1:!c&&d?1:this.unsigned?b.high>>>0>this.high>>>0||b.high===this.high&&b.low>>>0>this.low>>>0?-1:1:this.subtract(b).isNegative()?-1:1},a.prototype.negate=function(){return!this.unsigned&&this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)},a.prototype.neg=a.prototype.negate,a.prototype.add=function(b){a.isLong(b)||(b=a.fromValue(b));var c,d,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,h=65535&this.low,i=b.high>>>16,j=65535&b.high,k=b.low>>>16,l=65535&b.low,m=0,n=0;return c=0+((d=0+(h+l))>>>16),d&=65535,c+=g+k,n+=c>>>16,c&=65535,n+=f+j,m+=n>>>16,n&=65535,m+=e+i,m&=65535,a.fromBits(c<<16|d,m<<16|n,this.unsigned)},a.prototype.subtract=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.add(b.negate())},a.prototype.sub=a.prototype.subtract,a.prototype.multiply=function(b){if(this.isZero()||(a.isLong(b)||(b=a.fromValue(b)),b.isZero()))return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().multiply(b.negate());else return this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(h)&&b.lessThan(h))return a.fromNumber(this.toNumber()*b.toNumber(),this.unsigned);var c,d,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,i=65535&this.low,j=b.high>>>16,k=65535&b.high,l=b.low>>>16,m=65535&b.low,n=0,o=0;return c=0+((d=0+i*m)>>>16),d&=65535,c+=g*m,o+=c>>>16,c&=65535,c+=i*l,o+=c>>>16,c&=65535,o+=f*m,n+=o>>>16,o&=65535,o+=g*l,n+=o>>>16,o&=65535,o+=i*k,n+=o>>>16,o&=65535,n+=e*m+f*l+g*k+i*j,n&=65535,a.fromBits(c<<16|d,n<<16|o,this.unsigned)},a.prototype.mul=a.prototype.multiply,a.prototype.divide=function(b){if(a.isLong(b)||(b=a.fromValue(b)),b.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?a.UZERO:a.ZERO;if(this.equals(a.MIN_VALUE))if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;else{var c,d,e;return b.equals(a.MIN_VALUE)?a.ONE:(c=this.shiftRight(1).divide(b).shiftLeft(1)).equals(a.ZERO)?b.isNegative()?a.ONE:a.NEG_ONE:(d=this.subtract(b.multiply(c)),e=c.add(d.divide(b)))}if(b.equals(a.MIN_VALUE))return this.unsigned?a.UZERO:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().divide(b.negate()):this.negate().divide(b).negate();if(b.isNegative())return this.divide(b.negate()).negate();for(e=a.ZERO,d=this;d.greaterThanOrEqual(b);){for(var f=Math.ceil(Math.log(c=Math.max(1,Math.floor(d.toNumber()/b.toNumber())))/Math.LN2),g=f<=48?1:Math.pow(2,f-48),h=a.fromNumber(c),i=h.multiply(b);i.isNegative()||i.greaterThan(d);)c-=g,i=(h=a.fromNumber(c,this.unsigned)).multiply(b);h.isZero()&&(h=a.ONE),e=e.add(h),d=d.subtract(i)}return e},a.prototype.div=a.prototype.divide,a.prototype.modulo=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.subtract(this.divide(b).multiply(b))},a.prototype.mod=a.prototype.modulo,a.prototype.not=function(){return a.fromBits(~this.low,~this.high,this.unsigned)},a.prototype.and=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low&b.low,this.high&b.high,this.unsigned)},a.prototype.or=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low|b.low,this.high|b.high,this.unsigned)},a.prototype.xor=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low^b.low,this.high^b.high,this.unsigned)},a.prototype.shiftLeft=function(b){return(a.isLong(b)&&(b=b.toInt()),0==(b&=63))?this:b<32?a.fromBits(this.low<<b,this.high<<b|this.low>>>32-b,this.unsigned):a.fromBits(0,this.low<<b-32,this.unsigned)},a.prototype.shl=a.prototype.shiftLeft,a.prototype.shiftRight=function(b){return(a.isLong(b)&&(b=b.toInt()),0==(b&=63))?this:b<32?a.fromBits(this.low>>>b|this.high<<32-b,this.high>>b,this.unsigned):a.fromBits(this.high>>b-32,this.high>=0?0:-1,this.unsigned)},a.prototype.shr=a.prototype.shiftRight,a.prototype.shiftRightUnsigned=function(b){if(a.isLong(b)&&(b=b.toInt()),0==(b&=63))return this;var c=this.high;if(b<32){var d=this.low;return a.fromBits(d>>>b|c<<32-b,c>>>b,this.unsigned)}return 32===b?a.fromBits(c,0,this.unsigned):a.fromBits(c>>>b-32,0,this.unsigned)},a.prototype.shru=a.prototype.shiftRightUnsigned,a.prototype.toSigned=function(){return this.unsigned?new a(this.low,this.high,!1):this},a.prototype.toUnsigned=function(){return this.unsigned?this:new a(this.low,this.high,!0)},a})},76058:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=b.Ajv=void 0;let d=c(40176),e=c(46416),f=c(36461),g=c(97747),h=["/properties"],i="http://json-schema.org/draft-07/schema";class j extends d.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let a=this.opts.$data?this.$dataMetaSchema(g,h):g;this.addMetaSchema(a,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}b.Ajv=j,a.exports=b=j,a.exports.Ajv=j,Object.defineProperty(b,"__esModule",{value:!0}),b.default=j;var k=c(22328);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return k.KeywordCxt}});var l=c(96535);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=c(28232);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return m.default}});var n=c(65025);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return n.default}})},76110:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})},k=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},l=(a,b,c)=>(c=null!=a?d(h(a)):{},k(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),m=a=>k(e({},"__esModule",{value:!0}),a),n={};j(n,{Dotprompt:()=>ac,PicoschemaParser:()=>_,picoschema:()=>$}),a.exports=m(n);var o=l(c(6206)),p={};j(p,{history:()=>t,ifEquals:()=>w,json:()=>r,media:()=>v,role:()=>s,section:()=>u,unlessEquals:()=>x});var{SafeString:q}=l(c(6206)).default;function r(a,b){return new q(JSON.stringify(a,null,b.hash.indent||0))}function s(a){return new q(`<<<dotprompt:role:${a}>>>`)}function t(){return new q("<<<dotprompt:history>>>")}function u(a){return new q(`<<<dotprompt:section ${a}>>>`)}function v(a){return new q(`<<<dotprompt:media:url ${a.hash.url}${a.hash.contentType?` ${a.hash.contentType}`:""}>>>`)}function w(a,b,c){return a===b?c.fn(this):c.inverse(this)}function x(a,b,c){return a!==b?c.fn(this):c.inverse(this)}var y=c(11638),z="<<<dotprompt:role:",A="<<<dotprompt:history",B="<<<dotprompt:media:",C="<<<dotprompt:section",D=/^---\s*(?:\r\n|\r|\n)([\s\S]*?)(?:\r\n|\r|\n)---\s*(?:\r\n|\r|\n)([\s\S]*)$/,E=/(<<<dotprompt:(?:role:[a-z]+|history))>>>/g,F=/(<<<dotprompt:(?:media:url|section).*?)>>>/g,G=["config","description","ext","input","model","name","output","raw","toolDefs","tools","variant","version"],H={ext:{},metadata:{},config:{}};function I(a,b){return a.split(b).filter(a=>""!==a.trim())}function J(a){return I(a,E)}function K(a){return I(a,F)}function L(a,b,c={}){let d=c||{},e=a.lastIndexOf("."),f=a.substring(0,e),g=a.substring(e+1);return d[f]=d[f]||{},d[f][g]=b,d}function M(a){let b=a.match(D);if(b){let[,a,c]=b;return{frontmatter:a,body:c}}return{frontmatter:"",body:""}}function N(a){let{frontmatter:b,body:c}=M(a);if(b)try{let a={...(0,y.parse)(b)},d={...H},e={};for(let b in a){let c=b;G.includes(c)?d[c]=a[c]:c.includes(".")&&L(c,a[c],e)}return{...d,raw:a,ext:e,template:c.trim()}}catch(b){return console.error("Dotprompt: Error parsing YAML frontmatter:",b),{...H,template:a.trim()}}return{...H,template:a}}function O(a){return a.filter(a=>a.content||a.source).map(a=>{let b={role:a.role,content:a.content||T(a.source||"")};return a.metadata&&(b.metadata=a.metadata),b})}function P(a){return a.map(a=>({...a,metadata:{...a.metadata,purpose:"history"}}))}function Q(a,b){let c={role:"user",source:""},d=[c];for(let e of J(a))if(e.startsWith(z)){let a=e.substring(z.length);c.source?.trim()?(c={role:a,source:""},d.push(c)):c.role=a}else if(e.startsWith(A)){let a=P(b?.messages??[]);a&&d.push(...a),c={role:"model",source:""},d.push(c)}else c.source+=e;return S(O(d),b?.messages)}function R(a){return a.some(a=>a.metadata?.purpose==="history")}function S(a,b=[]){if(!b||R(a))return a;if(0===a.length)return b;let c=a.at(-1);return c?.role==="user"?[...a.slice(0,-1),...b,c]:[...a,...b]}function T(a){return K(a).map(U)}function U(a){return a.startsWith(B)?V(a):a.startsWith(C)?W(a):X(a)}function V(a){if(!a.startsWith(B))throw Error("Invalid media piece");let[b,c,d]=a.split(" "),e={media:{url:c}};return d&&(e.media.contentType=d),e}function W(a){if(!a.startsWith(C))throw Error("Invalid section piece");let[b,c]=a.split(" ");return{metadata:{purpose:c,pending:!0}}}function X(a){return{text:a}}var Y=["any","boolean","integer","null","number","string"],Z="(*)";async function $(a,b){return new _(b).parse(a)}var _=class{schemaResolver;constructor(a){this.schemaResolver=a?.schemaResolver}async mustResolveSchema(a){if(!this.schemaResolver)throw Error(`Picoschema: unsupported scalar type '${a}'.`);let b=await this.schemaResolver(a);if(!b)throw Error(`Picoschema: could not find schema with name '${a}'`);return b}async parse(a){if(!a)return null;if("string"==typeof a){let[b,c]=aa(a);if(Y.includes(b)){let a={type:b};return c&&(a={...a,description:c}),a}let d=await this.mustResolveSchema(b);return c?{...d,description:c}:d}return[...Y,"object","array"].includes(a?.type)?a:"object"==typeof a?.properties?{...a,type:"object"}:this.parsePico(a)}async parsePico(a,b=[]){if("string"==typeof a){let[b,c]=aa(a);if(!Y.includes(b)){let a=await this.mustResolveSchema(b);return c&&(a={...a,description:c}),a}return"any"===b?c?{description:c}:{}:c?{type:b,description:c}:{type:b}}if("object"!=typeof a)throw Error(`Picoschema: only consists of objects and strings. Got: ${JSON.stringify(a)}`);let c={type:"object",properties:{},required:[],additionalProperties:!1};for(let d in a){if(d===Z){c.additionalProperties=await this.parsePico(a[d],[...b,d]);continue}let[e,f]=d.split("("),g=e.endsWith("?"),h=g?e.slice(0,-1):e;if(g||c.required.push(h),!f){let e={...await this.parsePico(a[d],[...b,d])};g&&"string"==typeof e.type&&(e.type=[e.type,"null"]),c.properties[h]=e;continue}let[i,j]=aa(f.substring(0,f.length-1));if("array"===i)c.properties[h]={type:g?["array","null"]:"array",items:await this.parsePico(a[d],[...b,d])};else if("object"===i){let e=await this.parsePico(a[d],[...b,d]);g&&(e.type=[e.type,"null"]),c.properties[h]=e}else if("enum"===i){let b={enum:a[d]};g&&!b.enum.includes(null)&&b.enum.push(null),c.properties[h]=b}else throw Error(`Picoschema: parenthetical types must be 'object' or 'array', got: ${i}`);j&&(c.properties[h].description=j)}return c.required.length||(c.required=void 0),c}};function aa(a){if(!a.includes(","))return[a,null];let b=a.match(/(.*?), *(.*)$/);return b?[b[1],b[2]]:[a,null]}function ab(a){if(null===a||"object"!=typeof a)return a;if(Array.isArray(a))return a.map(a=>ab(a));let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=ab(d));return b}var ac=class{handlebars;knownHelpers={};defaultModel;modelConfigs={};tools={};toolResolver;schemas={};schemaResolver;partialResolver;store;constructor(a){this.handlebars=o.default.noConflict(),this.modelConfigs=a?.modelConfigs||this.modelConfigs,this.defaultModel=a?.defaultModel,this.tools=a?.tools||{},this.toolResolver=a?.toolResolver,this.schemas=a?.schemas||{},this.schemaResolver=a?.schemaResolver,this.partialResolver=a?.partialResolver,this.registerInitialHelpers(p,a?.helpers),this.registerInitialPartials(a?.partials)}defineHelper(a,b){return this.handlebars.registerHelper(a,b),this.knownHelpers[a]=!0,this}definePartial(a,b){return this.handlebars.registerPartial(a,b),this}defineTool(a){return this.tools[a.name]=a,this}parse(a){return N(a)}async render(a,b={},c){return(await this.compile(a))(b,c)}async compile(a,b){let c;c="string"==typeof a?this.parse(a):a,b&&(c={...c,...b}),await this.resolvePartials(c.template);let d=this.handlebars.compile(c.template,{knownHelpers:this.knownHelpers,knownHelpersOnly:!0,noEscape:!0}),e=async(a,b)=>{let{input:e,...f}=await this.renderMetadata(c),g=d({...b?.input?.default||{},...a.input},{data:{metadata:{prompt:f,docs:a.docs,messages:a.messages},...a.context||{}}});return{...f,messages:Q(g,a)}};return e.prompt=c,e}async renderMetadata(a,b){let c,d;c="string"==typeof a?this.parse(a):a;let e=b?.model||c.model||this.defaultModel;return e&&this.modelConfigs[e]&&(d=this.modelConfigs[e]),this.resolveMetadata(d?{config:d}:{},c,b)}async resolveMetadata(a,...b){let c={...a};for(let a=0;a<b.length;a++){if(!b[a])continue;let d=c.config||{};(c={...c,...b[a]}).config={...d,...b[a]?.config||{}}}let{template:d,...e}=c;return c=ab(c=e),c=await this.resolveTools(c),c=await this.renderPicoschema(c)}async renderPicoschema(a){if(!a.output?.schema&&!a.input?.schema)return a;let b=a=>$(a,{schemaResolver:this.wrappedSchemaResolver.bind(this)}),c={...a},d=null,e=null;a.input?.schema&&(c.input={...a.input},d=b(a.input.schema)),a.output?.schema&&(c.output={...a.output},e=b(a.output.schema));let[f,g]=await Promise.all([d??Promise.resolve(null),e??Promise.resolve(null)]);return f&&c.input&&(c.input.schema=f),g&&c.output&&(c.output.schema=g),c}async wrappedSchemaResolver(a){return this.schemas[a]?this.schemas[a]:this.schemaResolver?await this.schemaResolver(a):null}async resolveTools(a){let b={...a};if(!b.tools)return b;let c=[];return b.toolDefs=b.toolDefs||[],await Promise.all(b.tools.map(async a=>{if(this.tools[a])b.toolDefs&&b.toolDefs.push(this.tools[a]);else if(this.toolResolver){let c=await this.toolResolver(a);if(!c)throw Error(`Dotprompt: Unable to resolve tool '${a}' to a recognized tool definition.`);b.toolDefs&&b.toolDefs.push(c)}else c.push(a)})),b.tools=c,b}identifyPartials(a){let b=this.handlebars.parse(a),c=new Set;return new class extends this.handlebars.Visitor{PartialStatement(a){a&&"object"==typeof a&&"name"in a&&a.name&&"object"==typeof a.name&&"original"in a.name&&"string"==typeof a.name.original&&c.add(a.name.original)}}().accept(b),c}async resolvePartials(a){if(!this.partialResolver&&!this.store)return;let b=this.identifyPartials(a);await Promise.all(Array.from(b).map(async a=>{if(!this.handlebars.partials[a]){let b=null;if(this.partialResolver&&(b=await this.partialResolver(a)),!b&&this.store){let c=await this.store.loadPartial(a);b=c?.source}b&&(this.definePartial(a,b),await this.resolvePartials(b))}}))}registerInitialHelpers(a,b){if(a)for(let b in a)this.defineHelper(b,a[b]);if(b)for(let a in b)this.defineHelper(a,b[a])}registerInitialPartials(a){if(a)for(let b in a)this.definePartial(b,a[b])}}},76303:function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(b,"__esModule",{value:!0});var e=function(a){function b(b){var c=a.call(this)||this;return c._span=b,c}return d(b,a),b.prototype.span=function(){return this._span},b}(c(11108).SpanContext);b.MockContext=e,b.default=e},76368:(a,b,c)=>{"use strict";var d=c(8408);function e({offset:a,props:b},c,d){if("block-scalar-header"!==b[0].type)return d(b[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:e}=b[0],f=e[0],g=0,h="",i=-1;for(let b=1;b<e.length;++b){let c=e[b];if(h||"-"!==c&&"+"!==c){let d=Number(c);!g&&d?g=d:-1===i&&(i=a+b)}else h=c}-1!==i&&d(i,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${e}`);let j=!1,k="",l=e.length;for(let a=1;a<b.length;++a){let e=b[a];switch(e.type){case"space":j=!0;case"newline":l+=e.source.length;break;case"comment":c&&!j&&d(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),l+=e.source.length,k=e.source.substring(1);break;case"error":d(e,"UNEXPECTED_TOKEN",e.message),l+=e.source.length;break;default:{let a=`Unexpected token in block scalar header: ${e.type}`;d(e,"UNEXPECTED_TOKEN",a);let b=e.source;b&&"string"==typeof b&&(l+=b.length)}}}return{mode:f,indent:g,chomp:h,comment:k,length:l}}function f(a){let b=a.split(/\n( *)/),c=b[0],d=c.match(/^( *)/),e=[d?.[1]?[d[1],c.slice(d[1].length)]:["",c]];for(let a=1;a<b.length;a+=2)e.push([b[a],b[a+1]]);return e}b.resolveBlockScalar=function(a,b,c){let g=b.offset,h=e(b,a.options.strict,c);if(!h)return{value:"",type:null,comment:"",range:[g,g,g]};let i=">"===h.mode?d.Scalar.BLOCK_FOLDED:d.Scalar.BLOCK_LITERAL,j=b.source?f(b.source):[],k=j.length;for(let a=j.length-1;a>=0;--a){let b=j[a][1];if(""===b||"\r"===b)k=a;else break}if(0===k){let a="+"===h.chomp&&j.length>0?"\n".repeat(Math.max(1,j.length-1)):"",c=g+h.length;return b.source&&(c+=b.source.length),{value:a,type:i,comment:h.comment,range:[g,c,c]}}let l=b.indent+h.indent,m=b.offset+h.length,n=0;for(let b=0;b<k;++b){let[d,e]=j[b];if(""===e||"\r"===e)0===h.indent&&d.length>l&&(l=d.length);else{if(d.length<l){let a="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";c(m+d.length,"MISSING_CHAR",a)}0===h.indent&&(l=d.length),n=b,0!==l||a.atRoot||c(m,"BAD_INDENT","Block scalar values in collections must be indented");break}m+=d.length+e.length+1}for(let a=j.length-1;a>=k;--a)j[a][0].length>l&&(k=a+1);let o="",p="",q=!1;for(let a=0;a<n;++a)o+=j[a][0].slice(l)+"\n";for(let a=n;a<k;++a){let[b,e]=j[a];m+=b.length+e.length+1;let f="\r"===e[e.length-1];if(f&&(e=e.slice(0,-1)),e&&b.length<l){let a=h.indent?"explicit indentation indicator":"first line",d=`Block scalar lines must not be less indented than their ${a}`;c(m-e.length-(f?2:1),"BAD_INDENT",d),b=""}i===d.Scalar.BLOCK_LITERAL?(o+=p+b.slice(l)+e,p="\n"):b.length>l||"	"===e[0]?(" "===p?p="\n":q||"\n"!==p||(p="\n\n"),o+=p+b.slice(l)+e,p="\n",q=!0):""===e?"\n"===p?o+="\n":p="\n":(o+=p+e,p=" ",q=!1)}switch(h.chomp){case"-":break;case"+":for(let a=k;a<j.length;++a)o+="\n"+j[a][0].slice(l);"\n"!==o[o.length-1]&&(o+="\n");break;default:o+="\n"}let r=g+h.length+b.source.length;return{value:o,type:i,comment:h.comment,range:[g,r,r]}}},76426:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{arrayFormatter:()=>m}),a.exports=i(j);var k=c(40979),l=c(44175);let m={name:"array",config:{contentType:"application/json",constrained:!0},handler:a=>{let b;if(a&&"array"!==a.type)throw new k.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type when using the 'items' parser format."});return a&&(b=`Output should be a JSON array conforming to the following schema:
    
\`\`\`
${JSON.stringify(a)}
\`\`\`
    `),{parseChunk:a=>{let b=a.previousChunks?.length?(0,l.extractItems)(a.previousText).cursor:0,{items:c}=(0,l.extractItems)(a.accumulatedText,b);return c},parseMessage:a=>{let{items:b}=(0,l.extractItems)(a.text,0);return b},instructions:b}}}},76615:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;let d=c(65025),e=c(55423),f=c(96535),g=c(27017),h=c(39605),i=c(71367),j={keyword:"$ref",schemaType:"string",code(a){let{gen:b,schema:c,it:e}=a,{baseId:g,schemaEnv:i,validateName:j,opts:m,self:n}=e,{root:o}=i;if(("#"===c||"#/"===c)&&g===o.baseId)return q();let p=h.resolveRef.call(n,o,g,c);if(void 0===p)throw new d.default(e.opts.uriResolver,g,c);if(p instanceof h.SchemaEnv)return r(p);return s(p);function q(){if(i===o)return l(a,j,i,i.$async);let c=b.scopeValue("root",{ref:o});return l(a,(0,f._)`${c}.validate`,o,o.$async)}function r(b){let c=k(a,b);l(a,c,b,b.$async)}function s(d){let e=b.scopeValue("schema",!0===m.code.source?{ref:d,code:(0,f.stringify)(d)}:{ref:d}),g=b.name("valid"),h=a.subschema({schema:d,dataTypes:[],schemaPath:f.nil,topSchemaRef:e,errSchemaPath:c},g);a.mergeEvaluated(h),a.ok(g)}}};function k(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function l(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,n=m.passContext?g.default.this:f.nil;function o(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,n)}`),r(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),q(a),k||h.assign(c,!1)}),a.ok(c)}function p(){a.result((0,e.callValidateCode)(a,b,n),()=>r(b),()=>q(b))}function q(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function r(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?o():p()}b.getValidate=k,b.callRef=l,b.default=j},76673:(a,b,c)=>{"use strict";c.d(b,{EB:()=>g,Ff:()=>h,Zs:()=>f,d1:()=>e});var d=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function e(a){return{name:a.name,version:a.version}}function f(a){return Object.keys(a).map(function(b){return g(b,a[b])})}function g(a,b){return{key:a,value:h(b)}}function h(a){var b=typeof a;return"string"===b?{stringValue:a}:"number"===b?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:"boolean"===b?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(h)}}:"object"===b&&null!=a?{kvlistValue:{values:Object.entries(a).map(function(a){var b=d(a,2);return g(b[0],b[1])})}}:{}}},76750:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){this.ktype=a,this.vtype=b,this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),d.Base.call(this)}e(g,d.Base),g.prototype.poolByteLength=function(a,b){for(var c=b&&Object.keys(b),d=6,e=0;e<c.length;e++){var f=c[e],g=b[f],h=this.ktype.rw.poolByteLength(a,f);if(h.err||(d+=h.length,(h=this.vtype.rw.poolByteLength(a,g)).err))return h;d+=h.length}return a.reset(null,d)},g.prototype.mapVarFixbyteLength=function(a,b){for(var c=b&&Object.keys(b),d=6+c.length*this.vtype.rw.width,e=0;e<c.length;e++){var f=c[e],g=this.ktype.rw.poolByteLength(a,f);if(g.err)return g;d+=g.length}return a.reset(null,d)},g.prototype.poolWriteInto=function(a,b,c,e){var f=d.UInt8.poolWriteInto(a,this.ktype.typeid,c,e);if(f.err||(e=f.offset,(f=d.UInt8.poolWriteInto(a,this.vtype.typeid,c,e)).err))return f;e=f.offset;var g=b&&Object.keys(b);if((f=d.UInt32BE.poolWriteInto(a,g.length,c,e)).err)return f;e=f.offset;for(var h=0;h<g.length;h++){var i=g[h],j=b[i];if((f=this.ktype.rw.poolWriteInto(a,i,c,e)).err||(e=f.offset,(f=this.vtype.rw.poolWriteInto(a,j,c,e)).err))return f;e=f.offset}return a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var g=e.value;if(g!==this.ktype.typeid)return a.reset(f.MapKeyTypeIdMismatch({encoded:g,expected:this.ktype.name,expectedId:this.ktype.typeid}),c);if((e=d.UInt8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h!==this.vtype.typeid)return a.reset(f.MapValTypeIdMismatch({encoded:h,expected:this.vtype.name,expectedId:this.vtype.typeid}),c);if((e=d.UInt32BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;for(var i=e.value,j={},k=0;k<i;k++){if((e=this.ktype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var l=e.value;if((e=this.vtype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var m=e.value;j[l]=m}return a.reset(null,c,j)},a.exports.MapObjectRW=g},76930:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55423),e=c(96535),f=c(27017),g=c(71367);b.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let n=(0,d.allSchemaProperties)(h.properties),o=(0,d.allSchemaProperties)(h.patternProperties);function p(c){let f;if(n.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=n.length?(0,e.or)(...n.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return o.length&&(f=(0,e.or)(f,...o.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}function q(a){b.code((0,e._)`delete ${i}[${a}]`)}function r(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void q(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(s(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),q(d)})):(s(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function s(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}(function a(){b.forIn("key",i,a=>{n.length||o.length?b.if(p(a),()=>r(a)):r(a)})})(),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},76944:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{ValidationError:()=>v,defineJsonSchema:()=>B,defineSchema:()=>A,parseSchema:()=>z,toJsonSchema:()=>w,validateSchema:()=>y,z:()=>p.z}),a.exports=l(m);var n=k(c(76058)),o=k(c(21813)),p=c(62934),q=k(c(83896)),r=c(53369);let s=new n.default;(0,o.default)(s);let t=new WeakMap,u=new WeakMap;class v extends r.GenkitError{constructor({data:a,errors:b,schema:c}){super({status:"INVALID_ARGUMENT",message:`Schema validation failed. Parse Errors:

${b.map(a=>`- ${a.path}: ${a.message}`).join("\n")}

Provided data:

${JSON.stringify(a,null,2)}

Required JSON schema:

${JSON.stringify(c,null,2)}`,detail:{errors:b,schema:c}})}}function w({jsonSchema:a,schema:b}){if(!a&&!b)return null;if(a)return a;if(t.has(b))return t.get(b);let c=(0,q.default)(b,{$refStrategy:"none",removeAdditionalStrategy:"strict"});return t.set(b,c),c}function x(a){return{path:a.instancePath.substring(1).replace(/\//g,".")||"(root)",message:a.message}}function y(a,b){let c=w(b);if(!c)return{valid:!0,schema:c};let d=u.get(c)||s.compile(c),e=d(a),f=d.errors?.map(a=>a);return{valid:e,errors:f?.map(x),schema:c}}function z(a,b){let{valid:c,errors:d,schema:e}=y(a,b);if(!c)throw new v({data:a,errors:d,schema:e});return a}function A(a,b,c){return a.registerSchema(b,{schema:c}),c}function B(a,b,c){return a.registerSchema(b,{jsonSchema:c}),c}},76956:(a,b,c)=>{"use strict";function d(a){return Symbol.for(a)}c.d(b,{l:()=>e,n:()=>d});var e=new(function(){function a(b){var c=this;c._currentContext=b?new Map(b):new Map,c.getValue=function(a){return c._currentContext.get(a)},c.setValue=function(b,d){var e=new a(c._currentContext);return e._currentContext.set(b,d),e},c.deleteValue=function(b){var d=new a(c._currentContext);return d._currentContext.delete(b),d}}return a}())},77283:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{jsonlFormatter:()=>r}),a.exports=l(m);var n=c(40979),o=k(c(17191)),p=c(44175);function q(a){return a.split("\n").map(a=>a.trim()).filter(a=>a.startsWith("{"))}let r={name:"jsonl",config:{contentType:"application/jsonl"},handler:a=>{let b;if(a&&("array"!==a.type||a.items?.type!=="object"))throw new n.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type containing 'object' items when using the 'jsonl' parser format."});return a?.items&&(b=`Output should be JSONL format, a sequence of JSON objects (one per line) separated by a newline \`\\n\` character. Each line should be a JSON object conforming to the following schema:

\`\`\`
${JSON.stringify(a.items)}
\`\`\`
    `),{parseChunk:a=>{let b=[],c=a.accumulatedText,d=0;if(a.previousChunks?.length){let b=a.previousText.lastIndexOf("\n");-1!==b&&(d=b+1)}for(let a of c.slice(d).split("\n")){let c=a.trim();if(c.startsWith("{"))try{let a=o.default.parse(c);a&&b.push(a)}catch(a){break}}return b},parseMessage:a=>q(a.text).map(a=>(0,p.extractJson)(a)).filter(a=>!!a),instructions:b}}}},77538:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseCIDR=q,b.mapProxyName=u,b.getProxiedConnection=v;let d=c(38702),e=c(56458),f=c(91645),g=c(81630),h=c(38702),i=c(41835),j=c(9413),k=c(79551),l=c(67463),m="proxy";function n(a){h.trace(e.LogVerbosity.DEBUG,m,a)}function o(){let a,b="",c="";if(process.env.grpc_proxy)c="grpc_proxy",b=process.env.grpc_proxy;else if(process.env.https_proxy)c="https_proxy",b=process.env.https_proxy;else{if(!process.env.http_proxy)return{};c="http_proxy",b=process.env.http_proxy}try{a=new k.URL(b)}catch(a){return(0,d.log)(e.LogVerbosity.ERROR,`cannot parse value of "${c}" env var`),{}}if("http:"!==a.protocol)return(0,d.log)(e.LogVerbosity.ERROR,`"${a.protocol}" scheme not supported in proxy URI`),{};let f=null;a.username&&(a.password?((0,d.log)(e.LogVerbosity.INFO,"userinfo found in proxy URI"),f=decodeURIComponent(`${a.username}:${a.password}`)):f=a.username);let g=a.hostname,h=a.port;""===h&&(h="80");let i={address:`${g}:${h}`};return f&&(i.creds=f),n("Proxy server "+i.address+" set by environment variable "+c),i}function p(){let a=process.env.no_grpc_proxy,b="no_grpc_proxy";return(a||(a=process.env.no_proxy,b="no_proxy"),a)?(n("No proxy server list set by environment variable "+b),a.split(",")):[]}function q(a){let b=a.split("/");if(2!==b.length)return null;let c=parseInt(b[1],10);return!(0,f.isIPv4)(b[0])||Number.isNaN(c)||c<0||c>32?null:{ip:r(b[0]),prefixLength:c}}function r(a){return a.split(".").reduce((a,b)=>(a<<8)+parseInt(b,10),0)}function s(a,b){let c=a.ip,d=-1<<32-a.prefixLength;return(r(b)&d)==(c&d)}function t(a){for(let b of p()){let c=q(b);if((0,f.isIPv4)(a)&&c&&s(c,a)||a.endsWith(b))return!0}return!1}function u(a,b){var c;let d={target:a,extraOptions:{}};if((null!=(c=b["grpc.enable_http_proxy"])?c:1)===0||"unix"===a.scheme)return d;let e=o();if(!e.address)return d;let f=(0,j.splitHostPort)(a.path);if(!f)return d;if(t(f.host))return n("Not using proxy for target in no_proxy list: "+(0,j.uriToString)(a)),d;let g={"grpc.http_connect_target":(0,j.uriToString)(a)};return e.creds&&(g["grpc.http_connect_creds"]=e.creds),{target:{scheme:"dns",path:e.address},extraOptions:g}}function v(a,b){var c;if(!("grpc.http_connect_target"in b))return Promise.resolve(null);let f=b["grpc.http_connect_target"],h=(0,j.parseUri)(f);if(null===h)return Promise.resolve(null);let k=(0,j.splitHostPort)(h.path);if(null===k)return Promise.resolve(null);let m=`${k.host}:${null!=(c=k.port)?c:l.DEFAULT_PORT}`,o={method:"CONNECT",path:m},p={Host:m};(0,i.isTcpSubchannelAddress)(a)?(o.host=a.host,o.port=a.port):o.socketPath=a.path,"grpc.http_connect_creds"in b&&(p["Proxy-Authorization"]="Basic "+Buffer.from(b["grpc.http_connect_creds"]).toString("base64")),o.headers=p;let q=(0,i.subchannelAddressToString)(a);return n("Using proxy "+q+" to connect to "+o.path),new Promise((a,b)=>{let c=g.request(o);c.once("connect",(f,g,h)=>{c.removeAllListeners(),g.removeAllListeners(),200===f.statusCode?(n("Successfully connected to "+o.path+" through proxy "+q),h.length>0&&g.unshift(h),n("Successfully established a plaintext connection to "+o.path+" through proxy "+q),a(g)):((0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to "+o.path+" through proxy "+q+" with status "+f.statusCode),b())}),c.once("error",a=>{c.removeAllListeners(),(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to proxy "+q+" with error "+a.message),b()}),c.end()})}},77750:(a,b,c)=>{"use strict";var d=c(8408);let e={identify:a=>"boolean"==typeof a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:a=>new d.Scalar("t"===a[0]||"T"===a[0]),stringify:({source:a,value:b},c)=>a&&e.test.test(a)&&b===("t"===a[0]||"T"===a[0])?a:b?c.options.trueStr:c.options.falseStr};b.boolTag=e},77773:(a,b,c)=>{"use strict";var d=b,e=c(56025);d[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var b=a["@type"].substring(a["@type"].lastIndexOf("/")+1),c=this.lookup(b);if(c){var d="."===a["@type"].charAt(0)?a["@type"].slice(1):a["@type"];return -1===d.indexOf("/")&&(d="/"+d),this.create({type_url:d,value:c.encode(c.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,b){var c="type.googleapis.com/",d="",f="";if(b&&b.json&&a.type_url&&a.value){f=a.type_url.substring(a.type_url.lastIndexOf("/")+1),d=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var g=this.lookup(f);g&&(a=g.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof e){var h=a.$type.toObject(a,b),i="."===a.$type.fullName[0]?a.$type.fullName.slice(1):a.$type.fullName;return""===d&&(d=c),f=d+i,h["@type"]=f,h}return this.toObject(a,b)}}},77848:(a,b,c)=>{"use strict";var d=c(82740),e=c(89220),f=c(82762),g=c(17456),h=c(94639);a.exports.TYPE=d;var i=Object.create(null);i[d.BOOL]=e.Int8,i[d.BYTE]=e.Int8,i[d.DOUBLE]=e.DoubleBE,i[d.I16]=e.Int16BE,i[d.I32]=e.Int32BE,i[d.I64]=e.FixedWidth(8),i[d.STRING]=e.VariableBuffer(e.Int32BE),i[d.MAP]=f.TMapRW({ttypes:i}),i[d.LIST]=g.TListRW({ttypes:i}),i[d.SET]=g.TListRW({ttypes:i}),i[d.STRUCT]=h.TStructRW({ttypes:i}),a.exports.TPair=f.TPair,a.exports.TMap=f.TMap,a.exports.TMapRW=i[d.MAP],a.exports.TList=g.TList,a.exports.TListRW=i[d.LIST],a.exports.TField=h.TField,a.exports.TStruct=h.TStruct,a.exports.TStructRW=i[d.STRUCT],a.exports.BinaryRW=c(60583).BinaryRW,a.exports.ThriftBinary=c(60583).ThriftBinary,a.exports.BooleanRW=c(95912).BooleanRW,a.exports.ThriftBoolean=c(95912).ThriftBoolean,a.exports.ByteRW=c(52693).ByteRW,a.exports.ThriftByte=c(52693).ThriftByte,a.exports.DoubleRW=c(27151).DoubleRW,a.exports.ThriftDouble=c(27151).ThriftDouble,a.exports.I8RW=c(69443).I8RW,a.exports.ThriftI8=c(69443).ThriftI8,a.exports.I16RW=c(58948).I16RW,a.exports.ThriftI16=c(58948).ThriftI16,a.exports.I32RW=c(91790).I32RW,a.exports.ThriftI32=c(91790).ThriftI32,a.exports.I64RW=c(39547).I64RW,a.exports.ThriftI64=c(39547).ThriftI64,a.exports.ListRW=c(88900).ListRW,a.exports.ThriftList=c(88900).ThriftList,a.exports.ThriftSet=c(88180).ThriftSet,a.exports.MapObjectRW=c(76750).MapObjectRW,a.exports.MapEntriesRW=c(85).MapEntriesRW,a.exports.StringRW=c(85371).StringRW,a.exports.ThriftString=c(85371).ThriftString,a.exports.VoidRW=c(34410).VoidRW,a.exports.ThriftVoid=c(34410).ThriftVoid,a.exports.Thrift=c(7769).Thrift},77924:a=>{"use strict";let b;var c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,g=(a,b,g,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of e(b))f.call(a,i)||i===g||c(a,i,{get:()=>b[i],enumerable:!(h=d(b,i))||h.enumerable});return a};b={},a.exports=g(c({},"__esModule",{value:!0}),b)},77949:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseSetDef=void 0;let d=c(50130),e=c(31958);b.parseSetDef=function(a,b){let c={type:"array",uniqueItems:!0,items:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"items"]})};return a.minSize&&(0,d.setResponseValueAndErrors)(c,"minItems",a.minSize.value,a.minSize.message,b),a.maxSize&&(0,d.setResponseValueAndErrors)(c,"maxItems",a.maxSize.value,a.maxSize.message,b),c}},78087:(a,b,c)=>{"use strict";var d=c(12412),e=c(89220),f=c(82740),g=c(32437),h=c(96457).Z,i=c(24024),j=c(28354).inherits,k=e.LengthResult;function l(){this.namesToValues=Object.create(null),this.valuesToNames=Object.create(null),this.namesToNames=Object.create(null),this.namesToAnnotations=Object.create(null),this.surface=this.namesToNames,this.annotations=null,this.rw=new m(this),this.linked=!1}function m(a){this.model=a,e.Base.call(this)}l.prototype.typeid=f.I32,l.prototype.models="type",l.prototype.compile=function(a,b){this.name=a.id.name;for(var c=0,e=a.definitions,f=0;f<e.length;f++){var g=e[f],j=g.id.name,k=g.value;k&&void 0!==k.value&&(c=k.value),d(void 0===this.namesToValues[j],"duplicate name in enum "+this.name+" at "+a.id.line+":"+a.id.column),d(c<=0x7fffffff,"overflow in value in enum "+this.name+" at "+a.id.line+":"+a.id.column);var l=this.name+"."+j,m=new h(new i.Const(new i.Identifier(j),null,new i.Literal(j)));b.consts[l]=m,b.define(l,g.id,m),this.namesToValues[j]=c,this.namesToNames[j]=j,this.valuesToNames[c]=j,this.namesToAnnotations[j]=g.annotations,c++}this.annotations=a.annotations},l.prototype.link=function(a){return this.linked||(this.linked=!0,a.enums[this.name]=this.namesToNames,/^[a-z]/.test(this.name)||(a[this.name]=this.surface)),this},j(m,e.Base),m.prototype.lengthResult=new k(null,e.Int32BE.width),m.prototype.poolByteLength=function(a){return a.reset(null,e.Int32BE.width)},m.prototype.poolWriteInto=function(a,b,c,d){if("string"!=typeof b)return a.reset(g.InvalidEnumerationTypeError({enumName:this.model.name,name:b,nameType:typeof b}),null);var f=this.model.namesToValues[b];return void 0===f?a.reset(g.InvalidEnumerationNameError({enumName:this.model.name,name:b}),null):e.Int32BE.poolWriteInto(a,f,c,d)},m.prototype.poolReadFrom=function(a,b,c){if((d=e.Int32BE.poolReadFrom(a,b,c)).err)return d;c=d.offset;var d,f=d.value,h=this.model.valuesToNames[f];return h?a.reset(null,c,h):a.reset(g.InvalidEnumerationValueError({enumName:this.model.name,value:f}),c,null)},a.exports.$=l},78207:(a,b,c)=>{"use strict";var d=c(8408);let e={identify:a=>null==a,createNode:()=>new d.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new d.Scalar(null),stringify:({source:a},b)=>"string"==typeof a&&e.test.test(a)?a:b.options.nullStr};b.nullTag=e},78404:(a,b)=>{"use strict";var c,d;Object.defineProperty(b,"__esModule",{value:!0}),b.getParsedType=b.ZodParsedType=b.objectUtil=b.util=void 0,function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(c||(b.util=c={})),function(a){a.mergeShapes=(a,b)=>({...a,...b})}(d||(b.objectUtil=d={})),b.ZodParsedType=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);let e=a=>{switch(typeof a){case"undefined":return b.ZodParsedType.undefined;case"string":return b.ZodParsedType.string;case"number":return Number.isNaN(a)?b.ZodParsedType.nan:b.ZodParsedType.number;case"boolean":return b.ZodParsedType.boolean;case"function":return b.ZodParsedType.function;case"bigint":return b.ZodParsedType.bigint;case"symbol":return b.ZodParsedType.symbol;case"object":if(Array.isArray(a))return b.ZodParsedType.array;if(null===a)return b.ZodParsedType.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return b.ZodParsedType.promise;if("undefined"!=typeof Map&&a instanceof Map)return b.ZodParsedType.map;if("undefined"!=typeof Set&&a instanceof Set)return b.ZodParsedType.set;if("undefined"!=typeof Date&&a instanceof Date)return b.ZodParsedType.date;return b.ZodParsedType.object;default:return b.ZodParsedType.unknown}};b.getParsedType=e},78457:(a,b)=>{"use strict";function c(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,c.code='require("ajv/dist/runtime/ucs2length").default'},78562:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;let d=c(96535),e=c(71367),f=c(27017);function g(a,c=b.keywordError,e,f){let{it:h}=a,{gen:k,compositeRule:m,allErrors:n}=h,o=l(a,c,e);(null!=f?f:m||n)?i(k,o):j(h,(0,d._)`[${o}]`)}function h(a,c=b.keywordError,d){let{it:e}=a,{gen:g,compositeRule:k,allErrors:m}=e;i(g,l(a,c,d)),k||m||j(e,f.default.vErrors)}function i(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function j(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}b.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},b.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},b.reportError=g,b.reportExtraError=h,b.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},b.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let k={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function l(a,b,c){let{createErrors:e}=a.it;return!1===e?(0,d._)`{}`:m(a,b,c)}function m(a,b,c={}){let{gen:d,it:e}=a,f=[n(e,c),o(a,c)];return p(a,b,f),d.object(...f)}function n({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}function o({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[k.schemaPath,g]}function p(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:i,it:j}=a,{opts:l,propertyName:m,topSchemaRef:n,schemaPath:o}=j;e.push([k.keyword,g],[k.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([k.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([k.schema,i],[k.parentSchema,(0,d._)`${n}${o}`],[f.default.data,h]),m&&e.push([k.propertyName,m])}},78592:(a,b,c)=>{"use strict";var d=c(42218),e=c(83255),f=c(94214);b.stringifyDocument=function(a,b){let c=[],g=!0===b.directives;if(!1!==b.directives&&a.directives){let b=a.directives.toString(a);b?(c.push(b),g=!0):a.directives.docStart&&(g=!0)}g&&c.push("---");let h=e.createStringifyContext(a,b),{commentString:i}=h.options;if(a.commentBefore){1!==c.length&&c.unshift("");let b=i(a.commentBefore);c.unshift(f.indentComment(b,""))}let j=!1,k=null;if(a.contents){if(d.isNode(a.contents)){if(a.contents.spaceBefore&&g&&c.push(""),a.contents.commentBefore){let b=i(a.contents.commentBefore);c.push(f.indentComment(b,""))}h.forceBlockIndent=!!a.comment,k=a.contents.comment}let b=k?void 0:()=>j=!0,l=e.stringify(a.contents,h,()=>k=null,b);k&&(l+=f.lineComment(l,"",i(k))),("|"===l[0]||">"===l[0])&&"---"===c[c.length-1]?c[c.length-1]=`--- ${l}`:c.push(l)}else c.push(e.stringify(a.contents,h));if(a.directives?.docEnd)if(a.comment){let b=i(a.comment);b.includes("\n")?(c.push("..."),c.push(f.indentComment(b,""))):c.push(`... ${b}`)}else c.push("...");else{let b=a.comment;b&&j&&(b=b.replace(/^\n+/,"")),b&&((!j||k)&&""!==c[c.length-1]&&c.push(""),c.push(f.indentComment(i(b),"")))}return c.join("\n")+"\n"}},78871:(a,b,c)=>{"use strict";let d=c(50627),{MAX_LENGTH:e,MAX_SAFE_INTEGER:f}=c(45053),{safeRe:g,t:h}=c(40329),i=c(47586),{compareIdentifiers:j}=c(59218);class k{constructor(a,b){if(b=i(b),a instanceof k)if(!!b.loose===a.loose&&!!b.includePrerelease===a.includePrerelease)return a;else a=a.version;else if("string"!=typeof a)throw TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>e)throw TypeError(`version is longer than ${e} characters`);d("SemVer",a,b),this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease;let c=a.trim().match(b.loose?g[h.LOOSE]:g[h.FULL]);if(!c)throw TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>f||this.major<0)throw TypeError("Invalid major version");if(this.minor>f||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>f||this.patch<0)throw TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let b=+a;if(b>=0&&b<f)return b}return a}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(d("SemVer.compare",this.version,this.options,a),!(a instanceof k)){if("string"==typeof a&&a===this.version)return 0;a=new k(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return(a instanceof k||(a=new k(a,this.options)),this.major<a.major)?-1:this.major>a.major?1:this.minor<a.minor?-1:this.minor>a.minor?1:this.patch<a.patch?-1:+(this.patch>a.patch)}comparePre(a){if(a instanceof k||(a=new k(a,this.options)),this.prerelease.length&&!a.prerelease.length)return -1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let b=0;do{let c=this.prerelease[b],e=a.prerelease[b];if(d("prerelease compare",b,c,e),void 0===c&&void 0===e)return 0;if(void 0===e)return 1;if(void 0===c)return -1;else if(c===e)continue;else return j(c,e)}while(++b)}compareBuild(a){a instanceof k||(a=new k(a,this.options));let b=0;do{let c=this.build[b],e=a.build[b];if(d("build compare",b,c,e),void 0===c&&void 0===e)return 0;if(void 0===e)return 1;if(void 0===c)return -1;else if(c===e)continue;else return j(c,e)}while(++b)}inc(a,b,c){if(a.startsWith("pre")){if(!b&&!1===c)throw Error("invalid increment argument: identifier is empty");if(b){let a=`-${b}`.match(this.options.loose?g[h.PRERELEASELOOSE]:g[h.PRERELEASE]);if(!a||a[1]!==b)throw Error(`invalid identifier: ${b}`)}}switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",b,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",b,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",b,c),this.inc("pre",b,c);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",b,c),this.inc("pre",b,c);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let a=+!!Number(c);if(0===this.prerelease.length)this.prerelease=[a];else{let d=this.prerelease.length;for(;--d>=0;)"number"==typeof this.prerelease[d]&&(this.prerelease[d]++,d=-2);if(-1===d){if(b===this.prerelease.join(".")&&!1===c)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(b){let d=[b,a];!1===c&&(d=[b]),0===j(this.prerelease[0],b)?isNaN(this.prerelease[1])&&(this.prerelease=d):this.prerelease=d}break}default:throw Error(`invalid increment argument: ${a}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}a.exports=k},78942:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864);b.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxItems"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} items`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},78951:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b.default},79159:(a,b)=>{"use strict";class c{constructor(){this.lineStarts=[],this.addNewLine=a=>this.lineStarts.push(a),this.linePos=a=>{let b=0,c=this.lineStarts.length;for(;b<c;){let d=b+c>>1;this.lineStarts[d]<a?b=d+1:c=d}if(this.lineStarts[b]===a)return{line:b+1,col:1};if(0===b)return{line:0,col:a};let d=this.lineStarts[b-1];return{line:b,col:a-d+1}}}}b.LineCounter=c},79361:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});var d=c(91178).K.instance()},79592:(a,b,c)=>{"use strict";let d;c.d(b,{qt:()=>aw,tm:()=>be,Sj:()=>o,Ml:()=>V,n:()=>Z,Lr:()=>P,WF:()=>Q,eN:()=>ax,hw:()=>au,aP:()=>R,Xi:()=>at,jv:()=>ac,k1:()=>aq,Vb:()=>an,kY:()=>f,CZ:()=>aj,Jv:()=>ae,Ih:()=>ak,DN:()=>al,Ut:()=>ah,Tq:()=>av,WM:()=>ao,iS:()=>X,PQ:()=>U,l1:()=>as,rS:()=>O,bv:()=>_,Ii:()=>ar,_c:()=>ay,$i:()=>ap,EV:()=>az,b8:()=>ag,lK:()=>o,Kz:()=>ai,ND:()=>M,K5:()=>S,BG:()=>aq,y0:()=>af,aR:()=>o,_Z:()=>T,fZ:()=>aa,_:()=>W,a0:()=>Y,bz:()=>aN,YO:()=>aR,o:()=>aH,zM:()=>aI,au:()=>bd,Ie:()=>aB,p6:()=>aJ,fm:()=>I,gM:()=>aV,QZ:()=>a5,k5:()=>a2,fH:()=>a_,Nl:()=>aD,E$:()=>aW,fn:()=>aC,RZ:()=>a0,eu:()=>a1,Tj:()=>aZ,oi:()=>aG,fc:()=>a3,Zm:()=>aP,ch:()=>aM,me:()=>a7,ai:()=>aF,Ik:()=>aS,yN:()=>bc,p7:()=>bb,lq:()=>a6,Di:()=>ba,Tk:()=>a9,vk:()=>a8,iv:()=>a4,g1:()=>aY,hZ:()=>a$,re:()=>aT,Yj:()=>aE,HR:()=>aK,Gu:()=>a5,PV:()=>aX,Vx:()=>aL,KC:()=>aU,L5:()=>aO,rI:()=>aQ});var e,f,g=c(16800),h=c(95026),i=c(477);!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(e||(e={}));var j=c(94197),k=c(70149);class l{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let m=(a,b)=>{if((0,j.fn)(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new g.G(a.common.issues);return this._error=b,this._error}}};function n(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class o{get description(){return this._def.description}_getType(a){return(0,k.CR)(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new j.MY,ctx:{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if((0,j.xP)(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parseSync({data:a,path:c.path,parent:c});return m(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return(0,j.fn)(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>(0,j.fn)(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parse({data:a,path:c.path,parent:c});return m(c,await ((0,j.xP)(d)?d:Promise.resolve(d)))}refine(a,b){let c=a=>"string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(a):b;return this._refinement((b,d)=>{let e=a(b),f=()=>d.addIssue({code:g.eq.custom,...c(b)});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new aq({schema:this,typeName:f.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return ar.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Z.create(this)}promise(){return ap.create(this,this._def)}or(a){return aa.create([this,a],this._def)}and(a){return ae.create(this,a,this._def)}transform(a){return new aq({...n(this._def),schema:this,typeName:f.ZodEffects,effect:{type:"transform",transform:a}})}default(a){let b="function"==typeof a?a:()=>a;return new at({...n(this._def),innerType:this,defaultValue:b,typeName:f.ZodDefault})}brand(){return new ax({typeName:f.ZodBranded,type:this,...n(this._def)})}catch(a){let b="function"==typeof a?a:()=>a;return new au({...n(this._def),innerType:this,catchValue:b,typeName:f.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return ay.create(this,a)}readonly(){return az.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let p=/^c[^\s-]{8,}$/i,q=/^[0-9a-z]+$/,r=/^[0-9A-HJKMNP-TV-Z]{26}$/i,s=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t=/^[a-z0-9_-]{21}$/i,u=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,C=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,D=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F=RegExp(`^${E}$`);function G(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function H(a){return RegExp(`^${G(a)}$`)}function I(a){let b=`${E}T${G(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}function J(a,b){return!!(("v4"===b||!b)&&y.test(a)||("v6"===b||!b)&&A.test(a))}function K(a,b){if(!u.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}function L(a,b){return!!(("v4"===b||!b)&&z.test(a)||("v6"===b||!b)&&B.test(a))}class M extends o{_parse(a){let b;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==k.Zp.string){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.string,received:b.parsedType}),j.uY}let c=new j.MY;for(let e of this._def.checks)if("min"===e.kind)a.data.length<e.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,minimum:e.value,type:"string",inclusive:!0,exact:!1,message:e.message}),c.dirty());else if("max"===e.kind)a.data.length>e.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,maximum:e.value,type:"string",inclusive:!0,exact:!1,message:e.message}),c.dirty());else if("length"===e.kind){let d=a.data.length>e.value,f=a.data.length<e.value;(d||f)&&(b=this._getOrReturnCtx(a,b),d?(0,j.zn)(b,{code:g.eq.too_big,maximum:e.value,type:"string",inclusive:!0,exact:!0,message:e.message}):f&&(0,j.zn)(b,{code:g.eq.too_small,minimum:e.value,type:"string",inclusive:!0,exact:!0,message:e.message}),c.dirty())}else if("email"===e.kind)w.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"email",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("emoji"===e.kind)d||(d=RegExp(x,"u")),d.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"emoji",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("uuid"===e.kind)s.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"uuid",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("nanoid"===e.kind)t.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"nanoid",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("cuid"===e.kind)p.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"cuid",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("cuid2"===e.kind)q.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"cuid2",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("ulid"===e.kind)r.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"ulid",code:g.eq.invalid_string,message:e.message}),c.dirty());else if("url"===e.kind)try{new URL(a.data)}catch{b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"url",code:g.eq.invalid_string,message:e.message}),c.dirty()}else"regex"===e.kind?(e.regex.lastIndex=0,e.regex.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"regex",code:g.eq.invalid_string,message:e.message}),c.dirty())):"trim"===e.kind?a.data=a.data.trim():"includes"===e.kind?a.data.includes(e.value,e.position)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:{includes:e.value,position:e.position},message:e.message}),c.dirty()):"toLowerCase"===e.kind?a.data=a.data.toLowerCase():"toUpperCase"===e.kind?a.data=a.data.toUpperCase():"startsWith"===e.kind?a.data.startsWith(e.value)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:{startsWith:e.value},message:e.message}),c.dirty()):"endsWith"===e.kind?a.data.endsWith(e.value)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:{endsWith:e.value},message:e.message}),c.dirty()):"datetime"===e.kind?I(e).test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:"datetime",message:e.message}),c.dirty()):"date"===e.kind?F.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:"date",message:e.message}),c.dirty()):"time"===e.kind?H(e).test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_string,validation:"time",message:e.message}),c.dirty()):"duration"===e.kind?v.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"duration",code:g.eq.invalid_string,message:e.message}),c.dirty()):"ip"===e.kind?J(a.data,e.version)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"ip",code:g.eq.invalid_string,message:e.message}),c.dirty()):"jwt"===e.kind?K(a.data,e.alg)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"jwt",code:g.eq.invalid_string,message:e.message}),c.dirty()):"cidr"===e.kind?L(a.data,e.version)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"cidr",code:g.eq.invalid_string,message:e.message}),c.dirty()):"base64"===e.kind?C.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"base64",code:g.eq.invalid_string,message:e.message}),c.dirty()):"base64url"===e.kind?D.test(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{validation:"base64url",code:g.eq.invalid_string,message:e.message}),c.dirty()):k.ZS.assertNever(e);return{status:c.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:g.eq.invalid_string,...e.errToObj(c)})}_addCheck(a){return new M({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...e.errToObj(a)})}url(a){return this._addCheck({kind:"url",...e.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...e.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...e.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...e.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...e.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...e.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...e.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...e.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...e.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...e.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...e.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...e.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...e.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...e.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...e.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...e.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...e.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...e.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...e.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...e.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...e.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...e.errToObj(b)})}nonempty(a){return this.min(1,e.errToObj(a))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}function N(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}M.create=a=>new M({checks:[],typeName:f.ZodString,coerce:a?.coerce??!1,...n(a)});class O extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==k.Zp.number){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.number,received:b.parsedType}),j.uY}let c=new j.MY;for(let d of this._def.checks)"int"===d.kind?k.ZS.isInteger(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==N(a.data,d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_finite,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,e.toString(b))}gt(a,b){return this.setLimit("min",a,!1,e.toString(b))}lte(a,b){return this.setLimit("max",a,!0,e.toString(b))}lt(a,b){return this.setLimit("max",a,!1,e.toString(b))}setLimit(a,b,c,d){return new O({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:e.toString(d)}]})}_addCheck(a){return new O({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:e.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:e.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:e.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:e.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:e.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:e.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:e.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:e.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:e.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&k.ZS.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}O.create=a=>new O({checks:[],typeName:f.ZodNumber,coerce:a?.coerce||!1,...n(a)});class P extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==k.Zp.bigint)return this._getInvalidInput(a);let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.bigint,received:b.parsedType}),j.uY}gte(a,b){return this.setLimit("min",a,!0,e.toString(b))}gt(a,b){return this.setLimit("min",a,!1,e.toString(b))}lte(a,b){return this.setLimit("max",a,!0,e.toString(b))}lt(a,b){return this.setLimit("max",a,!1,e.toString(b))}setLimit(a,b,c,d){return new P({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:e.toString(d)}]})}_addCheck(a){return new P({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:e.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:e.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:e.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:e.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:e.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}P.create=a=>new P({checks:[],typeName:f.ZodBigInt,coerce:a?.coerce??!1,...n(a)});class Q extends o{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==k.Zp.boolean){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.boolean,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}Q.create=a=>new Q({typeName:f.ZodBoolean,coerce:a?.coerce||!1,...n(a)});class R extends o{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==k.Zp.date){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.date,received:b.parsedType}),j.uY}if(Number.isNaN(a.data.getTime())){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_date}),j.uY}let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new R({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:e.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:e.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}R.create=a=>new R({checks:[],coerce:a?.coerce||!1,typeName:f.ZodDate,...n(a)});class S extends o{_parse(a){if(this._getType(a)!==k.Zp.symbol){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.symbol,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}S.create=a=>new S({typeName:f.ZodSymbol,...n(a)});class T extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.undefined,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}T.create=a=>new T({typeName:f.ZodUndefined,...n(a)});class U extends o{_parse(a){if(this._getType(a)!==k.Zp.null){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.null,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}U.create=a=>new U({typeName:f.ZodNull,...n(a)});class V extends o{constructor(){super(...arguments),this._any=!0}_parse(a){return(0,j.OK)(a.data)}}V.create=a=>new V({typeName:f.ZodAny,...n(a)});class W extends o{constructor(){super(...arguments),this._unknown=!0}_parse(a){return(0,j.OK)(a.data)}}W.create=a=>new W({typeName:f.ZodUnknown,...n(a)});class X extends o{_parse(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.never,received:b.parsedType}),j.uY}}X.create=a=>new X({typeName:f.ZodNever,...n(a)});class Y extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.void,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}Y.create=a=>new Y({typeName:f.ZodVoid,...n(a)});class Z extends o{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==k.Zp.array)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.array,received:b.parsedType}),j.uY;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&((0,j.zn)(b,{code:a?g.eq.too_big:g.eq.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&((0,j.zn)(b,{code:g.eq.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&((0,j.zn)(b,{code:g.eq.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new l(b,a,b.path,c)))).then(a=>j.MY.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new l(b,a,b.path,c)));return j.MY.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new Z({...this._def,minLength:{value:a,message:e.toString(b)}})}max(a,b){return new Z({...this._def,maxLength:{value:a,message:e.toString(b)}})}length(a,b){return new Z({...this._def,exactLength:{value:a,message:e.toString(b)}})}nonempty(a){return this.min(1,a)}}function $(a){if(a instanceof _){let b={};for(let c in a.shape){let d=a.shape[c];b[c]=ar.create($(d))}return new _({...a._def,shape:()=>b})}if(a instanceof Z)return new Z({...a._def,type:$(a.element)});if(a instanceof ar)return ar.create($(a.unwrap()));if(a instanceof as)return as.create($(a.unwrap()));if(a instanceof af)return af.create(a.items.map(a=>$(a)));else return a}Z.create=(a,b)=>new Z({type:a,minLength:null,maxLength:null,exactLength:null,typeName:f.ZodArray,...n(b)});class _ extends o{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=k.ZS.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==k.Zp.object){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof X&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let h=[];for(let a of e){let b=d[a],e=c.data[a];h.push({key:{status:"valid",value:a},value:b._parse(new l(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof X){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)h.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&((0,j.zn)(c,{code:g.eq.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];h.push({key:{status:"valid",value:b},value:a._parse(new l(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of h){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>j.MY.mergeObjectSync(b,a)):j.MY.mergeObjectSync(b,h)}get shape(){return this._def.shape()}strict(a){return e.errToObj,new _({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:e.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new _({...this._def,unknownKeys:"strip"})}passthrough(){return new _({...this._def,unknownKeys:"passthrough"})}extend(a){return new _({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new _({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:f.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new _({...this._def,catchall:a})}pick(a){let b={};for(let c of k.ZS.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new _({...this._def,shape:()=>b})}omit(a){let b={};for(let c of k.ZS.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new _({...this._def,shape:()=>b})}deepPartial(){return $(this)}partial(a){let b={};for(let c of k.ZS.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new _({...this._def,shape:()=>b})}required(a){let b={};for(let c of k.ZS.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof ar;)a=a._def.innerType;b[c]=a}return new _({...this._def,shape:()=>b})}keyof(){return am(k.ZS.objectKeys(this.shape))}}_.create=(a,b)=>new _({shape:()=>a,unknownKeys:"strip",catchall:X.create(),typeName:f.ZodObject,...n(b)}),_.strictCreate=(a,b)=>new _({shape:()=>a,unknownKeys:"strict",catchall:X.create(),typeName:f.ZodObject,...n(b)}),_.lazycreate=(a,b)=>new _({shape:a,unknownKeys:"strip",catchall:X.create(),typeName:f.ZodObject,...n(b)});class aa extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;function d(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new g.G(a.ctx.common.issues));return(0,j.zn)(b,{code:g.eq.invalid_union,unionErrors:c}),j.uY}if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(d);{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new g.G(a));return(0,j.zn)(b,{code:g.eq.invalid_union,unionErrors:e}),j.uY}}get options(){return this._def.options}}aa.create=(a,b)=>new aa({options:a,typeName:f.ZodUnion,...n(b)});let ab=a=>{if(a instanceof ak)return ab(a.schema);if(a instanceof aq)return ab(a.innerType());if(a instanceof al)return[a.value];if(a instanceof an)return a.options;if(a instanceof ao)return k.ZS.objectValues(a.enum);else if(a instanceof at)return ab(a._def.innerType);else if(a instanceof T)return[void 0];else if(a instanceof U)return[null];else if(a instanceof ar)return[void 0,...ab(a.unwrap())];else if(a instanceof as)return[null,...ab(a.unwrap())];else if(a instanceof ax)return ab(a.unwrap());else if(a instanceof az)return ab(a.unwrap());else if(a instanceof au)return ab(a._def.innerType);else return[]};class ac extends o{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.object)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):((0,j.zn)(b,{code:g.eq.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),j.uY)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ab(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new ac({typeName:f.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...n(c)})}}function ad(a,b){let c=(0,k.CR)(a),d=(0,k.CR)(b);if(a===b)return{valid:!0,data:a};if(c===k.Zp.object&&d===k.Zp.object){let c=k.ZS.objectKeys(b),d=k.ZS.objectKeys(a).filter(a=>-1!==c.indexOf(a)),e={...a,...b};for(let c of d){let d=ad(a[c],b[c]);if(!d.valid)return{valid:!1};e[c]=d.data}return{valid:!0,data:e}}if(c===k.Zp.array&&d===k.Zp.array){if(a.length!==b.length)return{valid:!1};let c=[];for(let d=0;d<a.length;d++){let e=ad(a[d],b[d]);if(!e.valid)return{valid:!1};c.push(e.data)}return{valid:!0,data:c}}if(c===k.Zp.date&&d===k.Zp.date&&+a==+b)return{valid:!0,data:a};return{valid:!1}}class ae extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if((0,j.G4)(a)||(0,j.G4)(d))return j.uY;let e=ad(a.value,d.value);return e.valid?(((0,j.DM)(a)||(0,j.DM)(d))&&b.dirty(),{status:b.value,value:e.data}):((0,j.zn)(c,{code:g.eq.invalid_intersection_types}),j.uY)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}ae.create=(a,b,c)=>new ae({left:a,right:b,typeName:f.ZodIntersection,...n(c)});class af extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.array)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.array,received:c.parsedType}),j.uY;if(c.data.length<this._def.items.length)return(0,j.zn)(c,{code:g.eq.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j.uY;!this._def.rest&&c.data.length>this._def.items.length&&((0,j.zn)(c,{code:g.eq.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new l(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>j.MY.mergeArray(b,a)):j.MY.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new af({...this._def,rest:a})}}af.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new af({items:a,typeName:f.ZodTuple,rest:null,...n(b)})};class ag extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.object)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.object,received:c.parsedType}),j.uY;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new l(c,a,c.path,a)),value:f._parse(new l(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?j.MY.mergeObjectAsync(b,d):j.MY.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new ag(b instanceof o?{keyType:a,valueType:b,typeName:f.ZodRecord,...n(c)}:{keyType:M.create(),valueType:a,typeName:f.ZodRecord,...n(b)})}}class ah extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.map)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.map,received:c.parsedType}),j.uY;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new l(c,a,c.path,[f,"key"])),value:e._parse(new l(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}ah.create=(a,b,c)=>new ah({valueType:b,keyType:a,typeName:f.ZodMap,...n(c)});class ai extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.set)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.set,received:c.parsedType}),j.uY;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&((0,j.zn)(c,{code:g.eq.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&((0,j.zn)(c,{code:g.eq.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return j.uY;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let h=[...c.data.values()].map((a,b)=>e._parse(new l(c,a,c.path,b)));return c.common.async?Promise.all(h).then(a=>f(a)):f(h)}min(a,b){return new ai({...this._def,minSize:{value:a,message:e.toString(b)}})}max(a,b){return new ai({...this._def,maxSize:{value:a,message:e.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}ai.create=(a,b)=>new ai({valueType:a,minSize:null,maxSize:null,typeName:f.ZodSet,...n(b)});class aj extends o{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.function)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.function,received:b.parsedType}),j.uY;function c(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,h.$W)(),i.A].filter(a=>!!a),issueData:{code:g.eq.invalid_arguments,argumentsError:c}})}function d(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,h.$W)(),i.A].filter(a=>!!a),issueData:{code:g.eq.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof ap){let a=this;return(0,j.OK)(async function(...b){let h=new g.G([]),i=await a._def.args.parseAsync(b,e).catch(a=>{throw h.addIssue(c(b,a)),h}),j=await Reflect.apply(f,this,i);return await a._def.returns._def.type.parseAsync(j,e).catch(a=>{throw h.addIssue(d(j,a)),h})})}{let a=this;return(0,j.OK)(function(...b){let h=a._def.args.safeParse(b,e);if(!h.success)throw new g.G([c(b,h.error)]);let i=Reflect.apply(f,this,h.data),j=a._def.returns.safeParse(i,e);if(!j.success)throw new g.G([d(i,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aj({...this._def,args:af.create(a).rest(W.create())})}returns(a){return new aj({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aj({args:a||af.create([]).rest(W.create()),returns:b||W.create(),typeName:f.ZodFunction,...n(c)})}}class ak extends o{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}ak.create=(a,b)=>new ak({getter:a,typeName:f.ZodLazy,...n(b)});class al extends o{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{received:b.data,code:g.eq.invalid_literal,expected:this._def.value}),j.uY}return{status:"valid",value:a.data}}get value(){return this._def.value}}function am(a,b){return new an({values:a,typeName:f.ZodEnum,...n(b)})}al.create=(a,b)=>new al({value:a,typeName:f.ZodLiteral,...n(b)});class an extends o{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{expected:k.ZS.joinValues(c),received:b.parsedType,code:g.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{received:b.data,code:g.eq.invalid_enum_value,options:c}),j.uY}return(0,j.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return an.create(a,{...this._def,...b})}exclude(a,b=this._def){return an.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}an.create=am;class ao extends o{_parse(a){let b=k.ZS.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==k.Zp.string&&c.parsedType!==k.Zp.number){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{expected:k.ZS.joinValues(a),received:c.parsedType,code:g.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(k.ZS.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{received:c.data,code:g.eq.invalid_enum_value,options:a}),j.uY}return(0,j.OK)(a.data)}get enum(){return this._def.values}}ao.create=(a,b)=>new ao({values:a,typeName:f.ZodNativeEnum,...n(b)});class ap extends o{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.promise&&!1===b.common.async)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.promise,received:b.parsedType}),j.uY;let c=b.parsedType===k.Zp.promise?b.data:Promise.resolve(b.data);return(0,j.OK)(c.then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}ap.create=(a,b)=>new ap({type:a,typeName:f.ZodPromise,...n(b)});class aq extends o{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===f.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{(0,j.zn)(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return j.uY;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d});{if("aborted"===b.value)return j.uY;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?j.uY:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?j.uY:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>(0,j.fn)(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):j.uY);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!(0,j.fn)(a))return j.uY;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}k.ZS.assertNever(d)}}aq.create=(a,b,c)=>new aq({schema:a,typeName:f.ZodEffects,effect:b,...n(c)}),aq.createWithPreprocess=(a,b,c)=>new aq({schema:b,effect:{type:"preprocess",transform:a},typeName:f.ZodEffects,...n(c)});class ar extends o{_parse(a){return this._getType(a)===k.Zp.undefined?(0,j.OK)(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ar.create=(a,b)=>new ar({innerType:a,typeName:f.ZodOptional,...n(b)});class as extends o{_parse(a){return this._getType(a)===k.Zp.null?(0,j.OK)(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}as.create=(a,b)=>new as({innerType:a,typeName:f.ZodNullable,...n(b)});class at extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===k.Zp.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}at.create=(a,b)=>new at({innerType:a,typeName:f.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...n(b)});class au extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return(0,j.xP)(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new g.G(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new g.G(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}au.create=(a,b)=>new au({innerType:a,typeName:f.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...n(b)});class av extends o{_parse(a){if(this._getType(a)!==k.Zp.nan){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.nan,received:b.parsedType}),j.uY}return{status:"valid",value:a.data}}}av.create=a=>new av({typeName:f.ZodNaN,...n(a)});let aw=Symbol("zod_brand");class ax extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class ay extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),(0,j.jm)(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new ay({in:a,out:b,typeName:f.ZodPipeline})}}class az extends o{_parse(a){let b=this._def.innerType._parse(a),c=a=>((0,j.fn)(a)&&(a.value=Object.freeze(a.value)),a);return(0,j.xP)(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aA(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function aB(a,b={},c){return a?V.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=aA(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=aA(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):V.create()}az.create=(a,b)=>new az({innerType:a,typeName:f.ZodReadonly,...n(b)});let aC={object:_.lazycreate};!function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(f||(f={}));let aD=(a,b={message:`Input not instance of ${a.name}`})=>aB(b=>b instanceof a,b),aE=M.create,aF=O.create,aG=av.create,aH=P.create,aI=Q.create,aJ=R.create,aK=S.create,aL=T.create,aM=U.create,aN=V.create,aO=W.create,aP=X.create,aQ=Y.create,aR=Z.create,aS=_.create,aT=_.strictCreate,aU=aa.create,aV=ac.create,aW=ae.create,aX=af.create,aY=ag.create,aZ=ah.create,a$=ai.create,a_=aj.create,a0=ak.create,a1=al.create,a2=an.create,a3=ao.create,a4=ap.create,a5=aq.create,a6=ar.create,a7=as.create,a8=aq.createWithPreprocess,a9=ay.create,ba=()=>aE().optional(),bb=()=>aF().optional(),bc=()=>aI().optional(),bd={string:a=>M.create({...a,coerce:!0}),number:a=>O.create({...a,coerce:!0}),boolean:a=>Q.create({...a,coerce:!0}),bigint:a=>P.create({...a,coerce:!0}),date:a=>R.create({...a,coerce:!0})},be=j.uY},80017:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;let d=c(53864),e=c(59762),f=c(28872),g={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return h(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}};function h(a,b,c=a.schema){let{gen:f,parentSchema:g,data:i,keyword:j,it:k}=a;n(g),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);function n(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}}c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}b.validateTuple=h,b.default=g},80158:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.ConnectivityState=void 0,function(a){a[a.IDLE=0]="IDLE",a[a.CONNECTING=1]="CONNECTING",a[a.READY=2]="READY",a[a.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",a[a.SHUTDOWN=4]="SHUTDOWN"}(c||(b.ConnectivityState=c={}))},80277:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Resource:()=>e.F,browserDetector:()=>k,browserDetectorSync:()=>j,defaultServiceName:()=>f.m,detectResources:()=>G,detectResourcesSync:()=>H,envDetector:()=>p,envDetectorSync:()=>o,hostDetector:()=>u,hostDetectorSync:()=>t,osDetector:()=>w,osDetectorSync:()=>v,processDetector:()=>A,processDetectorSync:()=>z,serviceInstanceIdDetectorSync:()=>C});var d,e=c(57182),f=c(29990),g=c(56679),h=c(79361),i=function(){return(i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},j=new(function(){function a(){}return a.prototype.detect=function(a){if("undefined"==typeof navigator||(null==(d=null==(c=global.process)?void 0:c.versions)?void 0:d.node)!==void 0||(null==(f=global.Bun)?void 0:f.version)!==void 0)return e.F.empty();var b,c,d,f,h=((b={})[g.lb]="browser",b[g.C3]="Web Browser",b[g.cV]=navigator.userAgent,b);return this._getResourceAttributes(h,a)},a.prototype._getResourceAttributes=function(a,b){return""===a[g.cV]?(h.s.debug("BrowserDetector failed: Unable to find required browser resources. "),e.F.empty()):new e.F(i({},a))},a}()),k=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(j.detect(a))},a}()),l=c(66336),m=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},o=new(function(){function a(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return a.prototype.detect=function(a){var b={},c=(0,l._)(),d=c.OTEL_RESOURCE_ATTRIBUTES,f=c.OTEL_SERVICE_NAME;if(d)try{var i=this._parseResourceAttributes(d);Object.assign(b,i)}catch(a){h.s.debug("EnvDetector failed: "+a.message)}return f&&(b[g.AV]=f),new e.F(b)},a.prototype._parseResourceAttributes=function(a){if(!a)return{};var b,c,d={},e=a.split(this._COMMA_SEPARATOR,-1);try{for(var f=m(e),g=f.next();!g.done;g=f.next()){var h=g.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===h.length){var i=n(h,2),j=i[0],k=i[1];if(j=j.trim(),k=k.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(j))throw Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(k))throw Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);d[j]=decodeURIComponent(k)}}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return d},a.prototype._isValid=function(a){return a.length<=this._MAX_LENGTH&&this._isBaggageOctetString(a)},a.prototype._isBaggageOctetString=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(c<33||44===c||59===c||92===c||c>126)return!1}return!0},a.prototype._isValidAndNotEmpty=function(a){return a.length>0&&this._isValid(a)},a}()),p=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(o.detect(a))},a}()),q=c(21820),r=function(a){switch(a){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return a}},s=function(a){switch(a){case"sunos":return"solaris";case"win32":return"windows";default:return a}};switch(c(19771).platform){case"darwin":d=c(50344).D;break;case"linux":d=c(73816).D;break;case"freebsd":d=c(4481).D;break;case"win32":d=c(46596).D;break;default:d=c(26083).D}var t=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.RK]=(0,q.hostname)(),b[g.yT]=r((0,q.arch)()),b);return new e.F(c,this._getAsyncAttributes())},a.prototype._getAsyncAttributes=function(){return d().then(function(a){var b={};return a&&(b[g.zs]=a),b})},a}()),u=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(t.detect(a))},a}()),v=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.ko]=s((0,q.platform)()),b[g.AC]=(0,q.release)(),b);return new e.F(c)},a}()),w=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(v.detect(a))},a}()),x=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},y=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},z=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.ky]=process.pid,b[g.fP]=process.title,b[g.xQ]=process.execPath,b[g.U2]=y(y([process.argv[0]],x(process.execArgv),!1),x(process.argv.slice(1)),!1),b[g.cV]=process.versions.node,b[g.lb]="nodejs",b[g.C3]="Node.js",b);process.argv.length>1&&(c[g.Cn]=process.argv[1]);try{var d=q.userInfo();c[g.Yb]=d.username}catch(a){h.s.debug("error obtaining process owner: "+a)}return new e.F(c)},a}()),A=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(z.detect(a))},a}()),B=c(55511),C=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.PL]=(0,B.randomUUID)(),b);return new e.F(c)},a}()),D=function(a){return null!==a&&"object"==typeof a&&"function"==typeof a.then},E=function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},F=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(a){f=[6,a],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},G=function(a){return void 0===a&&(a={}),E(void 0,void 0,void 0,function(){var b;return F(this,function(c){switch(c.label){case 0:return[4,Promise.all((a.detectors||[]).map(function(b){return E(void 0,void 0,void 0,function(){var c,d;return F(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,b.detect(a)];case 1:return c=f.sent(),h.s.debug(b.constructor.name+" found resource.",c),[2,c];case 2:return d=f.sent(),h.s.debug(b.constructor.name+" failed: "+d.message),[2,e.F.empty()];case 3:return[2]}})})}))];case 1:return I(b=c.sent()),[2,b.reduce(function(a,b){return a.merge(b)},e.F.empty())]}})})},H=function(a){void 0===a&&(a={});var b,c=(null!=(b=a.detectors)?b:[]).map(function(b){try{var c,d=b.detect(a);if(D(d)){var f=function(){return E(void 0,void 0,void 0,function(){var a;return F(this,function(b){switch(b.label){case 0:return[4,d];case 1:return a=b.sent(),[2,a.attributes]}})})};c=new e.F({},f())}else c=d;return c.waitForAsyncAttributes?c.waitForAsyncAttributes().then(function(){return h.s.debug(b.constructor.name+" found resource.",c)}):h.s.debug(b.constructor.name+" found resource.",c),c}catch(a){return h.s.error(b.constructor.name+" failed: "+a.message),e.F.empty()}}),d=c.reduce(function(a,b){return a.merge(b)},e.F.empty());return d.waitForAsyncAttributes&&d.waitForAsyncAttributes().then(function(){I(c)}),d},I=function(a){a.forEach(function(a){if(Object.keys(a.attributes).length>0){var b=JSON.stringify(a.attributes,null,4);h.s.verbose(b)}})}},80296:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(28872),e=c(53864),f=c(59762),g=c(59762);b.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let n=k.strictSchema&&!k.allowMatchingProperties&&i.properties,o=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:p}=j;function q(a){for(let b in n)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}function r(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},o),j.opts.unevaluated&&!0!==p?b.assign((0,e._)`${p}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(o),()=>b.break())})})}(function a(){for(let a of l)n&&q(a),j.allErrors?r(a):(b.var(o,!0),r(a),b.if(o))})()}}},80339:(a,b,c)=>{function d(a,b,c,d){return a.reset(null,d)}function e(a,b,c){return a.reset(null,c,null)}a.exports=(0,c(68530).AtomRW)(0,e,d)},80496:(a,b)=>{"use strict";b.__esModule=!0,b.extend=g,b.indexOf=k,b.escapeExpression=l,b.isEmpty=m,b.createFrame=n,b.blockParams=o,b.appendContextPath=p;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,e=/[&<>"'`=]/;function f(a){return c[a]}function g(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}var h=Object.prototype.toString;b.toString=h;var i=function(a){return"function"==typeof a};i(/x/)&&(b.isFunction=i=function(a){return"function"==typeof a&&"[object Function]"===h.call(a)}),b.isFunction=i;var j=Array.isArray||function(a){return!!a&&"object"==typeof a&&"[object Array]"===h.call(a)};function k(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}function l(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return e.test(a)?a.replace(d,f):a}function m(a){return!a&&0!==a||!!j(a)&&0===a.length}function n(a){var b=g({},a);return b._parent=a,b}function o(a,b){return a.path=b,a}function p(a,b){return(a?a+".":"")+b}b.isArray=j},80526:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},80579:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=l(c(29021)),g=k(c(72204)),h=l(c(33873)),i=c(77848),j=l(c(24818));function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function l(a){return a&&a.__esModule?a:{default:a}}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var n=function(){function a(){m(this,a)}return e(a,null,[{key:"loadJaegerThriftDefinition",value:function(){return f.default.readFileSync(h.default.join(__dirname,"./jaeger-idl/thrift/jaeger.thrift"),"ascii")}},{key:"buildAgentThriftPath",value:function(){return h.default.join(__dirname,"./thriftrw-idl/agent.thrift")}},{key:"getThriftTags",value:function(b){for(var c=[],e=0;e<b.length;e++){var f=b[e],g=f.key,h=a.emptyBuffer,i=a.emptyBuffer,j=!1,k=0,l="",m="",n=d(f.value);"number"===n?(m=a._thrift.TagType.DOUBLE,k=f.value):"boolean"===n?(m=a._thrift.TagType.BOOL,j=f.value):f.value instanceof Buffer?(m=a._thrift.TagType.BINARY,i=f.value):"object"===n?(m=a._thrift.TagType.STRING,l=JSON.stringify(f.value)):(m=a._thrift.TagType.STRING,l="string"===n?f.value:String(f.value)),c.push({key:g,vType:m,vStr:l,vDouble:k,vBool:j,vLong:h,vBinary:i})}return c}},{key:"getThriftLogs",value:function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d];c.push({timestamp:j.default.encodeInt64(1e3*e.timestamp),fields:a.getThriftTags(e.fields)})}return c}},{key:"spanRefsToThriftRefs",value:function(b){for(var c=[],d=0;d<b.length;d++){var e=void 0,f=b[d],h=b[d].referencedContext();if(f.type()===g.REFERENCE_CHILD_OF)e=a._thrift.SpanRefType.CHILD_OF;else{if(f.type()!==g.REFERENCE_FOLLOWS_FROM)continue;e=a._thrift.SpanRefType.FOLLOWS_FROM}c.push({refType:e,traceIdLow:a.getTraceIdLow(h.traceId),traceIdHigh:a.getTraceIdHigh(h.traceId),spanId:h.spanId})}return c}},{key:"getTraceIdLow",value:function(b){return null!=b?b.slice(-8):a.emptyBuffer}},{key:"getTraceIdHigh",value:function(b){return null!=b&&b.length>8?b.slice(-16,-8):a.emptyBuffer}},{key:"spanToThrift",value:function(b){var c=a.getThriftTags(b._tags),d=a.getThriftLogs(b._logs);return{traceIdLow:a.getTraceIdLow(b._spanContext.traceId),traceIdHigh:a.getTraceIdHigh(b._spanContext.traceId),spanId:b._spanContext.spanId,parentSpanId:b._spanContext.parentId||a.emptyBuffer,operationName:b._operationName,references:a.spanRefsToThriftRefs(b._references),flags:b._spanContext.flags,startTime:j.default.encodeInt64(1e3*b._startTime),duration:j.default.encodeInt64(1e3*b._duration),tags:c,logs:d}}}]),a}();n._thrift=new i.Thrift({source:n.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),n.emptyBuffer=j.default.newBuffer(8),b.default=n},80764:(a,b,c)=>{"use strict";c.d(b,{s:()=>l});var d=c(76673);function e(a,b){var c,e=a.spanContext(),h=a.status;return{traceId:b.encodeSpanContext(e.traceId),spanId:b.encodeSpanContext(e.spanId),parentSpanId:b.encodeOptionalSpanContext(a.parentSpanId),traceState:null==(c=e.traceState)?void 0:c.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:b.encodeHrTime(a.startTime),endTimeUnixNano:b.encodeHrTime(a.endTime),attributes:(0,d.Zs)(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(function(a){return g(a,b)}),droppedEventsCount:a.droppedEventsCount,status:{code:h.code,message:h.message},links:a.links.map(function(a){return f(a,b)}),droppedLinksCount:a.droppedLinksCount}}function f(a,b){var c;return{attributes:a.attributes?(0,d.Zs)(a.attributes):[],spanId:b.encodeSpanContext(a.context.spanId),traceId:b.encodeSpanContext(a.context.traceId),traceState:null==(c=a.context.traceState)?void 0:c.serialize(),droppedAttributesCount:a.droppedAttributesCount||0}}function g(a,b){return{attributes:a.attributes?(0,d.Zs)(a.attributes):[],name:a.name,timeUnixNano:b.encodeHrTime(a.time),droppedAttributesCount:a.droppedAttributesCount||0}}var h=c(16426),i=c(60012),j=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},k=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function l(a,b){return{resourceSpans:n(a,(0,h.Az)(b))}}function m(a){var b,c,d=new Map;try{for(var e=j(a),f=e.next();!f.done;f=e.next()){var g=f.value,h=d.get(g.resource);h||(h=new Map,d.set(g.resource,h));var i=g.instrumentationLibrary.name+"@"+(g.instrumentationLibrary.version||"")+":"+(g.instrumentationLibrary.schemaUrl||""),k=h.get(i);k||(k=[],h.set(i,k)),k.push(g)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}function n(a,b){for(var c=m(a),f=[],g=c.entries(),h=g.next();!h.done;){for(var j=k(h.value,2),l=j[0],n=j[1],o=[],p=n.values(),q=p.next();!q.done;){var r=q.value;if(r.length>0){var s=r.map(function(a){return e(a,b)});o.push({scope:(0,d.d1)(r[0].instrumentationLibrary),spans:s,schemaUrl:r[0].instrumentationLibrary.schemaUrl})}q=p.next()}var t={resource:(0,i.Z)(l),scopeSpans:o,schemaUrl:void 0};f.push(t),h=g.next()}return f}},81096:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OTLPTraceExporter:()=>o});var d=c(24774),e=c(66336),f=c(89162),g=c(144),h="0.52.1",i=c(30648),j=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},l="v1/traces",m="http://localhost:4318/"+l,n={"User-Agent":"OTel-OTLP-Exporter-JavaScript/"+h},o=function(a){function b(b){void 0===b&&(b={});var c=a.call(this,b,i.U1,"application/json")||this;return c.headers=k(k(k(k({},c.headers),n),d.parseKeyPairsIntoRecord((0,e._)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,f.QG)(null==b?void 0:b.headers)),c}return j(b,a),b.prototype.getDefaultUrl=function(a){return"string"==typeof a.url?a.url:(0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,f.u3)((0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,f.Ir)((0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT,l):m},b}(g.u)},81126:(a,b)=>{"use strict";var c=b;c.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},c.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},c.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}},81145:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GenerateResponse:()=>n}),a.exports=i(j);var k=c(76944),l=c(67113),m=c(20689);class n{message;finishReason;finishMessage;usage;custom;raw;request;operation;model;parser;constructor(a,b){let c=a.message||a.candidates?.[0]?.message;c&&(this.message=new m.Message(c,{parser:b?.parser})),this.finishReason=a.finishReason||a.candidates?.[0]?.finishReason,this.finishMessage=a.finishMessage||a.candidates?.[0]?.finishMessage,this.usage=a.usage||{},this.custom=a.custom||{},this.raw=a.raw||this.custom,this.request=b?.request,this.operation=a?.operation}assertValid(){if("blocked"===this.finishReason)throw new l.GenerationBlockedError(this,`Generation blocked${this.finishMessage?`: ${this.finishMessage}`:"."}`);if(!this.message&&!this.operation)throw new l.GenerationResponseError(this,`Model did not generate a message. Finish reason: '${this.finishReason}': ${this.finishMessage}`)}assertValidSchema(a){if(a?.output?.schema||this.request?.output?.schema){let b=this.output;(0,k.parseSchema)(b,{jsonSchema:a?.output?.schema||this.request?.output?.schema})}}isValid(a){try{return this.assertValid(),this.assertValidSchema(a),!0}catch(a){return!1}}get output(){return this.message?.output||null}get text(){return this.message?.text||""}get reasoning(){return this.message?.reasoning||""}get media(){return this.message?.media||null}get data(){return this.message?.data||null}get toolRequests(){return this.message?.toolRequests||[]}get interrupts(){return this.message?.interrupts||[]}get messages(){if(!this.request)throw Error("Can't construct history for response without request reference.");if(!this.message)throw Error("Can't construct history for response without generated message.");return[...this.request?.messages,this.message.toJSON()]}toJSON(){let a={message:this.message?.toJSON(),finishReason:this.finishReason,finishMessage:this.finishMessage,usage:this.usage,custom:this.custom.toJSON?.()||this.custom,request:this.request,operation:this.operation};return a.finishMessage||delete a.finishMessage,a.request||delete a.request,a.operation||delete a.operation,a}}},81200:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(33559),e=c(76615);b.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},81390:(a,b,c)=>{"use strict";var d=c(34275),e=c(65444),f=c(68423),g=c(74876),h=c(42218),i=c(79159),j=c(69731);function k(a){let b=!1!==a.prettyErrors;return{lineCounter:a.lineCounter||b&&new i.LineCounter||null,prettyErrors:b}}function l(a,b={}){let{lineCounter:c,prettyErrors:e}=k(b),g=new j.Parser(c?.addNewLine),h=new d.Composer(b),i=Array.from(h.compose(g.parse(a)));if(e&&c)for(let b of i)b.errors.forEach(f.prettifyError(a,c)),b.warnings.forEach(f.prettifyError(a,c));return i.length>0?i:Object.assign([],{empty:!0},h.streamInfo())}function m(a,b={}){let{lineCounter:c,prettyErrors:e}=k(b),g=new j.Parser(c?.addNewLine),h=new d.Composer(b),i=null;for(let b of h.compose(g.parse(a),!0,a.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new f.YAMLParseError(b.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=b;return e&&c&&(i.errors.forEach(f.prettifyError(a,c)),i.warnings.forEach(f.prettifyError(a,c))),i}function n(a,b,c){let d=null;if("function"==typeof b||Array.isArray(b)?d=b:void 0===c&&b&&(c=b),"string"==typeof c&&(c=c.length),"number"==typeof c){let a=Math.round(c);c=a<1?void 0:a>8?{indent:8}:{indent:a}}if(void 0===a){let{keepUndefined:a}=c??b??{};if(!a)return}return h.isDocument(a)&&!d?a.toString(c):new e.Document(a,d,c).toString(c)}b.parse=function(a,b,c){let d;"function"==typeof b?d=b:void 0===c&&b&&"object"==typeof b&&(c=b);let e=m(a,c);if(!e)return null;if(e.warnings.forEach(a=>g.warn(e.options.logLevel,a)),e.errors.length>0)if("silent"!==e.options.logLevel)throw e.errors[0];else e.errors=[];return e.toJS(Object.assign({reviver:d},c))},b.parseAllDocuments=l,b.parseDocument=m,b.stringify=n},81588:(a,b,c)=>{"use strict";c.d(b,{FU:()=>f,M1:()=>e,Zf:()=>g});var d=(0,c(76956).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function e(a){return a.setValue(d,!0)}function f(a){return a.deleteValue(d)}function g(a){return!0===a.getValue(d)}},81842:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.CompressionAlgorithms=void 0,function(a){a[a.identity=0]="identity",a[a.deflate=1]="deflate",a[a.gzip=2]="gzip"}(c||(b.CompressionAlgorithms=c={}))},81894:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;let d=c(53864),e=c(59762);b.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},b.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},b.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},82126:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InternalChannel=b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;let d=c(97945),e=c(16960),f=c(14067),g=c(96269),h=c(33604),i=c(56458),j=c(27398),k=c(22354),l=c(43313),m=c(38702),n=c(77538),o=c(9413),p=c(80158),q=c(49682),r=c(46638),s=c(8319),t=c(55929),u=c(25479),v=c(16390),w=c(68586),x=c(35210),y=0x7fffffff,z=1e3,A=18e5,B=new Map,C=0x1000000,D=1048576;class E extends x.BaseSubchannelWrapper{constructor(a,b){super(a),this.channel=b,this.refCount=0,this.subchannelStateListener=(a,c,d,e)=>{b.throttleKeepalive(e)}}ref(){0===this.refCount&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class F{pick(a){return{pickResultType:g.PickResultType.DROP,status:{code:i.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new h.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class G{constructor(a){this.target=a,this.trace=new q.ChannelzTrace,this.callTracker=new q.ChannelzCallTracker,this.childrenTracker=new q.ChannelzChildrenTracker,this.state=p.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}class H{constructor(a,c,h){var r,s,t,u,x,y;if(this.credentials=c,this.options=h,this.connectivityState=p.ConnectivityState.IDLE,this.currentPicker=new g.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),"string"!=typeof a)throw TypeError("Channel target must be a string");if(!(c instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(h&&"object"!=typeof h)throw TypeError("Channel options must be an object");this.channelzInfoTracker=new G(a);let F=(0,o.parseUri)(a);if(null===F)throw Error(`Could not parse target name "${a}"`);let H=(0,l.mapUriDefaultScheme)(F);if(null===H)throw Error(`Could not find a default scheme for target name "${a}"`);0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,q.registerChannelzChannel)(a,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,l.getDefaultAuthority)(H);let I=(0,n.mapProxyName)(H,h);this.target=I.target,this.options=Object.assign({},this.options,I.extraOptions),this.subchannelPool=(0,f.getSubchannelPool)((null!=(r=this.options["grpc.use_local_subchannel_pool"])?r:0)===0),this.retryBufferTracker=new w.MessageBufferTracker(null!=(s=this.options["grpc.retry_buffer_size"])?s:C,null!=(t=this.options["grpc.per_rpc_retry_buffer_size"])?t:D),this.keepaliveTime=null!=(u=this.options["grpc.keepalive_time_ms"])?u:-1,this.idleTimeoutMs=Math.max(null!=(x=this.options["grpc.client_idle_timeout_ms"])?x:A,z);let J={createSubchannel:(a,c)=>{let d={};for(let[a,e]of Object.entries(c))a.startsWith(b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(d[a]=e);let e=this.subchannelPool.getOrCreateSubchannel(this.target,a,d,this.credentials);return e.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",e.getChannelzRef()),new E(e,this)},updateState:(a,b)=>{this.currentPicker=b;let c=this.pickQueue.slice();for(let a of(this.pickQueue=[],c.length>0&&this.callRefTimerUnref(),c))a.doPick();this.updateState(a)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:a=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(a)},removeChannelzChild:a=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(a)}};this.resolvingLoadBalancer=new e.ResolvingLoadBalancer(this.target,J,this.options,(a,b)=>{var c;a.retryThrottling?B.set(this.getTarget(),new w.RetryThrottler(a.retryThrottling.maxTokens,a.retryThrottling.tokenRatio,B.get(this.getTarget()))):B.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),null==(c=this.configSelector)||c.unref(),this.configSelector=b,this.currentResolutionError=null,process.nextTick(()=>{let a=this.configSelectionQueue;for(let b of(this.configSelectionQueue=[],a.length>0&&this.callRefTimerUnref(),a))b.getConfig()})},a=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+a.code+' and details "'+a.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,v.restrictControlPlaneStatusCode)(a.code,a.details)),{metadata:a.metadata}));let b=this.configSelectionQueue;for(let c of(this.configSelectionQueue=[],b.length>0&&this.callRefTimerUnref(),b))c.reportResolverError(a)}),this.filterStackFactory=new j.FilterStackFactory([new k.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(h,void 0,2));let K=Error();(0,m.isTracerEnabled)("channel_stacktrace")&&(0,m.trace)(i.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null==(y=K.stack)?void 0:y.substring(K.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}trace(a,b){(0,m.trace)(null!=b?b:i.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,o.uriToString)(this.target)+" "+a)}callRefTimerRef(){var a,b,c,d;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},y)),(null==(b=(a=this.callRefTimer).hasRef)?void 0:b.call(a))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(d=(c=this.callRefTimer).ref)||d.call(c))}callRefTimerUnref(){var a,b,c;(!(null==(a=this.callRefTimer)?void 0:a.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(c=null==(b=this.callRefTimer)?void 0:b.unref)||c.call(b))}removeConnectivityStateWatcher(a){let b=this.connectivityStateWatchers.findIndex(b=>b===a);b>=0&&this.connectivityStateWatchers.splice(b,1)}updateState(a){for(let b of((0,m.trace)(i.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,o.uriToString)(this.target)+" "+p.ConnectivityState[this.connectivityState]+" -> "+p.ConnectivityState[a]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+p.ConnectivityState[a]),this.connectivityState=a,this.channelzInfoTracker.state=a,this.connectivityStateWatchers.slice()))a!==b.currentState&&(b.timer&&clearTimeout(b.timer),this.removeConnectivityStateWatcher(b),b.callback());a!==p.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(a){if(a>this.keepaliveTime)for(let b of(this.keepaliveTime=a,this.wrappedSubchannels))b.throttleKeepalive(a)}addWrappedSubchannel(a){this.wrappedSubchannels.add(a)}removeWrappedSubchannel(a){this.wrappedSubchannels.delete(a)}doPick(a,b){return this.currentPicker.pick({metadata:a,extraPickInfo:b})}queueCallForPick(a){this.pickQueue.push(a),this.callRefTimerRef()}getConfig(a,b){return(this.connectivityState!==p.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector.invoke(a,b,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(a){this.configSelectionQueue.push(a),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.IDLE),this.currentPicker=new g.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(a){var b,c;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},a),null==(c=(b=this.idleTimer).unref)||c.call(b)}maybeStartIdleTimer(){this.connectivityState===p.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(a){this.channelzEnabled&&(a.code===i.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+f+'] method="'+b+'"'),new r.LoadBalancingCall(this,a,b,c,d,e,f)}createRetryingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();return this.trace("createRetryingCall ["+f+'] method="'+b+'"'),new w.RetryingCall(this,a,b,c,d,e,f,this.retryBufferTracker,B.get(this.getTarget()))}createResolvingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();this.trace("createResolvingCall ["+f+'] method="'+a+'", deadline='+(0,s.deadlineToString)(b));let g={deadline:b,flags:null!=e?e:i.Propagate.DEFAULTS,host:null!=c?c:this.defaultAuthority,parentCall:d},h=new t.ResolvingCall(this,a,g,this.filterStackFactory.clone(),f);return this.onCallStart(),h.addStatusWatcher(a=>{this.onCallEnd(a)}),h}close(){var a;for(let a of(this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.SHUTDOWN),this.currentPicker=new F,this.configSelectionQueue))a.cancelWithStatus(i.Status.UNAVAILABLE,"Channel closed before call started");for(let a of(this.configSelectionQueue=[],this.pickQueue))a.cancelWithStatus(i.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,q.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),null==(a=this.configSelector)||a.unref(),this.configSelector=null}getTarget(){return(0,o.uriToString)(this.target)}getConnectivityState(a){let b=this.connectivityState;return a&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),b}watchConnectivityState(a,b,c){if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let d=null;if(b!==1/0){let a=b instanceof Date?b:new Date(b),f=new Date;if(b===-1/0||a<=f)return void process.nextTick(c,Error("Deadline passed without connectivity state change"));d=setTimeout(()=>{this.removeConnectivityStateWatcher(e),c(Error("Deadline passed without connectivity state change"))},a.getTime()-f.getTime())}let e={currentState:a,callback:c,timer:d};this.connectivityStateWatchers.push(e)}getChannelzRef(){return this.channelzRef}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(a,b,c,d,e)}getOptions(){return this.options}}b.InternalChannel=H},82141:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parsePipelineDef=void 0;let d=c(31958);b.parsePipelineDef=(a,b)=>{if("input"===b.pipeStrategy)return(0,d.parseDef)(a.in._def,b);if("output"===b.pipeStrategy)return(0,d.parseDef)(a.out._def,b);let c=(0,d.parseDef)(a.in._def,{...b,currentPath:[...b.currentPath,"allOf","0"]}),e=(0,d.parseDef)(a.out._def,{...b,currentPath:[...b.currentPath,"allOf",c?"1":"0"]});return{allOf:[c,e].filter(a=>void 0!==a)}}},82499:(a,b,c)=>{a.exports=function(){function a(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function b(b){var d,e=arguments.length>1?arguments[1]:{},f={},g={Program:eT},h=eT,i=f,j=function(a,b){return new gG.Program(a.filter(Boolean),b)},k="cpp_namespace",l={type:"literal",value:"cpp_namespace",description:'"cpp_namespace"'},m="php_namespace",n={type:"literal",value:"php_namespace",description:'"php_namespace"'},o="py_module",p={type:"literal",value:"py_module",description:'"py_module"'},q="perl_package",r={type:"literal",value:"perl_package",description:'"perl_package"'},s="ruby_namespace",t={type:"literal",value:"ruby_namespace",description:'"ruby_namespace"'},u="smalltalk_category",v={type:"literal",value:"smalltalk_category",description:'"smalltalk_category"'},w="smalltalk_prefix",x={type:"literal",value:"smalltalk_prefix",description:'"smalltalk_prefix"'},y="java_package",z={type:"literal",value:"java_package",description:'"java_package"'},A="cocoa_package",B={type:"literal",value:"cocoa_package",description:'"cocoa_package"'},C="xsd_namespace",D={type:"literal",value:"xsd_namespace",description:'"xsd_namespace"'},E="csharp_namespace",F={type:"literal",value:"csharp_namespace",description:'"csharp_namespace"'},G=null,H=function(a,b){return new gG.Include(b,a,eO(),eP())},I=function(a,b){return new gG.Namespace(b,a)},J="smalltalk.category",K={type:"literal",value:"smalltalk.category",description:'"smalltalk.category"'},L="smalltalk.prefix",M={type:"literal",value:"smalltalk.prefix",description:'"smalltalk.prefix"'},N="*",O={type:"literal",value:"*",description:'"*"'},P=function(a){},Q=function(a,b){},R="cpp",S={type:"literal",value:"cpp",description:'"cpp"'},T="java",U={type:"literal",value:"java",description:'"java"'},V="py.twisted",W={type:"literal",value:"py.twisted",description:'"py.twisted"'},X="py",Y={type:"literal",value:"py",description:'"py"'},Z="perl",$={type:"literal",value:"perl",description:'"perl"'},_="rb",aa={type:"literal",value:"rb",description:'"rb"'},ab="cocoa",ac={type:"literal",value:"cocoa",description:'"cocoa"'},ad="csharp",ae={type:"literal",value:"csharp",description:'"csharp"'},af="php",ag={type:"literal",value:"php",description:'"php"'},ah="as3",ai={type:"literal",value:"as3",description:'"as3"'},aj="c_glib",ak={type:"literal",value:"c_glib",description:'"c_glib"'},al="js",am={type:"literal",value:"js",description:'"js"'},an="st",ao={type:"literal",value:"st",description:'"st"'},ap="go",aq={type:"literal",value:"go",description:'"go"'},ar="delphi",as={type:"literal",value:"delphi",description:'"delphi"'},at="lua",au={type:"literal",value:"lua",description:'"lua"'},av=function(a,b,c){return new gG.Typedef(a,b,c)},aw=function(a){return a},ax=",",ay={type:"literal",value:",",description:'","'},az=";",aA={type:"literal",value:";",description:'";"'},aB={type:"other",description:"list separator"},aC="{",aD={type:"literal",value:"{",description:'"{"'},aE="}",aF={type:"literal",value:"}",description:'"}"'},aG=function(a,b,c){return new gG.Enum(a,b,c)},aH="=",aI={type:"literal",value:"=",description:'"="'},aJ=function(a){return a},aK=function(a,b,c){return new gG.EnumDefinition(a,b,c)},aL=function(a,b,c){return new gG.Senum(a,b,c)},aM=function(a){return a},aN=function(a,b,c){return new gG.Const(b,a,c)},aO="[",aP={type:"literal",value:"[",description:'"["'},aQ=function(a){return a},aR="]",aS={type:"literal",value:"]",description:'"]"'},aT=function(a){return new gG.ConstList(a)},aU=function(a){return new gG.ConstMap(a)},aV=":",aW={type:"literal",value:":",description:'":"'},aX=function(a,b){return new gG.ConstEntry(a,b)},aY="struct",aZ={type:"literal",value:"struct",description:'"struct"'},a$=function(a,b,c){return new gG.Struct(a,b,c)},a_=function(a,b,c){return new gG.Union(a,b,c)},a0="xsd_all",a1={type:"literal",value:"xsd_all",description:'"xsd_all"'},a2="xsd_optional",a3={type:"literal",value:"xsd_optional",description:'"xsd_optional"'},a4="xsd_nillable",a5={type:"literal",value:"xsd_nillable",description:'"xsd_nillable"'},a6="xsd_attributes",a7={type:"literal",value:"xsd_attributes",description:'"xsd_attributes"'},a8="exception",a9={type:"literal",value:"exception",description:'"exception"'},ba=function(a,b,c){return new gG.Exception(a,b,c)},bb="service",bc={type:"literal",value:"service",description:'"service"'},bd=function(a,b,c,d){return new gG.Service(a,c,d,b)},be="extends",bf={type:"literal",value:"extends",description:'"extends"'},bg=function(a){return a},bh="(",bi={type:"literal",value:"(",description:'"("'},bj=")",bk={type:"literal",value:")",description:'")"'},bl=function(a,b,c,d,e,f){return new gG.FunctionDefinition(c,d,b,e,f,a)},bm="oneway",bn={type:"literal",value:"oneway",description:'"oneway"'},bo=function(){return!0},bp=function(){return!1},bq="throws",br={type:"literal",value:"throws",description:'"throws"'},bs=function(a){return a},bt=function(a,b,c,d,e,f,g){return new gG.Field(a,c,e,b,f,g)},bu="&",bv={type:"literal",value:"&",description:'"&"'},bw=function(){return!0},bx=function(){return!1},by=function(a){return new gG.FieldIdentifier(a.value,eO(),eP())},bz="required",bA={type:"literal",value:"required",description:'"required"'},bB=function(){return"required"},bC="optional",bD={type:"literal",value:"optional",description:'"optional"'},bE=function(){return"optional"},bF=function(a){return a},bG="void",bH={type:"literal",value:"void",description:'"void"'},bI=function(){return new gG.BaseType("void")},bJ=function(a,b){return new gG.BaseType(a,b)},bK="bool",bL={type:"literal",value:"bool",description:'"bool"'},bM="byte",bN={type:"literal",value:"byte",description:'"byte"'},bO="i8",bP={type:"literal",value:"i8",description:'"i8"'},bQ="i16",bR={type:"literal",value:"i16",description:'"i16"'},bS="i32",bT={type:"literal",value:"i32",description:'"i32"'},bU="i64",bV={type:"literal",value:"i64",description:'"i64"'},bW="double",bX={type:"literal",value:"double",description:'"double"'},bY="string",bZ={type:"literal",value:"string",description:'"string"'},b$="binary",b_={type:"literal",value:"binary",description:'"binary"'},b0="slist",b1={type:"literal",value:"slist",description:'"slist"'},b2="map",b3={type:"literal",value:"map",description:'"map"'},b4="<",b5={type:"literal",value:"<",description:'"<"'},b6=">",b7={type:"literal",value:">",description:'">"'},b8=function(a,b,c){return new gG.MapType(a,b,c)},b9="set",ca={type:"literal",value:"set",description:'"set"'},cb=function(a,b){return new gG.SetType(a,b)},cc="list",cd={type:"literal",value:"list",description:'"list"'},ce=function(a,b){return new gG.ListType(a,b)},cf="cpp_type",cg={type:"literal",value:"cpp_type",description:'"cpp_type"'},ch=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].name]=a[c].value;return b},ci=function(a){return a},cj=function(a,b){return new gG.TypeAnnotation(a,b)},ck=/^[a-zA-Z0-9_.]/,cl={type:"class",value:"[a-zA-Z0-9_.]",description:"[a-zA-Z0-9_.]"},cm=function(a){return new gG.Identifier(a,eO(),eP())},cn={type:"other",description:"identifier"},co=void 0,cp=function(a,b){return a+b.join("")},cq="_",cr={type:"literal",value:"_",description:'"_"'},cs="‌",ct={type:"literal",value:"‌",description:'"\\u200C"'},cu="‍",cv={type:"literal",value:"‍",description:'"\\u200D"'},cw=".",cx={type:"literal",value:".",description:'"."'},cy=function(a){return new gG.Identifier(a,eO(),eP())},cz=/^[A-Za-z_]/,cA={type:"class",value:"[A-Za-z_]",description:"[A-Za-z_]"},cB={type:"any",description:"any character"},cC={type:"other",description:"whitespace"},cD="	",cE={type:"literal",value:"	",description:'"\\t"'},cF="\v",cG={type:"literal",value:"\v",description:'"\\x0B"'},cH="\f",cI={type:"literal",value:"\f",description:'"\\f"'},cJ=" ",cK={type:"literal",value:" ",description:'" "'},cL="\xa0",cM={type:"literal",value:"\xa0",description:'"\\xA0"'},cN="\uFEFF",cO={type:"literal",value:"\uFEFF",description:'"\\uFEFF"'},cP=/^[\n\r\u2028\u2029]/,cQ={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},cR={type:"other",description:"end of line"},cS="\n",cT={type:"literal",value:"\n",description:'"\\n"'},cU="\r\n",cV={type:"literal",value:"\r\n",description:'"\\r\\n"'},cW="\r",cX={type:"literal",value:"\r",description:'"\\r"'},cY="\u2028",cZ={type:"literal",value:"\u2028",description:'"\\u2028"'},c$="\u2029",c_={type:"literal",value:"\u2029",description:'"\\u2029"'},c0={type:"other",description:"comment"},c1="/*",c2={type:"literal",value:"/*",description:'"/*"'},c3="*/",c4={type:"literal",value:"*/",description:'"*/"'},c5=function(a){return a},c6=function(a){return new gG.Comment(a)},c7="//",c8={type:"literal",value:"//",description:'"//"'},c9=function(a){return a},da="#",db={type:"literal",value:"#",description:'"#"'},dc={type:"other",description:"string"},dd=function(a){return new gG.Literal(a)},de='"',df={type:"literal",value:'"',description:'"\\""'},dg=function(a){return a.join("")},dh="'",di={type:"literal",value:"'",description:'"\'"'},dj="\\",dk={type:"literal",value:"\\",description:'"\\\\"'},dl=function(){return eN()},dm=function(a){return a},dn=function(){return""},dp="0",dq={type:"literal",value:"0",description:'"0"'},dr=function(){return"\0"},ds="b",dt={type:"literal",value:"b",description:'"b"'},du=function(){return"\b"},dv="f",dw={type:"literal",value:"f",description:'"f"'},dx=function(){return"\f"},dy="n",dz={type:"literal",value:"n",description:'"n"'},dA=function(){return"\n"},dB="r",dC={type:"literal",value:"r",description:'"r"'},dD=function(){return"\r"},dE="t",dF={type:"literal",value:"t",description:'"t"'},dG=function(){return"	"},dH="v",dI={type:"literal",value:"v",description:'"v"'},dJ=function(){return"\v"},dK="x",dL={type:"literal",value:"x",description:'"x"'},dM="u",dN={type:"literal",value:"u",description:'"u"'},dO=function(a){return String.fromCharCode(parseInt(a,16))},dP={type:"other",description:"hex literal"},dQ="0x",dR={type:"literal",value:"0x",description:'"0x"'},dS=function(a){return new gG.Literal(parseInt(a,16))},dT=/^[0-9a-f]/i,dU={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},dV={type:"other",description:"number"},dW=/^[+\-]/,dX={type:"class",value:"[+\\-]",description:"[+\\-]"},dY=function(a){return a},dZ={type:"other",description:"decimal literal"},d$=function(){return new gG.Literal(parseFloat(eN()))},d_="e",d0={type:"literal",value:"e",description:'"e"'},d1=/^[0-9]/,d2={type:"class",value:"[0-9]",description:"[0-9]"},d3=function(){return new gG.Literal(parseFloat(eN(),10))},d4="include",d5={type:"literal",value:"include",description:'"include"'},d6="cpp_include",d7={type:"literal",value:"cpp_include",description:'"cpp_include"'},d8="namespace",d9={type:"literal",value:"namespace",description:'"namespace"'},ea="typedef",eb={type:"literal",value:"typedef",description:'"typedef"'},ec="enum",ed={type:"literal",value:"enum",description:'"enum"'},ee="senum",ef={type:"literal",value:"senum",description:'"senum"'},eg="const",eh={type:"literal",value:"const",description:'"const"'},ei="union",ej={type:"literal",value:"union",description:'"union"'},ek=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,el={type:"class",value:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]",description:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]"},em=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uAA70\uAADD\uAAF3-\uAAF4\uFF70\uFF9E-\uFF9F]/,en={type:"class",value:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]",description:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]"},eo=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097F\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58-\u0C59\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,ep={type:"class",value:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]",description:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"},eq=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,er={type:"class",value:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]",description:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]"},es=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A]/,et={type:"class",value:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]",description:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]"},eu=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u19B0-\u19C0\u19C8-\u19C9\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAC-\u1BAD\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,ev={type:"class",value:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]",description:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]"},ew=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u08FE\u0900-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1DC0-\u1DE6\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26]/,ex={type:"class",value:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]",description:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"},ey=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,ez={type:"class",value:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]",description:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"},eA=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,eB={type:"class",value:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]",description:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]"},eC=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,eD={type:"class",value:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]",description:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"},eE=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,eF={type:"class",value:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]",description:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]"},eG=0,eH=0,eI=0,eJ={line:1,column:1,seenCR:!1},eK=0,eL=[],eM=0;if("startRule"in e){if(!(e.startRule in g))throw Error("Can't start parsing from rule \""+e.startRule+'".');h=g[e.startRule]}function eN(){return b.substring(eH,eG)}function eO(){return eQ(eH).line}function eP(){return eQ(eH).column}function eQ(a){function c(a,c,d){var e,f;for(e=c;e<d;e++)"\n"===(f=b.charAt(e))?(!a.seenCR&&a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}return eI!==a&&(eI>a&&(eI=0,eJ={line:1,column:1,seenCR:!1}),c(eJ,eI,a),eI=a),eJ}function eR(a){eG<eK||(eG>eK&&(eK=eG,eL=[]),eL.push(a))}function eS(c,d,e){function f(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:+(a.description>b.description)});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function g(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e=Array(a.length);for(d=0;d<a.length;d++)e[d]=a[d].description;return"Expected "+(a.length>1?e.slice(0,-1).join(", ")+" or "+e[a.length-1]:e[0])+" but "+(b?'"'+c(b)+'"':"end of input")+" found."}var h=eQ(e),i=e<b.length?b.charAt(e):null;return null!==d&&f(d),new a(null!==c?c:g(d,i),d,i,e,h.line,h.column)}function eT(){var a,b,c,d,e;if(a=eG,(b=fO())!==f){for(c=[],d=eU();d!==f;)c.push(d),d=eU();if(c!==f){for(d=[],e=eZ();e!==f;)d.push(e),e=eZ();d!==f?(eH=a,a=b=j(c,d)):(eG=a,a=i)}else eG=a,a=i}else eG=a,a=i;return a}function eU(){var a,c,d;return(a=eV())===f&&(a=eW())===f&&(a=eX())===f&&(a=eG,b.substr(eG,13)===k?(c=k,eG+=13):(c=f,0===eM&&eR(l)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,13)===m?(c=m,eG+=13):(c=f,0===eM&&eR(n)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,9)===o?(c=o,eG+=9):(c=f,0===eM&&eR(p)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,12)===q?(c=q,eG+=12):(c=f,0===eM&&eR(r)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,14)===s?(c=s,eG+=14):(c=f,0===eM&&eR(t)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,18)===u?(c=u,eG+=18):(c=f,0===eM&&eR(v)),c!==f&&(d=fM())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,16)===w?(c=w,eG+=16):(c=f,0===eM&&eR(x)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,12)===y?(c=y,eG+=12):(c=f,0===eM&&eR(z)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,13)===A?(c=A,eG+=13):(c=f,0===eM&&eR(B)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,13)===C?(c=C,eG+=13):(c=f,0===eM&&eR(D)),c!==f&&(d=f_())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,16)===E?(c=E,eG+=16):(c=f,0===eM&&eR(F)),c!==f&&(d=fG())!==f?a=c=[c,d]:(eG=a,a=i)))))))))))),a}function eV(){var a,b,c,d;return a=eG,(b=gi())!==f?((c=fG())===f&&(c=G),c!==f&&fO()!==f&&(d=f_())!==f?(eH=a,a=b=H(c,d)):(eG=a,a=i)):(eG=a,a=i),a}function eW(){var a,b,c;return a=eG,(b=gj())!==f&&(c=f_())!==f?a=b=[b,c]:(eG=a,a=i),a}function eX(){var a,c,d,e,g;return a=eG,(c=gk())!==f&&(d=eY())!==f&&(e=fO())!==f&&(g=fG())!==f?(eH=a,a=c=I(d,g)):(eG=a,a=i),a===f&&(a=eG,(c=gk())!==f?(b.substr(eG,18)===J?(d=J,eG+=18):(d=f,0===eM&&eR(K)),d!==f&&(e=fO())!==f&&(g=fM())!==f?a=c=[c,d,e,g]:(eG=a,a=i)):(eG=a,a=i),a===f&&(a=eG,(c=gk())!==f?(b.substr(eG,16)===L?(d=L,eG+=16):(d=f,0===eM&&eR(M)),d!==f&&(e=fO())!==f&&(g=fG())!==f?a=c=[c,d,e,g]:(eG=a,a=i)):(eG=a,a=i),a===f&&(a=eG,b.substr(eG,13)===m?(c=m,eG+=13):(c=f,0===eM&&eR(n)),c!==f&&(d=fO())!==f&&(e=f_())!==f?a=c=[c,d,e]:(eG=a,a=i),a===f&&(a=eG,b.substr(eG,13)===C?(c=C,eG+=13):(c=f,0===eM&&eR(D)),c!==f&&(d=fO())!==f&&(e=f_())!==f?a=c=[c,d,e]:(eG=a,a=i),a===f&&(a=eG,(c=gk())!==f?(42===b.charCodeAt(eG)?(d=N,eG++):(d=f,0===eM&&eR(O)),d!==f&&(e=fO())!==f&&(g=fG())!==f?(eH=a,a=c=P(d)):(eG=a,a=i)):(eG=a,a=i),a===f&&(a=eG,(c=gk())!==f&&(d=fG())!==f&&(e=fG())!==f?(eH=a,a=c=Q(d,e)):(eG=a,a=i))))))),a}function eY(){var a;return b.substr(eG,3)===R?(a=R,eG+=3):(a=f,0===eM&&eR(S)),a===f&&(b.substr(eG,4)===T?(a=T,eG+=4):(a=f,0===eM&&eR(U)),a===f&&(b.substr(eG,10)===V?(a=V,eG+=10):(a=f,0===eM&&eR(W)),a===f&&(b.substr(eG,2)===X?(a=X,eG+=2):(a=f,0===eM&&eR(Y)),a===f&&(b.substr(eG,4)===Z?(a=Z,eG+=4):(a=f,0===eM&&eR($)),a===f&&(b.substr(eG,2)===_?(a=_,eG+=2):(a=f,0===eM&&eR(aa)),a===f&&(b.substr(eG,5)===ab?(a=ab,eG+=5):(a=f,0===eM&&eR(ac)),a===f&&(b.substr(eG,6)===ad?(a=ad,eG+=6):(a=f,0===eM&&eR(ae)),a===f&&(b.substr(eG,3)===af?(a=af,eG+=3):(a=f,0===eM&&eR(ag)),a===f&&(b.substr(eG,3)===ah?(a=ah,eG+=3):(a=f,0===eM&&eR(ai)),a===f&&(b.substr(eG,6)===aj?(a=aj,eG+=6):(a=f,0===eM&&eR(ak)),a===f&&(b.substr(eG,2)===al?(a=al,eG+=2):(a=f,0===eM&&eR(am)),a===f&&(b.substr(eG,2)===an?(a=an,eG+=2):(a=f,0===eM&&eR(ao)),a===f&&(b.substr(eG,2)===ap?(a=ap,eG+=2):(a=f,0===eM&&eR(aq)),a===f&&(b.substr(eG,6)===ar?(a=ar,eG+=6):(a=f,0===eM&&eR(as)),a===f&&(b.substr(eG,3)===at?(a=at,eG+=3):(a=f,0===eM&&eR(au))))))))))))))))),a}function eZ(){var a;return(a=e6())===f&&(a=e$())===f&&(a=e2())===f&&(a=e4())===f&&(a=fb())===f&&(a=fc())===f&&(a=fh())===f&&(a=fi()),a}function e$(){var a,b,c,d,e,g;return a=eG,(b=gl())!==f&&fO()!==f&&(c=e_())!==f&&(d=fG())!==f?((e=fC())===f&&(e=G),e!==f?((g=e1())===f&&(g=G),g!==f?(eH=a,a=b=av(c,d,e)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function e_(){var a,b;return a=eG,(b=ft())!==f&&fO()!==f?(eH=a,a=b=aw(b)):(eG=a,a=i),a}function e0(){var a,c,d;return a=eG,44===b.charCodeAt(eG)?(c=ax,eG++):(c=f,0===eM&&eR(ay)),c!==f&&(d=fO())!==f?a=c=[c,d]:(eG=a,a=i),a===f&&(a=eG,59===b.charCodeAt(eG)?(c=az,eG++):(c=f,0===eM&&eR(aA)),c!==f&&(d=fO())!==f?a=c=[c,d]:(eG=a,a=i)),a}function e1(){var a;return eM++,a=e0(),eM--,a===f&&0===eM&&eR(aB),a}function e2(){var a,c,d,e,g,h,j,k;if(a=eG,(c=gm())!==f)if(fO()!==f)if((d=fG())!==f)if(fO()!==f)if(123===b.charCodeAt(eG)?(e=aC,eG++):(e=f,0===eM&&eR(aD)),e!==f)if(fO()!==f){for(g=[],h=e3();h!==f;)g.push(h),h=e3();g!==f&&(h=fO())!==f?(125===b.charCodeAt(eG)?(j=aE,eG++):(j=f,0===eM&&eR(aF)),j!==f&&fO()!==f?((k=fC())===f&&(k=G),k!==f?(eH=a,a=c=aG(d,g,k)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function e3(){var a,c,d,e,g,h;return a=eG,(c=fG())!==f?(d=eG,61===b.charCodeAt(eG)?(e=aH,eG++):(e=f,0===eM&&eR(aI)),e!==f&&(g=fO())!==f&&(h=fE())!==f?(eH=d,d=e=aJ(h)):(eG=d,d=i),d===f&&(d=G),d!==f&&(e=fO())!==f?((g=fC())===f&&(g=G),g!==f?((h=e1())===f&&(h=G),h!==f&&fO()!==f?(eH=a,a=c=aK(c,d,g)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function e4(){var a,c,d,e,g,h,j;if(a=eG,(c=gn())!==f)if((d=fG())!==f)if(123===b.charCodeAt(eG)?(e=aC,eG++):(e=f,0===eM&&eR(aD)),e!==f)if(fO()!==f){for(g=[],h=e5();h!==f;)g.push(h),h=e5();g!==f?(125===b.charCodeAt(eG)?(h=aE,eG++):(h=f,0===eM&&eR(aF)),h!==f&&fO()!==f?((j=fC())===f&&(j=G),j!==f?(eH=a,a=c=aL(d,g,j)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function e5(){var a,b,c;return a=eG,(b=f_())!==f?((c=e1())===f&&(c=G),c!==f?(eH=a,a=b=aM(b)):(eG=a,a=i)):(eG=a,a=i),a}function e6(){var a,c,d,e,g,h,j;return a=eG,(c=go())!==f&&(d=ft())!==f&&(e=fG())!==f?(61===b.charCodeAt(eG)?(g=aH,eG++):(g=f,0===eM&&eR(aI)),g!==f&&fO()!==f&&(h=e7())!==f?((j=e1())===f&&(j=G),j!==f&&fO()!==f?(eH=a,a=c=aN(d,e,h)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function e7(){var a;return(a=e8())===f&&(a=e9())===f&&(a=f$())===f&&(a=gc())===f&&(a=fG()),a}function e8(){var a,c,d,e,g,h,j,k;if(a=eG,91===b.charCodeAt(eG)?(c=aO,eG++):(c=f,0===eM&&eR(aP)),c!==f)if(fO()!==f){for(d=[],e=eG,(g=e7())!==f&&(h=fO())!==f?((j=e1())===f&&(j=G),j!==f&&(k=fO())!==f?(eH=e,e=g=aQ(g)):(eG=e,e=i)):(eG=e,e=i);e!==f;)d.push(e),e=eG,(g=e7())!==f&&(h=fO())!==f?((j=e1())===f&&(j=G),j!==f&&(k=fO())!==f?(eH=e,e=g=aQ(g)):(eG=e,e=i)):(eG=e,e=i);d!==f?(93===b.charCodeAt(eG)?(e=aR,eG++):(e=f,0===eM&&eR(aS)),e!==f&&(g=fO())!==f?(eH=a,a=c=aT(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;return a}function e9(){var a,c,d,e;if(a=eG,123===b.charCodeAt(eG)?(c=aC,eG++):(c=f,0===eM&&eR(aD)),c!==f)if(fO()!==f){for(d=[],e=fa();e!==f;)d.push(e),e=fa();d!==f?(125===b.charCodeAt(eG)?(e=aE,eG++):(e=f,0===eM&&eR(aF)),e!==f&&fO()!==f?(eH=a,a=c=aU(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;return a}function fa(){var a,c,d,e,g;return a=eG,(c=e7())!==f&&fO()!==f?(58===b.charCodeAt(eG)?(d=aV,eG++):(d=f,0===eM&&eR(aW)),d!==f&&fO()!==f&&(e=e7())!==f&&fO()!==f?((g=e1())===f&&(g=G),g!==f?(eH=a,a=c=aX(c,e)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fb(){var a,c,d,e,g,h,j,k,l;if(a=eG,b.substr(eG,6)===aY?(c=aY,eG+=6):(c=f,0===eM&&eR(aZ)),c!==f)if(fO()!==f)if((d=fG())!==f)if((e=fd())===f&&(e=G),e!==f)if(fO()!==f)if(123===b.charCodeAt(eG)?(g=aC,eG++):(g=f,0===eM&&eR(aD)),g!==f)if(fO()!==f){for(h=[],j=fn();j!==f;)h.push(j),j=fn();h!==f&&(j=fO())!==f?(125===b.charCodeAt(eG)?(k=aE,eG++):(k=f,0===eM&&eR(aF)),k!==f&&fO()!==f?((l=fC())===f&&(l=G),l!==f?(eH=a,a=c=a$(d,h,l)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fc(){var a,c,d,e,g,h,j,k,l;if(a=eG,(c=gt())!==f)if((d=fG())!==f)if((e=fd())===f&&(e=G),e!==f)if(fO()!==f)if(123===b.charCodeAt(eG)?(g=aC,eG++):(g=f,0===eM&&eR(aD)),g!==f)if(fO()!==f){for(h=[],j=fn();j!==f;)h.push(j),j=fn();h!==f&&(j=fO())!==f?(125===b.charCodeAt(eG)?(k=aE,eG++):(k=f,0===eM&&eR(aF)),k!==f&&fO()!==f?((l=fC())===f&&(l=G),l!==f?(eH=a,a=c=a_(d,h,l)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fd(){var a,c,d;return a=eG,b.substr(eG,7)===a0?(c=a0,eG+=7):(c=f,0===eM&&eR(a1)),c!==f&&(d=fO())!==f?a=c=[c,d]:(eG=a,a=i),a}function fe(){var a,c,d;return a=eG,b.substr(eG,12)===a2?(c=a2,eG+=12):(c=f,0===eM&&eR(a3)),c!==f&&(d=fO())!==f?a=c=[c,d]:(eG=a,a=i),a}function ff(){var a,c,d;return a=eG,b.substr(eG,12)===a4?(c=a4,eG+=12):(c=f,0===eM&&eR(a5)),c!==f&&(d=fO())!==f?a=c=[c,d]:(eG=a,a=i),a}function fg(){var a,c,d,e,g,h,j,k,l;if(a=eG,b.substr(eG,14)===a6?(c=a6,eG+=14):(c=f,0===eM&&eR(a7)),c!==f)if((d=fO())!==f)if(123===b.charCodeAt(eG)?(e=aC,eG++):(e=f,0===eM&&eR(aD)),e!==f)if((g=fO())!==f){for(h=[],j=fn();j!==f;)h.push(j),j=fn();h!==f&&(j=fO())!==f?(125===b.charCodeAt(eG)?(k=aE,eG++):(k=f,0===eM&&eR(aF)),k!==f&&(l=fO())!==f?a=c=[c,d,e,g,h,j,k,l]:(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fh(){var a,c,d,e,g,h,j,k;if(a=eG,b.substr(eG,9)===a8?(c=a8,eG+=9):(c=f,0===eM&&eR(a9)),c!==f)if(fO()!==f)if((d=fG())!==f)if(123===b.charCodeAt(eG)?(e=aC,eG++):(e=f,0===eM&&eR(aD)),e!==f)if(fO()!==f){for(g=[],h=fn();h!==f;)g.push(h),h=fn();g!==f&&(h=fO())!==f?(125===b.charCodeAt(eG)?(j=aE,eG++):(j=f,0===eM&&eR(aF)),j!==f&&fO()!==f?((k=fC())===f&&(k=G),k!==f&&fO()!==f?(eH=a,a=c=ba(d,g,k)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fi(){var a,c,d,e,g,h,j,k,l;if(a=eG,b.substr(eG,7)===bb?(c=bb,eG+=7):(c=f,0===eM&&eR(bc)),c!==f)if(fO()!==f)if((d=fG())!==f)if((e=fj())===f&&(e=G),e!==f)if(123===b.charCodeAt(eG)?(g=aC,eG++):(g=f,0===eM&&eR(aD)),g!==f)if(fO()!==f){for(h=[],j=fk();j!==f;)h.push(j),j=fk();h!==f&&(j=fO())!==f?(125===b.charCodeAt(eG)?(k=aE,eG++):(k=f,0===eM&&eR(aF)),k!==f&&fO()!==f?((l=fC())===f&&(l=G),l!==f?(eH=a,a=c=bd(d,e,h,l)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fj(){var a,c,d;return a=eG,b.substr(eG,7)===be?(c=be,eG+=7):(c=f,0===eM&&eR(bf)),c!==f&&fO()!==f&&(d=fG())!==f?(eH=a,a=c=bg(d)):(eG=a,a=i),a}function fk(){var a,c,d,e,g,h,j,k,l,m,n,o;if(a=eG,(c=fO())!==f)if((d=fl())!==f)if((e=fs())!==f)if((g=fG())!==f)if(40===b.charCodeAt(eG)?(h=bh,eG++):(h=f,0===eM&&eR(bi)),h!==f)if(fO()!==f){for(j=[],k=fn();k!==f;)j.push(k),k=fn();j!==f&&(k=fO())!==f?(41===b.charCodeAt(eG)?(l=bj,eG++):(l=f,0===eM&&eR(bk)),l!==f&&fO()!==f?((m=fm())===f&&(m=G),m!==f?((n=fC())===f&&(n=G),n!==f?((o=e1())===f&&(o=G),o!==f&&fP()!==f?(eH=a,a=c=bl(d,e,g,j,m,n)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fl(){var a,c;return a=eG,b.substr(eG,6)===bm?(c=bm,eG+=6):(c=f,0===eM&&eR(bn)),c!==f&&fO()!==f?(eH=a,a=c=bo()):(eG=a,a=i),a===f&&(a=eG,(c=[])!==f&&(eH=a,c=bp()),a=c),a}function fm(){var a,c,d,e,g,h;if(a=eG,b.substr(eG,6)===bq?(c=bq,eG+=6):(c=f,0===eM&&eR(br)),c!==f)if(fO()!==f)if(40===b.charCodeAt(eG)?(d=bh,eG++):(d=f,0===eM&&eR(bi)),d!==f)if(fO()!==f){for(e=[],g=fn();g!==f;)e.push(g),g=fn();e!==f&&(g=fO())!==f?(41===b.charCodeAt(eG)?(h=bj,eG++):(h=f,0===eM&&eR(bk)),h!==f&&fO()!==f?(eH=a,a=c=bs(e)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;else eG=a,a=i;return a}function fn(){var a,b,c,d,e,g,h,j,k,l,m;return a=eG,(b=fP())!==f?((c=fp())===f&&(c=G),c!==f?((d=fq())===f&&(d=G),d!==f&&(e=ft())!==f?((g=fo())===f&&(g=G),g!==f&&(h=fH())!==f?((j=fr())===f&&(j=G),j!==f?((k=fu())===f&&(k=G),k!==f?((l=fC())===f&&(l=G),l!==f?((m=e1())===f&&(m=G),m!==f?(eH=a,a=b=bt(c,d,e,g,h,j,l)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fo(){var a,c;return a=eG,38===b.charCodeAt(eG)?(c=bu,eG++):(c=f,0===eM&&eR(bv)),c===f&&(c=G),c!==f&&fO()!==f?(eH=a,a=c=bw()):(eG=a,a=i),a===f&&(a=eG,(c=[])!==f&&(eH=a,c=bx()),a=c),a}function fp(){var a,c,d;return a=eG,(c=fE())!==f?(58===b.charCodeAt(eG)?(d=aV,eG++):(d=f,0===eM&&eR(aW)),d!==f&&fP()!==f?(eH=a,a=c=by(c)):(eG=a,a=i)):(eG=a,a=i),a}function fq(){var a,c,d;return a=eG,b.substr(eG,8)===bz?(c=bz,eG+=8):(c=f,0===eM&&eR(bA)),c!==f&&(d=fO())!==f?(eH=a,a=c=bB()):(eG=a,a=i),a===f&&(a=eG,b.substr(eG,8)===bC?(c=bC,eG+=8):(c=f,0===eM&&eR(bD)),c!==f&&(d=fO())!==f?(eH=a,a=c=bE()):(eG=a,a=i)),a}function fr(){var a,c,d;return a=eG,61===b.charCodeAt(eG)?(c=aH,eG++):(c=f,0===eM&&eR(aI)),c!==f&&fO()!==f&&(d=e7())!==f&&fO()!==f?(eH=a,a=c=bF(d)):(eG=a,a=i),a}function fs(){var a,c;return a=eG,b.substr(eG,4)===bG?(c=bG,eG+=4):(c=f,0===eM&&eR(bH)),c!==f&&fO()!==f?(eH=a,a=c=bI()):(eG=a,a=i),a===f&&(a=ft()),a}function ft(){var a;return(a=fv())===f&&(a=fx())===f&&(a=fG()),a}function fu(){var a,b,c,d;return a=eG,(b=fe())===f&&(b=G),b!==f?((c=ff())===f&&(c=G),c!==f?((d=fg())===f&&(d=G),d!==f?a=b=[b,c,d]:(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fv(){var a,b,c;return a=eG,(b=fw())!==f&&fO()!==f?((c=fC())===f&&(c=G),c!==f?(eH=a,a=b=bJ(b,c)):(eG=a,a=i)):(eG=a,a=i),a}function fw(){var a;return b.substr(eG,4)===bK?(a=bK,eG+=4):(a=f,0===eM&&eR(bL)),a===f&&(b.substr(eG,4)===bM?(a=bM,eG+=4):(a=f,0===eM&&eR(bN)),a===f&&(b.substr(eG,2)===bO?(a=bO,eG+=2):(a=f,0===eM&&eR(bP)),a===f&&(b.substr(eG,3)===bQ?(a=bQ,eG+=3):(a=f,0===eM&&eR(bR)),a===f&&(b.substr(eG,3)===bS?(a=bS,eG+=3):(a=f,0===eM&&eR(bT)),a===f&&(b.substr(eG,3)===bU?(a=bU,eG+=3):(a=f,0===eM&&eR(bV)),a===f&&(b.substr(eG,6)===bW?(a=bW,eG+=6):(a=f,0===eM&&eR(bX)),a===f&&(b.substr(eG,6)===bY?(a=bY,eG+=6):(a=f,0===eM&&eR(bZ)),a===f&&(b.substr(eG,6)===b$?(a=b$,eG+=6):(a=f,0===eM&&eR(b_)),a===f&&(b.substr(eG,5)===b0?(a=b0,eG+=5):(a=f,0===eM&&eR(b1))))))))))),a}function fx(){var a;return(a=fy())===f&&(a=fz())===f&&(a=fA()),a}function fy(){var a,c,d,e,g,h,j,k,l;return a=eG,b.substr(eG,3)===b2?(c=b2,eG+=3):(c=f,0===eM&&eR(b3)),c!==f&&fO()!==f?((d=fB())===f&&(d=G),d!==f?(60===b.charCodeAt(eG)?(e=b4,eG++):(e=f,0===eM&&eR(b5)),e!==f&&fO()!==f&&(g=ft())!==f&&fO()!==f?(44===b.charCodeAt(eG)?(h=ax,eG++):(h=f,0===eM&&eR(ay)),h!==f&&fO()!==f&&(j=ft())!==f&&fO()!==f?(62===b.charCodeAt(eG)?(k=b6,eG++):(k=f,0===eM&&eR(b7)),k!==f&&fO()!==f?((l=fC())===f&&(l=G),l!==f?(eH=a,a=c=b8(g,j,l)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fz(){var a,c,d,e,g,h,j;return a=eG,b.substr(eG,3)===b9?(c=b9,eG+=3):(c=f,0===eM&&eR(ca)),c!==f&&fO()!==f?((d=fB())===f&&(d=G),d!==f?(60===b.charCodeAt(eG)?(e=b4,eG++):(e=f,0===eM&&eR(b5)),e!==f&&fO()!==f&&(g=ft())!==f&&fO()!==f?(62===b.charCodeAt(eG)?(h=b6,eG++):(h=f,0===eM&&eR(b7)),h!==f&&fO()!==f?((j=fC())===f&&(j=G),j!==f?(eH=a,a=c=cb(g,j)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fA(){var a,c,d,e,g,h,j;return a=eG,b.substr(eG,4)===cc?(c=cc,eG+=4):(c=f,0===eM&&eR(cd)),c!==f&&fO()!==f?(60===b.charCodeAt(eG)?(d=b4,eG++):(d=f,0===eM&&eR(b5)),d!==f&&fO()!==f&&(e=ft())!==f&&fO()!==f?(62===b.charCodeAt(eG)?(g=b6,eG++):(g=f,0===eM&&eR(b7)),g!==f&&fO()!==f?((h=fC())===f&&(h=G),h!==f?((j=fB())===f&&(j=G),j!==f?(eH=a,a=c=ce(e,h)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fB(){var a,c,d,e;return a=eG,b.substr(eG,8)===cf?(c=cf,eG+=8):(c=f,0===eM&&eR(cg)),c!==f&&(d=fO())!==f&&(e=f_())!==f?a=c=[c,d,e]:(eG=a,a=i),a}function fC(){var a,c,d,e,g;if(a=eG,40===b.charCodeAt(eG)?(c=bh,eG++):(c=f,0===eM&&eR(bi)),c!==f)if(fO()!==f){for(d=[],e=fD();e!==f;)d.push(e),e=fD();d!==f&&(e=fO())!==f?(41===b.charCodeAt(eG)?(g=bj,eG++):(g=f,0===eM&&eR(bk)),g!==f&&fO()!==f?(eH=a,a=c=ch(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;return a}function fD(){var a,c,d,e,g;return a=eG,(c=fH())!==f?(d=eG,61===b.charCodeAt(eG)?(e=aH,eG++):(e=f,0===eM&&eR(aI)),e!==f&&fO()!==f&&(g=f_())!==f?(eH=d,d=e=ci(g)):(eG=d,d=i),d===f&&(d=G),d!==f?((e=e1())===f&&(e=G),e!==f?(eH=a,a=c=cj(c,d)):(eG=a,a=i)):(eG=a,a=i)):(eG=a,a=i),a}function fE(){var a;return(a=ga())===f&&(a=gh()),a}function fF(){var a,c;if(a=[],ck.test(b.charAt(eG))?(c=b.charAt(eG),eG++):(c=f,0===eM&&eR(cl)),c!==f)for(;c!==f;)a.push(c),ck.test(b.charAt(eG))?(c=b.charAt(eG),eG++):(c=f,0===eM&&eR(cl));else a=i;return a}function fG(){var a,b;return a=eG,(b=fH())!==f&&fO()!==f?(eH=a,a=b=cm(b)):(eG=a,a=i),a}function fH(){var a,b,c,d,e;if(eM++,a=eG,b=eG,eM++,c=gu(),eM--,c===f?b=co:(eG=b,b=i),b!==f)if((c=fI())!==f){for(d=[],e=fJ();e!==f;)d.push(e),e=fJ();d!==f&&(e=fO())!==f?(eH=a,a=b=cp(c,d)):(eG=a,a=i)}else eG=a,a=i;else eG=a,a=i;return eM--,a===f&&(b=f,0===eM&&eR(cn)),a}function fI(){var a;return(a=fK())===f&&(95===b.charCodeAt(eG)?(a=cq,eG++):(a=f,0===eM&&eR(cr))),a}function fJ(){var a;return(a=fI())===f&&(a=fL())===f&&(a=gC())===f&&(a=gE())===f&&(8204===b.charCodeAt(eG)?(a=cs,eG++):(a=f,0===eM&&eR(ct)),a===f&&(8205===b.charCodeAt(eG)?(a=cu,eG++):(a=f,0===eM&&eR(cv)),a===f&&(46===b.charCodeAt(eG)?(a=cw,eG++):(a=f,0===eM&&eR(cx))))),a}function fK(){var a;return(a=gz())===f&&(a=gv())===f&&(a=gy())===f&&(a=gw())===f&&(a=gx())===f&&(a=gD()),a}function fL(){var a;return(a=gB())===f&&(a=gA()),a}function fM(){var a,b;return a=eG,(b=fN())!==f&&(eH=a,b=cy(b)),a=b}function fN(){var a,b,c;return a=eG,b=eG,eM++,c=fQ(),eM--,c===f?b=co:(eG=b,b=i),b!==f&&(c=fF())!==f?a=b=[b,c]:(eG=a,a=i),a}function fO(){var a,b;for(a=[],(b=fS())===f&&(b=fU())===f&&(b=fV());b!==f;)a.push(b),(b=fS())===f&&(b=fU())===f&&(b=fV());return a}function fP(){var a,b;for(a=[],(b=fS())===f&&(b=fX());b!==f;)a.push(b),(b=fS())===f&&(b=fX());return a}function fQ(){var a,c,d,e;return a=eG,b.substr(eG,3)===b2?(c=b2,eG+=3):(c=f,0===eM&&eR(b3)),c===f&&(b.substr(eG,3)===b9?(c=b9,eG+=3):(c=f,0===eM&&eR(ca)),c===f&&(b.substr(eG,4)===cc?(c=cc,eG+=4):(c=f,0===eM&&eR(cd)))),c!==f?(d=eG,eM++,cz.test(b.charAt(eG))?(e=b.charAt(eG),eG++):(e=f,0===eM&&eR(cA)),eM--,e===f?d=co:(eG=d,d=i),d!==f?a=c=[c,d]:(eG=a,a=i)):(eG=a,a=i),a}function fR(){var a;return b.length>eG?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(cB)),a}function fS(){var a;return eM++,9===b.charCodeAt(eG)?(a=cD,eG++):(a=f,0===eM&&eR(cE)),a===f&&(11===b.charCodeAt(eG)?(a=cF,eG++):(a=f,0===eM&&eR(cG)),a===f&&(12===b.charCodeAt(eG)?(a=cH,eG++):(a=f,0===eM&&eR(cI)),a===f&&(32===b.charCodeAt(eG)?(a=cJ,eG++):(a=f,0===eM&&eR(cK)),a===f&&(160===b.charCodeAt(eG)?(a=cL,eG++):(a=f,0===eM&&eR(cM)),a===f&&(65279===b.charCodeAt(eG)?(a=cN,eG++):(a=f,0===eM&&eR(cO)),a===f&&(a=gF())))))),eM--,a===f&&0===eM&&eR(cC),a}function fT(){var a;return cP.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(cQ)),a}function fU(){var a;return eM++,10===b.charCodeAt(eG)?(a=cS,eG++):(a=f,0===eM&&eR(cT)),a===f&&(b.substr(eG,2)===cU?(a=cU,eG+=2):(a=f,0===eM&&eR(cV)),a===f&&(13===b.charCodeAt(eG)?(a=cW,eG++):(a=f,0===eM&&eR(cX)),a===f&&(8232===b.charCodeAt(eG)?(a=cY,eG++):(a=f,0===eM&&eR(cZ)),a===f&&(8233===b.charCodeAt(eG)?(a=c$,eG++):(a=f,0===eM&&eR(c_)))))),eM--,a===f&&0===eM&&eR(cR),a}function fV(){var a;return eM++,(a=fW())===f&&(a=fY())===f&&(a=fZ()),eM--,a===f&&0===eM&&eR(c0),a}function fW(){var a,c,d,e,g,h;if(a=eG,b.substr(eG,2)===c1?(c=c1,eG+=2):(c=f,0===eM&&eR(c2)),c!==f){for(d=[],e=eG,g=eG,eM++,b.substr(eG,2)===c3?(h=c3,eG+=2):(h=f,0===eM&&eR(c4)),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c5(h)):(eG=e,e=i);e!==f;)d.push(e),e=eG,g=eG,eM++,b.substr(eG,2)===c3?(h=c3,eG+=2):(h=f,0===eM&&eR(c4)),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c5(h)):(eG=e,e=i);d!==f?(b.substr(eG,2)===c3?(e=c3,eG+=2):(e=f,0===eM&&eR(c4)),e!==f?(eH=a,a=c=c6(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;return a}function fX(){var a,c,d,e,g,h;if(a=eG,b.substr(eG,2)===c1?(c=c1,eG+=2):(c=f,0===eM&&eR(c2)),c!==f){for(d=[],e=eG,g=eG,eM++,b.substr(eG,2)===c3?(h=c3,eG+=2):(h=f,0===eM&&eR(c4)),h===f&&(h=fT()),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?e=g=[g,h]:(eG=e,e=i);e!==f;)d.push(e),e=eG,g=eG,eM++,b.substr(eG,2)===c3?(h=c3,eG+=2):(h=f,0===eM&&eR(c4)),h===f&&(h=fT()),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?e=g=[g,h]:(eG=e,e=i);d!==f?(b.substr(eG,2)===c3?(e=c3,eG+=2):(e=f,0===eM&&eR(c4)),e!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;return a}function fY(){var a,c,d,e,g,h;if(a=eG,b.substr(eG,2)===c7?(c=c7,eG+=2):(c=f,0===eM&&eR(c8)),c!==f){for(d=[],e=eG,g=eG,eM++,h=fT(),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c9(h)):(eG=e,e=i);e!==f;)d.push(e),e=eG,g=eG,eM++,h=fT(),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c9(h)):(eG=e,e=i);d!==f?(eH=a,a=c=c6(d)):(eG=a,a=i)}else eG=a,a=i;return a}function fZ(){var a,c,d,e,g,h;if(a=eG,35===b.charCodeAt(eG)?(c=da,eG++):(c=f,0===eM&&eR(db)),c!==f){for(d=[],e=eG,g=eG,eM++,h=fT(),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c9(h)):(eG=e,e=i);e!==f;)d.push(e),e=eG,g=eG,eM++,h=fT(),eM--,h===f?g=co:(eG=g,g=i),g!==f&&(h=fR())!==f?(eH=e,e=g=c9(h)):(eG=e,e=i);d!==f?(eH=a,a=c=c6(d)):(eG=a,a=i)}else eG=a,a=i;return a}function f$(){var a,b;return eM++,a=eG,(b=f_())!==f&&(eH=a,b=dd(b)),a=b,eM--,a===f&&(b=f,0===eM&&eR(dc)),a}function f_(){var a,c,d,e,g;if(eM++,a=eG,34===b.charCodeAt(eG)?(c=de,eG++):(c=f,0===eM&&eR(df)),c!==f){for(d=[],e=f0();e!==f;)d.push(e),e=f0();d!==f?(34===b.charCodeAt(eG)?(e=de,eG++):(e=f,0===eM&&eR(df)),e!==f&&(g=fO())!==f?(eH=a,a=c=dg(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;if(a===f)if(a=eG,39===b.charCodeAt(eG)?(c=dh,eG++):(c=f,0===eM&&eR(di)),c!==f){for(d=[],e=f1();e!==f;)d.push(e),e=f1();d!==f?(39===b.charCodeAt(eG)?(e=dh,eG++):(e=f,0===eM&&eR(di)),e!==f&&(g=fO())!==f?(eH=a,a=c=dg(d)):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;return eM--,a===f&&(c=f,0===eM&&eR(dc)),a}function f0(){var a,c,d;return a=eG,c=eG,eM++,34===b.charCodeAt(eG)?(d=de,eG++):(d=f,0===eM&&eR(df)),d===f&&(92===b.charCodeAt(eG)?(d=dj,eG++):(d=f,0===eM&&eR(dk)),d===f&&(d=fT())),eM--,d===f?c=co:(eG=c,c=i),c!==f&&(d=fR())!==f?(eH=a,a=c=dl()):(eG=a,a=i),a===f&&(a=eG,92===b.charCodeAt(eG)?(c=dj,eG++):(c=f,0===eM&&eR(dk)),c!==f&&(d=f3())!==f?(eH=a,a=c=dm(d)):(eG=a,a=i),a===f&&(a=f2())),a}function f1(){var a,c,d;return a=eG,c=eG,eM++,39===b.charCodeAt(eG)?(d=dh,eG++):(d=f,0===eM&&eR(di)),d===f&&(92===b.charCodeAt(eG)?(d=dj,eG++):(d=f,0===eM&&eR(dk)),d===f&&(d=fT())),eM--,d===f?c=co:(eG=c,c=i),c!==f&&(d=fR())!==f?(eH=a,a=c=dl()):(eG=a,a=i),a===f&&(a=eG,92===b.charCodeAt(eG)?(c=dj,eG++):(c=f,0===eM&&eR(dk)),c!==f&&(d=f3())!==f?(eH=a,a=c=dm(d)):(eG=a,a=i),a===f&&(a=f2())),a}function f2(){var a,c;return a=eG,92===b.charCodeAt(eG)?(c=dj,eG++):(c=f,0===eM&&eR(dk)),c!==f&&fU()!==f?(eH=a,a=c=dn()):(eG=a,a=i),a}function f3(){var a,c,d,e;return(a=f4())===f&&(a=eG,48===b.charCodeAt(eG)?(c=dp,eG++):(c=f,0===eM&&eR(dq)),c!==f?(d=eG,eM++,e=gg(),eM--,e===f?d=co:(eG=d,d=i),d!==f?(eH=a,a=c=dr()):(eG=a,a=i)):(eG=a,a=i),a===f&&(a=f8())===f&&(a=f9())),a}function f4(){var a;return(a=f5())===f&&(a=f6()),a}function f5(){var a,c;return 39===b.charCodeAt(eG)?(a=dh,eG++):(a=f,0===eM&&eR(di)),a===f&&(34===b.charCodeAt(eG)?(a=de,eG++):(a=f,0===eM&&eR(df)),a===f&&(92===b.charCodeAt(eG)?(a=dj,eG++):(a=f,0===eM&&eR(dk)),a===f&&(a=eG,98===b.charCodeAt(eG)?(c=ds,eG++):(c=f,0===eM&&eR(dt)),c!==f&&(eH=a,c=du()),(a=c)===f&&(a=eG,102===b.charCodeAt(eG)?(c=dv,eG++):(c=f,0===eM&&eR(dw)),c!==f&&(eH=a,c=dx()),(a=c)===f&&(a=eG,110===b.charCodeAt(eG)?(c=dy,eG++):(c=f,0===eM&&eR(dz)),c!==f&&(eH=a,c=dA()),(a=c)===f&&(a=eG,114===b.charCodeAt(eG)?(c=dB,eG++):(c=f,0===eM&&eR(dC)),c!==f&&(eH=a,c=dD()),(a=c)===f&&(a=eG,116===b.charCodeAt(eG)?(c=dE,eG++):(c=f,0===eM&&eR(dF)),c!==f&&(eH=a,c=dG()),(a=c)===f&&(a=eG,118===b.charCodeAt(eG)?(c=dH,eG++):(c=f,0===eM&&eR(dI)),c!==f&&(eH=a,c=dJ()),a=c)))))))),a}function f6(){var a,b,c;return a=eG,b=eG,eM++,(c=f7())===f&&(c=fT()),eM--,c===f?b=co:(eG=b,b=i),b!==f&&(c=fR())!==f?(eH=a,a=b=dl()):(eG=a,a=i),a}function f7(){var a;return(a=f5())===f&&(a=gg())===f&&(120===b.charCodeAt(eG)?(a=dK,eG++):(a=f,0===eM&&eR(dL)),a===f&&(117===b.charCodeAt(eG)?(a=dM,eG++):(a=f,0===eM&&eR(dN)))),a}function f8(){var a,c,d,e,g,h;return a=eG,120===b.charCodeAt(eG)?(c=dK,eG++):(c=f,0===eM&&eR(dL)),c!==f?(d=eG,e=eG,(g=gb())!==f&&(h=gb())!==f?e=g=[g,h]:(eG=e,e=i),e!==f&&(e=b.substring(d,eG)),(d=e)!==f?(eH=a,a=c=dO(d)):(eG=a,a=i)):(eG=a,a=i),a}function f9(){var a,c,d,e,g,h,j,k;return a=eG,117===b.charCodeAt(eG)?(c=dM,eG++):(c=f,0===eM&&eR(dN)),c!==f?(d=eG,e=eG,(g=gb())!==f&&(h=gb())!==f&&(j=gb())!==f&&(k=gb())!==f?e=g=[g,h,j,k]:(eG=e,e=i),e!==f&&(e=b.substring(d,eG)),(d=e)!==f?(eH=a,a=c=dO(d)):(eG=a,a=i)):(eG=a,a=i),a}function ga(){var a,c,d,e,g;if(eM++,a=eG,b.substr(eG,2).toLowerCase()===dQ?(c=b.substr(eG,2),eG+=2):(c=f,0===eM&&eR(dR)),c!==f){if(d=eG,e=[],(g=gb())!==f)for(;g!==f;)e.push(g),g=gb();else e=i;e!==f&&(e=b.substring(d,eG)),(d=e)!==f?(eH=a,a=c=dS(d)):(eG=a,a=i)}else eG=a,a=i;return eM--,a===f&&(c=f,0===eM&&eR(dP)),a}function gb(){var a;return dT.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(dU)),a}function gc(){var a,c,d;return eM++,(a=ga())===f&&(a=eG,dW.test(b.charAt(eG))?(c=b.charAt(eG),eG++):(c=f,0===eM&&eR(dX)),c===f&&(c=G),c!==f&&(d=gd())!==f?(eH=a,a=c=dY(d)):(eG=a,a=i),a===f&&(a=gh())),eM--,a===f&&(c=f,0===eM&&eR(dV)),a}function gd(){var a,c,d,e,g,h;if(eM++,a=eG,c=[],(d=gg())!==f)for(;d!==f;)c.push(d),d=gg();else c=i;if(c!==f){if(d=eG,46===b.charCodeAt(eG)?(e=cw,eG++):(e=f,0===eM&&eR(cx)),e!==f){if(g=[],(h=gg())!==f)for(;h!==f;)g.push(h),h=gg();else g=i;g!==f?d=e=[e,g]:(eG=d,d=i)}else eG=d,d=i;d===f&&(d=G),d!==f?((e=ge())===f&&(e=G),e!==f?(eH=a,a=c=d$()):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;if(a===f){if(a=eG,46===b.charCodeAt(eG)?(c=cw,eG++):(c=f,0===eM&&eR(cx)),c!==f){if(d=[],(e=gg())!==f)for(;e!==f;)d.push(e),e=gg();else d=i;d!==f?((e=ge())===f&&(e=G),e!==f?(eH=a,a=c=d$()):(eG=a,a=i)):(eG=a,a=i)}else eG=a,a=i;if(a===f){if(a=eG,c=[],(d=gg())!==f)for(;d!==f;)c.push(d),d=gg();else c=i;c!==f?((d=ge())===f&&(d=G),d!==f?(eH=a,a=c=d$()):(eG=a,a=i)):(eG=a,a=i)}}return eM--,a===f&&(c=f,0===eM&&eR(dZ)),a}function ge(){var a,b,c;return a=eG,(b=gf())!==f&&(c=gh())!==f?a=b=[b,c]:(eG=a,a=i),a}function gf(){var a;return b.substr(eG,1).toLowerCase()===d_?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(d0)),a}function gg(){var a;return d1.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(d2)),a}function gh(){var a,c,d,e;if(a=eG,dW.test(b.charAt(eG))?(c=b.charAt(eG),eG++):(c=f,0===eM&&eR(dX)),c===f&&(c=G),c!==f){if(d=[],(e=gg())!==f)for(;e!==f;)d.push(e),e=gg();else d=i;d!==f?(eH=a,a=c=d3()):(eG=a,a=i)}else eG=a,a=i;return a}function gi(){var a,c,d,e;return a=eG,b.substr(eG,7)===d4?(c=d4,eG+=7):(c=f,0===eM&&eR(d5)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gj(){var a,c,d,e;return a=eG,b.substr(eG,11)===d6?(c=d6,eG+=11):(c=f,0===eM&&eR(d7)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gk(){var a,c,d,e;return a=eG,b.substr(eG,9)===d8?(c=d8,eG+=9):(c=f,0===eM&&eR(d9)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gl(){var a,c,d,e;return a=eG,b.substr(eG,7)===ea?(c=ea,eG+=7):(c=f,0===eM&&eR(eb)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gm(){var a,c,d,e;return a=eG,b.substr(eG,4)===ec?(c=ec,eG+=4):(c=f,0===eM&&eR(ed)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gn(){var a,c,d,e;return a=eG,b.substr(eG,5)===ee?(c=ee,eG+=5):(c=f,0===eM&&eR(ef)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function go(){var a,c,d,e;return a=eG,b.substr(eG,5)===eg?(c=eg,eG+=5):(c=f,0===eM&&eR(eh)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gp(){var a,c,d,e;return a=eG,b.substr(eG,4)===bG?(c=bG,eG+=4):(c=f,0===eM&&eR(bH)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gq(){var a,c,d,e;return a=eG,b.substr(eG,3)===b9?(c=b9,eG+=3):(c=f,0===eM&&eR(ca)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gr(){var a,c,d,e;return a=eG,b.substr(eG,3)===b2?(c=b2,eG+=3):(c=f,0===eM&&eR(b3)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gs(){var a,c,d,e;return a=eG,b.substr(eG,4)===cc?(c=cc,eG+=4):(c=f,0===eM&&eR(cd)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gt(){var a,c,d,e;return a=eG,b.substr(eG,5)===ei?(c=ei,eG+=5):(c=f,0===eM&&eR(ej)),c!==f?(d=eG,eM++,e=fJ(),eM--,e===f?d=co:(eG=d,d=i),d!==f&&(e=fO())!==f?a=c=[c,d,e]:(eG=a,a=i)):(eG=a,a=i),a}function gu(){var a;return(a=gp())===f&&(a=gq())===f&&(a=gr())===f&&(a=gs()),a}function gv(){var a;return ek.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(el)),a}function gw(){var a;return em.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(en)),a}function gx(){var a;return eo.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(ep)),a}function gy(){var a;return eq.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(er)),a}function gz(){var a;return es.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(et)),a}function gA(){var a;return eu.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(ev)),a}function gB(){var a;return ew.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(ex)),a}function gC(){var a;return ey.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(ez)),a}function gD(){var a;return eA.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(eB)),a}function gE(){var a;return eC.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(eD)),a}function gF(){var a;return eE.test(b.charAt(eG))?(a=b.charAt(eG),eG++):(a=f,0===eM&&eR(eF)),a}var gG=c(24024);if((d=h())!==f&&eG===b.length)return d;throw d!==f&&eG<b.length&&eR({type:"end",description:"end of input"}),eS(null,eL,eK)}return function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}(a,Error),{SyntaxError:a,parse:b}}()},82619:(a,b,c)=>{"use strict";a.exports=g;var d=c(53259);((g.prototype=Object.create(d.prototype)).constructor=g).className="MapField";var e=c(75688),f=c(305);function g(a,b,c,e,g,h){if(d.call(this,a,b,e,void 0,void 0,g,h),!f.isString(c))throw TypeError("keyType must be a string");this.keyType=c,this.resolvedKeyType=null,this.map=!0}g.fromJSON=function(a,b){return new g(a,b.id,b.keyType,b.type,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},g.prototype.resolve=function(){if(this.resolved)return this;if(void 0===e.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},g.d=function(a,b,c){return"function"==typeof c?c=f.decorateType(c).name:c&&"object"==typeof c&&(c=f.decorateEnum(c).name),function(d,e){f.decorateType(d.constructor).add(new g(e,a,b,c))}}},82625:(a,b,c)=>{"use strict";var d=c(89220);function e(){d.Base.call(this)}c(28354).inherits(e,d.Base),e.prototype.toBuffer=function(a){return d.toBufferResult(this,a)},e.prototype.fromBuffer=function(a,b){return d.fromBufferResult(this,a,b)},a.exports=e},82701:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{handleCacheIfNeeded:()=>p,handleContextCache:()=>o}),a.exports=i(j);var k=c(42592),l=c(6250),m=c(44037),n=c(69506);async function o(a,b,c,d,e){let f=new k.GoogleAICacheManager(a),{cachedContent:g,chatRequest:h}=(0,n.getContentForCache)(b,c,d,e);g.model=d;let i=(0,n.generateCacheKey)(g);g.displayName=i;let j=await (0,n.lookupContextCache)(f,i);if(m.logger.debug(`Cache hit: ${j?"true":"false"}`),!j)try{m.logger.debug("No cache found, creating one.");let a={...g,ttlSeconds:(0,n.calculateTTL)(e)};j=await f.create(a),m.logger.debug(`Created new cache entry with key: ${i}`)}catch(a){throw m.logger.error(`Failed to create cache with key ${i}: ${a}`),new l.GenkitError({status:"INTERNAL",message:`Failed to create cache: ${a}`})}if(!j)throw new l.GenkitError({status:"INTERNAL",message:"Failed to use context cache feature"});return{cache:j,newChatRequest:h}}async function p(a,b,c,d,e){if(!e||!(0,n.validateContextCacheRequest)(b,d))return{chatRequest:c,cache:null};let{cache:f,newChatRequest:g}=await o(a,b,c,d,e);return{chatRequest:g,cache:f}}},82740:a=>{"use strict";var b=Object.create(null);b.STOP=0,b.VOID=1,b.BOOL=2,b.BYTE=3,b.I8=3,b.DOUBLE=4,b.I16=6,b.I32=8,b.I64=10,b.STRING=11,b.STRUCT=12,b.MAP=13,b.SET=14,b.LIST=15,a.exports=b},82762:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){if(!(this instanceof g))return new g(a,b);this.key=a,this.val=b}function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.ktypeid=a,this.vtypeid=b,this.pairs=c||[]}function i(a){if(!(this instanceof i))return new i(a);this.ttypes=a.ttypes,d.Base.call(this)}e(i,d.Base),i.prototype.headerRW=d.Series([d.Int8,d.Int8,d.Int32BE]),i.prototype.poolByteLength=function(a,b){var c,d=this.ttypes[b.ktypeid];if(!d)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:b.ktypeid}));var e=this.ttypes[b.vtypeid];if(!e)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:b.vtypeid}));for(var g=6,h=0;h<b.pairs.length;h++){var i=b.pairs[h];if((c=d.poolByteLength(a,i.key)).err||(g+=c.length,(c=e.poolByteLength(a,i.val)).err))return c;g+=c.length}return a.reset(null,g)},i.prototype.poolWriteInto=function(a,b,c,d){var e=this.ttypes[b.ktypeid];if(!e)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:b.ktypeid}));var g=this.ttypes[b.vtypeid];if(!g)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:b.vtypeid}));var h=this.headerRW.poolWriteInto(a,[b.ktypeid,b.vtypeid,b.pairs.length],c,d);if(h.err)return h;d=h.offset;for(var i=0;i<b.pairs.length;i++){var j=b.pairs[i];if((h=e.poolWriteInto(a,j.key,c,d)).err||(d=h.offset,(h=g.poolWriteInto(a,j.val,c,d)).err))return h;d=h.offset}return a.reset(null,d)},i.prototype.poolReadFrom=function(a,b,c){var d=this.headerRW.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value[0],i=d.value[1],j=d.value[2];if(j<0)return a.reset(f.InvalidSizeError({size:j,what:"map::size"}),c);var k=new h(e,i),l=this.ttypes[k.ktypeid];if(!l)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:k.ktypeid}),c);var m=this.ttypes[k.vtypeid];if(!m)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:k.vtypeid}),c);for(var n=0;n<j;n++){if((d=l.poolReadFrom(a,b,c)).err)return d;c=d.offset;var o=d.value;if((d=m.poolReadFrom(a,b,c)).err)return d;c=d.offset;var p=d.value;k.pairs.push(g(o,p))}return a.reset(null,c,k)},a.exports.TPair=g,a.exports.TMap=h,a.exports.TMapRW=i},82999:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0,function(a){a.Tag="tag",a.Mapping="mapping"}(c||(b.DiscrError=c={}))},83096:(a,b,c)=>{"use strict";b.__esModule=!0,b.SourceLocation=f,b.id=g,b.stripFlags=h,b.stripComment=i,b.preparePath=j,b.prepareMustache=k,b.prepareRawBlock=l,b.prepareBlock=m,b.prepareProgram=n,b.preparePartialBlock=o;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));function e(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new d.default(a.path.original+" doesn't match "+b,c)}}function f(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function g(a){return/^\[.*\]$/.test(a)?a.substring(1,a.length-1):a}function h(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function i(a){return a.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function j(a,b,c){c=this.locInfo(c);for(var e=a?"@":"",f=[],g=0,h=0,i=b.length;h<i;h++){var j=b[h].part,k=b[h].original!==j;if(e+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)f.push(j);else if(f.length>0)throw new d.default("Invalid path: "+e,{loc:c});else".."===j&&g++}return{type:"PathExpression",data:a,depth:g,parts:f,original:e,loc:c}}function k(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g;return{type:/\*/.test(d)?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function l(a,b,c,d){e(a,c);var f={type:"Program",body:b,strip:{},loc:d=this.locInfo(d)};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:d}}function m(a,b,c,f,g,h){f&&f.path&&e(a,f);var i=/\*/.test(a.open);b.blockParams=a.blockParams;var j=void 0,k=void 0;if(c){if(i)throw new d.default("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=f.strip),k=c.strip,j=c.program}return g&&(g=j,j=b,b=g),{type:i?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:j,openStrip:a.strip,inverseStrip:k,closeStrip:f&&f.strip,loc:this.locInfo(h)}}function n(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function o(a,b,c,d){return e(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}}},83168:(a,b)=>{"use strict";function c(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,c.code='require("ajv/dist/runtime/ucs2length").default'},83183:(a,b,c)=>{"use strict";a.exports=c(49754).vendored["react-rsc"].ReactServerDOMWebpackServer},83255:(a,b,c)=>{"use strict";var d=c(32355),e=c(42218),f=c(94214),g=c(41604);function h(a,b){let c,d;if(b.tag){let c=a.filter(a=>a.tag===b.tag);if(c.length>0)return c.find(a=>a.format===b.format)??c[0]}if(e.isScalar(b)){c=b.value;let e=a.filter(a=>a.identify?.(c));if(e.length>1){let a=e.filter(a=>a.test);a.length>0&&(e=a)}d=e.find(a=>a.format===b.format)??e.find(a=>!a.format)}else c=b,d=a.find(a=>a.nodeClass&&c instanceof a.nodeClass);if(!d){let a=c?.constructor?.name??(null===c?"null":typeof c);throw Error(`Tag not resolved for ${a} value`)}return d}function i(a,b,{anchors:c,doc:f}){if(!f.directives)return"";let g=[],h=(e.isScalar(a)||e.isCollection(a))&&a.anchor;h&&d.anchorIsValid(h)&&(c.add(h),g.push(`&${h}`));let i=a.tag??(b.default?null:b.tag);return i&&g.push(f.directives.tagString(i)),g.join(" ")}function j(a,b,c,d){let f;if(e.isPair(a))return a.toString(b,c,d);if(e.isAlias(a)){if(b.doc.directives)return a.toString(b);if(b.resolvedAliases?.has(a))throw TypeError("Cannot stringify circular structure without alias nodes");b.resolvedAliases?b.resolvedAliases.add(a):b.resolvedAliases=new Set([a]),a=a.resolve(b.doc)}let j=e.isNode(a)?a:b.doc.createNode(a,{onTagObj:a=>f=a});f??(f=h(b.doc.schema.tags,j));let k=i(j,f,b);k.length>0&&(b.indentAtStart=(b.indentAtStart??0)+k.length+1);let l="function"==typeof f.stringify?f.stringify(j,b,c,d):e.isScalar(j)?g.stringifyString(j,b,c,d):j.toString(b,c,d);return k?e.isScalar(j)||"{"===l[0]||"["===l[0]?`${k} ${l}`:`${k}
${b.indent}${l}`:l}b.createStringifyContext=function(a,b){let c,d=Object.assign({blockQuote:!0,commentString:f.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},a.schema.toStringOptions,b);switch(d.collectionStyle){case"block":c=!1;break;case"flow":c=!0;break;default:c=null}return{anchors:new Set,doc:a,flowCollectionPadding:d.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof d.indent?" ".repeat(d.indent):"  ",inFlow:c,options:d}},b.stringify=j},83361:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBrandedDef=void 0;let d=c(31958);b.parseBrandedDef=function(a,b){return(0,d.parseDef)(a.type._def,b)}},83442:(a,b,c)=>{"use strict";c.r(b),c.d(b,{CompressionAlgorithm:()=>f.U,OTLPExporterBase:()=>g.S,OTLPExporterBrowserBase:()=>s,OTLPExporterError:()=>j.N,OTLPExporterNodeBase:()=>d.u,appendResourcePathToUrl:()=>h.Ir,appendRootPathToUrlIfNeeded:()=>h.u3,configureCompression:()=>e.Ft,configureExporterTimeout:()=>h.rH,createHttpAgent:()=>e.KX,invalidTimeout:()=>h.xl,parseHeaders:()=>h.QG,sendWithHttp:()=>e.Pk,sendWithXhr:()=>n});var d=c(144),e=c(28617),f=c(19136),g=c(595),h=c(89162),i=c(79361),j=c(13781),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},l=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function m(a,b,c,d,e){navigator.sendBeacon(b,new Blob([a],c))?(i.s.debug("sendBeacon - can send",a),d()):e(new j.N("sendBeacon - cannot send "+a))}function n(a,b,c,d,e,f){var g,m,n=!1,o=setTimeout(function(){clearTimeout(g),n=!0,m.readyState===XMLHttpRequest.DONE?f(new j.N("Request Timeout")):m.abort()},d),p=function(d,q){void 0===d&&(d=h.J9),void 0===q&&(q=h.Tj),(m=new XMLHttpRequest).open("POST",b),Object.entries(k(k({},{Accept:"application/json","Content-Type":"application/json"}),c)).forEach(function(a){var b=l(a,2),c=b[0],d=b[1];m.setRequestHeader(c,d)}),m.send(a),m.onreadystatechange=function(){if(m.readyState===XMLHttpRequest.DONE&&!1===n)if(m.status>=200&&m.status<=299)i.s.debug("xhr success",a),e(),clearTimeout(o),clearTimeout(g);else if(m.status&&(0,h.$q)(m.status)&&d>0){var b=void 0;q=h.Q5*q,g=setTimeout(function(){p(d-1,q)},b=m.getResponseHeader("Retry-After")?(0,h.u6)(m.getResponseHeader("Retry-After")):Math.round(Math.random()*(h.Rr-q)+q))}else f(new j.N("Failed to export with XHR (status: "+m.status+")",m.status)),clearTimeout(o),clearTimeout(g)},m.onabort=function(){n&&f(new j.N("Request Timeout")),clearTimeout(o),clearTimeout(g)},m.onerror=function(){n&&f(new j.N("Request Timeout")),clearTimeout(o),clearTimeout(g)}};p()}var o=c(24774),p=c(66336),q=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),r=function(){return(r=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},s=function(a){function b(b,c,d){void 0===b&&(b={});var e=a.call(this,b)||this;return e._useXHR=!1,e._serializer=c,e._contentType=d,e._useXHR=!!b.headers||"function"!=typeof navigator.sendBeacon,e._useXHR?e._headers=Object.assign({},(0,h.QG)(b.headers),o.parseKeyPairsIntoRecord((0,p._)().OTEL_EXPORTER_OTLP_HEADERS)):e._headers={},e}return q(b,a),b.prototype.onInit=function(){},b.prototype.onShutdown=function(){},b.prototype.send=function(a,b,c){var d,e=this;if(this._shutdownOnce.isCalled)return void i.s.debug("Shutdown already started. Cannot send objects");var f=null!=(d=this._serializer.serializeRequest(a))?d:new Uint8Array,g=new Promise(function(a,b){e._useXHR?n(f,e.url,r(r({},e._headers),{"Content-Type":e._contentType}),e.timeoutMillis,a,b):m(f,e.url,{type:e._contentType},a,b)}).then(b,c);this._sendingPromises.push(g);var h=function(){var a=e._sendingPromises.indexOf(g);e._sendingPromises.splice(a,1)};g.then(h,h)},b}(g.S)},83640:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChannelImplementation=void 0;let d=c(97945),e=c(82126);class f{constructor(a,b,c){if("string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.internalChannel=new e.InternalChannel(a,b,c)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(a){return this.internalChannel.getConnectivityState(a)}watchConnectivityState(a,b,c){this.internalChannel.watchConnectivityState(a,b,c)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(a,b,c,d,e)}}b.ChannelImplementation=f},83681:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseReadonlyDef=void 0;let d=c(31958);b.parseReadonlyDef=(a,b)=>(0,d.parseDef)(a.innerType._def,b)},83896:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(19518),b),e(c(20482),b),e(c(50130),b),e(c(90737),b),e(c(31958),b),e(c(37712),b),e(c(10715),b),e(c(91810),b),e(c(64710),b),e(c(74361),b),e(c(83361),b),e(c(85535),b),e(c(65431),b),e(c(90506),b),e(c(35427),b),e(c(17216),b),e(c(59320),b),e(c(73076),b),e(c(45055),b),e(c(26981),b),e(c(1735),b),e(c(43316),b),e(c(65756),b),e(c(65312),b),e(c(21257),b),e(c(56823),b),e(c(82141),b),e(c(65966),b),e(c(83681),b),e(c(32044),b),e(c(77949),b),e(c(93416),b),e(c(68575),b),e(c(57341),b),e(c(69316),b),e(c(90999),b),e(c(65549),b),e(c(96483),b),b.default=c(96483).zodToJsonSchema},83926:(a,b,c)=>{"use strict";Object.create;var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames;Object.getPrototypeOf;var g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{checkOp:()=>o,predictModel:()=>n}),a.exports=i(j);var k=c(73396);function l(a){return`https://generativelanguage.googleapis.com/${a.apiVersion}/models/${a.model}:${a.method}?key=${a.apiKey}`}function m(a){return`https://generativelanguage.googleapis.com/${a.apiVersion}/${a.operation}?key=${a.apiKey}`}function n(a,b,d){return async(e,f)=>{let g=(await c.e(634).then(c.bind(c,40634))).default,h={instances:e,parameters:f},i=await g(l({model:a,apiVersion:"v1beta",apiKey:b,method:d}),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,k.getGenkitClientHeader)()}});if(!i.ok)throw Error(`Error from Gemini AI predict: HTTP ${i.status}: ${await i.text()}`);return await i.json()}}async function o(a,b){let d=(await c.e(634).then(c.bind(c,40634))).default,e=await d(m({apiVersion:"v1beta",operation:a,apiKey:b}),{method:"GET",headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,k.getGenkitClientHeader)()}});if(!e.ok)throw Error(`Error from operation API: HTTP ${e.status}: ${await e.text()}`);return await e.json()}},84183:function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(b,"__esModule",{value:!0});var e=c(38623),f=new e.default,g=null,h=new(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.startSpan=function(){var a=g||f;return a.startSpan.apply(a,arguments)},b.prototype.inject=function(){var a=g||f;return a.inject.apply(a,arguments)},b.prototype.extract=function(){var a=g||f;return a.extract.apply(a,arguments)},b}(e.default));b.initGlobalTracer=function(a){g=a},b.globalTracer=function(){return h}},84191:(a,b,c)=>{"use strict";c.r(b),c.d(b,{JaegerPropagator:()=>l,UBER_BAGGAGE_HEADER_PREFIX:()=>k,UBER_TRACE_ID_HEADER:()=>j});var d=c(88018),e=c(37002),f=c(54616),g=c(81588),h=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},j="uber-trace-id",k="uberctx",l=function(){function a(a){"string"==typeof a?(this._jaegerTraceHeader=a,this._jaegerBaggageHeaderPrefix=k):(this._jaegerTraceHeader=(null==a?void 0:a.customTraceHeader)||j,this._jaegerBaggageHeaderPrefix=(null==a?void 0:a.customBaggageHeaderPrefix)||k)}return a.prototype.inject=function(a,b,c){var j,k,l=d.u.getSpanContext(a),m=e.$.getBaggage(a);if(l&&!1===(0,g.Zf)(a)){var n="0"+(l.traceFlags||f.X.NONE).toString(16);c.set(b,this._jaegerTraceHeader,l.traceId+":"+l.spanId+":0:"+n)}if(m)try{for(var o=h(m.getAllEntries()),p=o.next();!p.done;p=o.next()){var q=i(p.value,2),r=q[0],s=q[1];c.set(b,this._jaegerBaggageHeaderPrefix+"-"+r,encodeURIComponent(s.value))}}catch(a){j={error:a}}finally{try{p&&!p.done&&(k=o.return)&&k.call(o)}finally{if(j)throw j.error}}},a.prototype.extract=function(a,b,c){var f,g,i,j=this,k=c.get(b,this._jaegerTraceHeader),l=Array.isArray(k)?k[0]:k,m=c.keys(b).filter(function(a){return a.startsWith(j._jaegerBaggageHeaderPrefix+"-")}).map(function(a){var d=c.get(b,a);return{key:a.substring(j._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),o=a;if("string"==typeof l){var p=n(l);p&&(o=d.u.setSpanContext(o,p))}if(0===m.length)return o;var q=null!=(i=e.$.getBaggage(a))?i:e.$.createBaggage();try{for(var r=h(m),s=r.next();!s.done;s=r.next()){var t=s.value;void 0!==t.value&&(q=q.setEntry(t.key,{value:decodeURIComponent(t.value)}))}}catch(a){f={error:a}}finally{try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(f)throw f.error}}return e.$.setBaggage(o,q)},a.prototype.fields=function(){return[this._jaegerTraceHeader]},a}(),m=/^[0-9a-f]{1,2}$/i;function n(a){var b=decodeURIComponent(a).split(":");if(4!==b.length)return null;var c=i(b,4),d=c[0],e=c[1],f=c[3];return{traceId:d.padStart(32,"0"),spanId:e.padStart(16,"0"),isRemote:!0,traceFlags:m.test(f)?1&parseInt(f,16):1}}},84596:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{ResourceInputSchema:()=>q,ResourceOutputSchema:()=>r,defineResource:()=>u,dynamicResource:()=>y,findMatchingResource:()=>v,isDynamicResourceAction:()=>w,lookupResourceByName:()=>t,resolveResources:()=>s,resource:()=>x}),a.exports=l(m);var n=c(40979),o=k(c(58302)),p=c(14015);let q=n.z.object({uri:n.z.string()}),r=n.z.object({content:n.z.array(p.PartSchema)});async function s(a,b){return b&&0!==b.length?await Promise.all(b.map(async b=>{if("string"==typeof b)return await t(a,b);if((0,n.isAction)(b))return b;throw Error("Resources must be strings, or actions")})):[]}async function t(a,b){let c=await a.lookupAction(b)||await a.lookupAction(`/resource/${b}`)||await a.lookupAction(`/dynamic-action-provider/${b}`);if(!c)throw Error(`Resource ${b} not found`);return c}function u(a,b,c){let d=y(b,c);return d.matches=z(b.uri,b.template),a.registerAction("resource",d),d}async function v(a,b,c){for(let a of b)if(a.matches(c))return a;for(let b of Object.keys(await a.listResolvableActions()))if(b.startsWith("/resource/")){let d=await a.lookupAction(b);if(d.matches(c))return d}}function w(a){return(0,n.isAction)(a)&&!a.__registry}function x(a,b){return y(a,b)}function y(a,b){let c=a.uri??a.template;if(!c)throw new n.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"});let d=z(a.uri,a.template),e=(0,n.action)({actionType:"resource",name:a.name??c,description:a.description,inputSchema:q,outputSchema:r,metadata:{resource:{uri:a.uri,template:a.template},...a.metadata,type:"resource",dynamic:!0}},async(e,f)=>{if(!d(e))throw new n.GenkitError({status:"INVALID_ARGUMENT",message:`input ${e} did not match template ${c}`});let g=await b(e,f);return g.content.map(b=>(b.metadata||(b.metadata={}),b.metadata?.resource?!b.metadata.resource.parent&&(b.metadata.resource.parent={uri:e.uri},a.template&&(b.metadata.resource.parent.template=a.template)):(b.metadata.resource={uri:e.uri},a.template&&(b.metadata.resource.template=a.template)),b)),g});return e.matches=d,e.attach=a=>e,e}function z(a,b){if(a)return b=>b.uri===a;if(b){let a=(0,o.default)(b);return b=>void 0!==a.fromUri(b.uri)}throw new n.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"})}},84618:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GENERIC_GEMINI_MODEL:()=>T,GeminiConfigSchema:()=>u,GeminiGemmaConfigSchema:()=>v,GeminiTtsConfigSchema:()=>w,SUPPORTED_GEMINI_MODELS:()=>S,aggregateResponses:()=>au,cleanSchema:()=>aq,defineGoogleAIModel:()=>ar,fromGeminiCandidate:()=>ap,gemini:()=>V,gemini10Pro:()=>x,gemini15Flash:()=>z,gemini15Flash8b:()=>A,gemini15Pro:()=>y,gemini20Flash:()=>B,gemini20FlashExp:()=>C,gemini20FlashLite:()=>D,gemini20ProExp0205:()=>E,gemini25Flash:()=>L,gemini25FlashLite:()=>M,gemini25FlashPreview0417:()=>F,gemini25FlashPreviewTts:()=>G,gemini25Pro:()=>K,gemini25ProExp0325:()=>H,gemini25ProPreview0325:()=>I,gemini25ProPreviewTts:()=>J,gemma312bit:()=>N,gemma31bit:()=>O,gemma327bit:()=>P,gemma34bit:()=>Q,gemma3ne4bit:()=>R,toGeminiMessage:()=>am,toGeminiSystemInstruction:()=>an,toGeminiTool:()=>Z}),a.exports=i(j);var k=c(50212),l=c(6250),m=c(48145),n=c(5030),o=c(43264),p=c(73396),q=c(82701),r=c(69506);let s=l.z.object({category:l.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:l.z.enum(["BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE"])}),t=l.z.object({prebuiltVoiceConfig:l.z.object({voiceName:l.z.union([l.z.enum(["Zephyr","Puck","Charon","Kore","Fenrir","Leda","Orus","Aoede","Callirrhoe","Autonoe","Enceladus","Iapetus","Umbriel","Algieba","Despina","Erinome","Algenib","Rasalgethi","Laomedeia","Achernar","Alnilam","Schedar","Gacrux","Pulcherrima","Achird","Zubenelgenubi","Vindemiatrix","Sadachbia","Sadaltager","Sulafat"]),l.z.string()]).describe("Name of the preset voice to use").optional()}).describe("Configuration for the prebuilt speaker to use").passthrough().optional()}).describe("Configuration for the voice to use").passthrough(),u=m.GenerationCommonConfigSchema.extend({temperature:l.z.number().min(0).max(2).describe(m.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional(),topP:l.z.number().min(0).max(1).describe(m.GenerationCommonConfigDescriptions.topP+" The default value is 0.95.").optional(),apiKey:l.z.string().describe("Overrides the plugin-configured API key, if specified.").optional(),safetySettings:l.z.array(s).describe("Adjust how likely you are to see responses that could be harmful. Content is blocked based on the probability that it is harmful.").optional(),codeExecution:l.z.union([l.z.boolean(),l.z.object({}).strict()]).describe("Enables the model to generate and run code.").optional(),contextCache:l.z.boolean().describe("Context caching allows you to save and reuse precomputed input tokens that you wish to use repeatedly.").optional(),functionCallingConfig:l.z.object({mode:l.z.enum(["MODE_UNSPECIFIED","AUTO","ANY","NONE"]).optional(),allowedFunctionNames:l.z.array(l.z.string()).optional()}).describe("Controls how the model uses the provided tools (function declarations). With AUTO (Default) mode, the model decides whether to generate a natural language response or suggest a function call based on the prompt and context. With ANY, the model is constrained to always predict a function call and guarantee function schema adherence. With NONE, the model is prohibited from making function calls.").optional(),responseModalities:l.z.array(l.z.enum(["TEXT","IMAGE","AUDIO"])).describe("The modalities to be used in response. Only supported for 'gemini-2.0-flash-exp' model at present.").optional(),googleSearchRetrieval:l.z.union([l.z.boolean(),l.z.object({}).passthrough()]).describe("Retrieve public web data for grounding, powered by Google Search.").optional(),thinkingConfig:l.z.object({includeThoughts:l.z.boolean().describe("Indicates whether to include thoughts in the response.If true, thoughts are returned only when available.").optional(),thinkingBudget:l.z.number().min(0).max(24576).describe("The thinking budget parameter gives the model guidance on the number of thinking tokens it can use when generating a response. A greater number of tokens is typically associated with more detailed thinking, which is needed for solving more complex tasks. Setting the thinking budget to 0 disables thinking.").optional()}).optional()}).passthrough(),v=u.extend({temperature:l.z.number().min(0).max(1).describe(m.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional()}).passthrough(),w=u.extend({speechConfig:l.z.object({voiceConfig:t.optional(),multiSpeakerVoiceConfig:l.z.object({speakerVoiceConfigs:l.z.array(l.z.object({speaker:l.z.string().describe("Name of the speaker to use"),voiceConfig:t}).describe("Configuration for a single speaker in a multi speaker setup").passthrough()).describe("Configuration for all the enabled speaker voices")}).describe("Configuration for multi-speaker setup").passthrough().optional()}).describe("Speech generation config").passthrough().optional()}).passthrough(),x=(0,m.modelRef)({name:"googleai/gemini-1.0-pro",info:{label:"Google AI - Gemini Pro",versions:["gemini-pro","gemini-1.0-pro-latest","gemini-1.0-pro-001"],supports:{multiturn:!0,media:!1,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),y=(0,m.modelRef)({name:"googleai/gemini-1.5-pro",info:{label:"Google AI - Gemini 1.5 Pro",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-pro-latest","gemini-1.5-pro-001","gemini-1.5-pro-002"]},configSchema:u}),z=(0,m.modelRef)({name:"googleai/gemini-1.5-flash",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools",contextCache:!0},versions:["gemini-1.5-flash-latest","gemini-1.5-flash-001","gemini-1.5-flash-002"]},configSchema:u}),A=(0,m.modelRef)({name:"googleai/gemini-1.5-flash-8b",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-flash-8b-latest","gemini-1.5-flash-8b-001"]},configSchema:u}),B=(0,m.modelRef)({name:"googleai/gemini-2.0-flash",info:{label:"Google AI - Gemini 2.0 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),C=(0,m.modelRef)({name:"googleai/gemini-2.0-flash-exp",info:{label:"Google AI - Gemini 2.0 Flash (Experimental)",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),D=(0,m.modelRef)({name:"googleai/gemini-2.0-flash-lite",info:{label:"Google AI - Gemini 2.0 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),E=(0,m.modelRef)({name:"googleai/gemini-2.0-pro-exp-02-05",info:{label:"Google AI - Gemini 2.0 Pro Exp 02-05",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),F=(0,m.modelRef)({name:"googleai/gemini-2.5-flash-preview-04-17",info:{label:"Google AI - Gemini 2.5 Flash Preview 04-17",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),G=(0,m.modelRef)({name:"googleai/gemini-2.5-flash-preview-tts",info:{label:"Google AI - Gemini 2.5 Flash Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:w}),H=(0,m.modelRef)({name:"googleai/gemini-2.5-pro-exp-03-25",info:{label:"Google AI - Gemini 2.5 Pro Exp 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),I=(0,m.modelRef)({name:"googleai/gemini-2.5-pro-preview-03-25",info:{label:"Google AI - Gemini 2.5 Pro Preview 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),J=(0,m.modelRef)({name:"googleai/gemini-2.5-pro-preview-tts",info:{label:"Google AI - Gemini 2.5 Pro Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:w}),K=(0,m.modelRef)({name:"googleai/gemini-2.5-pro",info:{label:"Google AI - Gemini 2.5 Pro",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),L=(0,m.modelRef)({name:"googleai/gemini-2.5-flash",info:{label:"Google AI - Gemini 2.5 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),M=(0,m.modelRef)({name:"googleai/gemini-2.5-flash-lite",info:{label:"Google AI - Gemini 2.5 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:u}),N=(0,m.modelRef)({name:"googleai/gemma-3-12b-it",info:{label:"Google AI - Gemma 3 12B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:v}),O=(0,m.modelRef)({name:"googleai/gemma-3-1b-it",info:{label:"Google AI - Gemma 3 1B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:v}),P=(0,m.modelRef)({name:"googleai/gemma-3-27b-it",info:{label:"Google AI - Gemma 3 27B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:v}),Q=(0,m.modelRef)({name:"googleai/gemma-3-4b-it",info:{label:"Google AI - Gemma 3 4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:v}),R=(0,m.modelRef)({name:"googleai/gemma-3n-e4b-it",info:{label:"Google AI - Gemma 3n E4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:v}),S={"gemini-1.5-pro":y,"gemini-1.5-flash":z,"gemini-1.5-flash-8b":A,"gemini-2.0-pro-exp-02-05":E,"gemini-2.0-flash":B,"gemini-2.0-flash-lite":D,"gemini-2.0-flash-exp":C,"gemini-2.5-pro-exp-03-25":H,"gemini-2.5-pro-preview-03-25":I,"gemini-2.5-pro-preview-tts":J,"gemini-2.5-flash-preview-04-17":F,"gemini-2.5-flash-preview-tts":G,"gemini-2.5-flash":L,"gemini-2.5-flash-lite":M,"gemini-2.5-pro":K,"gemma-3-12b-it":N,"gemma-3-1b-it":O,"gemma-3-27b-it":P,"gemma-3-4b-it":Q,"gemma-3n-e4b-it":R},T=(0,m.modelRef)({name:"googleai/gemini",configSchema:u,info:{label:"Google Gemini",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}}});function U(a,b){return b.filter(b=>a.startsWith(b)).reduce((a,b)=>b.length>a.length?b:a,"")}function V(a,b={}){let c=W(a);return(0,m.modelRef)({name:`googleai/${a}`,config:b,configSchema:u,info:{...c.info,label:c.name.endsWith(a)?c.info?.label:`Google AI - ${a}`}})}function W(a,b={}){let c=U(a,Object.keys(S));return c?S[c].withConfig({...b,version:a}):T.withConfig({...b,version:a})}function X(a,b){switch(a){case"user":default:return"user";case"model":return"model";case"system":if(b?.info?.supports?.systemRole)throw Error("system role is only supported for a single message in the first position");throw Error("system role is not supported");case"tool":return"function"}}function Y(a){let b;if(!a||!a.type)return;let c={};if(a.description&&(c.description=a.description),a.enum&&(c.type=k.SchemaType.STRING,c.enum=a.enum),a.nullable&&(c.nullable=a.nullable),Array.isArray(a.type)){let d=a.type;d.includes("null")&&(c.nullable=!0),b=d.find(a=>"null"!==a)}else b=a.type;if("object"===b){let b={};return Object.keys(a.properties??{}).forEach(c=>{b[c]=Y(a.properties[c])}),{...c,type:k.SchemaType.OBJECT,properties:b,required:a.required}}{if("array"===b)return{...c,type:k.SchemaType.ARRAY,items:Y(a.items)};let d=k.SchemaType[b.toUpperCase()];if(!d)throw new l.GenkitError({status:"INVALID_ARGUMENT",message:`Unsupported property type ${b.toUpperCase()}`});return{...c,type:d}}}function Z(a){return{name:a.name.replace(/\//g,"__"),description:a.description,parameters:Y(a.inputSchema)}}function $(a){let b=a.media.url,c=b.substring(b.indexOf(",")+1);return{inlineData:{mimeType:a.media.contentType||b.substring(b.indexOf(":")+1,b.indexOf(";")),data:c}}}function _(a){if(!a.media.contentType)throw Error("Must supply a `contentType` when sending File URIs to Gemini.");return{fileData:{mimeType:a.media.contentType,fileUri:a.media.url}}}function aa(a){if(!a.inlineData||!a.inlineData.hasOwnProperty("mimeType")||!a.inlineData.hasOwnProperty("data"))throw Error("Invalid InlineDataPart: missing required properties");let{mimeType:b,data:c}=a.inlineData;return{media:{url:`data:${b};base64,${c}`,contentType:b}}}function ab(a){if(!a?.toolRequest?.input)throw Error("Invalid ToolRequestPart: input was missing.");return{functionCall:{name:a.toolRequest.name,args:a.toolRequest.input}}}function ac(a,b){if(!a.functionCall)throw Error("Invalid FunctionCallPart");return{toolRequest:{name:a.functionCall.name,input:a.functionCall.args,ref:b}}}function ad(a){if(!a?.toolResponse?.output)throw Error("Invalid ToolResponsePart: output was missing.");return{functionResponse:{name:a.toolResponse.name,response:{name:a.toolResponse.name,content:a.toolResponse.output}}}}function ae(a){if(!a.functionResponse)throw Error("Invalid FunctionResponsePart.");return{toolResponse:{name:a.functionResponse.name.replace(/__/g,"/"),output:a.functionResponse.response}}}function af(a){if(!a.executableCode)throw Error("Invalid GeminiPart: missing executableCode");return{custom:{executableCode:{language:a.executableCode.language,code:a.executableCode.code}}}}function ag(a){if(!a.codeExecutionResult)throw Error("Invalid GeminiPart: missing codeExecutionResult");return{custom:{codeExecutionResult:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output}}}}function ah(a){return{reasoning:a.text||"",metadata:{thoughtSignature:a.thoughtSignature}}}function ai(a){if(!a.custom)throw Error("Invalid GeminiPart: missing custom");if(a.custom.codeExecutionResult)return{codeExecutionResult:a.custom.codeExecutionResult};if(a.custom.executableCode)return{executableCode:a.custom.executableCode};throw Error("Unsupported Custom Part type")}function aj(a){let b={thought:!0};return a.metadata?.thoughtSignature&&(b.thoughtSignature=a.metadata.thoughtSignature),a.reasoning?.length&&(b.text=a.reasoning),b}function ak(a){if(void 0!==a.text)return{text:a.text||" "};if(a.media)return a.media.url.startsWith("data:")?$(a):_(a);if(a.toolRequest)return ab(a);if(a.toolResponse)return ad(a);if(a.custom)return ai(a);if("string"==typeof a.reasoning)return aj(a);throw Error("Unsupported Part type"+JSON.stringify(a))}function al(a,b,c){if("thought"in a)return ah(a);if("string"==typeof a.text)return{text:a.text};if(a.inlineData)return aa(a);if(a.functionCall)return ac(a,c);if(a.functionResponse)return ae(a);if(a.executableCode)return af(a);if(a.codeExecutionResult)return ag(a);throw Error("Unsupported GeminiPart type: "+JSON.stringify(a))}function am(a,b){let c=a.content;return"tool"===a.role&&(c=[...a.content].sort((a,b)=>{let c=a.toolResponse?.ref,d=b.toolResponse?.ref;return c||d?c?d?Number.parseInt(c,10)-Number.parseInt(d,10):-1:1:0})),{role:X(a.role,b),parts:c.map(ak)}}function an(a){return{role:"user",parts:a.content.map(ak)}}function ao(a){if(!a)return"unknown";switch(a){case"STOP":return"stop";case"MAX_TOKENS":return"length";case"SAFETY":case"RECITATION":return"blocked";default:return"unknown"}}function ap(a,b=!1){let c=a.content?.parts||[];return{index:a.index||0,message:{role:"model",content:c.map((a,c)=>al(a,b,c.toString()))},finishReason:ao(a.finishReason),finishMessage:a.finishMessage,custom:{safetyRatings:a.safetyRatings,citationMetadata:a.citationMetadata}}}function aq(a){let b=structuredClone(a);for(let a in b){if("$schema"===a||"additionalProperties"===a){delete b[a];continue}"object"==typeof b[a]&&(b[a]=aq(b[a])),"type"===a&&Array.isArray(b[a])&&(b[a]=b[a].find(a=>"null"!==a))}return b}function ar({ai:a,name:b,apiKey:c,apiVersion:d,baseUrl:e,info:f,defaultConfig:g,debugTraces:h}){let i;if(!1!==c&&!(i=c||(0,p.getApiKeyFromEnvVar)()))throw new l.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let j=b.startsWith("googleai/")?b.substring(9):b,s=S[j]??(0,m.modelRef)({name:`googleai/${j}`,info:{label:`Google AI - ${j}`,supports:{multiturn:!0,media:!0,tools:!0,systemRole:!0,output:["text","json"]},...f},configSchema:u}),t=[];return s.info?.supports?.media&&t.push((0,n.downloadRequestMedia)({maxBytes:0xa00000,filter:a=>{try{let b=new URL(a.media.url);if(["generativelanguage.googleapis.com","www.youtube.com","youtube.com","youtu.be"].includes(b.hostname))return!1}catch{}return!0}})),a.defineModel({apiVersion:"v2",name:s.name,...s.info,configSchema:s.configSchema,use:t},async(b,{streamingRequested:c,sendChunk:f,abortSignal:n})=>{let t,u,v,w={apiClient:(0,p.getGenkitClientHeader)()};d&&(w.apiVersion=d),d&&(w.baseUrl=e);let x={...g,...b.config},y=[...b.messages];if(0===y.length)throw Error("No messages provided.");if(s.info?.supports?.systemRole){let a=y.find(a=>"system"===a.role);a&&(y.splice(y.indexOf(a),1),v=an(a))}let z=[];b.tools?.length&&z.push({functionDeclarations:b.tools.map(Z)});let{apiKey:A,safetySettings:B,codeExecution:C,version:D,functionCallingConfig:E,googleSearchRetrieval:F,tools:G,...H}=x;C&&z.push({codeExecution:!0===b.config.codeExecution?{}:b.config.codeExecution}),G&&z.push(...G),F&&z.push({googleSearch:!0===F?{}:F}),E?t={functionCallingConfig:{allowedFunctionNames:E.allowedFunctionNames,mode:as(E.mode)}}:b.toolChoice&&(t={functionCallingConfig:{mode:at(b.toolChoice)}});let I=b.output?.format==="json"||b.output?.contentType==="application/json"&&0===z.length,J={...H,candidateCount:b.candidates||void 0,responseMimeType:I?"application/json":void 0};b.output?.constrained&&I&&(J.responseSchema=aq(b.output.schema));let K=am(y[y.length-1],s),L=a=>ap(a,I),M={systemInstruction:v,generationConfig:J,tools:z.length?z:void 0,toolConfig:t,history:y.slice(0,-1).map(a=>am(a,s)),safetySettings:B},N=D||s.version||j,O=(0,r.extractCacheConfig)(b),{chatRequest:P,cache:Q}=await (0,q.handleCacheIfNeeded)(i,b,M,N,O);if(!A&&!i)throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let R=new k.GoogleGenerativeAI(A||i);u=Q?R.getGenerativeModelFromCachedContent(Q,{model:N},w):R.getGenerativeModel({model:N},w);let S=async()=>{let a;if(c){let b=await u.startChat(P).sendMessageStream(K.parts,{...w,signal:n}),c=[];for await(let a of b.stream)c.push(a),a.candidates?.forEach(a=>{let b=L(a);f({index:b.index,content:b.message.content})});a=au(c)}else a=(await u.startChat(P).sendMessage(K.parts,{...w,signal:n})).response;let d=a.candidates||[];if(a.candidates?.undefined&&d.push(a.candidates.undefined),!d.length)throw new l.GenkitError({status:"FAILED_PRECONDITION",message:"No valid candidates returned."});let e=d.map(L)||[],g=a.usageMetadata;return{candidates:e,custom:a,usage:{...(0,m.getBasicUsageStats)(b.messages,e),inputTokens:g?.promptTokenCount,outputTokens:g?.candidatesTokenCount,thoughtsTokens:g?.thoughtsTokenCount,totalTokens:g?.totalTokenCount,cachedContentTokens:g?.cachedContentTokenCount}}};return h?await (0,o.runInNewSpan)(a.registry,{metadata:{name:c?"sendMessageStream":"sendMessage"}},async a=>{a.input={sdk:"@google/generative-ai",cache:Q,model:u.model,chatOptions:P,parts:K.parts,options:w};let b=await S();return a.output=b.custom,b}):await S()})}function as(a){if(void 0!==a)switch(a){case"MODE_UNSPECIFIED":return k.FunctionCallingMode.MODE_UNSPECIFIED;case"ANY":return k.FunctionCallingMode.ANY;case"AUTO":return k.FunctionCallingMode.AUTO;case"NONE":return k.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${a}`)}}function at(a){if(void 0!==a)switch(a){case"required":return k.FunctionCallingMode.ANY;case"auto":return k.FunctionCallingMode.AUTO;case"none":return k.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${a}`)}}function au(a){let b=a[a.length-1],c={promptFeedback:b?.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts)for(let b of(c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]}),d.content.parts)){let d={};b.text&&(d.text=b.text),b.thought&&(d.thought=b.thought),b.thoughtSignature&&(d.thoughtSignature=b.thoughtSignature),b.functionCall&&(d.functionCall=b.functionCall),b.executableCode&&(d.executableCode=b.executableCode),b.codeExecutionResult&&(d.codeExecutionResult=b.codeExecutionResult),0===Object.keys(d).length&&(d.text=""),c.candidates[a].content.parts.push(d)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}},85069:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(28872),e=c(53864);b.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},85327:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(a,b,c)>0},85371:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=new d.String(d.Int32BE,"utf-8");function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="string",g.prototype.typeid=e.STRING,g.prototype.surface=String,g.prototype.models="type",a.exports.StringRW=f,a.exports.ThriftString=g},85384:(a,b)=>{"use strict";function c(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===d}Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{isHangingPromiseRejectionError:function(){return c},makeDevtoolsIOAwarePromise:function(){return i},makeHangingPromise:function(){return g}});let d="HANGING_PROMISE_REJECTION";class e extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=d}}let f=new WeakMap;function g(a,b,c){if(a.aborted)return Promise.reject(new e(b,c));{let d=new Promise((d,g)=>{let h=g.bind(null,new e(b,c)),i=f.get(a);if(i)i.push(h);else{let b=[h];f.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(h),d}}function h(){}function i(a){return new Promise(b=>{setTimeout(()=>{b(a)},0)})}},85467:(a,b,c)=>{"use strict";var d=c(42218),e=c(83255),f=c(94214);function g({comment:a,items:b},c,{blockItemPrefix:g,flowChars:h,itemIndent:j,onChompKeep:k,onComment:l}){let m,{indent:n,options:{commentString:o}}=c,p=Object.assign({},c,{indent:j,type:null}),q=!1,r=[];for(let a=0;a<b.length;++a){let h=b[a],k=null;if(d.isNode(h))!q&&h.spaceBefore&&r.push(""),i(c,r,h.commentBefore,q),h.comment&&(k=h.comment);else if(d.isPair(h)){let a=d.isNode(h.key)?h.key:null;a&&(!q&&a.spaceBefore&&r.push(""),i(c,r,a.commentBefore,q))}q=!1;let l=e.stringify(h,p,()=>k=null,()=>q=!0);k&&(l+=f.lineComment(l,j,o(k))),q&&k&&(q=!1),r.push(g+l)}if(0===r.length)m=h.start+h.end;else{m=r[0];for(let a=1;a<r.length;++a){let b=r[a];m+=b?`
${n}${b}`:"\n"}}return a?(m+="\n"+f.indentComment(o(a),n),l&&l()):q&&k&&k(),m}function h({items:a},b,{flowChars:c,itemIndent:g}){let{indent:h,indentStep:j,flowCollectionPadding:k,options:{commentString:l}}=b,m=Object.assign({},b,{indent:g+=j,inFlow:!0,type:null}),n=!1,o=0,p=[];for(let c=0;c<a.length;++c){let h=a[c],j=null;if(d.isNode(h))h.spaceBefore&&p.push(""),i(b,p,h.commentBefore,!1),h.comment&&(j=h.comment);else if(d.isPair(h)){let a=d.isNode(h.key)?h.key:null;a&&(a.spaceBefore&&p.push(""),i(b,p,a.commentBefore,!1),a.comment&&(n=!0));let c=d.isNode(h.value)?h.value:null;c?(c.comment&&(j=c.comment),c.commentBefore&&(n=!0)):null==h.value&&a?.comment&&(j=a.comment)}j&&(n=!0);let k=e.stringify(h,m,()=>j=null);c<a.length-1&&(k+=","),j&&(k+=f.lineComment(k,g,l(j))),!n&&(p.length>o||k.includes("\n"))&&(n=!0),p.push(k),o=p.length}let{start:q,end:r}=c;if(0===p.length)return q+r;if(!n){let a=p.reduce((a,b)=>a+b.length+2,2);n=b.options.lineWidth>0&&a>b.options.lineWidth}if(!n)return`${q}${k}${p.join(" ")}${k}${r}`;{let a=q;for(let b of p)a+=b?`
${j}${h}${b}`:"\n";return`${a}
${h}${r}`}}function i({indent:a,options:{commentString:b}},c,d,e){if(d&&e&&(d=d.replace(/^\n+/,"")),d){let e=f.indentComment(b(d),a);c.push(e.trimStart())}}b.stringifyCollection=function(a,b,c){return(b.inFlow??a.flow?h:g)(a,b,c)}},85535:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseCatchDef=void 0;let d=c(31958);b.parseCatchDef=(a,b)=>(0,d.parseDef)(a.innerType._def,b)},85584:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.spanToThrift=void 0;let d=c(68948),e=c(26061),f=c(51227),g=1;function h(a){return a.map(a=>{let b=f.ThriftReferenceType.FOLLOWS_FROM,c=a.context.traceId,d=f.Utils.encodeInt64(c.slice(0,16));return{traceIdLow:f.Utils.encodeInt64(c.slice(16)),traceIdHigh:d,spanId:f.Utils.encodeInt64(a.context.spanId),refType:b}})}function i(a){let b=typeof a;return"boolean"===b||"number"===b?a:String(a)}b.spanToThrift=function(a){let b=a.spanContext().traceId.padStart(32,"0"),c=b.slice(0,16),j=b.slice(16),k=a.parentSpanId?f.Utils.encodeInt64(a.parentSpanId):f.ThriftUtils.emptyBuffer,l=Object.keys(a.attributes).map(b=>({key:b,value:i(a.attributes[b])}));a.status.code!==d.SpanStatusCode.UNSET&&(l.push({key:"otel.status_code",value:d.SpanStatusCode[a.status.code]}),a.status.message&&l.push({key:"otel.status_description",value:a.status.message})),a.status.code===d.SpanStatusCode.ERROR&&l.push({key:"error",value:!0}),void 0!==a.kind&&a.kind!==d.SpanKind.INTERNAL&&l.push({key:"span.kind",value:d.SpanKind[a.kind].toLowerCase()}),Object.keys(a.resource.attributes).forEach(b=>l.push({key:b,value:i(a.resource.attributes[b])})),a.instrumentationLibrary&&(l.push({key:"otel.library.name",value:i(a.instrumentationLibrary.name)}),l.push({key:"otel.library.version",value:i(a.instrumentationLibrary.version)})),a.droppedAttributesCount&&l.push({key:"otel.dropped_attributes_count",value:i(a.droppedAttributesCount)}),a.droppedEventsCount&&l.push({key:"otel.dropped_events_count",value:i(a.droppedEventsCount)}),a.droppedLinksCount&&l.push({key:"otel.dropped_links_count",value:i(a.droppedLinksCount)});let m=f.ThriftUtils.getThriftTags(l),n=a.events.map(a=>{let b=[{key:"event",value:a.name}],c=a.attributes;return c&&Object.keys(c).forEach(a=>b.push({key:a,value:i(c[a])})),a.droppedAttributesCount&&b.push({key:"otel.event.dropped_attributes_count",value:a.droppedAttributesCount}),{timestamp:(0,e.hrTimeToMilliseconds)(a.time),fields:b}}),o=f.ThriftUtils.getThriftLogs(n);return{traceIdLow:f.Utils.encodeInt64(j),traceIdHigh:f.Utils.encodeInt64(c),spanId:f.Utils.encodeInt64(a.spanContext().spanId),parentSpanId:k,operationName:a.name,references:h(a.links),flags:a.spanContext().traceFlags||g,startTime:f.Utils.encodeInt64((0,e.hrTimeToMicroseconds)(a.startTime)),duration:f.Utils.encodeInt64((0,e.hrTimeToMicroseconds)(a.duration)),tags:m,logs:o}}},85708:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{callServer:function(){return d.callServer},createServerReference:function(){return f.createServerReference},findSourceMapURL:function(){return e.findSourceMapURL}});let d=c(76779),e=c(6927),f=c(63188)},85724:(a,b,c)=>{"use strict";var d=c(8408),e=c(24148);let f={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:a=>"nan"===a.slice(-3).toLowerCase()?NaN:"-"===a[0]?-1/0:1/0,stringify:e.stringifyNumber},g={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:a=>parseFloat(a),stringify(a){let b=Number(a.value);return isFinite(b)?b.toExponential():e.stringifyNumber(a)}};b.float={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(a){let b=new d.Scalar(parseFloat(a)),c=a.indexOf(".");return -1!==c&&"0"===a[a.length-1]&&(b.minFractionDigits=a.length-c-1),b},stringify:e.stringifyNumber},b.floatExp=g,b.floatNaN=f},85783:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GeminiEmbeddingConfigSchema:()=>p,SUPPORTED_MODELS:()=>t,TaskTypeSchema:()=>o,defineGoogleAIEmbedder:()=>u,geminiEmbedding001:()=>s,textEmbedding004:()=>r,textEmbeddingGecko001:()=>q}),a.exports=i(j);var k=c(50212),l=c(6250),m=c(8110),n=c(73396);let o=l.z.enum(["RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING"]),p=l.z.object({apiKey:l.z.string().optional(),taskType:o.optional(),title:l.z.string().optional(),version:l.z.string().optional(),outputDimensionality:l.z.number().min(1).max(768).optional()}),q=(0,m.embedderRef)({name:"googleai/embedding-001",configSchema:p,info:{dimensions:768,label:"Google Gen AI - Text Embedding Gecko (Legacy)",supports:{input:["text"]}}}),r=(0,m.embedderRef)({name:"googleai/text-embedding-004",configSchema:p,info:{dimensions:768,label:"Google Gen AI - Text Embedding 001",supports:{input:["text"]}}}),s=(0,m.embedderRef)({name:"googleai/gemini-embedding-001",configSchema:p,info:{dimensions:768,label:"Google Gen AI - Gemini Embedding 001",supports:{input:["text"]}}}),t={"embedding-001":q,"text-embedding-004":r,"gemini-embedding-001":s};function u(a,b,c){let d;if(!1!==c.apiKey&&!(d=c?.apiKey||(0,n.getApiKeyFromEnvVar)()))throw Error("Please pass in the API key or set either GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai");let e=t[b]??(0,m.embedderRef)({name:b,configSchema:p,info:{dimensions:768,label:`Google AI - ${b}`,supports:{input:["text","image","video"]}}}),f=e.name.startsWith("googleai/")?e.name.substring(9):e.name;return a.defineEmbedder({name:e.name,configSchema:p,info:e.info},async(a,b)=>{if(!1===c.apiKey&&!b?.apiKey)throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let g=new k.GoogleGenerativeAI(b?.apiKey||d).getGenerativeModel({model:b?.version||e.config?.version||e.version||f});return{embeddings:await Promise.all(a.map(async a=>({embedding:(await g.embedContent({taskType:b?.taskType,title:b?.title,content:{role:"",parts:[{text:a.text}]},outputDimensionality:b?.outputDimensionality})).embedding.values})))}})}},85786:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RoundRobinLoadBalancer=void 0,b.setup=r;let d=c(20606),e=c(80158),f=c(96269),g=c(38702),h=c(56458),i=c(41835),j=c(8557),k="round_robin";function l(a){g.trace(h.LogVerbosity.DEBUG,k,a)}let m="round_robin";class n{getLoadBalancerName(){return m}constructor(){}toJsonObject(){return{[m]:{}}}static createFromJson(a){return new n}}class o{constructor(a,b=0){this.children=a,this.nextIndex=b}pick(a){let b=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,b.pick(a)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}function p(a,b){return[...a.slice(b),...a.slice(0,b)]}class q{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,d.createChildChannelControlHelper)(a,{updateState:(a,b,c)=>{this.currentState===e.ConnectivityState.READY&&a!==e.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),c&&(this.lastError=c),this.calculateAndUpdateState()}})}countChildrenWithState(a){return this.children.filter(b=>b.getConnectivityState()===a).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(e.ConnectivityState.READY)>0){let a=this.children.filter(a=>a.getConnectivityState()===e.ConnectivityState.READY),b=0;if(null!==this.currentReadyPicker){let c=this.currentReadyPicker.peekNextEndpoint();(b=a.findIndex(a=>(0,i.endpointEqual)(a.getEndpoint(),c)))<0&&(b=0)}this.updateState(e.ConnectivityState.READY,new o(a.map(a=>({endpoint:a.getEndpoint(),picker:a.getPicker()})),b),null)}else if(this.countChildrenWithState(e.ConnectivityState.CONNECTING)>0)this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this),null);else if(this.countChildrenWithState(e.ConnectivityState.TRANSIENT_FAILURE)>0){let a=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this),null);for(let a of this.children)a.getConnectivityState()===e.ConnectivityState.IDLE&&a.exitIdle()}}updateState(a,b,c){l(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),a===e.ConnectivityState.READY?this.currentReadyPicker=b:this.currentReadyPicker=null,this.currentState=a,this.channelControlHelper.updateState(a,b,c)}resetSubchannelList(){for(let a of this.children)a.destroy();this.children=[]}updateAddressList(a,b,c,d){if(!(b instanceof n))return!1;if(!a.ok)return 0===this.children.length&&this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker(a.error),a.error.details),!0;let g=Math.random()*a.value.length|0,h=p(a.value,g);if(this.resetSubchannelList(),0===h.length){let a=`No addresses resolved. Resolution note: ${d}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}for(let a of(l("Connect to endpoint list "+h.map(i.endpointToString)),this.updatesPaused=!0,this.children=h.map(a=>new j.LeafLoadBalancer(a,this.childChannelControlHelper,c,d)),this.children))a.startConnecting();return this.updatesPaused=!1,this.calculateAndUpdateState(),!0}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return m}}function r(){(0,d.registerLoadBalancerType)(m,q,n)}b.RoundRobinLoadBalancer=q},85840:(a,b,c)=>{"use strict";c.d(b,{Ac:()=>w,Dq:()=>o});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(){function a(){}return a.prototype.createGauge=function(a,b){return q},a.prototype.createHistogram=function(a,b){return r},a.prototype.createCounter=function(a,b){return p},a.prototype.createUpDownCounter=function(a,b){return s},a.prototype.createObservableGauge=function(a,b){return u},a.prototype.createObservableCounter=function(a,b){return t},a.prototype.createObservableUpDownCounter=function(a,b){return v},a.prototype.addBatchObservableCallback=function(a,b){},a.prototype.removeBatchObservableCallback=function(a){},a}(),f=function(){return function(){}}(),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.add=function(a,b){},b}(f),h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.add=function(a,b){},b}(f),i=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.record=function(a,b){},b}(f),j=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.record=function(a,b){},b}(f),k=function(){function a(){}return a.prototype.addCallback=function(a){},a.prototype.removeCallback=function(a){},a}(),l=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b}(k),m=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b}(k),n=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b}(k),o=new e,p=new g,q=new i,r=new j,s=new h,t=new l,u=new m,v=new n;function w(){return o}},85981:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(77750),i=c(85724),j=c(51905),k=c(27263),l=c(30430),m=c(3642),n=c(97167),o=c(470),p=c(28832),q=c(66164),r=c(2495),s=c(69023);let t=new Map([["core",k.schema],["failsafe",[d.map,f.seq,g.string]],["json",l.schema],["yaml11",q.schema],["yaml-1.1",q.schema]]),u={binary:m.binary,bool:h.boolTag,float:i.float,floatExp:i.floatExp,floatNaN:i.floatNaN,floatTime:s.floatTime,int:j.int,intHex:j.intHex,intOct:j.intOct,intTime:s.intTime,map:d.map,merge:n.merge,null:e.nullTag,omap:o.omap,pairs:p.pairs,seq:f.seq,set:r.set,timestamp:s.timestamp};function v(a,b,c){let d=t.get(b);if(d&&!a)return c&&!d.includes(n.merge)?d.concat(n.merge):d.slice();let e=d;if(!e)if(Array.isArray(a))e=[];else{let a=Array.from(t.keys()).filter(a=>"yaml11"!==a).map(a=>JSON.stringify(a)).join(", ");throw Error(`Unknown schema "${b}"; use one of ${a} or define customTags array`)}if(Array.isArray(a))for(let b of a)e=e.concat(b);else"function"==typeof a&&(e=a(e.slice()));return c&&(e=e.concat(n.merge)),e.reduce((a,b)=>{let c="string"==typeof b?u[b]:b;if(!c){let a=JSON.stringify(b),c=Object.keys(u).map(a=>JSON.stringify(a)).join(", ");throw Error(`Unknown custom tag ${a}; use one of ${c}`)}return a.includes(c)||a.push(c),a},[])}b.coreKnownTags={"tag:yaml.org,2002:binary":m.binary,"tag:yaml.org,2002:merge":n.merge,"tag:yaml.org,2002:omap":o.omap,"tag:yaml.org,2002:pairs":p.pairs,"tag:yaml.org,2002:set":r.set,"tag:yaml.org,2002:timestamp":s.timestamp},b.getTags=v},86038:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c,e,f)=>{"string"==typeof c&&(f=e,e=c,c=void 0);try{return new d(a instanceof d?a.version:a,c).inc(b,e,f).version}catch(a){return null}}},86210:(a,b,c)=>{"use strict";a.exports=e;var d=c(16813);function e(a,b){this.lo=a>>>0,this.hi=b>>>0}var f=e.zero=new e(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var g=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(0===a)return f;var b=a<0;b&&(a=-a);var c=a>>>0,d=(a-c)/0x100000000>>>0;return b&&(d=~d>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++d>0xffffffff&&(d=0))),new e(c,d)},e.from=function(a){if("number"==typeof a)return e.fromNumber(a);if(d.isString(a))if(!d.Long)return e.fromNumber(parseInt(a,10));else a=d.Long.fromString(a);return a.low||a.high?new e(a.low>>>0,a.high>>>0):f},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},e.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var h=String.prototype.charCodeAt;e.fromHash=function(a){return a===g?f:new e((h.call(a,0)|h.call(a,1)<<8|h.call(a,2)<<16|h.call(a,3)<<24)>>>0,(h.call(a,4)|h.call(a,5)<<8|h.call(a,6)<<16|h.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}},86224:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(58704),e=function(){function a(){}return a.prototype.context=function(){return this._context()},a.prototype.tracer=function(){return this._tracer()},a.prototype.setOperationName=function(a){return this._setOperationName(a),this},a.prototype.setBaggageItem=function(a,b){return this._setBaggageItem(a,b),this},a.prototype.getBaggageItem=function(a){return this._getBaggageItem(a)},a.prototype.setTag=function(a,b){var c;return this._addTags(((c={})[a]=b,c)),this},a.prototype.addTags=function(a){return this._addTags(a),this},a.prototype.log=function(a,b){return this._log(a,b),this},a.prototype.logEvent=function(a,b){return this._log({event:a,payload:b})},a.prototype.finish=function(a){this._finish(a)},a.prototype._context=function(){return d.spanContext},a.prototype._tracer=function(){return d.tracer},a.prototype._setOperationName=function(a){},a.prototype._setBaggageItem=function(a,b){},a.prototype._getBaggageItem=function(a){},a.prototype._addTags=function(a){},a.prototype._log=function(a,b){},a.prototype._finish=function(a){},a}();b.Span=e,b.default=e},86272:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496);b.default=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===b||null==b)return e(this);if(d.isArray(b))if(b.length>0)return c.ids&&(c.ids=[c.name]),a.helpers.each(b,c);else return e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b.default},86331:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{atLeastOneTask:function(){return e},scheduleImmediate:function(){return d},scheduleOnNextTick:function(){return c},waitAtLeastOneReactRenderTask:function(){return f}});let c=a=>{Promise.resolve().then(()=>{process.nextTick(a)})},d=a=>{setImmediate(a)};function e(){return new Promise(a=>d(a))}function f(){return new Promise(a=>setImmediate(a))}},86375:(a,b,c)=>{"use strict";a.exports=i;var d=c(67958),e=c(305);function f(a,b){return a.name+": "+b+(a.repeated&&"array"!==b?"[]":a.map&&"object"!==b?"{k:"+a.keyType+"}":"")+" expected"}function g(a,b,c,e){if(b.resolvedType)if(b.resolvedType instanceof d){a("switch(%s){",e)("default:")("return%j",f(b,"enum value"));for(var g=Object.keys(b.resolvedType.values),h=0;h<g.length;++h)a("case %i:",b.resolvedType.values[g[h]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",c,e)("if(e)")("return%j+e",b.name+".")("}");else switch(b.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",e)("return%j",f(b,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",e,e,e,e)("return%j",f(b,"integer|Long"));break;case"float":case"double":a('if(typeof %s!=="number")',e)("return%j",f(b,"number"));break;case"bool":a('if(typeof %s!=="boolean")',e)("return%j",f(b,"boolean"));break;case"string":a("if(!util.isString(%s))",e)("return%j",f(b,"string"));break;case"bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',e,e,e)("return%j",f(b,"buffer"))}return a}function h(a,b,c){switch(b.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.key32Re.test(%s))",c)("return%j",f(b,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.key64Re.test(%s))",c)("return%j",f(b,"integer|Long key"));break;case"bool":a("if(!util.key2Re.test(%s))",c)("return%j",f(b,"boolean key"))}return a}function i(a){var b=e.codegen(["m"],a.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),c=a.oneofsArray,d={};c.length&&b("var p={}");for(var i=0;i<a.fieldsArray.length;++i){var j=a._fieldsArray[i].resolve(),k="m"+e.safeProp(j.name);if(j.optional&&b("if(%s!=null&&m.hasOwnProperty(%j)){",k,j.name),j.map)b("if(!util.isObject(%s))",k)("return%j",f(j,"object"))("var k=Object.keys(%s)",k)("for(var i=0;i<k.length;++i){"),h(b,j,"k[i]"),g(b,j,i,k+"[k[i]]")("}");else if(j.repeated)b("if(!Array.isArray(%s))",k)("return%j",f(j,"array"))("for(var i=0;i<%s.length;++i){",k),g(b,j,i,k+"[i]")("}");else{if(j.partOf){var l=e.safeProp(j.partOf.name);1===d[j.partOf.name]&&b("if(p%s===1)",l)("return%j",j.partOf.name+": multiple values"),d[j.partOf.name]=1,b("p%s=1",l)}g(b,j,i,k)}j.optional&&b("}")}return b("return null")}},86459:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.Allow=b.MalformedJSON=b.PartialJSON=b.parseJSON=b.parse=void 0;let f=c(17293);Object.defineProperty(b,"Allow",{enumerable:!0,get:function(){return f.Allow}}),e(c(17293),b);class g extends Error{}b.PartialJSON=g;class h extends Error{}function i(a,b=f.Allow.ALL){if("string"!=typeof a)throw TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw Error(`${a} is empty`);return j(a.trim(),b)}b.MalformedJSON=h,b.parseJSON=i;let j=(a,b)=>{let c=a.length,d=0,e=a=>{throw new g(`${a} at position ${d}`)},i=a=>{throw new h(`${a} at position ${d}`)},j=()=>(o(),d>=c&&e("Unexpected end of input"),'"'===a[d])?k():"{"===a[d]?l():"["===a[d]?m():"null"===a.substring(d,d+4)||f.Allow.NULL&b&&c-d<4&&"null".startsWith(a.substring(d))?(d+=4,null):"true"===a.substring(d,d+4)||f.Allow.BOOL&b&&c-d<4&&"true".startsWith(a.substring(d))?(d+=4,!0):"false"===a.substring(d,d+5)||f.Allow.BOOL&b&&c-d<5&&"false".startsWith(a.substring(d))?(d+=5,!1):"Infinity"===a.substring(d,d+8)||f.Allow.INFINITY&b&&c-d<8&&"Infinity".startsWith(a.substring(d))?(d+=8,1/0):"-Infinity"===a.substring(d,d+9)||f.Allow._INFINITY&b&&1<c-d&&c-d<9&&"-Infinity".startsWith(a.substring(d))?(d+=9,-1/0):"NaN"===a.substring(d,d+3)||f.Allow.NAN&b&&c-d<3&&"NaN".startsWith(a.substring(d))?(d+=3,NaN):n(),k=()=>{let g=d,h=!1;for(d++;d<c&&('"'!==a[d]||h&&"\\"===a[d-1]);)h="\\"===a[d]&&!h,d++;if('"'==a.charAt(d))try{return JSON.parse(a.substring(g,++d-Number(h)))}catch(a){i(String(a))}else if(f.Allow.STR&b)try{return JSON.parse(a.substring(g,d-Number(h))+'"')}catch(b){return JSON.parse(a.substring(g,a.lastIndexOf("\\"))+'"')}e("Unterminated string literal")},l=()=>{d++,o();let g={};try{for(;"}"!==a[d];){if(o(),d>=c&&f.Allow.OBJ&b)return g;let e=k();o(),d++;try{let a=j();g[e]=a}catch(a){if(f.Allow.OBJ&b)return g;throw a}o(),","===a[d]&&d++}}catch(a){if(f.Allow.OBJ&b)return g;e("Expected '}' at end of object")}return d++,g},m=()=>{d++;let c=[];try{for(;"]"!==a[d];)c.push(j()),o(),","===a[d]&&d++}catch(a){if(f.Allow.ARR&b)return c;e("Expected ']' at end of array")}return d++,c},n=()=>{if(0===d){"-"===a&&i("Not sure what '-' is");try{return JSON.parse(a)}catch(c){if(f.Allow.NUM&b)try{return JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch(a){}i(String(c))}}let g=d;for("-"===a[d]&&d++;a[d]&&-1===",]}".indexOf(a[d]);)d++;d!=c||f.Allow.NUM&b||e("Unterminated number literal");try{return JSON.parse(a.substring(g,d))}catch(b){"-"===a.substring(g,d)&&e("Not sure what '-' is");try{return JSON.parse(a.substring(g,a.lastIndexOf("e")))}catch(a){i(String(a))}}},o=()=>{for(;d<c&&" \n\r	".includes(a[d]);)d++};return j()};b.parse=i},86526:(a,b)=>{"use strict";var c=b;c.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};for(var d=Array(64),e=Array(123),f=0;f<64;)e[d[f]=f<26?f+65:f<52?f+71:f<62?f-4:f-59|43]=f++;c.encode=function(a,b,c){for(var e,f=null,g=[],h=0,i=0;b<c;){var j=a[b++];switch(i){case 0:g[h++]=d[j>>2],e=(3&j)<<4,i=1;break;case 1:g[h++]=d[e|j>>4],e=(15&j)<<2,i=2;break;case 2:g[h++]=d[e|j>>6],g[h++]=d[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return(i&&(g[h++]=d[e],g[h++]=61,1===i&&(g[h++]=61)),f)?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var g="invalid encoding";c.decode=function(a,b,c){for(var d,f=c,h=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&h>1)break;if(void 0===(j=e[j]))throw Error(g);switch(h){case 0:d=j,h=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,h=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,h=3;break;case 3:b[c++]=(3&d)<<6|j,h=0}}if(1===h)throw Error(g);return c-f},c.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}},86847:(a,b,c)=>{"use strict";var d;c.d(b,{s:()=>d}),function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(d||(d={}))},87099:(a,b,c)=>{"use strict";let{normalizeIPv6:d,removeDotSegments:e,recomposeAuthority:f,normalizeComponentEncoding:g,isIPv4:h,nonSimpleDomain:i}=c(64508),{SCHEMES:j,getSchemeHandler:k}=c(23919);function l(a,b,c,d){let f={};return d||(a=o(m(a,c),c),b=o(m(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(f.scheme=b.scheme,f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(b.path?("/"===b.path[0]?f.path=e(b.path):(void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?f.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:f.path=b.path:f.path="/"+b.path,f.path=e(f.path)),f.query=b.query):(f.path=a.path,void 0!==b.query?f.query=b.query:f.query=a.query),f.userinfo=a.userinfo,f.host=a.host,f.port=a.port),f.scheme=a.scheme),f.fragment=b.fragment,f}function m(a,b){let c={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},d=Object.assign({},b),g=[],h=k(d.scheme||c.scheme);h&&h.serialize&&h.serialize(c,d),void 0!==c.path&&(d.skipEscape?c.path=unescape(c.path):(c.path=escape(c.path),void 0!==c.scheme&&(c.path=c.path.split("%3A").join(":")))),"suffix"!==d.reference&&c.scheme&&g.push(c.scheme,":");let i=f(c);if(void 0!==i&&("suffix"!==d.reference&&g.push("//"),g.push(i),c.path&&"/"!==c.path[0]&&g.push("/")),void 0!==c.path){let a=c.path;d.absolutePath||h&&h.absolutePath||(a=e(a)),void 0===i&&"/"===a[0]&&"/"===a[1]&&(a="/%2F"+a.slice(2)),g.push(a)}return void 0!==c.query&&g.push("?",c.query),void 0!==c.fragment&&g.push("#",c.fragment),g.join("")}let n=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function o(a,b){let c=Object.assign({},b),e={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},f=!1;"suffix"===c.reference&&(a=c.scheme?c.scheme+":"+a:"//"+a);let g=a.match(n);if(g){if(e.scheme=g[1],e.userinfo=g[3],e.host=g[4],e.port=parseInt(g[5],10),e.path=g[6]||"",e.query=g[7],e.fragment=g[8],isNaN(e.port)&&(e.port=g[5]),e.host)if(!1===h(e.host)){let a=d(e.host);e.host=a.host.toLowerCase(),f=a.isIPV6}else f=!0;void 0!==e.scheme||void 0!==e.userinfo||void 0!==e.host||void 0!==e.port||void 0!==e.query||e.path?void 0===e.scheme?e.reference="relative":void 0===e.fragment?e.reference="absolute":e.reference="uri":e.reference="same-document",c.reference&&"suffix"!==c.reference&&c.reference!==e.reference&&(e.error=e.error||"URI is not a "+c.reference+" reference.");let b=k(c.scheme||e.scheme);if(!c.unicodeSupport&&(!b||!b.unicodeSupport)&&e.host&&(c.domainHost||b&&b.domainHost)&&!1===f&&i(e.host))try{e.host=URL.domainToASCII(e.host.toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to ASCII: "+a}(!b||b&&!b.skipNormalize)&&(-1!==a.indexOf("%")&&(void 0!==e.scheme&&(e.scheme=unescape(e.scheme)),void 0!==e.host&&(e.host=unescape(e.host))),e.path&&(e.path=escape(unescape(e.path))),e.fragment&&(e.fragment=encodeURI(decodeURIComponent(e.fragment)))),b&&b.parse&&b.parse(e,c)}else e.error=e.error||"URI can not be parsed.";return e}let p={SCHEMES:j,normalize:function(a,b){return"string"==typeof a?a=m(o(a,b),b):"object"==typeof a&&(a=o(m(a,b),b)),a},resolve:function(a,b,c){let d=c?Object.assign({scheme:"null"},c):{scheme:"null"},e=l(o(a,d),o(b,d),d,!0);return d.skipEscape=!0,m(e,d)},resolveComponent:l,equal:function(a,b,c){return"string"==typeof a?a=m(g(o(a=unescape(a),c),!0),{...c,skipEscape:!0}):"object"==typeof a&&(a=m(g(a,!0),{...c,skipEscape:!0})),"string"==typeof b?b=m(g(o(b=unescape(b),c),!0),{...c,skipEscape:!0}):"object"==typeof b&&(b=m(g(b,!0),{...c,skipEscape:!0})),a.toLowerCase()===b.toLowerCase()},serialize:m,parse:o};a.exports=p,a.exports.default=p,a.exports.fastUri=p},87101:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},g={message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`};b.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:g,code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},87130:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OrderedMap:()=>m});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function f(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(h){if(c)throw TypeError("Generator is already executing.");for(;f&&(f=0,h[0]&&(g=0)),g;)try{if(c=1,d&&(e=2&h[0]?d.return:h[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,h[1])).done)return e;switch(d=0,e&&(h=[2&h[0],e.value]),h[0]){case 0:case 1:e=h;break;case 4:return g.label++,{value:h[1],done:!1};case 5:g.label++,d=h[1],h=[0];continue;case 7:h=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===h[0]||2===h[0])){g=0;continue}if(3===h[0]&&(!e||h[1]>e[0]&&h[1]<e[3])){g.label=h[1];break}if(6===h[0]&&g.label<e[1]){g.label=e[1],e=h;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(h);break}e[2]&&g.ops.pop(),g.trys.pop();continue}h=b.call(a,g)}catch(a){h=[6,a],d=0}finally{c=e=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError;var g=function(){function a(a,b,c){void 0===c&&(c=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=a,this.o=b,this.l=c}return a.prototype.v=function(){var a=this,b=a.h.h===a;if(b&&1===a.l)a=a.i;else if(a.t)for(a=a.t;a.i;)a=a.i;else{if(b)return a.h;for(var c=a.h;c.t===a;)c=(a=c).h;a=c}return a},a.prototype.p=function(){var a=this;if(a.i){for(a=a.i;a.t;)a=a.t;return a}for(var b=a.h;b.i===a;)b=(a=b).h;return a.i!==b?b:a},a.prototype.T=function(){var a=this.h,b=this.i,c=b.t;return a.h===this?a.h=b:a.t===this?a.t=b:a.i=b,b.h=a,b.t=this,this.h=b,this.i=c,c&&(c.h=this),b},a.prototype.I=function(){var a=this.h,b=this.t,c=b.i;return a.h===this?a.h=b:a.t===this?a.t=b:a.i=b,b.h=a,b.i=this,this.h=b,this.t=c,c&&(c.h=this),b},a}(),h=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.O=1,b}return e(b,a),b.prototype.T=function(){var b=a.prototype.T.call(this);return this.M(),b.M(),b},b.prototype.I=function(){var b=a.prototype.I.call(this);return this.M(),b.M(),b},b.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},b}(g),i=function(){function a(a){void 0===a&&(a=0),this.iteratorType=a}return a.prototype.equals=function(a){return this.C===a.C},a}();function j(){throw RangeError("Iterator access denied!")}var k=function(a){function b(b,c){void 0===b&&(b=function(a,b){return a<b?-1:+(a>b)}),void 0===c&&(c=!1);var d=a.call(this)||this;return d.N=void 0,d.g=b,d.enableIndex=c,d.S=c?h:g,d.A=new d.S,d}return e(b,a),b.prototype.m=function(a,b){for(var c=this.A;a;){var d=this.g(a.u,b);if(d<0)a=a.i;else{if(!(d>0))return a;c=a,a=a.t}}return c},b.prototype.B=function(a,b){for(var c=this.A;a;)0>=this.g(a.u,b)?a=a.i:(c=a,a=a.t);return c},b.prototype.j=function(a,b){for(var c=this.A;a;){var d=this.g(a.u,b);if(d<0)c=a,a=a.i;else{if(!(d>0))return a;a=a.t}}return c},b.prototype.k=function(a,b){for(var c=this.A;a;)0>this.g(a.u,b)?(c=a,a=a.i):a=a.t;return c},b.prototype.R=function(a){for(;;){var b=a.h;if(b===this.A)return;if(1===a.l){a.l=0;return}if(a===b.t){var c=b.i;if(1===c.l)c.l=0,b.l=1,b===this.N?this.N=b.T():b.T();else if(c.i&&1===c.i.l){c.l=b.l,b.l=0,c.i.l=0,b===this.N?this.N=b.T():b.T();return}else c.t&&1===c.t.l?(c.l=1,c.t.l=0,c.I()):(c.l=1,a=b)}else{var c=b.t;if(1===c.l)c.l=0,b.l=1,b===this.N?this.N=b.I():b.I();else if(c.t&&1===c.t.l){c.l=b.l,b.l=0,c.t.l=0,b===this.N?this.N=b.I():b.I();return}else c.i&&1===c.i.l?(c.l=1,c.i.l=0,c.T()):(c.l=1,a=b)}}},b.prototype.G=function(a){if(1===this._)return void this.clear();for(var b=a;b.t||b.i;){if(b.i)for(b=b.i;b.t;)b=b.t;else b=b.t;var c=a.u;a.u=b.u,b.u=c;var d=a.o;a.o=b.o,b.o=d,a=b}this.A.t===b?this.A.t=b.h:this.A.i===b&&(this.A.i=b.h),this.R(b);var e=b.h;if(b===e.t?e.t=void 0:e.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;e!==this.A;)e.O-=1,e=e.h},b.prototype.P=function(a){for(var b="number"==typeof a?a:void 0,c="function"==typeof a?a:void 0,d=void 0===a?[]:void 0,e=0,f=this.N,g=[];g.length||f;)if(f)g.push(f),f=f.t;else{if(f=g.pop(),e===b)return f;d&&d.push(f),c&&c(f,e,this),e+=1,f=f.i}return d},b.prototype.q=function(a){for(;;){var b=a.h;if(0===b.l)return;var c=b.h;if(b===c.t){var d=c.i;if(d&&1===d.l){if(d.l=b.l=0,c===this.N)return;c.l=1,a=c;continue}if(a===b.i){if(a.l=0,a.t&&(a.t.h=b),a.i&&(a.i.h=c),b.i=a.t,c.t=a.i,a.t=b,a.i=c,c===this.N)this.N=a,this.A.h=a;else{var e=c.h;e.t===c?e.t=a:e.i=a}a.h=c.h,b.h=a,c.h=a,c.l=1}else{b.l=0,c===this.N?this.N=c.I():c.I(),c.l=1;return}}else{var d=c.t;if(d&&1===d.l){if(d.l=b.l=0,c===this.N)return;c.l=1,a=c;continue}if(a===b.t){if(a.l=0,a.t&&(a.t.h=c),a.i&&(a.i.h=b),c.i=a.t,b.t=a.i,a.t=c,a.i=b,c===this.N)this.N=a,this.A.h=a;else{var e=c.h;e.t===c?e.t=a:e.i=a}a.h=c.h,b.h=a,c.h=a,c.l=1}else{b.l=0,c===this.N?this.N=c.T():c.T(),c.l=1;return}}this.enableIndex&&(b.M(),c.M(),a.M());return}},b.prototype.D=function(a,b,c){if(void 0===this.N)return this._+=1,this.N=new this.S(a,b,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var d,e=this.A.t,f=this.g(e.u,a);if(0===f)return e.o=b,this._;if(f>0)e.t=new this.S(a,b),e.t.h=e,d=e.t,this.A.t=d;else{var g=this.A.i,h=this.g(g.u,a);if(0===h)return g.o=b,this._;if(h<0)g.i=new this.S(a,b),g.i.h=g,d=g.i,this.A.i=d;else{if(void 0!==c){var i=c.C;if(i!==this.A){var j=this.g(i.u,a);if(0===j)return i.o=b,this._;if(j>0){var k=i.v(),l=this.g(k.u,a);if(0===l)return k.o=b,this._;l<0&&(d=new this.S(a,b),void 0===k.i?(k.i=d,d.h=k):(i.t=d,d.h=i))}}}if(void 0===d)for(d=this.N;;){var m=this.g(d.u,a);if(m>0){if(void 0===d.t){d.t=new this.S(a,b),d.t.h=d,d=d.t;break}d=d.t}else{if(!(m<0))return d.o=b,this._;if(void 0===d.i){d.i=new this.S(a,b),d.i.h=d,d=d.i;break}d=d.i}}}}if(this.enableIndex)for(var n=d.h;n!==this.A;)n.O+=1,n=n.h;return this.q(d),this._+=1,this._},b.prototype.F=function(a,b){for(;a;){var c=this.g(a.u,b);if(c<0)a=a.i;else{if(!(c>0))return a;a=a.t}}return a||this.A},b.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},b.prototype.updateKeyByIterator=function(a,b){var c=a.C;if(c===this.A&&j(),1===this._)return c.u=b,!0;var d=c.p().u;if(c===this.A.t)return this.g(d,b)>0&&(c.u=b,!0);var e=c.v().u;return c===this.A.i?0>this.g(e,b)&&(c.u=b,!0):!(this.g(e,b)>=0||0>=this.g(d,b))&&(c.u=b,!0)},b.prototype.eraseElementByPos=function(a){if(a<0||a>this._-1)throw RangeError();var b=this.P(a);return this.G(b),this._},b.prototype.eraseElementByKey=function(a){if(0===this._)return!1;var b=this.F(this.N,a);return b!==this.A&&(this.G(b),!0)},b.prototype.eraseElementByIterator=function(a){var b=a.C;b===this.A&&j();var c=void 0===b.i;return 0===a.iteratorType?c&&a.next():c&&void 0!==b.t||a.next(),this.G(b),a},b.prototype.getHeight=function(){if(0===this._)return 0;function a(b){return b?Math.max(a(b.t),a(b.i))+1:0}return a(this.N)},b}(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b}(function(){function a(){this._=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),a.prototype.size=function(){return this._},a.prototype.empty=function(){return 0===this._},a}())),l=function(a){function b(b,c,d,e){var f=a.call(this,b,c,e)||this;return f.container=d,f}return e(b,a),Object.defineProperty(b.prototype,"pointer",{get:function(){this.C===this.A&&j();var a=this;return new Proxy([],{get:function(b,c){return"0"===c?a.C.u:"1"===c?a.C.o:(b[0]=a.C.u,b[1]=a.C.o,b[c])},set:function(b,c,d){if("1"!==c)throw TypeError("prop must be 1");return a.C.o=d,!0}})},enumerable:!1,configurable:!0}),b.prototype.copy=function(){return new b(this.C,this.A,this.container,this.iteratorType)},b}(function(a){function b(b,c,d){var e=a.call(this,d)||this;return e.C=b,e.A=c,0===e.iteratorType?(e.pre=function(){return this.C===this.A.t&&j(),this.C=this.C.v(),this},e.next=function(){return this.C===this.A&&j(),this.C=this.C.p(),this}):(e.pre=function(){return this.C===this.A.i&&j(),this.C=this.C.p(),this},e.next=function(){return this.C===this.A&&j(),this.C=this.C.v(),this}),e}return e(b,a),Object.defineProperty(b.prototype,"index",{get:function(){var a=this.C,b=this.A.h;if(a===this.A)return b?b.O-1:0;var c=0;for(a.t&&(c+=a.t.O);a!==b;){var d=a.h;a===d.i&&(c+=1,d.t&&(c+=d.t.O)),a=d}return c},enumerable:!1,configurable:!0}),b.prototype.isAccessible=function(){return this.C!==this.A},b}(i)),m=function(a){function b(b,c,d){void 0===b&&(b=[]);var e=a.call(this,c,d)||this,f=e;return b.forEach(function(a){f.setElement(a[0],a[1])}),e}return e(b,a),b.prototype.begin=function(){return new l(this.A.t||this.A,this.A,this)},b.prototype.end=function(){return new l(this.A,this.A,this)},b.prototype.rBegin=function(){return new l(this.A.i||this.A,this.A,this,1)},b.prototype.rEnd=function(){return new l(this.A,this.A,this,1)},b.prototype.front=function(){if(0!==this._){var a=this.A.t;return[a.u,a.o]}},b.prototype.back=function(){if(0!==this._){var a=this.A.i;return[a.u,a.o]}},b.prototype.lowerBound=function(a){return new l(this.m(this.N,a),this.A,this)},b.prototype.upperBound=function(a){return new l(this.B(this.N,a),this.A,this)},b.prototype.reverseLowerBound=function(a){return new l(this.j(this.N,a),this.A,this)},b.prototype.reverseUpperBound=function(a){return new l(this.k(this.N,a),this.A,this)},b.prototype.forEach=function(a){this.P(function(b,c,d){a([b.u,b.o],c,d)})},b.prototype.setElement=function(a,b,c){return this.D(a,b,c)},b.prototype.getElementByPos=function(a){if(a<0||a>this._-1)throw RangeError();var b=this.P(a);return[b.u,b.o]},b.prototype.find=function(a){return new l(this.F(this.N,a),this.A,this)},b.prototype.getElementByKey=function(a){return this.F(this.N,a).o},b.prototype.union=function(a){var b=this;return a.forEach(function(a){b.setElement(a[0],a[1])}),this._},b.prototype[Symbol.iterator]=function(){var a,b,c,d;return f(this,function(e){switch(e.label){case 0:a=this._,b=this.P(),c=0,e.label=1;case 1:if(!(c<a))return[3,4];return[4,[(d=b[c]).u,d.o]];case 2:e.sent(),e.label=3;case 3:return++c,[3,1];case 4:return[2]}})},b}(k)},87734:(a,b,c)=>{"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();m(c(29021));var e=m(c(81630)),f=m(c(55591));m(c(33873));var g=l(c(79551)),h=c(77848),i=m(c(97866)),j=m(c(30178)),k=m(c(80579));function l(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function m(a){return a&&a.__esModule?a:{default:a}}function n(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var o=5e3,p=100;b.default=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,a),this._url=g.parse(b.endpoint),this._username=b.username,this._password=b.password,this._timeoutMs=b.timeoutMs||b.timeoutMS||o,this._httpAgent="https:"===this._url.protocol?new f.default.Agent({keepAlive:!0}):new e.default.Agent({keepAlive:!0}),this._maxSpanBatchSize=b.maxSpanBatchSize||p,this._logger=b.logger||new i.default,this._jaegerThrift=new h.Thrift({source:k.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._httpOptions={protocol:this._url.protocol,hostname:this._url.hostname,port:this._url.port,path:this._url.pathname,method:"POST",auth:this._username&&this._password?this._username+":"+this._password:void 0,headers:{"Content-Type":"application/x-thrift",Connection:"keep-alive"},agent:this._httpAgent,timeout:this._timeoutMs}}return d(a,[{key:"setProcess",value:function(a){this._batch=new this._jaegerThrift.Batch({process:j.default.convertProcessToThrift(this._jaegerThrift,a),spans:[]})}},{key:"append",value:function(a,b){if(this._batch.spans.push(new this._jaegerThrift.Span(a)),this._batch.spans.length>=this._maxSpanBatchSize)return void this.flush(b);j.default.invokeCallback(b,0)}},{key:"flush",value:function(a){var b=this,c=this._batch.spans.length;if(!c)return void j.default.invokeCallback(a,0);var d=this._jaegerThrift.Batch.rw.toBuffer(this._batch);if(this._reset(),d.err)return void j.default.invokeCallback(a,c,"Error encoding Thrift batch: "+d.err);var g=("https:"===this._url.protocol?f.default.request:e.default.request)(this._httpOptions,function(d){d.resume();var e=void 0;d.statusCode>=400&&(e="error sending spans over HTTP: server responded with HTTP "+d.statusCode,b._logger.error(e)),j.default.invokeCallback(a,c,e)});g.on("error",function(d){var e="error sending spans over HTTP: "+d;b._logger.error(e),j.default.invokeCallback(a,c,e)}),g.write(d.value),g.end()}},{key:"_reset",value:function(){this._batch.spans=[]}},{key:"close",value:function(){this._httpAgent.destroy&&this._httpAgent.destroy()}}]),a}()},87928:(a,b,c)=>{"use strict";var d=c(14755),e=c(42218),f=c(89344);function g(a,b,c){let e=c;for(let a=b.length-1;a>=0;--a){let c=b[a];if("number"==typeof c&&Number.isInteger(c)&&c>=0){let a=[];a[c]=e,e=a}else e=new Map([[c,e]])}return d.createNode(e,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:a,sourceObjects:new Map})}let h=a=>null==a||"object"==typeof a&&!!a[Symbol.iterator]().next().done;class i extends f.NodeBase{constructor(a,b){super(a),Object.defineProperty(this,"schema",{value:b,configurable:!0,enumerable:!1,writable:!0})}clone(a){let b=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return a&&(b.schema=a),b.items=b.items.map(b=>e.isNode(b)||e.isPair(b)?b.clone(a):b),this.range&&(b.range=this.range.slice()),b}addIn(a,b){if(h(a))this.add(b);else{let[c,...d]=a,f=this.get(c,!0);if(e.isCollection(f))f.addIn(d,b);else if(void 0===f&&this.schema)this.set(c,g(this.schema,d,b));else throw Error(`Expected YAML collection at ${c}. Remaining path: ${d}`)}}deleteIn(a){let[b,...c]=a;if(0===c.length)return this.delete(b);let d=this.get(b,!0);if(e.isCollection(d))return d.deleteIn(c);throw Error(`Expected YAML collection at ${b}. Remaining path: ${c}`)}getIn(a,b){let[c,...d]=a,f=this.get(c,!0);return 0===d.length?!b&&e.isScalar(f)?f.value:f:e.isCollection(f)?f.getIn(d,b):void 0}hasAllNullValues(a){return this.items.every(b=>{if(!e.isPair(b))return!1;let c=b.value;return null==c||a&&e.isScalar(c)&&null==c.value&&!c.commentBefore&&!c.comment&&!c.tag})}hasIn(a){let[b,...c]=a;if(0===c.length)return this.has(b);let d=this.get(b,!0);return!!e.isCollection(d)&&d.hasIn(c)}setIn(a,b){let[c,...d]=a;if(0===d.length)this.set(c,b);else{let a=this.get(c,!0);if(e.isCollection(a))a.setIn(d,b);else if(void 0===a&&this.schema)this.set(c,g(this.schema,d,b));else throw Error(`Expected YAML collection at ${c}. Remaining path: ${d}`)}}}b.Collection=i,b.collectionFromPath=g,b.isEmptyPath=h},87938:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l=a=>j(e({},"__esModule",{value:!0}),a),m={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(m,{StatusCodes:()=>o,StatusNameSchema:()=>p,StatusSchema:()=>t,httpStatusCode:()=>r}),a.exports=l(m);var n=k(c(62934)),o=(a=>(a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a))(o||{});let p=n.enum(["OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS"]),q={OK:200,CANCELLED:499,UNKNOWN:500,INVALID_ARGUMENT:400,DEADLINE_EXCEEDED:504,NOT_FOUND:404,ALREADY_EXISTS:409,PERMISSION_DENIED:403,UNAUTHENTICATED:401,RESOURCE_EXHAUSTED:429,FAILED_PRECONDITION:400,ABORTED:409,OUT_OF_RANGE:400,UNIMPLEMENTED:501,INTERNAL:500,UNAVAILABLE:503,DATA_LOSS:500};function r(a){if(!(a in q))throw Error(`Invalid status code ${a}`);return q[a]}let s=n.nativeEnum(o),t=n.object({code:s,message:n.string(),details:n.any().optional()})},87965:(a,b,c)=>{"use strict";var d,e=c(82740),f=c(8193),g=c(32437),h=c(82762).TMapRW.prototype.headerRW,i=c(17456).TListRW.prototype.headerRW,j=Object.create(null);j[e.VOID]=0,j[e.BOOL]=1,j[e.BYTE]=1,j[e.I8]=1,j[e.DOUBLE]=8,j[e.I16]=2,j[e.I32]=4,j[e.I64]=8;var k=Object.create(null);function l(a,b,c,d){var e;if(void 0!==k[d]){if((e=k[d](a,b,c)).err)return e;c=e.offset}else{if(void 0===j[d])return a.reset(g.InvalidTypeidError({typeid:d,what:"field::type"}),c);var h=j[d];if(c+h>b.length)return a.reset(f.ShortBuffer({expected:c+h,actual:b.length,buffer:b,offset:c}),c);c+=h}return a.reset(null,c)}function m(a,b,c){for(var d;;){if(c+1>b.length)return a.reset(f.ShortBuffer({expected:c+1,actual:b.length,buffer:b,offset:c}),c);var g=b.readInt8(c,!0);if(c+=1,g===e.STOP)return a.reset(null,c);if(c+2>b.length)return a.reset(f.ShortBuffer({expected:c+2,actual:b.length,buffer:b,offset:c}),c);if(c+=2,(d=l(a,b,c,g)).err)return d;c=d.offset}}function n(a,b,c){if(c+4>b.length)return a.reset(f.ShortBuffer({expected:c+4,actual:b.length,buffer:b,offset:c}),c);var d=b.readInt32BE(c,!0);return(c+=4)+d>b.length?a.reset(f.ShortBuffer({expected:c+d,actual:b.length,buffer:b,offset:c}),c):(c+=d,a.reset(null,c))}function o(a,b,c){if((d=h.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var d,e=d.value,f=e[0],g=e[1],i=e[2],j=0;j<i;j++){if((d=l(a,b,c,f)).err||(d=l(a,b,c=d.offset,g)).err)return d;c=d.offset}return a.reset(null,c)}function p(a,b,c){if((d=i.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var d,e=d.value,f=e[0],g=e[1],h=0;h<g;h++){if((d=l(a,b,c,f)).err)return d;c=d.offset}return a.reset(null,c)}k[e.STRUCT]=m,k[e.STRING]=n,k[e.MAP]=o,k[e.SET]=p,k[e.LIST]=p,d=function(a,b,c){if(c+1>b.length)return a.reset(f.ShortBuffer({expected:c+1,actual:b.length,buffer:b,offset:c}),c);var d=b.readInt8(c,!0);return l(a,b,c+=1,d)},a.exports.s=l},88018:(a,b,c)=>{"use strict";c.d(b,{u:()=>j});var d=c(60233),e=c(89768),f=c(58746),g=c(19646),h=c(91178),i="trace",j=(function(){function a(){this._proxyTracerProvider=new e.n,this.wrapSpanContext=f.IP,this.isSpanContextValid=f.YA,this.deleteSpan=g.EW,this.getSpan=g.fU,this.getActiveSpan=g.Bk,this.getSpanContext=g.w8,this.setSpan=g.Bx,this.setSpanContext=g.g_}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(a){var b=(0,d.$G)(i,this._proxyTracerProvider,h.K.instance());return b&&this._proxyTracerProvider.setDelegate(a),b},a.prototype.getTracerProvider=function(){return(0,d.mS)(i)||this._proxyTracerProvider},a.prototype.getTracer=function(a,b){return this.getTracerProvider().getTracer(a,b)},a.prototype.disable=function(){(0,d.kv)(i,h.K.instance()),this._proxyTracerProvider=new e.n},a})().getInstance()},88180:(a,b,c)=>{"use strict";var d=c(28354),e=c(12412),f=c(88900).ThriftList,g=c(82740);function h(a,b){f.call(this,a,b),this.mode=b&&b["js.type"]||"array",this.form=null,this.surface=null,"object"===this.mode?("string"===a.name?this.rw.form=this.objectStringForm:"byte"===a.name||"i16"===a.name||"i32"===a.name?this.rw.form=this.objectNumberForm:e.fail("sets with js.type of 'object' must have a value type of 'string', 'byte', 'i16', or 'i32'"),this.surface=Object):"array"===this.mode?(this.rw.form=this.arrayForm,this.surface=Array):e.fail("set must have js.type of object or array (default)"),this.annotations=b}d.inherits(h,f),h.prototype.name="set",h.prototype.typeid=g.SET,h.prototype.altTypeid=g.LIST,h.prototype.models="type",h.prototype.arrayForm={create:function(){return[]},add:function(a,b){a.push(b)},toArray:function(a){return e(Array.isArray(a),"set must be expressed as an array"),a}},h.prototype.objectNumberForm={create:function(){return{}},add:function(a,b){a[b]=!0},toArray:function(a){e(a&&"object"==typeof a,"set must be expressed as an object");for(var b=Object.keys(a),c=[],d=0;d<b.length;d++)a[b[d]]&&c.push(+b[d]);return c}},h.prototype.objectStringForm={create:function(){return{}},add:function(a,b){a[b]=!0},toArray:function(a){e(a&&"object"==typeof a,"set must be expressed as an object");for(var b=Object.keys(a),c=[],d=0;d<b.length;d++)a[b[d]]&&c.push(b[d]);return c}},a.exports.ThriftSet=h},88182:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(48146);b.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},88404:(a,b,c)=>{"use strict";c.d(b,{U:()=>e,q:()=>d});var d={get:function(a,b){if(null!=a)return a[b]},keys:function(a){return null==a?[]:Object.keys(a)}},e={set:function(a,b,c){null!=a&&(a[b]=c)}}},88512:(a,b)=>{"use strict";function c(a,b,d,e){if(e&&"object"==typeof e)if(Array.isArray(e))for(let b=0,d=e.length;b<d;++b){let d=e[b],f=c(a,e,String(b),d);void 0===f?delete e[b]:f!==d&&(e[b]=f)}else if(e instanceof Map)for(let b of Array.from(e.keys())){let d=e.get(b),f=c(a,e,b,d);void 0===f?e.delete(b):f!==d&&e.set(b,f)}else if(e instanceof Set)for(let b of Array.from(e)){let d=c(a,e,b,b);void 0===d?e.delete(b):d!==b&&(e.delete(b),e.add(d))}else for(let[b,d]of Object.entries(e)){let f=c(a,e,b,d);void 0===f?delete e[b]:f!==d&&(e[b]=f)}return a.call(b,d,e)}b.applyReviver=c},88596:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[c(36757).default]},88900:(a,b,c)=>{"use strict";var d=c(89220),e=c(12412),f=c(82740),g=c(32437),h=c(28354);function i(a,b){this.valueType=a,this.rw=new j(a,this),this.annotations=b}function j(a,b){this.valueType=a,this.model=b,d.Base.call(this)}i.prototype.name="list",i.prototype.typeid=f.LIST,i.prototype.surface=Array,i.prototype.models="type",h.inherits(j,d.Base),j.prototype.headerRW=d.Series([d.Int8,d.Int32BE]),j.prototype.form={create:function(){return[]},add:function(a,b){a.push(b)},toArray:function(a){return e(Array.isArray(a),"list must be expressed as an array"),a}},j.prototype.poolByteLength=function(a,b){var c,d=this.valueType;b=this.form.toArray(b);for(var e=5,f=0;f<b.length;f++){if((c=d.rw.poolByteLength(a,b[f])).err)return c;e+=c.length}return a.reset(null,e)},j.prototype.poolWriteInto=function(a,b,c,d){var e=this.valueType;b=this.form.toArray(b);var f=this.headerRW.poolWriteInto(a,[e.typeid,b.length],c,d);if(f.err)return f;d=f.offset;for(var g=0;g<b.length;g++){if((f=e.rw.poolWriteInto(a,b[g],c,d)).err)return f;d=f.offset}return a.reset(null,d)},j.prototype.poolReadFrom=function(a,b,c){var d=this.valueType,e=this.headerRW.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var f=e.value[0],h=e.value[1];if(f!==d.typeid)return a.reset(g.TypeIdMismatch({encoded:f,expectedId:d.typeid,expected:d.name,what:this.model.name}),c,null);if(h<0)return a.reset(g.InvalidSizeError({size:h,what:this.model.name}),c,null);for(var i=this.form.create(),j=0;j<h;j++){if((e=d.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset,this.form.add(i,e.value)}return a.reset(null,c,i)},a.exports.ListRW=j,a.exports.ThriftList=i},89092:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChildLoadBalancerHandler=void 0;let d=c(20606),e=c(80158),f="child_load_balancer_helper";class g{constructor(a){this.channelControlHelper=a,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,b){return this.parent.channelControlHelper.createSubchannel(a,b)}updateState(a,b,c){var d;if(this.calledByPendingChild()){if(a===e.ConnectivityState.CONNECTING)return;null==(d=this.parent.currentChild)||d.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,b,c)}requestReresolution(){var a;let b=null!=(a=this.parent.pendingChild)?a:this.parent.currentChild;this.child===b&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(a,b){return a.getLoadBalancerName()!==b.getLoadBalancerName()}updateAddressList(a,b,c,e){let f;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,b)){let a=new this.ChildPolicyHelper(this),c=(0,d.createLoadBalancer)(b,a);a.setChild(c),null===this.currentChild?(this.currentChild=c,f=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=c,f=this.pendingChild)}else f=null===this.pendingChild?this.currentChild:this.pendingChild;return this.latestConfig=b,f.updateAddressList(a,b,c,e)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return f}}b.ChildLoadBalancerHandler=g},89162:(a,b,c)=>{"use strict";c.d(b,{$q:()=>r,Ir:()=>m,J9:()=>h,Q5:()=>k,QG:()=>l,Rr:()=>j,Tj:()=>i,rH:()=>o,u3:()=>n,u6:()=>s,xl:()=>q});var d=c(79361),e=c(66336),f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},g=1e4,h=5,i=1e3,j=5e3,k=1.5;function l(a){void 0===a&&(a={});var b={};return Object.entries(a).forEach(function(a){var c=f(a,2),e=c[0],g=c[1];void 0!==g?b[e]=String(g):d.s.warn('Header "'+e+'" has invalid value ('+g+") and will be ignored")}),b}function m(a,b){return a.endsWith("/")||(a+="/"),a+b}function n(a){try{var b=new URL(a);return""===b.pathname&&(b.pathname=b.pathname+"/"),b.toString()}catch(b){return d.s.warn("Could not parse export URL: '"+a+"'"),a}}function o(a){return"number"!=typeof a?p():a<=0?q(a,g):a}function p(){var a,b=Number(null!=(a=(0,e._)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)?a:(0,e._)().OTEL_EXPORTER_OTLP_TIMEOUT);return b<=0?q(b,g):b}function q(a,b){return d.s.warn("Timeout must be greater than 0",a),b}function r(a){return[429,502,503,504].includes(a)}function s(a){if(null==a)return -1;var b=Number.parseInt(a,10);if(Number.isInteger(b))return b>0?1e3*b:-1;var c=new Date(a).getTime()-Date.now();return c>=0?c:0}},89220:(a,b,c)=>{a.exports.fromBuffer=c(65653).fromBuffer,a.exports.byteLength=c(65653).byteLength,a.exports.toBuffer=c(65653).toBuffer,a.exports.intoBuffer=c(65653).intoBuffer,a.exports.fromBufferTuple=c(65653).fromBufferTuple,a.exports.byteLengthTuple=c(65653).byteLengthTuple,a.exports.toBufferTuple=c(65653).toBufferTuple,a.exports.intoBufferTuple=c(65653).intoBufferTuple,a.exports.fromBufferResult=c(65653).fromBufferResult,a.exports.byteLengthResult=c(65653).byteLengthResult,a.exports.toBufferResult=c(65653).toBufferResult,a.exports.intoBufferResult=c(65653).intoBufferResult,a.exports.formatError=c(65653).formatError,a.exports.Base=c(37451).BufferRW,a.exports.LengthResult=c(37451).LengthResult,a.exports.WriteResult=c(37451).WriteResult,a.exports.ReadResult=c(37451).ReadResult;var d=c(68530);a.exports.AtomRW=d.AtomRW,a.exports.Int8=d.Int8,a.exports.Int16BE=d.Int16BE,a.exports.Int32BE=d.Int32BE,a.exports.Int16LE=d.Int16LE,a.exports.Int32LE=d.Int32LE,a.exports.UInt8=d.UInt8,a.exports.UInt16BE=d.UInt16BE,a.exports.UInt32BE=d.UInt32BE,a.exports.UInt16LE=d.UInt16LE,a.exports.UInt32LE=d.UInt32LE,a.exports.FloatLE=d.FloatLE,a.exports.FloatBE=d.FloatBE,a.exports.DoubleLE=d.DoubleLE,a.exports.DoubleBE=d.DoubleBE,a.exports.Null=c(80339),a.exports.FixedWidth=c(10499);var e=c(69121),f=e(d.UInt8),g=e(d.UInt16BE);a.exports.buf1=f,a.exports.buf2=g,a.exports.VariableBuffer=e;var h=c(91403),i=c(58470),j=h(d.UInt8,"utf8"),k=h(d.UInt16BE,"utf8"),l=h(i.unsigned,"utf8");a.exports.str1=j,a.exports.str2=k,a.exports.strn=l,a.exports.String=h,a.exports.varint=i,a.exports.Series=c(89955),a.exports.Struct=c(72447),a.exports.Switch=c(65076),a.exports.Repeat=c(95793),a.exports.Skip=c(45545)},89309:(a,b,c)=>{"use strict";c.d(b,{o:()=>e});var d=c(79361);function e(){return function(a){d.s.error(f(a))}}function f(a){return"string"==typeof a?a:JSON.stringify(g(a))}function g(a){for(var b={},c=a;null!==c;)Object.getOwnPropertyNames(c).forEach(function(a){if(!b[a]){var d=c[a];d&&(b[a]=String(d))}}),c=Object.getPrototypeOf(c);return b}},89344:(a,b,c)=>{"use strict";var d=c(88512),e=c(42218),f=c(89390);class g{constructor(a){Object.defineProperty(this,e.NODE_TYPE,{value:a})}clone(){let a=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(a.range=this.range.slice()),a}toJS(a,{mapAsMap:b,maxAliasCount:c,onAnchor:g,reviver:h}={}){if(!e.isDocument(a))throw TypeError("A document argument is required");let i={anchors:new Map,doc:a,keep:!0,mapAsMap:!0===b,mapKeyWarned:!1,maxAliasCount:"number"==typeof c?c:100},j=f.toJS(this,"",i);if("function"==typeof g)for(let{count:a,res:b}of i.anchors.values())g(b,a);return"function"==typeof h?d.applyReviver(h,{"":j},"",j):j}}b.NodeBase=g},89390:(a,b,c)=>{"use strict";var d=c(42218);function e(a,b,c){if(Array.isArray(a))return a.map((a,b)=>e(a,String(b),c));if(a&&"function"==typeof a.toJSON){if(!c||!d.hasAnchor(a))return a.toJSON(b,c);let e={aliasCount:0,count:1,res:void 0};c.anchors.set(a,e),c.onCreate=a=>{e.res=a,delete c.onCreate};let f=a.toJSON(b,c);return c.onCreate&&c.onCreate(f),f}return"bigint"!=typeof a||c?.keep?a:Number(a)}b.toJS=e},89439:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.makeClientConstructor=g,b.loadPackageDefinition=j;let d=c(12582),e={unary:d.Client.prototype.makeUnaryRequest,server_stream:d.Client.prototype.makeServerStreamRequest,client_stream:d.Client.prototype.makeClientStreamRequest,bidi:d.Client.prototype.makeBidiStreamRequest};function f(a){return["__proto__","prototype","constructor"].includes(a)}function g(a,b,c){c||(c={});class g extends d.Client{}return Object.keys(a).forEach(b=>{let c;if(f(b))return;let d=a[b];if("string"==typeof b&&"$"===b.charAt(0))throw Error("Method names cannot start with $");c=d.requestStream?d.responseStream?"bidi":"client_stream":d.responseStream?"server_stream":"unary";let i=d.requestSerialize,j=d.responseDeserialize,k=h(e[c],d.path,i,j);g.prototype[b]=k,Object.assign(g.prototype[b],d),d.originalName&&!f(d.originalName)&&(g.prototype[d.originalName]=g.prototype[b])}),g.service=a,g.serviceName=b,g}function h(a,b,c,d){return function(...e){return a.call(this,b,c,d,...e)}}function i(a){return"format"in a}function j(a){let b={};for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)){let d=a[c],e=c.split(".");if(e.some(a=>f(a)))continue;let h=e[e.length-1],j=b;for(let a of e.slice(0,-1))j[a]||(j[a]={}),j=j[a];i(d)?j[h]=d:j[h]=g(d,h,{})}return b}},89521:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;let d=c(96535),e=c(71367),f=c(55423);b.error={message:({params:{property:a,depsCount:b,deps:c}})=>{let e=1===b?"property":"properties";return(0,d.str)`must have ${e} ${c} when property ${a} is present`},params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(a){let[b,c]=h(a);i(a,b),j(a,c)}};function h({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}function i(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let h=c.let("missing");for(let i in b){let j=b[i];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,i,g.opts.ownProperties);a.setParams({property:i,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,h)})`),(0,f.reportMissingProp)(a,h),c.else())}}function j(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,i=c.name("valid");for(let j in b)(0,e.alwaysValidSchema)(h,b[j])||(c.if((0,f.propertyInData)(c,d,j,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:j},i);a.mergeValidEvaluated(b,i)},()=>c.var(i,!0)),a.ok(i))}b.validatePropertyDeps=i,b.validateSchemaDeps=j,b.default=g},89768:(a,b,c)=>{"use strict";c.d(b,{n:()=>g});var d=c(53488),e=c(43794),f=new(function(){function a(){}return a.prototype.getTracer=function(a,b,c){return new e.o},a}()),g=function(){function a(){}return a.prototype.getTracer=function(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.y(this,a,b,c)},a.prototype.getDelegate=function(){var a;return null!=(a=this._delegate)?a:f},a.prototype.setDelegate=function(a){this._delegate=a},a.prototype.getDelegateTracer=function(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)},a}()},89922:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Http2SubchannelConnector=void 0;let d=c(73496),e=c(34631),f=c(49682),g=c(56458),h=c(77538),i=c(38702),j=c(43313),k=c(41835),l=c(9413),m=c(91645),n=c(42697),o=c(25479),p="transport",q="transport_flowctrl",r=c(19092).rE,{HTTP2_HEADER_AUTHORITY:s,HTTP2_HEADER_CONTENT_TYPE:t,HTTP2_HEADER_METHOD:u,HTTP2_HEADER_PATH:v,HTTP2_HEADER_TE:w,HTTP2_HEADER_USER_AGENT:x}=d.constants,y=2e4,z=Buffer.from("too_many_pings","ascii");class A{constructor(a,b,c,g){this.session=a,this.options=c,this.remoteName=g,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,k.subchannelAddressToString)(b),0===c["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.streamTracker=new f.ChannelzCallTrackerStub):this.streamTracker=new f.ChannelzCallTracker,this.channelzRef=(0,f.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[c["grpc.primary_user_agent"],`grpc-node-js/${r}`,c["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in c?this.keepaliveTimeMs=c["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in c?this.keepaliveTimeoutMs=c["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=y,"grpc.keepalive_permit_without_calls"in c?this.keepaliveWithoutCalls=1===c["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,a.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),a.once("goaway",(a,b,c)=>{let e=!1;a===d.constants.NGHTTP2_ENHANCE_YOUR_CALM&&c&&c.equals(z)&&(e=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(null==c?void 0:c.toString())),this.reportDisconnectToOwner(e)}),a.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect()}),a.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect()}),i.isTracerEnabled(p)&&(a.on("remoteSettings",b=>{this.trace("new settings received"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))}),a.on("localSettings",b=>{this.trace("local settings acknowledged by remote"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),a.socket instanceof e.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:a.socket.getPeerCertificate()}:this.authContext={}}getChannelzInfo(){var a,b,c;let d,e=this.session.socket,f=e.remoteAddress?(0,k.stringToSubchannelAddress)(e.remoteAddress,e.remotePort):null,g=e.localAddress?(0,k.stringToSubchannelAddress)(e.localAddress,e.localPort):null;if(this.session.encrypted){let b=e,c=b.getCipher(),f=b.getCertificate(),g=b.getPeerCertificate();d={cipherSuiteStandardName:null!=(a=c.standardName)?a:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:g&&"raw"in g?g.raw:null}}else d=null;return{remoteAddress:f,localAddress:g,security:d,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(b=this.session.state.localWindowSize)?b:null,remoteFlowControlWindow:null!=(c=this.session.state.remoteWindowSize)?c:null}}trace(a){i.trace(g.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}keepaliveTrace(a){i.trace(g.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}flowControlTrace(a){i.trace(g.LogVerbosity.DEBUG,q,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}internalsTrace(a){i.trace(g.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}reportDisconnectToOwner(a){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(b=>b(a)))}handleDisconnect(){for(let a of(this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1),this.activeCalls))a.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(a){this.disconnectListeners.push(a)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var a,b;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer)return void console.error("keepaliveTimeout is not null");this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null==(b=(a=this.keepaliveTimer).unref)||b.call(a);let c="";try{this.session.ping((a,b,c)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}c&&(this.keepaliveTrace("Ping send failed: "+c),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var a,b;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),null==(b=(a=this.keepaliveTimer).unref)||b.call(a)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(a){this.activeCalls.delete(a),0===this.activeCalls.size&&this.session.unref()}addActiveCall(a){this.activeCalls.add(a),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(a,b,c,d,e){let f,g,h,i=a.toHttp2Headers();i[s]=b,i[x]=this.userAgent,i[t]="application/grpc",i[u]="POST",i[v]=c,i[w]="trailers";try{f=this.session.request(i)}catch(a){throw this.handleDisconnect(),a}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),g={addMessageSent:()=>{var a;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;a?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null==(b=e.onStreamEnd)||b.call(e,a)}}):g={addMessageSent:()=>{var a;null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;null==(b=e.onStreamEnd)||b.call(e,a)}},h=new n.Http2SubchannelCall(f,g,d,this,(0,o.getNextCallNumber)()),this.addActiveCall(h),h}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0,f.unregisterChannelzRef)(this.channelzRef)}}class B{constructor(a){this.channelTarget=a,this.session=null,this.isShutdown=!1}trace(a){i.trace(g.LogVerbosity.DEBUG,p,(0,l.uriToString)(this.channelTarget)+" "+a)}createSession(a,b,c){return this.isShutdown?Promise.reject():a.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((e,f)=>{var g,h,i,k,m,n,o;let p=null,q=this.channelTarget;if("grpc.http_connect_target"in c){let a=(0,l.parseUri)(c["grpc.http_connect_target"]);a&&(q=a,p=(0,l.uriToString)(a))}let r=a.secure?"https":"http",s=(0,j.getDefaultAuthority)(q),t=()=>{var a;null==(a=this.session)||a.destroy(),this.session=null,setImmediate(()=>{B||(B=!0,f(`${z.trim()} (${new Date().toISOString()})`))})},u=a=>{var b;null==(b=this.session)||b.destroy(),z=a.message,this.trace("connection failed with error "+z),B||(B=!0,f(`${z} (${new Date().toISOString()})`))},v={createConnection:(b,c)=>a.socket,settings:{initialWindowSize:null!=(k=null!=(g=c["grpc-node.flow_control_window"])?g:null==(i=null==(h=d.getDefaultSettings)?void 0:h.call(d))?void 0:i.initialWindowSize)?k:65535}},w=d.connect(`${r}://${s}`,v),x=null!=(o=null==(n=null==(m=d.getDefaultSettings)?void 0:m.call(d))?void 0:n.initialWindowSize)?o:65535,y=c["grpc-node.flow_control_window"];this.session=w;let z="Failed to connect",B=!1;w.unref(),w.once("remoteSettings",()=>{var d;if(y&&y>x)try{w.setLocalWindowSize(y)}catch(b){let a=y-(null!=(d=w.state.localWindowSize)?d:x);a>0&&w.incrementWindowSize(a)}w.removeAllListeners(),a.socket.removeListener("close",t),a.socket.removeListener("error",u),e(new A(w,b,c,p)),this.session=null}),w.once("close",t),w.once("error",u),a.socket.once("close",t),a.socket.once("error",u)})}tcpConnect(a,b){return(0,h.getProxiedConnection)(a,b).then(b=>b||new Promise((b,c)=>{let d=()=>{c(Error("Socket closed"))},e=a=>{c(a)},f=m.connect(a,()=>{f.removeListener("close",d),f.removeListener("error",e),b(f)});f.once("close",d),f.once("error",e)}))}async connect(a,b,c){if(this.isShutdown)return Promise.reject();let d=null,e=null,f=(0,k.subchannelAddressToString)(a);try{return this.trace(f+" Waiting for secureConnector to be ready"),await b.waitForReady(),this.trace(f+" secureConnector is ready"),(d=await this.tcpConnect(a,c)).setNoDelay(),this.trace(f+" Established TCP connection"),e=await b.connect(d),this.trace(f+" Established secure connection"),this.createSession(e,a,c)}catch(a){throw null==d||d.destroy(),null==e||e.socket.destroy(),a}}shutdown(){var a;this.isShutdown=!0,null==(a=this.session)||a.close(),this.session=null}}b.Http2SubchannelConnector=B},89955:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a){if((!Array.isArray(a)||arguments.length>1)&&(a=Array.prototype.slice.call(arguments)),!(this instanceof h))return new h(a);this.rws=a,f.call(this)}d(h,f),h.prototype.poolByteLength=function(a,b){if(!Array.isArray(b)&&null!==b)return a.reset(g.expected(b,"an array or null"));for(var c=0,d=0;d<this.rws.length;d++){if(this.rws[d].poolByteLength(a,b&&b[d]),a.err)return a;c+=a.length}return a.reset(null,c)},h.prototype.poolWriteInto=function(a,b,c,d){if(!Array.isArray(b)&&null!==b)return a.reset(g.expected(b,"an array or null"),d);for(var e=0;e<this.rws.length&&(this.rws[e].poolWriteInto(a,b&&b[e],c,d),!a.err);e++)d=a.offset;return a};var i=new e;h.prototype.poolReadFrom=function(a,b,c){for(var d=Array(this.rws.length),e=0;e<this.rws.length;e++){if(this.rws[e].poolReadFrom(i,b,c),i.err)return a.copyFrom(i);c=i.offset,d[e]=i.value}return a.value=d,a.reset(null,c,a.value)}},90008:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addCommonProtos=b.loadProtosWithOptionsSync=b.loadProtosWithOptions=void 0;let d=c(29021),e=c(33873),f=c(19879);function g(a,b){let c=a.resolvePath;a.resolvePath=(a,f)=>{if(e.isAbsolute(f))return f;for(let a of b){let b=e.join(a,f);try{return d.accessSync(b,d.constants.R_OK),b}catch(a){continue}}return process.emitWarning(`${f} not found in any of the include paths ${b}`),c(a,f)}}b.loadProtosWithOptions=async function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));g(c,b.includeDirs)}let d=await c.load(a,b);return d.resolveAll(),d},b.loadProtosWithOptionsSync=function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))throw Error("The includeDirs option must be an array");g(c,b.includeDirs)}let d=c.loadSync(a,b);return d.resolveAll(),d},b.addCommonProtos=function(){let a=c(96491),b=c(43436),d=c(15696),e=c(16591);f.common("api",a.nested.google.nested.protobuf.nested),f.common("descriptor",b.nested.google.nested.protobuf.nested),f.common("source_context",d.nested.google.nested.protobuf.nested),f.common("type",e.nested.google.nested.protobuf.nested)}},90151:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{Postpone:function(){return B},PreludeState:function(){return Z},abortAndThrowOnSynchronousRequestDataAccess:function(){return y},abortOnSynchronousPlatformIOAccess:function(){return w},accessedDynamicData:function(){return J},annotateDynamicAccess:function(){return P},consumeDynamicAccess:function(){return K},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return q},createHangingInputAbortSignal:function(){return O},createRenderInBrowserAbortSignal:function(){return N},delayUntilRuntimeStage:function(){return aa},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return r},isDynamicPostpone:function(){return E},isPrerenderInterruptedError:function(){return I},logDisallowedDynamicError:function(){return $},markCurrentScopeAsDynamic:function(){return s},postponeWithTracking:function(){return C},throwIfDisallowedDynamic:function(){return _},throwToInterruptStaticGeneration:function(){return t},trackAllowedDynamicAccess:function(){return X},trackDynamicDataInDynamicRender:function(){return u},trackSynchronousPlatformIOAccessInDev:function(){return x},trackSynchronousRequestDataAccessInDev:function(){return A},useDynamicRouteParams:function(){return Q},warnOnSyncDynamicError:function(){return z}});let d=n(c(46204)),e=c(52577),f=c(35119),g=c(63033),h=c(29294),i=c(85384),j=c(18633),k=c(86331),l=c(52318),m=c(58871);function n(a){return a&&a.__esModule?a:{default:a}}let o="function"==typeof d.default.unstable_postpone;function p(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function q(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function r(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function s(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new f.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return C(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new e.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function t(a,b,c){let d=Object.defineProperty(new e.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function u(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function v(a,b,c){let d=H(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);c.controller.abort(d);let e=c.dynamicTracking;e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:b})}function w(a,b,c,d){let e=d.dynamicTracking;v(a,b,d),e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}function x(a){a.prerenderPhase=!1}function y(a,b,c,d){if(!1===d.controller.signal.aborted){v(a,b,d);let e=d.dynamicTracking;e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}throw H(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function z(a){a.syncDynamicErrorWithStack&&console.error(a.syncDynamicErrorWithStack)}let A=x;function B({reason:a,route:b}){let c=g.workUnitAsyncStorage.getStore();C(b,a,c&&"prerender-ppr"===c.type?c.dynamicTracking:null)}function C(a,b,c){M(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.default.unstable_postpone(D(a,b))}function D(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function E(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&F(a.message)}function F(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===F(D("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let G="NEXT_PRERENDER_INTERRUPTED";function H(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=G,b}function I(a){return"object"==typeof a&&null!==a&&a.digest===G&&"name"in a&&"message"in a&&a instanceof Error}function J(a){return a.length>0}function K(a,b){return a.dynamicAccesses.push(...b.dynamicAccesses),a.dynamicAccesses}function L(a){return a.filter(a=>"string"==typeof a.stack&&a.stack.length>0).map(({expression:a,stack:b})=>(b=b.split("\n").slice(4).filter(a=>!(a.includes("node_modules/next/")||a.includes(" (<anonymous>)")||a.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${a}:
${b}`))}function M(){if(!o)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}function N(){let a=new AbortController;return a.abort(Object.defineProperty(new l.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),a.signal}function O(a){switch(a.type){case"prerender":case"prerender-runtime":let b=new AbortController;if(a.cacheSignal)a.cacheSignal.inputReady().then(()=>{b.abort()});else{let c=(0,g.getRuntimeStagePromise)(a);c?c.then(()=>(0,k.scheduleOnNextTick)(()=>b.abort())):(0,k.scheduleOnNextTick)(()=>b.abort())}return b.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function P(a,b){let c=b.dynamicTracking;c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:a})}function Q(a){let b=h.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b&&c)switch(c.type){case"prerender-client":case"prerender":{let e=c.fallbackRouteParams;e&&e.size>0&&d.default.use((0,i.makeHangingPromise)(c.renderSignal,b.route,a));break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d&&d.size>0)return C(b.route,a,c.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called during a runtime prerender. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}let R=/\n\s+at Suspense \(<anonymous>\)/,S="body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6",T=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:${S}) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${j.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),U=RegExp(`\\n\\s+at ${j.METADATA_BOUNDARY_NAME}[\\n\\s]`),V=RegExp(`\\n\\s+at ${j.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),W=RegExp(`\\n\\s+at ${j.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function X(a,b,c,d){if(!W.test(b)){if(U.test(b)){c.hasDynamicMetadata=!0;return}if(V.test(b)){c.hasDynamicViewport=!0;return}if(T.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(R.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Y(`Route "${a.route}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,b);return void c.dynamicErrors.push(e)}}}function Y(a,b){let c=null,d=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.stack=d.name+": "+a+(c??b),d}var Z=function(a){return a[a.Full=0]="Full",a[a.Empty=1]="Empty",a[a.Errored=2]="Errored",a}({});function $(a,b){console.error(b),a.dev||(a.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function _(a,b,c,d){if(0!==b){if(c.hasSuspenseAboveBody)return;if(d.syncDynamicErrorWithStack)throw $(a,d.syncDynamicErrorWithStack),new f.StaticGenBailoutError;let e=c.dynamicErrors;if(e.length>0){for(let b=0;b<e.length;b++)$(a,e[b]);throw new f.StaticGenBailoutError}if(c.hasDynamicViewport)throw console.error(`Route "${a.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new f.StaticGenBailoutError;if(1===b)throw console.error(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new f.StaticGenBailoutError}else if(!1===c.hasAllowedDynamic&&c.hasDynamicMetadata)throw console.error(`Route "${a.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new f.StaticGenBailoutError}function aa(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}},90506:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDefaultDef=void 0;let d=c(31958);b.parseDefaultDef=function(a,b){return{...(0,d.parseDef)(a.innerType._def,b),default:a.defaultValue()}}},90641:a=>{"use strict";function b(){this._listeners={}}a.exports=b,b.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},b.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},b.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}},90737:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRelativePath=void 0,b.getRelativePath=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")}},90999:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUnknownDef=void 0;let d=c(10715);b.parseUnknownDef=function(a){return(0,d.parseAnyDef)(a)}},91178:(a,b,c)=>{"use strict";c.d(b,{K:()=>n});var d=c(60233),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(a){this._namespace=a.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("debug",this._namespace,a)},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("error",this._namespace,a)},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("info",this._namespace,a)},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("warn",this._namespace,a)},a.prototype.verbose=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("verbose",this._namespace,a)},a}();function h(a,b,c){var g=(0,d.mS)("diag");if(g)return c.unshift(b),g[a].apply(g,f([],e(c),!1))}var i=c(38380);function j(a,b){function c(c,d){var e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<i.u.NONE?a=i.u.NONE:a>i.u.ALL&&(a=i.u.ALL),b=b||{},{error:c("error",i.u.ERROR),warn:c("warn",i.u.WARN),info:c("info",i.u.INFO),debug:c("debug",i.u.DEBUG),verbose:c("verbose",i.u.VERBOSE)}}var k=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},l=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},m="diag",n=function(){function a(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=(0,d.mS)("diag");if(e)return e[a].apply(e,l([],k(b),!1))}}var b=this,c=function(a,c){if(void 0===c&&(c={logLevel:i.u.INFO}),a===b){var e,f,g,h=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(e=h.stack)?e:h.message),!1}"number"==typeof c&&(c={logLevel:c});var k=(0,d.mS)("diag"),l=j(null!=(f=c.logLevel)?f:i.u.INFO,a);if(k&&!c.suppressOverrideMessage){var m=null!=(g=Error().stack)?g:"<failed to generate stacktrace>";k.warn("Current logger will be overwritten from "+m),l.warn("Current logger will overwrite one already registered from "+m)}return(0,d.$G)("diag",l,b,!0)};b.setLogger=c,b.disable=function(){(0,d.kv)(m,b)},b.createComponentLogger=function(a){return new g(a)},b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}()},91255:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class c{}b._CodeOrName=c,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends c{constructor(a){if(super(),!b.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=d;class e extends c{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof d&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function f(a,...b){let c=[a[0]],d=0;for(;d<b.length;)i(c,b[d]),c.push(a[++d]);return new e(c)}b._Code=e,b.nil=new e(""),b._=f;let g=new e("+");function h(a,...b){let c=[m(a[0])],d=0;for(;d<b.length;)c.push(g),i(c,b[d]),c.push(g,m(a[++d]));return j(c),new e(c)}function i(a,b){b instanceof e?a.push(...b._items):b instanceof d?a.push(b):a.push(l(b))}function j(a){let b=1;for(;b<a.length-1;){if(a[b]===g){let c=k(a[b-1],a[b+1]);if(void 0!==c){a.splice(b-1,3,c);continue}a[b++]="+"}b++}}function k(a,b){return'""'===b?a:'""'===a?b:"string"==typeof a?b instanceof d||'"'!==a[a.length-1]?void 0:"string"!=typeof b?`${a.slice(0,-1)}${b}"`:'"'===b[0]?a.slice(0,-1)+b.slice(1):void 0:"string"!=typeof b||'"'!==b[0]||a instanceof d?void 0:`"${a}${b.slice(1)}`}function l(a){return"number"==typeof a||"boolean"==typeof a||null===a?a:m(Array.isArray(a)?a.join(","):a)}function m(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function n(a){return"string"==typeof a&&b.IDENTIFIER.test(a)?new e(`.${a}`):f`[${a}]`}function o(a){if("string"==typeof a&&b.IDENTIFIER.test(a))return new e(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}b.str=h,b.addCodeArg=i,b.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:h`${a}${b}`},b.stringify=function(a){return new e(m(a))},b.safeStringify=m,b.getProperty=n,b.getEsmExportName=o,b.regexpCode=function(a){return new e(a.toString())}},91403:(a,b,c)=>{"use strict";a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(8193),g=c(37451).BufferRW;function h(a,b){if(!(this instanceof h))return new h(a,b);this.sizerw=a,this.encoding=b||"utf8",this.sizerw.width?this.poolWriteInto=this.poolWriteFixedWidthInto:this.poolWriteInto=this.poolWriteVariableWidthInto,g.call(this)}d(h,g),h.prototype.poolByteLength=function(a,b){var c=0;if("string"==typeof b)c=Buffer.byteLength(b,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),null);return(this.sizerw.poolByteLength(a,c),a.err)?a:a.reset(null,a.length+c)},h.prototype.poolWriteFixedWidthInto=function(a,b,c,d){var e=d+this.sizerw.width,g=0;if("string"==typeof b)g=c.write(b,e,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),d);return(this.sizerw.poolWriteInto(a,g,c,d),a.err)?a:a.reset(null,e+g)},h.prototype.poolWriteVariableWidthInto=function(a,b,c,d){var e=0;if("string"==typeof b)e=Buffer.byteLength(b,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),d);var g=this.sizerw.poolWriteInto(a,e,c,d);return g.err||(d=g.offset,"string"==typeof b&&(g.offset+=c.write(b,d,this.encoding))),g},h.prototype.poolReadFrom=function(a,b,c){var d=this.sizerw.poolReadFrom(a,b,c);if(d.err)return d;var f=d.value,g=b.length-d.offset;if(g<f)return e.poolShortError(a,f,g,c,d.offset);var h=(c=d.offset)+f,i=b.toString(this.encoding,c,h);return a.reset(null,h,i)}},91488:(a,b,c)=>{"use strict";var d;d={value:!0},Object.defineProperty(b,"A",{enumerable:!0,get:function(){return e.registerServerReference}});let e=c(83183)},91754:(a,b,c)=>{"use strict";b.Service=c(7650)},91790:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i32",h.prototype.width=4,h.prototype.min=-0x80000000,h.prototype.max=0x7fffffff,h.prototype.poolReadFrom=function(a,b,c){var d=b.readInt32BE(c,!0);return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c.writeInt32BE(g,f,!0),a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i32",i.prototype.typeid=g.I32,i.prototype.surface=Number,i.prototype.models="type",a.exports.I32RW=h,a.exports.ThriftI32=i},91810:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseArrayDef=void 0;let d=c(62934),e=c(50130),f=c(31958);b.parseArrayDef=function(a,b){let c={type:"array"};return a.type?._def&&a.type?._def?.typeName!==d.ZodFirstPartyTypeKind.ZodAny&&(c.items=(0,f.parseDef)(a.type._def,{...b,currentPath:[...b.currentPath,"items"]})),a.minLength&&(0,e.setResponseValueAndErrors)(c,"minItems",a.minLength.value,a.minLength.message,b),a.maxLength&&(0,e.setResponseValueAndErrors)(c,"maxItems",a.maxLength.value,a.maxLength.message,b),a.exactLength&&((0,e.setResponseValueAndErrors)(c,"minItems",a.exactLength.value,a.exactLength.message,b),(0,e.setResponseValueAndErrors)(c,"maxItems",a.exactLength.value,a.exactLength.message,b)),c}},91898:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getResourceDetectorsFromEnv=void 0;let d=c(68948),e=c(80277),f="env",g="host",h="os",i="process",j="serviceinstance";b.getResourceDetectorsFromEnv=function(){var a,b;let c=new Map([[f,e.envDetectorSync],[g,e.hostDetectorSync],[h,e.osDetectorSync],[j,e.serviceInstanceIdDetectorSync],[i,e.processDetectorSync]]),k=null!=(b=null==(a=process.env.OTEL_NODE_RESOURCE_DETECTORS)?void 0:a.split(","))?b:["all"];return k.includes("all")?[...c.values()].flat():k.includes("none")?[]:k.flatMap(a=>{let b=c.get(a);return b||d.diag.error(`Invalid resource detector "${a}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),b||[]})}},92152:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(87099);d.code='require("ajv/dist/runtime/uri").default',b.default=d},92172:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{Genkit:()=>y,__disableReflectionApi:()=>D,genkit:()=>A}),a.exports=i(j);var k=c(72300),l=c(13672),m=c(37719),n=c(24317),o=c(95403),p=c(68448),q=c(1998),r=c(50438),s=c(40979),t=c(2799),u=c(44037),v=c(31315),w=c(24847),x=c(43264);class y{options;registry;reflectionServer=null;flows=[];get apiStability(){return this.registry.apiStability}constructor(a){this.options=a||{},this.registry=new w.Registry,this.options.context&&(this.registry.context=this.options.context),this.configure(),(0,s.isDevEnv)()&&!C&&(this.reflectionServer=new s.ReflectionServer(this.registry,{configuredEnvs:["dev"],name:this.options.name}),this.reflectionServer.start().catch(a=>u.logger.error)),a?.clientHeader&&(0,s.setClientHeader)(a?.clientHeader)}defineFlow(a,b){let c=(0,s.defineFlow)(this.registry,a,b);return this.flows.push(c),c}defineTool(a,b){return(0,k.defineTool)(this.registry,a,b)}dynamicTool(a,b){return(0,r.dynamicTool)(a,b)}defineDynamicActionProvider(a,b){return(0,s.defineDynamicActionProvider)(this.registry,a,b)}defineSchema(a,b){return(0,s.defineSchema)(this.registry,a,b)}defineJsonSchema(a,b){return(0,s.defineJsonSchema)(this.registry,a,b)}defineModel(a,b){return(0,o.defineModel)(this.registry,a,b)}defineBackgroundModel(a){return(0,o.defineBackgroundModel)(this.registry,a)}prompt(a,b){return this.wrapExecutablePromptPromise(`${a}${b?.variant?`.${b?.variant}`:""}`,(0,k.prompt)(this.registry,a,{...b,dir:this.options.promptDir??"./prompts"}))}wrapExecutablePromptPromise(a,b){let c=async(a,c)=>(await b)(a,c);return c.ref={name:a},c.render=async(a,c)=>(await b).render(a,c),c.stream=(c,d)=>{let e=new t.Channel,f=(0,x.runInNewSpan)(this.registry,{metadata:{name:a,input:c},labels:{[x.SPAN_TYPE_ATTR]:"dotprompt"}},()=>(0,k.generate)(this.registry,b.then(a=>a.render(c,{...d,onChunk:a=>e.send(a)}))));return f.then(()=>e.close(),a=>e.error(a)),{response:f,stream:e}},c.asTool=async()=>(await b).asTool(),c}definePrompt(a,b){if(b){if(a.messages)throw new s.GenkitError({status:"INVALID_ARGUMENT",message:"Cannot specify template/function argument and `options.messages` at the same time"});return"string"==typeof b?(0,k.definePrompt)(this.registry,{...a,messages:b}):(0,k.definePrompt)(this.registry,{...a,messages:async a=>(await b(a)).messages})}return(0,k.definePrompt)(this.registry,a)}defineRetriever(a,b){return(0,q.defineRetriever)(this.registry,a,b)}defineSimpleRetriever(a,b){return(0,q.defineSimpleRetriever)(this.registry,a,b)}defineIndexer(a,b){return(0,q.defineIndexer)(this.registry,a,b)}defineEvaluator(a,b){return(0,m.defineEvaluator)(this.registry,a,b)}defineEmbedder(a,b){return(0,l.defineEmbedder)(this.registry,a,b)}defineHelper(a,b){(0,k.defineHelper)(this.registry,a,b)}definePartial(a,b){(0,k.definePartial)(this.registry,a,b)}defineReranker(a,b){return(0,p.defineReranker)(this.registry,a,b)}embed(a){return(0,k.embed)(this.registry,a)}embedMany(a){return(0,l.embedMany)(this.registry,a)}evaluate(a){return(0,k.evaluate)(this.registry,a)}rerank(a){return(0,k.rerank)(this.registry,a)}index(a){return(0,q.index)(this.registry,a)}retrieve(a){return(0,k.retrieve)(this.registry,a)}async generate(a){let b;return b=a instanceof Promise?await a:"string"==typeof a||Array.isArray(a)?{prompt:a}:a,(0,k.generate)(this.registry,b)}generateStream(a){return("string"==typeof a||Array.isArray(a))&&(a={prompt:a}),(0,k.generateStream)(this.registry,a)}checkOperation(a){return(0,k.checkOperation)(this.registry,a)}run(a,b,c){return c?(0,s.run)(a,b,c,this.registry):(0,s.run)(a,b,this.registry)}currentContext(){return(0,s.getContext)()}configure(){let a=this.registry;(0,o.defineGenerateAction)(a),(0,n.configureFormats)(a);let b=[...this.options.plugins??[]];this.options.model&&this.registry.registerValue("defaultModel","defaultModel",this.options.model),null!==this.options.promptDir&&(0,k.loadPromptFolder)(this.registry,this.options.promptDir??"./prompts",""),b.forEach(b=>{if((0,v.isPluginV2)(b))u.logger.debug(`Registering v2 plugin ${b.name}...`),a.registerPluginProvider(b.name,{name:b.name,async initializer(){if(u.logger.debug(`Initializing plugin ${b.name}:`),!b.init)return;let c=await b.init();c?.forEach(c=>{z(a,c,b)})},async resolver(c,d){if(!b.resolve)return;let e=await b.resolve(c,d);e&&z(a,e,b)},listActions:async()=>"function"==typeof b.list?(await b.list()).map(a=>a.name.startsWith(`${b.name}/`)?a:{...a,name:`${b.name}/${a.name}`}):[]});else{let c=b(this);u.logger.debug(`Registering plugin ${c.name}...`),a.registerPluginProvider(c.name,{name:c.name,async initializer(){u.logger.debug(`Initializing plugin ${c.name}:`),await c.initializer()},async resolver(a,b){c.resolver&&await c.resolver(a,b)},listActions:async()=>c.listActions?await c.listActions():[]})}})}async stopServers(){await this.reflectionServer?.stop(),this.reflectionServer=null}}function z(a,b,c){if((0,s.isBackgroundAction)(b))(0,s.registerBackgroundAction)(a,b,{namespace:c.name});else if((0,s.isAction)(b)){if(!b.__action.actionType)throw new s.GenkitError({status:"INVALID_ARGUMENT",message:"Action type is missing for "+b.__action.name});a.registerAction(b.__action.actionType,b,{namespace:c.name})}else throw new s.GenkitError({status:"INVALID_ARGUMENT",message:"Unknown action type returned from plugin "+c.name})}function A(a){return new y(a)}let B=async()=>{u.logger.info("Shutting down all Genkit servers..."),await s.ReflectionServer.stopAll(),process.exit(0)};process.on("SIGTERM",B),process.on("SIGINT",B);let C=!1;function D(){C=!0}},92180:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(76368),g=c(34709);function h(a,b,c,e,f){if("!"===c)return a[d.SCALAR];let g=[];for(let b of a.tags)if(!b.collection&&b.tag===c)if(!b.default||!b.test)return b;else g.push(b);for(let a of g)if(a.test?.test(b))return a;let h=a.knownTags[c];return h&&!h.collection?(a.tags.push(Object.assign({},h,{default:!1,test:void 0})),h):(f(e,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,"tag:yaml.org,2002:str"!==c),a[d.SCALAR])}function i({atKey:a,directives:b,schema:c},e,f,g){let h=c.tags.find(b=>(!0===b.default||a&&"key"===b.default)&&b.test?.test(e))||c[d.SCALAR];if(c.compat){let a=c.compat.find(a=>a.default&&a.test?.test(e))??c[d.SCALAR];if(h.tag!==a.tag){let c=b.tagString(h.tag),d=b.tagString(a.tag);g(f,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${c} or ${d}`,!0)}}return h}b.composeScalar=function(a,b,c,j){let k,l,{value:m,type:n,comment:o,range:p}="block-scalar"===b.type?f.resolveBlockScalar(a,b,j):g.resolveFlowScalar(b,a.options.strict,j),q=c?a.directives.tagName(c.source,a=>j(c,"TAG_RESOLVE_FAILED",a)):null;k=a.options.stringKeys&&a.atKey?a.schema[d.SCALAR]:q?h(a.schema,m,q,c,j):"scalar"===b.type?i(a,m,b,j):a.schema[d.SCALAR];try{let f=k.resolve(m,a=>j(c??b,"TAG_RESOLVE_FAILED",a),a.options);l=d.isScalar(f)?f:new e.Scalar(f)}catch(a){j(c??b,"TAG_RESOLVE_FAILED",a instanceof Error?a.message:String(a)),l=new e.Scalar(m)}return l.range=p,l.source=m,n&&(l.type=n),q&&(l.tag=q),k.format&&(l.format=k.format),o&&(l.comment=o),l}},92430:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535);b.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxProperties"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} properties`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},92519:(a,b,c)=>{"use strict";a.exports=h;var d=c(67958),e=c(75688),f=c(305);function g(a,b,c,d){return b.delimited?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",c,d,(b.id<<3|3)>>>0,(b.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",c,d,(b.id<<3|2)>>>0)}function h(a){for(var b,c,h=f.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),i=a.fieldsArray.slice().sort(f.compareFieldsById),b=0;b<i.length;++b){var j=i[b].resolve(),k=a._fieldsArray.indexOf(j),l=j.resolvedType instanceof d?"int32":j.type,m=e.basic[l];c="m"+f.safeProp(j.name),j.map?(h("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",c,j.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",c)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(j.id<<3|2)>>>0,8|e.mapKey[j.keyType],j.keyType),void 0===m?h("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",k,c):h(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|m,l,c),h("}")("}")):j.repeated?(h("if(%s!=null&&%s.length){",c,c),j.packed&&void 0!==e.packed[l]?h("w.uint32(%i).fork()",(j.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",c)("w.%s(%s[i])",l,c)("w.ldelim()"):(h("for(var i=0;i<%s.length;++i)",c),void 0===m?g(h,j,k,c+"[i]"):h("w.uint32(%i).%s(%s[i])",(j.id<<3|m)>>>0,l,c)),h("}")):(j.optional&&h("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",c,j.name),void 0===m?g(h,j,k,c):h("w.uint32(%i).%s(%s)",(j.id<<3|m)>>>0,l,c))}return h("return w")}},92851:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55423),e=c(96535),f=c(71367),g=c(71367);b.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let n=k.strictSchema&&!k.allowMatchingProperties&&i.properties,o=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:p}=j;function q(a){for(let b in n)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}function r(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},o),j.opts.unevaluated&&!0!==p?b.assign((0,e._)`${p}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(o),()=>b.break())})})}(function a(){for(let a of l)n&&q(a),j.allErrors?r(a):(b.var(o,!0),r(a),b.if(o))})()}}},92869:a=>{"use strict";class b{constructor(){this.max=1e3,this.map=new Map}get(a){let b=this.map.get(a);if(void 0!==b)return this.map.delete(a),this.map.set(a,b),b}delete(a){return this.map.delete(a)}set(a,b){if(!this.delete(a)&&void 0!==b){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(a,b)}return this}}a.exports=b},92900:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(71878),e=c(41387),f=c(13981),g=c(35838),h=c(92430),i=c(12351),j=c(49723),k=c(14223),l=c(21381),m=c(41971);b.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},93047:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ENCODED_TAGS",{enumerable:!0,get:function(){return c}});let c={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])},META:{ICON_MARK:new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34])}}},93416:(a,b,c)=>{"use strict";let d;Object.defineProperty(b,"__esModule",{value:!0}),b.parseStringDef=b.zodPatterns=void 0;let e=c(50130);function f(a,c){let d={type:"string"};if(a.checks)for(let f of a.checks)switch(f.kind){case"min":(0,e.setResponseValueAndErrors)(d,"minLength","number"==typeof d.minLength?Math.max(d.minLength,f.value):f.value,f.message,c);break;case"max":(0,e.setResponseValueAndErrors)(d,"maxLength","number"==typeof d.maxLength?Math.min(d.maxLength,f.value):f.value,f.message,c);break;case"email":switch(c.emailStrategy){case"format:email":j(d,"email",f.message,c);break;case"format:idn-email":j(d,"idn-email",f.message,c);break;case"pattern:zod":k(d,b.zodPatterns.email,f.message,c)}break;case"url":j(d,"uri",f.message,c);break;case"uuid":j(d,"uuid",f.message,c);break;case"regex":k(d,f.regex,f.message,c);break;case"cuid":k(d,b.zodPatterns.cuid,f.message,c);break;case"cuid2":k(d,b.zodPatterns.cuid2,f.message,c);break;case"startsWith":k(d,RegExp(`^${g(f.value,c)}`),f.message,c);break;case"endsWith":k(d,RegExp(`${g(f.value,c)}$`),f.message,c);break;case"datetime":j(d,"date-time",f.message,c);break;case"date":j(d,"date",f.message,c);break;case"time":j(d,"time",f.message,c);break;case"duration":j(d,"duration",f.message,c);break;case"length":(0,e.setResponseValueAndErrors)(d,"minLength","number"==typeof d.minLength?Math.max(d.minLength,f.value):f.value,f.message,c),(0,e.setResponseValueAndErrors)(d,"maxLength","number"==typeof d.maxLength?Math.min(d.maxLength,f.value):f.value,f.message,c);break;case"includes":k(d,RegExp(g(f.value,c)),f.message,c);break;case"ip":"v6"!==f.version&&j(d,"ipv4",f.message,c),"v4"!==f.version&&j(d,"ipv6",f.message,c);break;case"base64url":k(d,b.zodPatterns.base64url,f.message,c);break;case"jwt":k(d,b.zodPatterns.jwt,f.message,c);break;case"cidr":"v6"!==f.version&&k(d,b.zodPatterns.ipv4Cidr,f.message,c),"v4"!==f.version&&k(d,b.zodPatterns.ipv6Cidr,f.message,c);break;case"emoji":k(d,b.zodPatterns.emoji(),f.message,c);break;case"ulid":k(d,b.zodPatterns.ulid,f.message,c);break;case"base64":switch(c.base64Strategy){case"format:binary":j(d,"binary",f.message,c);break;case"contentEncoding:base64":(0,e.setResponseValueAndErrors)(d,"contentEncoding","base64",f.message,c);break;case"pattern:zod":k(d,b.zodPatterns.base64,f.message,c)}break;case"nanoid":k(d,b.zodPatterns.nanoid,f.message,c);case"toLowerCase":case"toUpperCase":case"trim":break;default:(a=>{})(0)}return d}function g(a,b){return"escape"===b.patternStrategy?i(a):a}b.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===d&&(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/},b.parseStringDef=f;let h=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function i(a){let b="";for(let c=0;c<a.length;c++)h.has(a[c])||(b+="\\"),b+=a[c];return b}function j(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):(0,e.setResponseValueAndErrors)(a,"format",b,c,d)}function k(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:l(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):(0,e.setResponseValueAndErrors)(a,"pattern",l(b,d),c,d)}function l(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}},93521:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96535),e=c(71367);b.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let n=f.name("valid");function o(){let a=f.name("_valid"),b=f.let("count",0);p(a,()=>f.if(a,()=>q(b)))}function p(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}function q(a){f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(n,!1).break()),1===b?f.assign(n,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0)))}void 0===c&&1===b?p(n,()=>f.if(n,()=>f.break())):0===b?(f.let(n,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,o)):(f.let(n,!1),o()),a.result(n,()=>a.reset())}}},93662:(a,b)=>{"use strict";b.emptyScalarPosition=function(a,b,c){if(b){c??(c=b.length);for(let d=c-1;d>=0;--d){let c=b[d];switch(c.type){case"space":case"comment":case"newline":a-=c.source.length;continue}for(c=b[++d];c?.type==="space";)a+=c.source.length,c=b[++d];break}}return a}},93689:(a,b,c)=>{"use strict";let d=c(74502);a.exports=(a,b,c)=>d(a,b,"<",c)},93952:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762);b.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let n=f.name("valid");function o(){let a=f.name("_valid"),b=f.let("count",0);p(a,()=>f.if(a,()=>q(b)))}function p(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}function q(a){f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(n,!1).break()),1===b?f.assign(n,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0)))}void 0===c&&1===b?p(n,()=>f.if(n,()=>f.break())):0===b?(f.let(n,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,o)):(f.let(n,!1),o()),a.result(n,()=>a.reset())}}},94072:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;let d=c(53864),e=c(59762),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;if(!Array.isArray(d))return void(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');g(a,d)}};function g(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let e=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(e),()=>k(e)),a.ok(e)}function k(f){c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},f),i.allErrors||c.if((0,d.not)(f),()=>c.break())})}}b.validateAdditionalItems=g,b.default=f},94197:(a,b,c)=>{"use strict";c.d(b,{DM:()=>n,G4:()=>m,I3:()=>g,MY:()=>i,OK:()=>l,fn:()=>o,jm:()=>k,uY:()=>j,xP:()=>p,y7:()=>f,zn:()=>h});var d=c(95026),e=c(477);let f=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}},g=[];function h(a,b){let c=(0,d.$W)(),g=f({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===e.A?void 0:e.A].filter(a=>!!a)});a.common.issues.push(g)}class i{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return j;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return i.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return j;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let j=Object.freeze({status:"aborted"}),k=a=>({status:"dirty",value:a}),l=a=>({status:"valid",value:a}),m=a=>"aborted"===a.status,n=a=>"dirty"===a.status,o=a=>"valid"===a.status,p=a=>"undefined"!=typeof Promise&&a instanceof Promise},94214:(a,b)=>{"use strict";let c=a=>a.replace(/^(?!$)(?: $)?/gm,"#");function d(a,b){return/^\n+$/.test(a)?a.substring(1):b?a.replace(/^(?! *$)/gm,b):a}let e=(a,b,c)=>a.endsWith("\n")?d(c,b):c.includes("\n")?"\n"+d(c,b):(a.endsWith(" ")?"":" ")+c;b.indentComment=d,b.lineComment=e,b.stringifyComment=c},94286:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncLocalStorageContextManager=void 0;let d=c(68948),e=c(84297),f=c(73501);class g extends f.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new e.AsyncLocalStorage}active(){var a;return null!=(a=this._asyncLocalStorage.getStore())?a:d.ROOT_CONTEXT}with(a,b,c,...d){let e=null==c?b:b.bind(c);return this._asyncLocalStorage.run(a,e,...d)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}b.AsyncLocalStorageContextManager=g},94639:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=c(28354).inherits,g=c(32437);function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.typeid=a,this.id=b,this.val=c}function i(a){if(!(this instanceof i))return new i(a);this.fields=a||[]}function j(a){if(!(this instanceof j))return new j(a);this.ttypes=a.ttypes}f(j,d.Base),j.prototype.poolByteLength=function(a,b){for(var c,d=1,e=0;e<b.fields.length;e++){var f=b.fields[e],h=this.ttypes[f.typeid];if(!h)return a.reset(g.InvalidTypeidError({typeid:f.typeid,what:"field::type"}));if(d+=3,(c=h.poolByteLength(a,f.val)).err)return c;d+=c.length}return a.reset(null,d)},j.prototype.poolWriteInto=function(a,b,c,f){for(var h,i=0;i<b.fields.length;i++){var j=b.fields[i],k=this.ttypes[j.typeid];if(!k)return a.reset(g.InvalidTypeidError({typeid:j.typeid,what:"field::type"}));if((h=d.Int8.poolWriteInto(a,j.typeid,c,f)).err||(f=h.offset,(h=d.Int16BE.poolWriteInto(a,j.id,c,f)).err)||(f=h.offset,(h=k.poolWriteInto(a,j.val,c,f)).err))return h;f=h.offset}return(h=d.Int8.poolWriteInto(a,e.STOP,c,f)).err?h:(f=h.offset,a.reset(null,f))},j.prototype.poolReadFrom=function(a,b,c){for(var f,j=new i;;){if((f=d.Int8.poolReadFrom(a,b,c)).err)return f;c=f.offset;var k=f.value;if(k===e.STOP)break;var l=this.ttypes[k];if(!l)return a.reset(g.InvalidTypeidError({typeid:k,what:"field::type"}),c);if((f=d.Int16BE.readFrom(b,c)).err)return f;c=f.offset;var m=f.value;if((f=l.poolReadFrom(a,b,c)).err)return f;c=f.offset;var n=f.value;j.fields.push(h(k,m,n))}return a.reset(null,c,j)},a.exports.TStruct=i,a.exports.TField=h,a.exports.TStructRW=j},94678:(a,b,c)=>{"use strict";var d=c(35653),e=c(28354),f=c(27910).Transform,g=c(36204);function h(a){if(!(this instanceof h))return new h(a);a||(a={}),a.colored&&(a=d(g.coloredOptions,a)),f.call(this,a);var b=this;b.options=a,b.prefix=b.options.prefix||"",b.cols=b.options.cols||16,b.group=b.options.group||2,b.gutter=b.options.gutter||0,b.annotateLine=a.annotateLine||null,b.decorateHexen=b.options.decorateHexen||i,b.decorateHuman=b.options.decorateHuman||i,b.renderHexen=b.options.renderHexen||g.byte2hex,b.renderHuman=b.options.renderHuman||g.byte2char,b.groupSeparator=void 0===b.options.groupSeparator?" ":b.options.groupSeparator,b.headSep=void 0===b.options.headSep?": ":b.options.headSep,b.divide=void 0===b.options.divide?"  ":b.options.divide,b.emptyHexen=void 0===b.options.emptyHexen?"  ":b.options.emptyHexen,b.emptyHuman=b.options.emptyHuman||"",b.nullHuman=b.options.nullHuman||"",b.offsetWidth=b.options.offsetWidth||8,b.gutter=Math.max(b.offsetWidth,b.gutter),b.line="",b.hexen="",b.human="",b.reset()}function i(a,b,c){return c}e.inherits(h,f),h.prototype.reset=function(){var a=this;a._finishLine(),a.screenOffset=0,a.totalOffset=0},h.prototype._transform=function(a,b,c){for(var d=this,e=0;e<a.length;e++)d.screenOffset%d.cols==0&&(d._finishLine(),d._startLine()),d._addByte(a[e]);c(null)},h.prototype._flush=function(a){var b=this;0===b.totalOffset&&b.nullHuman&&(b._startLine(),b.human+=b.nullHuman),b._finishLine(),a(null)},h.prototype._startLine=function(){var a=this,b=g.pad("0",a.totalOffset.toString(16),a.offsetWidth);a.line=a.prefix+g.pad(" ",b,a.gutter)+a.headSep},h.prototype._finishLine=function(){var a=this;if(a.line.length){var b=a.screenOffset%a.cols;if(0!==b||0===a.totalOffset&&a.nullHuman){b=a.cols-b;for(var c=0;c<b;c++)a._addEmpty()}a.line+=a.hexen+a.divide+a.human,a.annotateLine&&(a.line+=a.annotateLine(a.totalOffset-a.cols,a.totalOffset)),a.line+="\n",a.push(a.line),a.line="",a.hexen="",a.human=""}},h.prototype._addEmpty=function(){var a=this;a._addPart(a.emptyHexen,a.emptyHuman)},h.prototype._addByte=function(a){var b=this,c=b.renderHexen(a),d=b.renderHuman(a);b._addPart(c,d,a)},h.prototype._addPart=function(a,b,c){var d=this;a=d.decorateHexen(d.totalOffset,d.screenOffset,a,c),b=d.decorateHuman(d.totalOffset,d.screenOffset,b,c);var e=d.screenOffset%d.cols==0,f=d.screenOffset%d.group==0;!e&&f&&(d.hexen+=d.groupSeparator),d.hexen+=a,d.human+=b,d.totalOffset++,d.screenOffset++},a.exports=h},94764:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(a,b,c)>=0},94829:a=>{"use strict";let b;var c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,g=(a,b,g,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of e(b))f.call(a,i)||i===g||c(a,i,{get:()=>b[i],enumerable:!(h=d(b,i))||h.enumerable});return a};b={},a.exports=g(c({},"__esModule",{value:!0}),b)},94964:a=>{"use strict";a.exports=function a(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}},95026:(a,b,c)=>{"use strict";c.d(b,{$W:()=>g,pJ:()=>f,su:()=>d.A});var d=c(477);let e=d.A;function f(a){e=a}function g(){return e}},95104:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAndNormalizeUrl=b.DEFAULT_COLLECTOR_URL=b.OTLPGRPCExporterNodeBase=void 0;var d=c(465);Object.defineProperty(b,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return d.OTLPGRPCExporterNodeBase}});var e=c(60664);Object.defineProperty(b,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return e.DEFAULT_COLLECTOR_URL}}),Object.defineProperty(b,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return e.validateAndNormalizeUrl}})},95291:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(86224);b.default=function(){function a(a,b){this._type=a,this._referencedContext=b instanceof d.default?b.context():b}return a.prototype.type=function(){return this._type},a.prototype.referencedContext=function(){return this._referencedContext},a}()},95351:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(28872),e=c(53864),f=c(51018),g=c(59762);b.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let n=(0,d.allSchemaProperties)(h.properties),o=(0,d.allSchemaProperties)(h.patternProperties);function p(c){let f;if(n.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=n.length?(0,e.or)(...n.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return o.length&&(f=(0,e.or)(f,...o.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}function q(a){b.code((0,e._)`delete ${i}[${a}]`)}function r(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void q(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(s(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),q(d)})):(s(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function s(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}(function a(){b.forIn("key",i,a=>{n.length||o.length?b.if(p(a),()=>r(a)):r(a)})})(),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},95403:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j=a=>h(d({},"__esModule",{value:!0}),a),k={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(k,{CustomPartSchema:()=>p.CustomPartSchema,DataPartSchema:()=>p.DataPartSchema,MediaPartSchema:()=>p.MediaPartSchema,TextPartSchema:()=>p.TextPartSchema,ToolRequestPartSchema:()=>p.ToolRequestPartSchema,ToolResponsePartSchema:()=>p.ToolResponsePartSchema,backgroundModel:()=>x,defineBackgroundModel:()=>w,defineGenerateAction:()=>s.defineGenerateAction,defineModel:()=>v,getBasicUsageStats:()=>B,model:()=>t,modelActionMetadata:()=>z,modelRef:()=>A,resolveModel:()=>D,simulateConstrainedGeneration:()=>r.simulateConstrainedGeneration}),a.exports=j(k);var l=c(40979),m=c(42656),n=c(76944),o=c(643),p=c(25399),q=c(14015),r=c(29706),s=c(19606);function t(a,b){let c=(0,l.action)(u(a),(a,c)=>{let d=o.performance.now();return b(a,c).then(a=>({...a,latencyMs:o.performance.now()-d}))});return Object.assign(c,{__configSchema:a.configSchema||l.z.unknown()}),c}function u(a){let b=a.label||a.name,c=y(a);return{actionType:"model",name:a.name,description:b,inputSchema:q.GenerateRequestSchema,outputSchema:q.GenerateResponseSchema,metadata:{model:{label:b,customOptions:a.configSchema?(0,n.toJsonSchema)({schema:a.configSchema}):void 0,versions:a.versions,supports:a.supports}},use:c}}function v(a,b,c){let d=(0,l.defineAction)(a,u(b),(a,d)=>{let e=o.performance.now();return c(a,"v2"===b.apiVersion?d:d.streamingRequested?d.sendChunk:void 0).then(a=>({...a,latencyMs:o.performance.now()-e}))});return Object.assign(d,{__configSchema:b.configSchema||l.z.unknown()}),d}function w(a,b){let c=x(b);return(0,l.registerBackgroundAction)(a,c),c}function x(a){let b=a.label||a.name,c=y(a),d=(0,l.backgroundAction)({actionType:"background-model",name:a.name,description:b,inputSchema:q.GenerateRequestSchema,outputSchema:q.GenerateResponseSchema,metadata:{model:{label:b,customOptions:a.configSchema?(0,n.toJsonSchema)({schema:a.configSchema}):void 0,versions:a.versions,supports:a.supports}},use:c,async start(b){let c=o.performance.now(),d=await a.start(b);return Object.assign(d,{latencyMs:o.performance.now()-c}),d},check:async b=>a.check(b),cancel:a.cancel?async b=>{if(!a.cancel)throw new l.GenkitError({status:"UNIMPLEMENTED",message:"cancel not implemented"});return a.cancel(b)}:void 0});return Object.assign(d,{__configSchema:a.configSchema||l.z.unknown()}),d}function y(a){let b=a.use||[];a?.supports?.context||b.push((0,r.augmentWithContext)());let c=(0,r.simulateConstrainedGeneration)();return b.push((b,d)=>!a?.supports?.constrained||a?.supports?.constrained==="none"||a?.supports?.constrained==="no-tools"&&(b.tools?.length??0)>0?c(b,d):d(b)),b}function z({name:a,info:b,configSchema:c,background:d}){return{actionType:d?"background-model":"model",name:a,inputJsonSchema:(0,n.toJsonSchema)({schema:q.GenerateRequestSchema}),outputJsonSchema:d?(0,n.toJsonSchema)({schema:l.OperationSchema}):(0,n.toJsonSchema)({schema:q.GenerateResponseSchema}),metadata:{model:{...b,customOptions:c?(0,n.toJsonSchema)({schema:c}):void 0}}}}function A(a){let b=a.name;a.namespace&&!b.startsWith(a.namespace+"/")&&(b=`${a.namespace}/${b}`);let c={...a,name:b};return c.withConfig=c=>A({...a,name:b,config:c}),c.withVersion=c=>A({...a,name:b,version:c}),c}function B(a,b){let c=C(a.flatMap(a=>a.content)),d=C(Array.isArray(b)?b.flatMap(a=>a.message.content):b.content);return{inputCharacters:c.characters,inputImages:c.images,inputVideos:c.videos,inputAudioFiles:c.audio,outputCharacters:d.characters,outputImages:d.images,outputVideos:d.videos,outputAudioFiles:d.audio}}function C(a){return a.reduce((a,b)=>{let c=b.media?.contentType?.startsWith("image")||b.media?.url?.startsWith("data:image"),d=b.media?.contentType?.startsWith("video")||b.media?.url?.startsWith("data:video"),e=b.media?.contentType?.startsWith("audio")||b.media?.url?.startsWith("data:audio");return{characters:a.characters+(b.text?.length||0),images:a.images+ +!!c,videos:a.videos+ +!!d,audio:a.audio+ +!!e}},{characters:0,images:0,videos:0,audio:0})}async function D(a,b,c){let d,e;if(b||(b=await a.lookupValue("defaultModel","defaultModel")),!b)throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a `model` to `generate()` calls."});if("string"==typeof b)e=b,d={modelAction:await E(a,b)};else if(b.hasOwnProperty("__action"))e=b.__action.name,d={modelAction:b};else{let c=b;e=c.name,d={modelAction:await E(a,c.name),config:{...c.config},version:c.version}}if(!d.modelAction)throw new l.GenkitError({status:"NOT_FOUND",message:`Model '${e}' not found`});return c?.warnDeprecated&&d.modelAction.__action.metadata?.model?.stage==="deprecated"&&m.logger.warn(`Model '${d.modelAction.__action.name}' is deprecated and may be removed in a future release.`),d}async function E(a,b){return await a.lookupAction(`/model/${b}`)||await a.lookupAction(`/background-model/${b}`)}i(k,c(14015),a.exports)},95435:(a,b)=>{"use strict";function c(a,b){return b.rules.some(b=>d(a,b))}function d(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0,b.schemaHasRulesForType=function({schema:a,self:b},d){let e=b.RULES.types[d];return e&&!0!==e&&c(a,e)},b.shouldUseGroup=c,b.shouldUseRule=d},95793:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).BufferRW,f=c(8193);function g(a,b){if(!(this instanceof g))return new g(a,b);this.countrw=a,this.repeatedrw=b,e.call(this)}function h(a){var b,c=Object.keys(a),d={};for(b=0;b<c.length;b++)d[c[b]]=a[c[b]];return d}d(g,e),g.prototype.poolByteLength=function(a,b){if(!Array.isArray(b))return a.reset(f.expected(b,"an array"));var c=this.countrw.poolByteLength(a,b.length);if(c.err)return c;for(var d=c.length,e=0;e<b.length;e++){var g=this.repeatedrw.poolByteLength(a,b[e]);if(g.err)return g;d+=c.length}return a.reset(null,d)},g.prototype.poolWriteInto=function(a,b,c,d){if(!Array.isArray(b))return a.reset(f.expected(b,"an array"),d);var e=this.countrw.poolWriteInto(a,b.length,c,d);if(e.err)return e;d=e.offset;for(var g=0;g<b.length&&!(e=this.repeatedrw.poolWriteInto(a,b[g],c,d)).err;g++)d=e.offset;return e},g.prototype.poolReadFrom=function(a,b,c){var d=this.countrw.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;for(var e=d.value,f=Array(e),g=0;g<e;g++){if((d=this.repeatedrw.poolReadFrom(a,b,c)).err)return d;c=d.offset,Array.isArray(d.value)?f[g]=d.value.slice(0):"object"==typeof d.value?f[g]=h(d.value):f[g]=d.value}return a.reset(null,c,f)}},95818:()=>{},95912:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(82740),g=d.Base(h,i,j,!0);function h(a){return a.reset(null,d.UInt8.width)}function i(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);return e.err||(e.value=!!e.value),e}function j(a,b,c,f){return"boolean"!=typeof b?a.reset(e.expected(b,"a boolean"),f):d.UInt8.poolWriteInto(a,Number(b),c,f)}function k(a){this.annotations=a}k.prototype.rw=g,k.prototype.name="boolean",k.prototype.typeid=f.BOOL,k.prototype.surface=Boolean,k.prototype.models="type",a.exports.BooleanRW=g,a.exports.ThriftBoolean=k},95956:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,null,!0),e=d(b,null,!0),f=c.compare(e);if(0===f)return null;let g=f>0,h=g?c:e,i=g?e:c,j=!!h.prerelease.length;if(i.prerelease.length&&!j){if(!i.patch&&!i.minor)return"major";if(0===i.compareMain(h))return i.minor&&!i.patch?"minor":"patch"}let k=j?"pre":"";return c.major!==e.major?k+"major":c.minor!==e.minor?k+"minor":c.patch!==e.patch?k+"patch":"prerelease"}},96269:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.QueuePicker=b.UnavailablePicker=b.PickResultType=void 0;let e=c(33604),f=c(56458);!function(a){a[a.COMPLETE=0]="COMPLETE",a[a.QUEUE=1]="QUEUE",a[a.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",a[a.DROP=3]="DROP"}(d||(b.PickResultType=d={}));class g{constructor(a){this.status=Object.assign({code:f.Status.UNAVAILABLE,details:"No connection established",metadata:new e.Metadata},a)}pick(a){return{pickResultType:d.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}b.UnavailablePicker=g;class h{constructor(a,b){this.loadBalancer=a,this.childPicker=b,this.calledExitIdle=!1}pick(a){return(this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker)?this.childPicker.pick(a):{pickResultType:d.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}b.QueuePicker=h},96445:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864);b.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxProperties"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} properties`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},96457:a=>{"use strict";function b(a){this.name=a.id.name,this.valueDefinition=a.value,this.defined=!1,this.value=null,this.surface=null}b.prototype.models="value",b.prototype.link=function(a){return!this.defined&&(this.defined=!0,this.value=a.resolveValue(this.valueDefinition),this.surface=this.value,a.consts[this.name]=this.value,/^[a-z]/.test(this.name)||(a[this.name]=this.value)),this},a.exports.Z=b},96483:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.zodToJsonSchema=void 0;let d=c(31958),e=c(20482),f=c(10715);b.zodToJsonSchema=(a,b)=>{let c=(0,e.getRefs)(b),g="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,e])=>({...a,[b]:(0,d.parseDef)(e._def,{...c,currentPath:[...c.basePath,c.definitionPath,b]},!0)??(0,f.parseAnyDef)(c)}),{}):void 0,h="string"==typeof b?b:b?.nameStrategy==="title"?void 0:b?.name,i=(0,d.parseDef)(a._def,void 0===h?c:{...c,currentPath:[...c.basePath,c.definitionPath,h]},!1)??(0,f.parseAnyDef)(c),j="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==j&&(i.title=j),c.flags.hasReferencedOpenAiAnyType&&(g||(g={}),g[c.openAiAnyTypeName]||(g[c.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===c.$refStrategy?"1":[...c.basePath,c.definitionPath,c.openAiAnyTypeName].join("/")}}));let k=void 0===h?g?{...i,[c.definitionPath]:g}:i:{$ref:[..."relative"===c.$refStrategy?[]:c.basePath,c.definitionPath,h].join("/"),[c.definitionPath]:{...g,[h]:i}};return"jsonSchema7"===c.target?k.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===c.target||"openAi"===c.target)&&(k.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===c.target&&("anyOf"in k||"oneOf"in k||"allOf"in k||"type"in k&&Array.isArray(k.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),k}},96491:a=>{"use strict";a.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},96535:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;let d=c(38006),e=c(60407);var f=c(38006);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return f.Name}});var g=c(60407);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),b.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=G(this.rhs,a,b),this}get names(){return F(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class n extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class o extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=G(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class p extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(H(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>E(a,b.names),{})}}class q extends p{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class r extends p{}class s extends q{}s.kind="else";class t extends q{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new s(a):a}return b?!1===a?b instanceof t?b:b.nodes:this.nodes.length?this:new t(I(a),b instanceof t?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=G(this.condition,a,b),this}get names(){let a=super.names;return F(a,this.condition),this.else&&E(a,this.else.names),a}}t.kind="if";class u extends q{}u.kind="for";class v extends u{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=G(this.iteration,a,b),this}get names(){return E(super.names,this.iteration.names)}}class w extends u{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=F(super.names,this.from);return F(a,this.to)}}class x extends u{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=G(this.iterable,a,b),this}get names(){return E(super.names,this.iterable.names)}}class y extends q{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}y.kind="func";class z extends p{render(a){return"return "+super.render(a)}}z.kind="return";class A extends q{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&E(a,this.catch.names),this.finally&&E(a,this.finally.names),a}}class B extends q{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}B.kind="catch";class C extends q{render(a){return"finally"+super.render(a)}}C.kind="finally";class D{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new r]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,c){return this._leafNode(new k(a,b.operators.ADD,c))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new o(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new t(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new t(a))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(t,s)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new v(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new w(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new x("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new x("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(u)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new z;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new A;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new B(a),b(a)}return c&&(this._currNode=d.finally=new C,this.code(c)),this._endBlockNode(B,C)}throw(a){return this._leafNode(new n(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new y(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof t))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}}function E(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function F(a,b){return b instanceof d._CodeOrName?E(a,b.names):a}function G(a,b,c){if(a instanceof d.Name)return e(a);if(!f(a))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=e(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function e(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}function f(a){return a instanceof d._Code&&a._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])}}function H(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}function I(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${M(a)}`}b.CodeGen=D,b.not=I;let J=L(b.operators.AND);b.and=function(...a){return a.reduce(J)};let K=L(b.operators.OR);function L(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${M(b)} ${a} ${M(c)}`}function M(a){return a instanceof d.Name?a:(0,d._)`(${a})`}b.or=function(...a){return a.reduce(K)}},96581:(a,b,c)=>{"use strict";let d,e;c.r(b),c.d(b,{MAX:()=>f,NIL:()=>g,parse:()=>j,stringify:()=>m,v1:()=>u,v1ToV6:()=>v,v3:()=>B,v4:()=>D,v5:()=>E,v6:()=>F,v6ToV1:()=>G,v7:()=>L,validate:()=>i,version:()=>M});let f="ffffffff-ffff-ffff-ffff-ffffffffffff",g="00000000-0000-0000-0000-000000000000",h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,i=function(a){return"string"==typeof a&&h.test(a)},j=function(a){let b;if(!i(a))throw TypeError("Invalid UUID");let c=new Uint8Array(16);return c[0]=(b=parseInt(a.slice(0,8),16))>>>24,c[1]=b>>>16&255,c[2]=b>>>8&255,c[3]=255&b,c[4]=(b=parseInt(a.slice(9,13),16))>>>8,c[5]=255&b,c[6]=(b=parseInt(a.slice(14,18),16))>>>8,c[7]=255&b,c[8]=(b=parseInt(a.slice(19,23),16))>>>8,c[9]=255&b,c[10]=(b=parseInt(a.slice(24,36),16))/0x10000000000&255,c[11]=b/0x100000000&255,c[12]=b>>>24&255,c[13]=b>>>16&255,c[14]=b>>>8&255,c[15]=255&b,c},k=[];for(let a=0;a<256;++a)k.push((a+256).toString(16).slice(1));function l(a,b=0){return(k[a[b+0]]+k[a[b+1]]+k[a[b+2]]+k[a[b+3]]+"-"+k[a[b+4]]+k[a[b+5]]+"-"+k[a[b+6]]+k[a[b+7]]+"-"+k[a[b+8]]+k[a[b+9]]+"-"+k[a[b+10]]+k[a[b+11]]+k[a[b+12]]+k[a[b+13]]+k[a[b+14]]+k[a[b+15]]).toLowerCase()}let m=function(a,b=0){let c=l(a,b);if(!i(c))throw TypeError("Stringified UUID is invalid");return c};var n=c(77598),o=c.n(n);let p=new Uint8Array(256),q=p.length;function r(){return q>p.length-16&&(o().randomFillSync(p),q=0),p.slice(q,q+=16)}let s=0,t=0,u=function(a,b,c){let f=b&&c||0,g=b||Array(16),h=(a=a||{}).node,i=a.clockseq;if(a._v6||(h||(h=d),null==i&&(i=e)),null==h||null==i){let b=a.random||(a.rng||r)();null==h&&(h=[b[0],b[1],b[2],b[3],b[4],b[5]],d||a._v6||(h[0]|=1,d=h)),null==i&&(i=(b[6]<<8|b[7])&16383,void 0!==e||a._v6||(e=i))}let j=void 0!==a.msecs?a.msecs:Date.now(),k=void 0!==a.nsecs?a.nsecs:t+1,m=j-s+(k-t)/1e4;if(m<0&&void 0===a.clockseq&&(i=i+1&16383),(m<0||j>s)&&void 0===a.nsecs&&(k=0),k>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=j,t=k,e=i;let n=((0xfffffff&(j+=122192928e5))*1e4+k)%0x100000000;g[f++]=n>>>24&255,g[f++]=n>>>16&255,g[f++]=n>>>8&255,g[f++]=255&n;let o=j/0x100000000*1e4&0xfffffff;g[f++]=o>>>8&255,g[f++]=255&o,g[f++]=o>>>24&15|16,g[f++]=o>>>16&255,g[f++]=i>>>8|128,g[f++]=255&i;for(let a=0;a<6;++a)g[f+a]=h[a];return b||l(g)};function v(a){let b=w("string"==typeof a?j(a):a);return"string"==typeof a?l(b):b}function w(a,b=!1){return Uint8Array.of((15&a[6])<<4|a[7]>>4&15,(15&a[7])<<4|(240&a[4])>>4,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,(15&a[1])<<4|(240&a[2])>>4,96|15&a[2],a[3],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}function x(a){a=unescape(encodeURIComponent(a));let b=[];for(let c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b}let y="6ba7b810-9dad-11d1-80b4-00c04fd430c8",z="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function A(a,b,c){function d(a,d,e,f){var g;if("string"==typeof a&&(a=x(a)),"string"==typeof d&&(d=j(d)),(null==(g=d)?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+a.length);if(h.set(d),h.set(a,d.length),(h=c(h))[6]=15&h[6]|b,h[8]=63&h[8]|128,e){f=f||0;for(let a=0;a<16;++a)e[f+a]=h[a];return e}return l(h)}try{d.name=a}catch(a){}return d.DNS=y,d.URL=z,d}let B=A("v3",48,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),o().createHash("md5").update(a).digest()}),C={randomUUID:o().randomUUID},D=function(a,b,c){if(C.randomUUID&&!b&&!a)return C.randomUUID();let d=(a=a||{}).random||(a.rng||r)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return l(d)},E=A("v5",80,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),o().createHash("sha1").update(a).digest()});function F(a={},b,c=0){let d=u({...a,_v6:!0},new Uint8Array(16));if(d=v(d),b){for(let a=0;a<16;a++)b[c+a]=d[a];return b}return l(d)}function G(a){let b=H("string"==typeof a?j(a):a);return"string"==typeof a?l(b):b}function H(a){return Uint8Array.of((15&a[3])<<4|a[4]>>4&15,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|15&a[6],a[7],(15&a[1])<<4|(240&a[2])>>4,(15&a[2])<<4|(240&a[3])>>4,16|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}let I=null,J=null,K=0,L=function(a,b,c){a=a||{};let d=b&&c||0,e=b||new Uint8Array(16),f=a.random||(a.rng||r)(),g=void 0!==a.msecs?a.msecs:Date.now(),h=void 0!==a.seq?a.seq:null,i=J,j=I;return g>K&&void 0===a.msecs&&(K=g,null!==h&&(i=null,j=null)),null!==h&&(h>0x7fffffff&&(h=0x7fffffff),i=h>>>19&4095,j=524287&h),(null===i||null===j)&&(i=(i=127&f[6])<<8|f[7],j=(j=(j=63&f[8])<<8|f[9])<<5|f[10]>>>3),g+1e4>K&&null===h?++j>524287&&(j=0,++i>4095&&(i=0,K++)):K=g,J=i,I=j,e[d++]=K/0x10000000000&255,e[d++]=K/0x100000000&255,e[d++]=K/0x1000000&255,e[d++]=K/65536&255,e[d++]=K/256&255,e[d++]=255&K,e[d++]=i>>>4&15|112,e[d++]=255&i,e[d++]=j>>>13&63|128,e[d++]=j>>>5&255,e[d++]=j<<3&255|7&f[10],e[d++]=f[11],e[d++]=f[12],e[d++]=f[13],e[d++]=f[14],e[d++]=f[15],b||l(e)},M=function(a){if(!i(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}},96775:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c)=>new d(a,c).compare(new d(b,c))},96786:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GrpcExporterTransport=b.createEmptyMetadata=b.createSslCredentials=b.createInsecureCredentials=void 0;let d=0,e=2;function f(a){return"gzip"===a?e:d}b.createInsecureCredentials=function(){let{credentials:a}=c(47265);return a.createInsecure()},b.createSslCredentials=function(a,b,d){let{credentials:e}=c(47265);return e.createSsl(a,b,d)},b.createEmptyMetadata=function(){let{Metadata:a}=c(47265);return new a};class g{constructor(a){this._parameters=a}shutdown(){var a;null==(a=this._client)||a.close()}send(a){let b=Buffer.from(a);if(null==this._client){let{createServiceClientConstructor:a}=c(44917);try{this._metadata=this._parameters.metadata()}catch(a){return Promise.resolve({status:"failure",error:a})}let b=a(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new b(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":f(this._parameters.compression)})}catch(a){return Promise.resolve({status:"failure",error:a})}}return new Promise(a=>{let c=Date.now()+this._parameters.timeoutMillis;if(null==this._metadata)return a({error:Error("metadata was null"),status:"failure"});this._client.export(b,this._metadata,{deadline:c},(b,c)=>{b?a({status:"failure",error:b}):a({data:c,status:"success"})})})}}b.GrpcExporterTransport=g},97106:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0!==d(a,b,c)},97167:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408);let f="<<",g={identify:a=>a===f||"symbol"==typeof a&&a.description===f,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new e.Scalar(Symbol(f)),{addToJSMap:i}),stringify:()=>f},h=(a,b)=>(g.identify(b)||d.isScalar(b)&&(!b.type||b.type===e.Scalar.PLAIN)&&g.identify(b.value))&&a?.doc.schema.tags.some(a=>a.tag===g.tag&&a.default);function i(a,b,c){if(c=a&&d.isAlias(c)?c.resolve(a.doc):c,d.isSeq(c))for(let d of c.items)j(a,b,d);else if(Array.isArray(c))for(let d of c)j(a,b,d);else j(a,b,c)}function j(a,b,c){let e=a&&d.isAlias(c)?c.resolve(a.doc):c;if(!d.isMap(e))throw Error("Merge sources must be maps or map aliases");for(let[c,d]of e.toJSON(null,a,Map))b instanceof Map?b.has(c)||b.set(c,d):b instanceof Set?b.add(c):Object.prototype.hasOwnProperty.call(b,c)||Object.defineProperty(b,c,{value:d,writable:!0,enumerable:!0,configurable:!0});return b}b.addMergeToJSMap=i,b.isMergeKey=h,b.merge=g},97216:(a,b,c)=>{var d=c(28354),e=c(27910).Transform,f=c(18975);function g(a,b){if(!(this instanceof g))return new g(a,b);b||(b={}),void 0===b.highWaterMark&&(b.highWaterMark=1);var c=this;e.call(c,b),c.hex=f(b),c.hex.pipe(a)}a.exports=g,d.inherits(g,e),g.prototype._transform=function(a,b,c){var d=this;d.hex.write(a,b,function(){d.push(a),c()})},g.prototype._flush=function(a){var b=this;b.hex.end(null,null,a)}},97579:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0>=d(a,b,c)},97747:a=>{"use strict";a.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},97798:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OTLPTraceExporter:()=>o});var d=c(24774),e=c(66336),f=c(89162),g=c(144),h=c(20795),i="0.52.1",j=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},l="v1/traces",m="http://localhost:4318/"+l,n={"User-Agent":"OTel-OTLP-Exporter-JavaScript/"+i},o=function(a){function b(b){void 0===b&&(b={});var c=a.call(this,b,h.nW,"application/x-protobuf")||this;return c.headers=k(k(k(k({},c.headers),n),d.parseKeyPairsIntoRecord((0,e._)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,f.QG)(null==b?void 0:b.headers)),c}return j(b,a),b.prototype.getDefaultUrl=function(a){return"string"==typeof a.url?a.url:(0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,f.u3)((0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,f.Ir)((0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT,l):m},b}(g.u)},97866:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}b.default=function(){function a(){d(this,a)}return c(a,[{key:"info",value:function(a){}},{key:"error",value:function(a){}}]),a}()},97945:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChannelCredentials=void 0,b.createCertificateProviderChannelCredentials=r;let d=c(34631),e=c(10589),f=c(30762),g=c(9413),h=c(43313),i=c(38702),j=c(56458);function k(a,b){if(a&&!(a instanceof Buffer))throw TypeError(`${b}, if provided, must be a Buffer.`)}class l{compose(a){return new s(this,a)}static createSsl(a,b,c,e){var g;if(k(a,"Root certificate"),k(b,"Private key"),k(c,"Certificate chain"),b&&!c)throw Error("Private key must be given with accompanying certificate chain");if(!b&&c)throw Error("Certificate chain must be given with accompanying private key");return new p((0,d.createSecureContext)({ca:null!=(g=null!=a?a:(0,f.getDefaultRootsData)())?g:void 0,key:null!=b?b:void 0,cert:null!=c?c:void 0,ciphers:f.CIPHER_SUITES}),null!=e?e:{})}static createFromSecureContext(a,b){return new p(a,null!=b?b:{})}static createInsecure(){return new m}}b.ChannelCredentials=l;class m extends l{constructor(){super()}compose(a){throw Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(a){return a instanceof m}_createSecureConnector(a,b,c){return{connect:a=>Promise.resolve({socket:a,secure:!1}),waitForReady:()=>Promise.resolve(),getCallCredentials:()=>null!=c?c:e.CallCredentials.createEmpty(),destroy(){}}}}function n(a,b,c,e){var f,i;let j={secureContext:a},k=c;if("grpc.http_connect_target"in e){let a=(0,g.parseUri)(e["grpc.http_connect_target"]);a&&(k=a)}let l=(0,h.getDefaultAuthority)(k),m=(0,g.splitHostPort)(l),n=null!=(f=null==m?void 0:m.host)?f:l;if(j.host=n,b.checkServerIdentity&&(j.checkServerIdentity=b.checkServerIdentity),void 0!==b.rejectUnauthorized&&(j.rejectUnauthorized=b.rejectUnauthorized),j.ALPNProtocols=["h2"],e["grpc.ssl_target_name_override"]){let a=e["grpc.ssl_target_name_override"],b=null!=(i=j.checkServerIdentity)?i:d.checkServerIdentity;j.checkServerIdentity=(c,d)=>b(a,d),j.servername=a}else j.servername=n;return e["grpc-node.tls_enable_trace"]&&(j.enableTrace=!0),j}class o{constructor(a,b){this.connectionOptions=a,this.callCredentials=b}connect(a){let b=Object.assign({socket:a},this.connectionOptions);return new Promise((a,c)=>{let e=(0,d.connect)(b,()=>{var b;if((null==(b=this.connectionOptions.rejectUnauthorized)||b)&&!e.authorized)return void c(e.authorizationError);a({socket:e,secure:!0})});e.on("error",a=>{c(a)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class p extends l{constructor(a,b){super(),this.secureContext=a,this.verifyOptions=b}_isSecure(){return!0}_equals(a){return this===a||a instanceof p&&this.secureContext===a.secureContext&&this.verifyOptions.checkServerIdentity===a.verifyOptions.checkServerIdentity}_createSecureConnector(a,b,c){return new o(n(this.secureContext,this.verifyOptions,a,b),null!=c?c:e.CallCredentials.createEmpty())}}class q extends l{constructor(a,b,c){super(),this.caCertificateProvider=a,this.identityCertificateProvider=b,this.verifyOptions=c,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(a){var b,c;return this===a||a instanceof q&&this.caCertificateProvider===a.caCertificateProvider&&this.identityCertificateProvider===a.identityCertificateProvider&&(null==(b=this.verifyOptions)?void 0:b.checkServerIdentity)===(null==(c=a.verifyOptions)?void 0:c.checkServerIdentity)}ref(){var a;0===this.refcount&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),null==(a=this.identityCertificateProvider)||a.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var a;this.refcount-=1,0===this.refcount&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),null==(a=this.identityCertificateProvider)||a.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(a,b,c){return this.ref(),new q.SecureConnectorImpl(this,a,b,null!=c?c:e.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let a of this.secureContextWatchers)a(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(a){this.latestCaUpdate=a,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(a){this.latestIdentityUpdate=a,this.maybeUpdateWatchers()}hasReceivedUpdates(){return void 0!==this.latestCaUpdate&&(!this.identityCertificateProvider||void 0!==this.latestIdentityUpdate)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(a=>{this.secureContextWatchers.push(a)})}getLatestSecureContext(){var a,b;if(!this.latestCaUpdate||null!==this.identityCertificateProvider&&!this.latestIdentityUpdate)return null;try{return(0,d.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:null==(a=this.latestIdentityUpdate)?void 0:a.privateKey,cert:null==(b=this.latestIdentityUpdate)?void 0:b.certificate,ciphers:f.CIPHER_SUITES})}catch(a){return(0,i.log)(j.LogVerbosity.ERROR,"Failed to createSecureContext with error "+a.message),null}}}function r(a,b,c){return new q(a,b,null!=c?c:{})}q.SecureConnectorImpl=class{constructor(a,b,c,d){this.parent=a,this.channelTarget=b,this.options=c,this.callCredentials=d}connect(a){return new Promise((b,c)=>{let e=this.parent.getLatestSecureContext();if(!e)return void c(Error("Failed to load credentials"));a.closed&&c(Error("Socket closed while loading credentials"));let f=Object.assign({socket:a},n(e,this.parent.verifyOptions,this.channelTarget,this.options)),g=()=>{c(Error("Socket closed"))},h=a=>{c(a)},i=(0,d.connect)(f,()=>{var a;if(i.removeListener("close",g),i.removeListener("error",h),(null==(a=this.parent.verifyOptions.rejectUnauthorized)||a)&&!i.authorized)return void c(i.authorizationError);b({socket:i,secure:!0})});i.once("close",g),i.once("error",h)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};class s extends l{constructor(a,b){if(super(),this.channelCredentials=a,this.callCredentials=b,!a._isSecure())throw Error("Cannot compose insecure credentials")}compose(a){let b=this.callCredentials.compose(a);return new s(this.channelCredentials,b)}_isSecure(){return!0}_equals(a){return this===a||a instanceof s&&this.channelCredentials._equals(a.channelCredentials)&&this.callCredentials._equals(a.callCredentials)}_createSecureConnector(a,b,c){let d=this.callCredentials.compose(null!=c?c:e.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(a,b,d)}}},97988:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.formatLimitDefinition=void 0;let d=c(5853),e=c(53864),f=e.operators,g={formatMaximum:{okStr:"<=",ok:f.LTE,fail:f.GT},formatMinimum:{okStr:">=",ok:f.GTE,fail:f.LT},formatExclusiveMaximum:{okStr:"<",ok:f.LT,fail:f.GTE},formatExclusiveMinimum:{okStr:">",ok:f.GT,fail:f.LTE}},h={message:({keyword:a,schemaCode:b})=>(0,e.str)`should be ${g[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,e._)`{comparison: ${g[a].okStr}, limit: ${b}}`};b.formatLimitDefinition={keyword:Object.keys(g),type:"string",schemaType:"string",$data:!0,error:h,code(a){let{gen:b,data:c,schemaCode:f,keyword:h,it:i}=a,{opts:j,self:k}=i;if(!j.validateFormats)return;let l=new d.KeywordCxt(i,k.RULES.all.format.definition,"format");function m(){let c=b.scopeValue("formats",{ref:k.formats,code:j.code.formats}),d=b.const("fmt",(0,e._)`${c}[${l.schemaCode}]`);a.fail$data((0,e.or)((0,e._)`typeof ${d} != "object"`,(0,e._)`${d} instanceof RegExp`,(0,e._)`typeof ${d}.compare != "function"`,o(d)))}function n(){let c=l.schema,d=k.formats[c];if(!d||!0===d)return;if("object"!=typeof d||d instanceof RegExp||"function"!=typeof d.compare)throw Error(`"${h}": format "${c}" does not define "compare" function`);let f=b.scopeValue("formats",{key:c,ref:d,code:j.code.formats?(0,e._)`${j.code.formats}${(0,e.getProperty)(c)}`:void 0});a.fail$data(o(f))}function o(a){return(0,e._)`${a}.compare(${c}, ${f}) ${g[h].fail} 0`}l.$data?m():n()},dependencies:["format"]};let i=a=>(a.addKeyword(b.formatLimitDefinition),a);b.default=i},98095:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=a=>h(d({},"__esModule",{value:!0}),a),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GENERIC_VEO_INFO:()=>s,VeoConfigSchema:()=>o,defineVeoModel:()=>t}),a.exports=i(j);var k=c(6250),l=c(48145),m=c(73396),n=c(83926);let o=k.z.object({negativePrompt:k.z.string().optional(),aspectRatio:k.z.enum(["9:16","16:9"]).describe("Desired aspect ratio of the output video.").optional(),personGeneration:k.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional(),durationSeconds:k.z.number().step(1).min(5).max(8).describe("Length of each output video in seconds, between 5 and 8.").optional(),enhance_prompt:k.z.boolean().describe("Enable or disable the prompt rewriter. Enabled by default.").optional()}).passthrough();function p(a){return a.messages.at(-1).content.map(a=>a.text||"").join("")}function q(a){let b={...a?.config};for(let a in b)b[a]||delete b[a];return b}function r(a){let b=a.messages.at(-1)?.content.find(a=>!!a.media)?.media;if(b)return{bytesBase64Encoded:b?.url.split(",")[1],mimeType:b.contentType}}let s={label:"Google AI - Generic Veo",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"],longRunning:!0}};function t(a,b,c){if(!1!==c&&!(c=c||(0,m.getApiKeyFromEnvVar)()))throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let d=`googleai/${b}`,e=(0,l.modelRef)({name:d,info:{...s,label:`Google AI - ${b}`},configSchema:o});return a.defineBackgroundModel({name:d,...e.info,configSchema:o,async start(a){let d={prompt:p(a)},f=r(a);f&&(d.image=f);let g=(0,n.predictModel)(e.version||b,c,"predictLongRunning");return u(await g([d],q(a)))},check:async a=>u(await (0,n.checkOp)(a.id,c))})}function u(a){let b={id:a.name};return void 0!==a.done&&(b.done=a.done),a.error&&(b.error={message:a.error.message}),a.response&&a.response.generateVideoResponse&&a.response.generateVideoResponse.generatedSamples&&(b.output={finishReason:"stop",raw:a.response,message:{role:"model",content:a.response.generateVideoResponse.generatedSamples.map(a=>({media:{url:a.video.uri}}))}}),b}},98601:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;let d=c(78562),e=c(96535),f=c(27017),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a,f={gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,d.reportError)(f,g,void 0,b)}b.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},b.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},98926:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53864),e=c(59762),f=c(20241);b.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,n=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,o);else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>p(a,c)))}function o(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${n()}(${h}, ${a})`,()=>g.assign(c,!0).break()))}function p(a,b){let c=j[b];return"object"==typeof c&&null!==c?(0,d._)`${n()}(${h}, ${a}[${b}])`:(0,d._)`${h} === ${c}`}a.pass(c)}}},99008:(a,b)=>{"use strict";b.__esModule=!0;var c=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function d(a,b){var e=b&&b.loc,f=void 0,g=void 0,h=void 0,i=void 0;e&&(f=e.start.line,g=e.end.line,h=e.start.column,i=e.end.column,a+=" - "+f+":"+h);for(var j=Error.prototype.constructor.call(this,a),k=0;k<c.length;k++)this[c[k]]=j[c[k]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{e&&(this.lineNumber=f,this.endLineNumber=g,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:i,enumerable:!0})):(this.column=h,this.endColumn=i))}catch(a){}}d.prototype=Error(),b.default=d,a.exports=b.default},99052:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>hP,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>hQ,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>hR,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>hS,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>hu,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>hv,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>hw,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>hx,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>hX,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>hY,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>hO,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>hN,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>hT,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>ht,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>hU,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>hV,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>hW,ATTR_CLIENT_ADDRESS:()=>hZ,ATTR_CLIENT_PORT:()=>h$,ATTR_ERROR_TYPE:()=>h_,ATTR_EXCEPTION_ESCAPED:()=>h1,ATTR_EXCEPTION_MESSAGE:()=>h2,ATTR_EXCEPTION_STACKTRACE:()=>h3,ATTR_EXCEPTION_TYPE:()=>h4,ATTR_HTTP_REQUEST_HEADER:()=>h5,ATTR_HTTP_REQUEST_METHOD:()=>h6,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>ii,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>ij,ATTR_HTTP_RESPONSE_HEADER:()=>ik,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>il,ATTR_HTTP_ROUTE:()=>im,ATTR_JVM_GC_ACTION:()=>io,ATTR_JVM_GC_NAME:()=>ip,ATTR_JVM_MEMORY_POOL_NAME:()=>iq,ATTR_JVM_MEMORY_TYPE:()=>ir,ATTR_JVM_THREAD_DAEMON:()=>iu,ATTR_JVM_THREAD_STATE:()=>iv,ATTR_NETWORK_LOCAL_ADDRESS:()=>iC,ATTR_NETWORK_LOCAL_PORT:()=>iD,ATTR_NETWORK_PEER_ADDRESS:()=>iE,ATTR_NETWORK_PEER_PORT:()=>iF,ATTR_NETWORK_PROTOCOL_NAME:()=>iG,ATTR_NETWORK_PROTOCOL_VERSION:()=>iH,ATTR_NETWORK_TRANSPORT:()=>iI,ATTR_NETWORK_TYPE:()=>iO,ATTR_OTEL_SCOPE_NAME:()=>iR,ATTR_OTEL_SCOPE_VERSION:()=>iS,ATTR_OTEL_STATUS_CODE:()=>iT,ATTR_OTEL_STATUS_DESCRIPTION:()=>iW,ATTR_SERVER_ADDRESS:()=>iX,ATTR_SERVER_PORT:()=>iY,ATTR_SERVICE_NAME:()=>iZ,ATTR_SERVICE_VERSION:()=>i$,ATTR_SIGNALR_CONNECTION_STATUS:()=>i_,ATTR_SIGNALR_TRANSPORT:()=>i3,ATTR_TELEMETRY_SDK_LANGUAGE:()=>hy,ATTR_TELEMETRY_SDK_NAME:()=>hL,ATTR_TELEMETRY_SDK_VERSION:()=>hM,ATTR_URL_FRAGMENT:()=>i7,ATTR_URL_FULL:()=>i8,ATTR_URL_PATH:()=>i9,ATTR_URL_QUERY:()=>ja,ATTR_URL_SCHEME:()=>jb,ATTR_USER_AGENT_ORIGINAL:()=>jc,AWSECSLAUNCHTYPEVALUES_EC2:()=>hs.Jn,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>hs.Fz,AwsEcsLaunchtypeValues:()=>hs.AS,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>hs.WE,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>hs.op,CLOUDPLATFORMVALUES_AWS_EC2:()=>hs.WC,CLOUDPLATFORMVALUES_AWS_ECS:()=>hs.p7,CLOUDPLATFORMVALUES_AWS_EKS:()=>hs.Vx,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>hs.Vf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>hs.JO,CLOUDPLATFORMVALUES_AZURE_AKS:()=>hs.Vm,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>hs.L6,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>hs.oH,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>hs.$R,CLOUDPLATFORMVALUES_AZURE_VM:()=>hs.zF,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>hs.$T,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>hs.a1,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>hs.qB,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>hs.Tg,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>hs.qN,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>hs.Eh,CLOUDPROVIDERVALUES_AWS:()=>hs.Xm,CLOUDPROVIDERVALUES_AZURE:()=>hs.BY,CLOUDPROVIDERVALUES_GCP:()=>hs.ov,CloudPlatformValues:()=>hs.ns,CloudProviderValues:()=>hs.jV,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>e4,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>fc,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>e5,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>fb,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>e7,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>fe,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>e8,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>e6,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>fd,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>fa,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>e9,DBSYSTEMVALUES_ADABAS:()=>eq,DBSYSTEMVALUES_CACHE:()=>ep,DBSYSTEMVALUES_CASSANDRA:()=>eH,DBSYSTEMVALUES_CLOUDSCAPE:()=>eh,DBSYSTEMVALUES_COCKROACHDB:()=>eT,DBSYSTEMVALUES_COLDFUSION:()=>eG,DBSYSTEMVALUES_COSMOSDB:()=>eN,DBSYSTEMVALUES_COUCHBASE:()=>eL,DBSYSTEMVALUES_COUCHDB:()=>eM,DBSYSTEMVALUES_DB2:()=>ed,DBSYSTEMVALUES_DERBY:()=>es,DBSYSTEMVALUES_DYNAMODB:()=>eO,DBSYSTEMVALUES_EDB:()=>eo,DBSYSTEMVALUES_ELASTICSEARCH:()=>eR,DBSYSTEMVALUES_FILEMAKER:()=>et,DBSYSTEMVALUES_FIREBIRD:()=>er,DBSYSTEMVALUES_FIRSTSQL:()=>en,DBSYSTEMVALUES_GEODE:()=>eQ,DBSYSTEMVALUES_H2:()=>eF,DBSYSTEMVALUES_HANADB:()=>el,DBSYSTEMVALUES_HBASE:()=>eI,DBSYSTEMVALUES_HIVE:()=>eg,DBSYSTEMVALUES_HSQLDB:()=>ei,DBSYSTEMVALUES_INFORMIX:()=>eu,DBSYSTEMVALUES_INGRES:()=>em,DBSYSTEMVALUES_INSTANTDB:()=>ev,DBSYSTEMVALUES_INTERBASE:()=>ew,DBSYSTEMVALUES_MARIADB:()=>ex,DBSYSTEMVALUES_MAXDB:()=>ek,DBSYSTEMVALUES_MEMCACHED:()=>eS,DBSYSTEMVALUES_MONGODB:()=>eJ,DBSYSTEMVALUES_MSSQL:()=>ea,DBSYSTEMVALUES_MYSQL:()=>eb,DBSYSTEMVALUES_NEO4J:()=>eP,DBSYSTEMVALUES_NETEZZA:()=>ey,DBSYSTEMVALUES_ORACLE:()=>ec,DBSYSTEMVALUES_OTHER_SQL:()=>d9,DBSYSTEMVALUES_PERVASIVE:()=>ez,DBSYSTEMVALUES_POINTBASE:()=>eA,DBSYSTEMVALUES_POSTGRESQL:()=>ee,DBSYSTEMVALUES_PROGRESS:()=>ej,DBSYSTEMVALUES_REDIS:()=>eK,DBSYSTEMVALUES_REDSHIFT:()=>ef,DBSYSTEMVALUES_SQLITE:()=>eB,DBSYSTEMVALUES_SYBASE:()=>eC,DBSYSTEMVALUES_TERADATA:()=>eD,DBSYSTEMVALUES_VERTICA:()=>eE,DbCassandraConsistencyLevelValues:()=>ff,DbSystemValues:()=>eU,ERROR_TYPE_VALUE_OTHER:()=>h0,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>fw,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>fv,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>fu,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>fC,FAASINVOKEDPROVIDERVALUES_AWS:()=>fD,FAASINVOKEDPROVIDERVALUES_AZURE:()=>fE,FAASINVOKEDPROVIDERVALUES_GCP:()=>fF,FAASTRIGGERVALUES_DATASOURCE:()=>fl,FAASTRIGGERVALUES_HTTP:()=>fm,FAASTRIGGERVALUES_OTHER:()=>fp,FAASTRIGGERVALUES_PUBSUB:()=>fn,FAASTRIGGERVALUES_TIMER:()=>fo,FaasDocumentOperationValues:()=>fx,FaasInvokedProviderValues:()=>fG,FaasTriggerValues:()=>fq,HOSTARCHVALUES_AMD64:()=>hs.so,HOSTARCHVALUES_ARM32:()=>hs.hi,HOSTARCHVALUES_ARM64:()=>hs.UQ,HOSTARCHVALUES_IA64:()=>hs.av,HOSTARCHVALUES_PPC32:()=>hs.OZ,HOSTARCHVALUES_PPC64:()=>hs.DL,HOSTARCHVALUES_X86:()=>hs.ig,HTTPFLAVORVALUES_HTTP_1_0:()=>gR,HTTPFLAVORVALUES_HTTP_1_1:()=>gS,HTTPFLAVORVALUES_HTTP_2_0:()=>gT,HTTPFLAVORVALUES_QUIC:()=>gV,HTTPFLAVORVALUES_SPDY:()=>gU,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>h8,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>h9,HTTP_REQUEST_METHOD_VALUE_GET:()=>ia,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>ib,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>ic,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>h7,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>id,HTTP_REQUEST_METHOD_VALUE_POST:()=>ie,HTTP_REQUEST_METHOD_VALUE_PUT:()=>ig,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>ih,HostArchValues:()=>hs.Cg,HttpFlavorValues:()=>gW,JVM_MEMORY_TYPE_VALUE_HEAP:()=>is,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>it,JVM_THREAD_STATE_VALUE_BLOCKED:()=>iw,JVM_THREAD_STATE_VALUE_NEW:()=>ix,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>iy,JVM_THREAD_STATE_VALUE_TERMINATED:()=>iz,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>iA,JVM_THREAD_STATE_VALUE_WAITING:()=>iB,MESSAGETYPEVALUES_RECEIVED:()=>hq,MESSAGETYPEVALUES_SENT:()=>hp,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>gZ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>g$,MESSAGINGOPERATIONVALUES_PROCESS:()=>g3,MESSAGINGOPERATIONVALUES_RECEIVE:()=>g2,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>jd,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>je,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>jf,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>ji,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>jh,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>jg,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>jj,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>jk,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>jl,METRIC_JVM_CLASS_COUNT:()=>jm,METRIC_JVM_CLASS_LOADED:()=>jn,METRIC_JVM_CLASS_UNLOADED:()=>jo,METRIC_JVM_CPU_COUNT:()=>jp,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>jq,METRIC_JVM_CPU_TIME:()=>jr,METRIC_JVM_GC_DURATION:()=>js,METRIC_JVM_MEMORY_COMMITTED:()=>jt,METRIC_JVM_MEMORY_LIMIT:()=>ju,METRIC_JVM_MEMORY_USED:()=>jv,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>jw,METRIC_JVM_THREAD_COUNT:()=>jx,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>jy,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>jz,METRIC_KESTREL_CONNECTION_DURATION:()=>jA,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>jB,METRIC_KESTREL_QUEUED_REQUESTS:()=>jC,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>jD,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>jE,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>jF,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>jG,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>jH,MessageTypeValues:()=>hr,MessagingDestinationKindValues:()=>g_,MessagingOperationValues:()=>g4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>gt,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>gw,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>gr,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>gD,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>gu,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>gv,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>gB,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>gq,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>gF,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>gx,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>gz,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>gE,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>gy,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>gA,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>gH,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>gC,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>gK,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>gI,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>gJ,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>gG,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>gs,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>f1,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>f2,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>f3,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>f_,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>f0,NETTRANSPORTVALUES_INPROC:()=>fT,NETTRANSPORTVALUES_IP:()=>fQ,NETTRANSPORTVALUES_IP_TCP:()=>fO,NETTRANSPORTVALUES_IP_UDP:()=>fP,NETTRANSPORTVALUES_OTHER:()=>fU,NETTRANSPORTVALUES_PIPE:()=>fS,NETTRANSPORTVALUES_UNIX:()=>fR,NETWORK_TRANSPORT_VALUE_PIPE:()=>iJ,NETWORK_TRANSPORT_VALUE_QUIC:()=>iK,NETWORK_TRANSPORT_VALUE_TCP:()=>iL,NETWORK_TRANSPORT_VALUE_UDP:()=>iM,NETWORK_TRANSPORT_VALUE_UNIX:()=>iN,NETWORK_TYPE_VALUE_IPV4:()=>iP,NETWORK_TYPE_VALUE_IPV6:()=>iQ,NetHostConnectionSubtypeValues:()=>gL,NetHostConnectionTypeValues:()=>f4,NetTransportValues:()=>fV,OSTYPEVALUES_AIX:()=>hs.cJ,OSTYPEVALUES_DARWIN:()=>hs.JW,OSTYPEVALUES_DRAGONFLYBSD:()=>hs.tD,OSTYPEVALUES_FREEBSD:()=>hs.xG,OSTYPEVALUES_HPUX:()=>hs.BT,OSTYPEVALUES_LINUX:()=>hs.Yh,OSTYPEVALUES_NETBSD:()=>hs.sS,OSTYPEVALUES_OPENBSD:()=>hs.h7,OSTYPEVALUES_SOLARIS:()=>hs.l9,OSTYPEVALUES_WINDOWS:()=>hs.xR,OSTYPEVALUES_Z_OS:()=>hs.Pi,OTEL_STATUS_CODE_VALUE_ERROR:()=>iU,OTEL_STATUS_CODE_VALUE_OK:()=>iV,OsTypeValues:()=>hs.h0,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>hf,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>hb,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>g6,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>hk,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>g9,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>he,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>hi,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>g8,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>ha,RPCGRPCSTATUSCODEVALUES_OK:()=>g5,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>hg,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>hc,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>hd,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>hl,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>hj,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>hh,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>g7,RpcGrpcStatusCodeValues:()=>hm,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>cH,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>cT,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>cE,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>cA,SEMATTRS_AWS_DYNAMODB_COUNT:()=>cR,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>cM,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>cK,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>cU,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>cI,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>cB,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>cG,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>cL,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>cF,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>cC,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>cD,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>cS,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>cO,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cP,SEMATTRS_AWS_DYNAMODB_SELECT:()=>cJ,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>cN,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>cz,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>cQ,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bo,SEMATTRS_CODE_FILEPATH:()=>ci,SEMATTRS_CODE_FUNCTION:()=>cg,SEMATTRS_CODE_LINENO:()=>cj,SEMATTRS_CODE_NAMESPACE:()=>ch,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>bz,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>bE,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>bD,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>bB,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>bx,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>by,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>bC,SEMATTRS_DB_CASSANDRA_TABLE:()=>bA,SEMATTRS_DB_CONNECTION_STRING:()=>bq,SEMATTRS_DB_HBASE_NAMESPACE:()=>bF,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>bs,SEMATTRS_DB_MONGODB_COLLECTION:()=>bH,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>bw,SEMATTRS_DB_NAME:()=>bt,SEMATTRS_DB_OPERATION:()=>bv,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>bG,SEMATTRS_DB_SQL_TABLE:()=>bI,SEMATTRS_DB_STATEMENT:()=>bu,SEMATTRS_DB_SYSTEM:()=>bp,SEMATTRS_DB_USER:()=>br,SEMATTRS_ENDUSER_ID:()=>cb,SEMATTRS_ENDUSER_ROLE:()=>cc,SEMATTRS_ENDUSER_SCOPE:()=>cd,SEMATTRS_EXCEPTION_ESCAPED:()=>bM,SEMATTRS_EXCEPTION_MESSAGE:()=>bK,SEMATTRS_EXCEPTION_STACKTRACE:()=>bL,SEMATTRS_EXCEPTION_TYPE:()=>bJ,SEMATTRS_FAAS_COLDSTART:()=>bV,SEMATTRS_FAAS_CRON:()=>bU,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>bP,SEMATTRS_FAAS_DOCUMENT_NAME:()=>bS,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>bQ,SEMATTRS_FAAS_DOCUMENT_TIME:()=>bR,SEMATTRS_FAAS_EXECUTION:()=>bO,SEMATTRS_FAAS_INVOKED_NAME:()=>bW,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>bX,SEMATTRS_FAAS_INVOKED_REGION:()=>bY,SEMATTRS_FAAS_TIME:()=>bT,SEMATTRS_FAAS_TRIGGER:()=>bN,SEMATTRS_HTTP_CLIENT_IP:()=>cy,SEMATTRS_HTTP_FLAVOR:()=>cq,SEMATTRS_HTTP_HOST:()=>cn,SEMATTRS_HTTP_METHOD:()=>ck,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>cs,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>ct,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>cu,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>cv,SEMATTRS_HTTP_ROUTE:()=>cx,SEMATTRS_HTTP_SCHEME:()=>co,SEMATTRS_HTTP_SERVER_NAME:()=>cw,SEMATTRS_HTTP_STATUS_CODE:()=>cp,SEMATTRS_HTTP_TARGET:()=>cm,SEMATTRS_HTTP_URL:()=>cl,SEMATTRS_HTTP_USER_AGENT:()=>cr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>dm,SEMATTRS_MESSAGE_ID:()=>dl,SEMATTRS_MESSAGE_TYPE:()=>dk,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>dn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>c5,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>c1,SEMATTRS_MESSAGING_DESTINATION:()=>cW,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>cX,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>c9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>c8,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>c7,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>da,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>db,SEMATTRS_MESSAGING_MESSAGE_ID:()=>c0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>c3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>c2,SEMATTRS_MESSAGING_OPERATION:()=>c4,SEMATTRS_MESSAGING_PROTOCOL:()=>cZ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>c$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>c6,SEMATTRS_MESSAGING_SYSTEM:()=>cV,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>cY,SEMATTRS_MESSAGING_URL:()=>c_,SEMATTRS_NET_HOST_CARRIER_ICC:()=>b9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>b7,SEMATTRS_NET_HOST_CARRIER_MNC:()=>b8,SEMATTRS_NET_HOST_CARRIER_NAME:()=>b6,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>b5,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>b4,SEMATTRS_NET_HOST_IP:()=>b1,SEMATTRS_NET_HOST_NAME:()=>b3,SEMATTRS_NET_HOST_PORT:()=>b2,SEMATTRS_NET_PEER_IP:()=>b$,SEMATTRS_NET_PEER_NAME:()=>b0,SEMATTRS_NET_PEER_PORT:()=>b_,SEMATTRS_NET_TRANSPORT:()=>bZ,SEMATTRS_PEER_SERVICE:()=>ca,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>df,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>di,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>dj,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>dh,SEMATTRS_RPC_JSONRPC_VERSION:()=>dg,SEMATTRS_RPC_METHOD:()=>de,SEMATTRS_RPC_SERVICE:()=>dd,SEMATTRS_RPC_SYSTEM:()=>dc,SEMATTRS_THREAD_ID:()=>ce,SEMATTRS_THREAD_NAME:()=>cf,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>hs.VH,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>hs.SV,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>hs.SA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>hs.yB,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>hs.Zf,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>hs.MK,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>hs.v0,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>hs.an,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>hs.qF,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>hs.ZZ,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>hs.Dn,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>hs.E3,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>hs.xC,SEMRESATTRS_CLOUD_PLATFORM:()=>hs.Iq,SEMRESATTRS_CLOUD_PROVIDER:()=>hs.mA,SEMRESATTRS_CLOUD_REGION:()=>hs.Nw,SEMRESATTRS_CONTAINER_ID:()=>hs.ux,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>hs.uB,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>hs.RB,SEMRESATTRS_CONTAINER_NAME:()=>hs.aA,SEMRESATTRS_CONTAINER_RUNTIME:()=>hs.PZ,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>hs.I2,SEMRESATTRS_DEVICE_ID:()=>hs.tn,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>hs.BF,SEMRESATTRS_DEVICE_MODEL_NAME:()=>hs.Bt,SEMRESATTRS_FAAS_ID:()=>hs.Mm,SEMRESATTRS_FAAS_INSTANCE:()=>hs.uu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>hs.PO,SEMRESATTRS_FAAS_NAME:()=>hs.Uf,SEMRESATTRS_FAAS_VERSION:()=>hs.lO,SEMRESATTRS_HOST_ARCH:()=>hs.yT,SEMRESATTRS_HOST_ID:()=>hs.zs,SEMRESATTRS_HOST_IMAGE_ID:()=>hs.HP,SEMRESATTRS_HOST_IMAGE_NAME:()=>hs.be,SEMRESATTRS_HOST_IMAGE_VERSION:()=>hs.g9,SEMRESATTRS_HOST_NAME:()=>hs.RK,SEMRESATTRS_HOST_TYPE:()=>hs.kE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>hs.IG,SEMRESATTRS_K8S_CONTAINER_NAME:()=>hs.Pb,SEMRESATTRS_K8S_CRONJOB_NAME:()=>hs.Vy,SEMRESATTRS_K8S_CRONJOB_UID:()=>hs.gT,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>hs.Su,SEMRESATTRS_K8S_DAEMONSET_UID:()=>hs.rK,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>hs.do,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>hs.k7,SEMRESATTRS_K8S_JOB_NAME:()=>hs.z3,SEMRESATTRS_K8S_JOB_UID:()=>hs.mc,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>hs.Tl,SEMRESATTRS_K8S_NODE_NAME:()=>hs.Ky,SEMRESATTRS_K8S_NODE_UID:()=>hs.pV,SEMRESATTRS_K8S_POD_NAME:()=>hs.TH,SEMRESATTRS_K8S_POD_UID:()=>hs.gJ,SEMRESATTRS_K8S_REPLICASET_NAME:()=>hs.kv,SEMRESATTRS_K8S_REPLICASET_UID:()=>hs.PU,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>hs.kn,SEMRESATTRS_K8S_STATEFULSET_UID:()=>hs.f8,SEMRESATTRS_OS_DESCRIPTION:()=>hs.ik,SEMRESATTRS_OS_NAME:()=>hs.hQ,SEMRESATTRS_OS_TYPE:()=>hs.ko,SEMRESATTRS_OS_VERSION:()=>hs.AC,SEMRESATTRS_PROCESS_COMMAND:()=>hs.Cn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>hs.U2,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>hs.x2,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>hs.fP,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>hs.xQ,SEMRESATTRS_PROCESS_OWNER:()=>hs.Yb,SEMRESATTRS_PROCESS_PID:()=>hs.ky,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>hs.C3,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>hs.lb,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>hs.cV,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>hs.PL,SEMRESATTRS_SERVICE_NAME:()=>hs.AV,SEMRESATTRS_SERVICE_NAMESPACE:()=>hs.ar,SEMRESATTRS_SERVICE_VERSION:()=>hs.xs,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>hs.nA,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>hs.Pl,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>hs.$L,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>hs.y$,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>hs.U1,SEMRESATTRS_WEBENGINE_NAME:()=>hs.HF,SEMRESATTRS_WEBENGINE_VERSION:()=>hs.WN,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>i0,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>i1,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>i2,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>i4,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>i5,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>i6,SemanticAttributes:()=>dp,SemanticResourceAttributes:()=>hs._2,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>hs.S5,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>hs.XE,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>hs.o2,TELEMETRYSDKLANGUAGEVALUES_GO:()=>hs.HE,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>hs.du,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>hs.wE,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>hs.tP,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>hs.$c,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>hs.jN,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>hs.uh,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>hz,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>hA,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>hB,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>hC,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>hD,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>hE,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>hF,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>hG,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>hH,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>hI,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>hJ,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>hK,TelemetrySdkLanguageValues:()=>hs.wP});var d=c(66556),e="aws.lambda.invoked_arn",f="db.system",g="db.connection_string",h="db.user",i="db.jdbc.driver_classname",j="db.name",k="db.statement",l="db.operation",m="db.mssql.instance_name",n="db.cassandra.keyspace",o="db.cassandra.page_size",p="db.cassandra.consistency_level",q="db.cassandra.table",r="db.cassandra.idempotence",s="db.cassandra.speculative_execution_count",t="db.cassandra.coordinator.id",u="db.cassandra.coordinator.dc",v="db.hbase.namespace",w="db.redis.database_index",x="db.mongodb.collection",y="db.sql.table",z="exception.type",A="exception.message",B="exception.stacktrace",C="exception.escaped",D="faas.trigger",E="faas.execution",F="faas.document.collection",G="faas.document.operation",H="faas.document.time",I="faas.document.name",J="faas.time",K="faas.cron",L="faas.coldstart",M="faas.invoked_name",N="faas.invoked_provider",O="faas.invoked_region",P="net.transport",Q="net.peer.ip",R="net.peer.port",S="net.peer.name",T="net.host.ip",U="net.host.port",V="net.host.name",W="net.host.connection.type",X="net.host.connection.subtype",Y="net.host.carrier.name",Z="net.host.carrier.mcc",$="net.host.carrier.mnc",_="net.host.carrier.icc",aa="peer.service",ab="enduser.id",ac="enduser.role",ad="enduser.scope",ae="thread.id",af="thread.name",ag="code.function",ah="code.namespace",ai="code.filepath",aj="code.lineno",ak="http.method",al="http.url",am="http.target",an="http.host",ao="http.scheme",ap="http.status_code",aq="http.flavor",ar="http.user_agent",as="http.request_content_length",at="http.request_content_length_uncompressed",au="http.response_content_length",av="http.response_content_length_uncompressed",aw="http.server_name",ax="http.route",ay="http.client_ip",az="aws.dynamodb.table_names",aA="aws.dynamodb.consumed_capacity",aB="aws.dynamodb.item_collection_metrics",aC="aws.dynamodb.provisioned_read_capacity",aD="aws.dynamodb.provisioned_write_capacity",aE="aws.dynamodb.consistent_read",aF="aws.dynamodb.projection",aG="aws.dynamodb.limit",aH="aws.dynamodb.attributes_to_get",aI="aws.dynamodb.index_name",aJ="aws.dynamodb.select",aK="aws.dynamodb.global_secondary_indexes",aL="aws.dynamodb.local_secondary_indexes",aM="aws.dynamodb.exclusive_start_table",aN="aws.dynamodb.table_count",aO="aws.dynamodb.scan_forward",aP="aws.dynamodb.segment",aQ="aws.dynamodb.total_segments",aR="aws.dynamodb.count",aS="aws.dynamodb.scanned_count",aT="aws.dynamodb.attribute_definitions",aU="aws.dynamodb.global_secondary_index_updates",aV="messaging.system",aW="messaging.destination",aX="messaging.destination_kind",aY="messaging.temp_destination",aZ="messaging.protocol",a$="messaging.protocol_version",a_="messaging.url",a0="messaging.message_id",a1="messaging.conversation_id",a2="messaging.message_payload_size_bytes",a3="messaging.message_payload_compressed_size_bytes",a4="messaging.operation",a5="messaging.consumer_id",a6="messaging.rabbitmq.routing_key",a7="messaging.kafka.message_key",a8="messaging.kafka.consumer_group",a9="messaging.kafka.client_id",ba="messaging.kafka.partition",bb="messaging.kafka.tombstone",bc="rpc.system",bd="rpc.service",be="rpc.method",bf="rpc.grpc.status_code",bg="rpc.jsonrpc.version",bh="rpc.jsonrpc.request_id",bi="rpc.jsonrpc.error_code",bj="rpc.jsonrpc.error_message",bk="message.type",bl="message.id",bm="message.compressed_size",bn="message.uncompressed_size",bo=e,bp=f,bq=g,br=h,bs=i,bt=j,bu=k,bv=l,bw=m,bx=n,by=o,bz=p,bA=q,bB=r,bC=s,bD=t,bE=u,bF=v,bG=w,bH=x,bI=y,bJ=z,bK=A,bL=B,bM=C,bN=D,bO=E,bP=F,bQ=G,bR=H,bS=I,bT=J,bU=K,bV=L,bW=M,bX=N,bY=O,bZ=P,b$=Q,b_=R,b0=S,b1=T,b2=U,b3=V,b4=W,b5=X,b6=Y,b7=Z,b8=$,b9=_,ca=aa,cb=ab,cc=ac,cd=ad,ce=ae,cf=af,cg=ag,ch=ah,ci=ai,cj=aj,ck=ak,cl=al,cm=am,cn=an,co=ao,cp=ap,cq=aq,cr=ar,cs=as,ct=at,cu=au,cv=av,cw=aw,cx=ax,cy=ay,cz=az,cA=aA,cB=aB,cC=aC,cD=aD,cE=aE,cF=aF,cG=aG,cH=aH,cI=aI,cJ=aJ,cK=aK,cL=aL,cM=aM,cN=aN,cO=aO,cP=aP,cQ=aQ,cR=aR,cS=aS,cT=aT,cU=aU,cV=aV,cW=aW,cX=aX,cY=aY,cZ=aZ,c$=a$,c_=a_,c0=a0,c1=a1,c2=a2,c3=a3,c4=a4,c5=a5,c6=a6,c7=a7,c8=a8,c9=a9,da=ba,db=bb,dc=bc,dd=bd,de=be,df=bf,dg=bg,dh=bh,di=bi,dj=bj,dk=bk,dl=bl,dm=bm,dn=bn,dp=(0,d.O)([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn]),dq="other_sql",dr="mssql",ds="mysql",dt="oracle",du="db2",dv="postgresql",dw="redshift",dx="hive",dy="cloudscape",dz="hsqldb",dA="progress",dB="maxdb",dC="hanadb",dD="ingres",dE="firstsql",dF="edb",dG="cache",dH="adabas",dI="firebird",dJ="derby",dK="filemaker",dL="informix",dM="instantdb",dN="interbase",dO="mariadb",dP="netezza",dQ="pervasive",dR="pointbase",dS="sqlite",dT="sybase",dU="teradata",dV="vertica",dW="h2",dX="coldfusion",dY="cassandra",dZ="hbase",d$="mongodb",d_="redis",d0="couchbase",d1="couchdb",d2="cosmosdb",d3="dynamodb",d4="neo4j",d5="geode",d6="elasticsearch",d7="memcached",d8="cockroachdb",d9=dq,ea=dr,eb=ds,ec=dt,ed=du,ee=dv,ef=dw,eg=dx,eh=dy,ei=dz,ej=dA,ek=dB,el=dC,em=dD,en=dE,eo=dF,ep=dG,eq=dH,er=dI,es=dJ,et=dK,eu=dL,ev=dM,ew=dN,ex=dO,ey=dP,ez=dQ,eA=dR,eB=dS,eC=dT,eD=dU,eE=dV,eF=dW,eG=dX,eH=dY,eI=dZ,eJ=d$,eK=d_,eL=d0,eM=d1,eN=d2,eO=d3,eP=d4,eQ=d5,eR=d6,eS=d7,eT=d8,eU=(0,d.O)([dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d$,d_,d0,d1,d2,d3,d4,d5,d6,d7,d8]),eV="all",eW="each_quorum",eX="quorum",eY="local_quorum",eZ="one",e$="two",e_="three",e0="local_one",e1="any",e2="serial",e3="local_serial",e4=eV,e5=eW,e6=eX,e7=eY,e8=eZ,e9=e$,fa=e_,fb=e0,fc=e1,fd=e2,fe=e3,ff=(0,d.O)([eV,eW,eX,eY,eZ,e$,e_,e0,e1,e2,e3]),fg="datasource",fh="http",fi="pubsub",fj="timer",fk="other",fl=fg,fm=fh,fn=fi,fo=fj,fp=fk,fq=(0,d.O)([fg,fh,fi,fj,fk]),fr="insert",fs="edit",ft="delete",fu=fr,fv=fs,fw=ft,fx=(0,d.O)([fr,fs,ft]),fy="alibaba_cloud",fz="aws",fA="azure",fB="gcp",fC=fy,fD=fz,fE=fA,fF=fB,fG=(0,d.O)([fy,fz,fA,fB]),fH="ip_tcp",fI="ip_udp",fJ="ip",fK="unix",fL="pipe",fM="inproc",fN="other",fO=fH,fP=fI,fQ=fJ,fR=fK,fS=fL,fT=fM,fU=fN,fV=(0,d.O)([fH,fI,fJ,fK,fL,fM,fN]),fW="wifi",fX="wired",fY="cell",fZ="unavailable",f$="unknown",f_=fW,f0=fX,f1=fY,f2=fZ,f3=f$,f4=(0,d.O)([fW,fX,fY,fZ,f$]),f5="gprs",f6="edge",f7="umts",f8="cdma",f9="evdo_0",ga="evdo_a",gb="cdma2000_1xrtt",gc="hsdpa",gd="hsupa",ge="hspa",gf="iden",gg="evdo_b",gh="lte",gi="ehrpd",gj="hspap",gk="gsm",gl="td_scdma",gm="iwlan",gn="nr",go="nrnsa",gp="lte_ca",gq=f5,gr=f6,gs=f7,gt=f8,gu=f9,gv=ga,gw=gb,gx=gc,gy=gd,gz=ge,gA=gf,gB=gg,gC=gh,gD=gi,gE=gj,gF=gk,gG=gl,gH=gm,gI=gn,gJ=go,gK=gp,gL=(0,d.O)([f5,f6,f7,f8,f9,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp]),gM="1.0",gN="1.1",gO="2.0",gP="SPDY",gQ="QUIC",gR=gM,gS=gN,gT=gO,gU=gP,gV=gQ,gW={HTTP_1_0:gM,HTTP_1_1:gN,HTTP_2_0:gO,SPDY:gP,QUIC:gQ},gX="queue",gY="topic",gZ=gX,g$=gY,g_=(0,d.O)([gX,gY]),g0="receive",g1="process",g2=g0,g3=g1,g4=(0,d.O)([g0,g1]),g5=0,g6=1,g7=2,g8=3,g9=4,ha=5,hb=6,hc=7,hd=8,he=9,hf=10,hg=11,hh=12,hi=13,hj=14,hk=15,hl=16,hm={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},hn="SENT",ho="RECEIVED",hp=hn,hq=ho,hr=(0,d.O)([hn,ho]),hs=c(1302),ht="aspnetcore.rate_limiting.result",hu="acquired",hv="endpoint_limiter",hw="global_limiter",hx="request_canceled",hy="telemetry.sdk.language",hz="cpp",hA="dotnet",hB="erlang",hC="go",hD="java",hE="nodejs",hF="php",hG="python",hH="ruby",hI="rust",hJ="swift",hK="webjs",hL="telemetry.sdk.name",hM="telemetry.sdk.version",hN="aspnetcore.diagnostics.handler.type",hO="aspnetcore.diagnostics.exception.result",hP="aborted",hQ="handled",hR="skipped",hS="unhandled",hT="aspnetcore.rate_limiting.policy",hU="aspnetcore.request.is_unhandled",hV="aspnetcore.routing.is_fallback",hW="aspnetcore.routing.match_status",hX="failure",hY="success",hZ="client.address",h$="client.port",h_="error.type",h0="_OTHER",h1="exception.escaped",h2="exception.message",h3="exception.stacktrace",h4="exception.type",h5=function(a){return"http.request.header."+a},h6="http.request.method",h7="_OTHER",h8="CONNECT",h9="DELETE",ia="GET",ib="HEAD",ic="OPTIONS",id="PATCH",ie="POST",ig="PUT",ih="TRACE",ii="http.request.method_original",ij="http.request.resend_count",ik=function(a){return"http.response.header."+a},il="http.response.status_code",im="http.route",io="jvm.gc.action",ip="jvm.gc.name",iq="jvm.memory.pool.name",ir="jvm.memory.type",is="heap",it="non_heap",iu="jvm.thread.daemon",iv="jvm.thread.state",iw="blocked",ix="new",iy="runnable",iz="terminated",iA="timed_waiting",iB="waiting",iC="network.local.address",iD="network.local.port",iE="network.peer.address",iF="network.peer.port",iG="network.protocol.name",iH="network.protocol.version",iI="network.transport",iJ="pipe",iK="quic",iL="tcp",iM="udp",iN="unix",iO="network.type",iP="ipv4",iQ="ipv6",iR="otel.scope.name",iS="otel.scope.version",iT="otel.status_code",iU="ERROR",iV="OK",iW="otel.status_description",iX="server.address",iY="server.port",iZ="service.name",i$="service.version",i_="signalr.connection.status",i0="app_shutdown",i1="normal_closure",i2="timeout",i3="signalr.transport",i4="long_polling",i5="server_sent_events",i6="web_sockets",i7="url.fragment",i8="url.full",i9="url.path",ja="url.query",jb="url.scheme",jc="user_agent.original",jd="aspnetcore.diagnostics.exceptions",je="aspnetcore.rate_limiting.active_request_leases",jf="aspnetcore.rate_limiting.queued_requests",jg="aspnetcore.rate_limiting.request.time_in_queue",jh="aspnetcore.rate_limiting.request_lease.duration",ji="aspnetcore.rate_limiting.requests",jj="aspnetcore.routing.match_attempts",jk="http.client.request.duration",jl="http.server.request.duration",jm="jvm.class.count",jn="jvm.class.loaded",jo="jvm.class.unloaded",jp="jvm.cpu.count",jq="jvm.cpu.recent_utilization",jr="jvm.cpu.time",js="jvm.gc.duration",jt="jvm.memory.committed",ju="jvm.memory.limit",jv="jvm.memory.used",jw="jvm.memory.used_after_last_gc",jx="jvm.thread.count",jy="kestrel.active_connections",jz="kestrel.active_tls_handshakes",jA="kestrel.connection.duration",jB="kestrel.queued_connections",jC="kestrel.queued_requests",jD="kestrel.rejected_connections",jE="kestrel.tls_handshake.duration",jF="kestrel.upgraded_connections",jG="signalr.server.active_connections",jH="signalr.server.connection.duration"},99308:(a,b,c)=>{"use strict";var d=c(48089),e=c(64072),f=c(62890);let g="\uFEFF",h="\x02",i="\x18",j="\x1f",k=a=>!!a&&"items"in a,l=a=>!!a&&("scalar"===a.type||"single-quoted-scalar"===a.type||"double-quoted-scalar"===a.type||"block-scalar"===a.type);function m(a){switch(a){case g:return"<BOM>";case h:return"<DOC>";case i:return"<FLOW_END>";case j:return"<SCALAR>";default:return JSON.stringify(a)}}function n(a){switch(a){case g:return"byte-order-mark";case h:return"doc-mode";case i:return"flow-error-end";case j:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(a[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}b.createScalarToken=d.createScalarToken,b.resolveAsScalar=d.resolveAsScalar,b.setScalarValue=d.setScalarValue,b.stringify=e.stringify,b.visit=f.visit,b.BOM=g,b.DOCUMENT=h,b.FLOW_END=i,b.SCALAR=j,b.isCollection=k,b.isScalar=l,b.prettyToken=m,b.tokenType=n},99591:(a,b,c)=>{"use strict";c.d(b,{Ir:()=>r,JU:()=>o,KJ:()=>k,VL:()=>q,W5:()=>l,_5:()=>j,lg:()=>h,mw:()=>s,tq:()=>m,u5:()=>n,uc:()=>i,w_:()=>p});var d=c(27845),e=9,f=1e6,g=1e9;function h(a){return[Math.trunc(a/1e3),Math.round(a%1e3*f)]}function i(){var a=d.u.timeOrigin;if("number"!=typeof a){var b=d.u;a=b.timing&&b.timing.fetchStart}return a}function j(a){return s(h(i()),h("number"==typeof a?a:d.u.now()))}function k(a){if(q(a))return a;if("number"==typeof a)if(a<i())return j(a);else return h(a);if(a instanceof Date)return h(a.getTime());throw TypeError("Invalid input type")}function l(a,b){var c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=g),[c,d]}function m(a){var b=e,c=""+"0".repeat(b)+a[1]+"Z",d=c.substr(c.length-b-1);return new Date(1e3*a[0]).toISOString().replace("000Z",d)}function n(a){return a[0]*g+a[1]}function o(a){return 1e3*a[0]+a[1]/1e6}function p(a){return 1e6*a[0]+a[1]/1e3}function q(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function r(a){return q(a)||"number"==typeof a||a instanceof Date}function s(a,b){var c=[a[0]+b[0],a[1]+b[1]];return c[1]>=g&&(c[1]-=g,c[0]+=1),c}},99828:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(18601),e=c(28872),f=c(59762),g=c(95351);b.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let c of l)n(c)?o(c):(b.if((0,e.propertyInData)(b,i,c,j.opts.ownProperties)),o(c),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(c),a.ok(m);function n(a){return j.opts.useDefaults&&!j.compositeRule&&void 0!==c[a].default}function o(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},99937:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(71367);b.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}}};