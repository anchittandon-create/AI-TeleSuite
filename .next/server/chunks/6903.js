"use strict";exports.id=6903,exports.ids=[6903],exports.modules={10685:(a,b,c)=>{c.d(b,{R:()=>i});var d=c(91488);c(27806);var e=c(38710),f=c(87603),g=c(40410);let h=e.ai.defineFlow({name:"generateFullCallAudioFlow",inputSchema:f.g6,outputSchema:f.Xn},async a=>{let b=a.conversationHistory?.find(a=>a.audioDataUri&&"AI"===a.speaker);return b?.audioDataUri?{audioDataUri:b.audioDataUri}:{audioDataUri:"",errorMessage:"No audio was found in the conversation turns to generate a full recording."}});async function i(a){try{return await h(a)}catch(a){return console.error("Catastrophic error in generateFullCallAudio flow:",a),{audioDataUri:"",errorMessage:`Critical error in audio generation flow: ${a.message}`}}}(0,g.D)([i]),(0,d.A)(i,"408ed81c3074e7991d01da4d5606a81d4f65f7dac4",null)},23727:(a,b,c)=>{c.d(b,{eu:()=>h,q5:()=>i});var d=c(21124),e=c(38301),f=c(71507),g=c(44943);let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...b}));h.displayName=f.bL.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f._V,{ref:c,className:(0,g.cn)("aspect-square h-full w-full",a),...b})).displayName=f._V.displayName;let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.H4,{ref:c,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...b}));i.displayName=f.H4.displayName},38692:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},40735:(a,b,c)=>{c.d(b,{R:()=>e,U:()=>d});let d=[{id:"en-IN-Wavenet-A",name:"English (India) - Female 1"},{id:"en-IN-Wavenet-D",name:"English (India) - Female 2"},{id:"en-IN-Wavenet-B",name:"English (India) - Male 1"},{id:"en-IN-Wavenet-C",name:"English (India) - Male 2"},{id:"hi-IN-Wavenet-A",name:"Hindi (India) - Female 1"},{id:"hi-IN-Wavenet-D",name:"Hindi (India) - Female 2"},{id:"hi-IN-Wavenet-B",name:"Hindi (India) - Male 1"},{id:"hi-IN-Wavenet-C",name:"Hindi (India) - Male 2"},{id:"en-US-Wavenet-D",name:"English (US) - Male"},{id:"en-US-Wavenet-F",name:"English (US) - Female"}],e="Hello, this is a sample of the selected voice that you can listen to for a preview."},42797:(a,b,c)=>{var d=c(38301),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useState,g=d.useEffect,h=d.useLayoutEffect,i=d.useDebugValue;function j(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!e(a,c)}catch(a){return!0}}var k="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(a,b){return b()}:function(a,b){var c=b(),d=f({inst:{value:c,getSnapshot:b}}),e=d[0].inst,k=d[1];return h(function(){e.value=c,e.getSnapshot=b,j(e)&&k({inst:e})},[a,c,b]),g(function(){return j(e)&&k({inst:e}),a(function(){j(e)&&k({inst:e})})},[a]),i(c),c};b.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:k},45608:(a,b,c)=>{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var d=c(21124),e=c(38301),f=c(45693),g=c(57105),h=c(76488),i=c(8015),j=c(44943);let k=f.bL;f.YJ;let l=f.WT,m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=f.l9.displayName;let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));n.displayName=f.PP.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));o.displayName=f.wn.displayName;let p=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(n,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(o,{})]})}));p.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let q=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));q.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},51886:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54039:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]])},55199:(a,b,c)=>{c.d(b,{T:()=>d});async function d(a){let b="AIzaSyCDNGYop9lEU0B3SsiujrX4w1pEa1rxwos";if(!b)throw Error("TTS Error: Google API Key is not configured for the client environment. Please set NEXT_PUBLIC_GOOGLE_API_KEY in your .env file.");let c=`https://texttospeech.googleapis.com/v1/text:synthesize?key=${b}`,d=a.voice.split("-")[0]+"-"+a.voice.split("-")[1],e={input:{text:a.text},voice:{languageCode:d,name:a.voice},audioConfig:{audioEncoding:"MP3"}};try{let a=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let b=`TTS API request failed with status ${a.status}.`,c=a.headers.get("content-type");if(c&&c.includes("application/json"))try{let c=await a.json();b=c&&c.error&&c.error.message?c.error.message:0===Object.keys(c).length?"The API returned an empty error object. This often indicates a permissions issue. Please verify in your Google Cloud Console that the 'Cloud Text-to-Speech API' is enabled and that your API key has no IP or referrer restrictions.":`Received an error from the API, but the format was unexpected. Full error: ${JSON.stringify(c).substring(0,200)}`,console.error("TTS API JSON Error:",b,c)}catch(a){b="Failed to parse JSON error response from API. The service may be down or returning an unexpected payload."}else{let c=await a.text();console.error("TTS API Non-JSON Error:",c.substring(0,500)),b=c.toLowerCase().includes("api not enabled")||c.toLowerCase().includes("texttospeech.googleapis.com")?`The 'Cloud Text-to-Speech API' is not enabled for your project or is being blocked. Please visit your Google Cloud Console to enable it. (Status: ${a.status})`:c.toLowerCase().includes("api key not valid")?`The provided API key is not valid. Please check the key in your .env file. (Status: ${a.status})`:`The API returned an unexpected response (likely HTML). This often means your API key has IP/HTTP referrer restrictions that are blocking the request. Please check your Google Cloud Console API settings. (Status: ${a.status})`}throw Error(`TTS Synthesis Failed: ${b}`)}let b=await a.json();if(!b.audioContent)throw Error("Received an invalid response from the TTS API (missing audioContent).");return{audioDataUri:`data:audio/mp3;base64,${b.audioContent}`}}catch(a){throw console.error("Error in synthesizeSpeechOnClient:",a),a}}},59487:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]])},66533:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("SquareTerminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]])},67362:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},68334:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},71507:(a,b,c)=>{c.d(b,{H4:()=>y,_V:()=>x,bL:()=>w});var d=c(38301),e=c(2332),f=c(71700),g=c(68829),h=c(6406),i=c(99088);function j(){return()=>{}}var k=c(21124),l="Avatar",[m,n]=(0,e.A)(l),[o,p]=m(l),q=d.forwardRef((a,b)=>{let{__scopeAvatar:c,...e}=a,[f,g]=d.useState("idle");return(0,k.jsx)(o,{scope:c,imageLoadingStatus:f,onImageLoadingStatusChange:g,children:(0,k.jsx)(h.sG.span,{...e,ref:b})})});q.displayName=l;var r="AvatarImage",s=d.forwardRef((a,b)=>{let{__scopeAvatar:c,src:e,onLoadingStatusChange:l=()=>{},...m}=a,n=p(r,c),o=function(a,{referrerPolicy:b,crossOrigin:c}){let e=(0,i.useSyncExternalStore)(j,()=>!0,()=>!1),f=d.useRef(null),h=e?(f.current||(f.current=new window.Image),f.current):null,[k,l]=d.useState(()=>v(h,a));return(0,g.N)(()=>{l(v(h,a))},[h,a]),(0,g.N)(()=>{let a=a=>()=>{l(a)};if(!h)return;let d=a("loaded"),e=a("error");return h.addEventListener("load",d),h.addEventListener("error",e),b&&(h.referrerPolicy=b),"string"==typeof c&&(h.crossOrigin=c),()=>{h.removeEventListener("load",d),h.removeEventListener("error",e)}},[h,c,b]),k}(e,m),q=(0,f.c)(a=>{l(a),n.onImageLoadingStatusChange(a)});return(0,g.N)(()=>{"idle"!==o&&q(o)},[o,q]),"loaded"===o?(0,k.jsx)(h.sG.img,{...m,ref:b,src:e}):null});s.displayName=r;var t="AvatarFallback",u=d.forwardRef((a,b)=>{let{__scopeAvatar:c,delayMs:e,...f}=a,g=p(t,c),[i,j]=d.useState(void 0===e);return d.useEffect(()=>{if(void 0!==e){let a=window.setTimeout(()=>j(!0),e);return()=>window.clearTimeout(a)}},[e]),i&&"loaded"!==g.imageLoadingStatus?(0,k.jsx)(h.sG.span,{...f,ref:b}):null});function v(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}u.displayName=t;var w=q,x=s,y=u},76530:(a,b,c)=>{c.d(b,{C:()=>f});var d=c(38301),e=c(37448);function f({onTranscribe:a,onTranscriptionComplete:b,onRecognitionError:c,silenceTimeout:f=30,inactivityTimeout:g=9e3}){let[h,i]=(0,d.useState)("idle"),j=(0,d.useRef)(""),k=(0,d.useRef)(null),l=(0,d.useRef)(null),{toast:m}=(0,e.dj)(),n=(0,d.useRef)(null),o=(0,d.useRef)(h);o.current=h;let p=(0,d.useRef)(a),q=(0,d.useRef)(b);return(0,d.useRef)(c),(0,d.useCallback)(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{n.current&&"recording"===o.current&&""===j.current&&q.current("")},g)},[g]),{isRecording:"recording"===h,startRecording:(0,d.useCallback)(()=>{if(n.current&&"idle"===o.current)try{j.current="",p.current(""),n.current.start(),i("recording")}catch(a){a instanceof DOMException&&"InvalidStateError"===a.name?console.warn("useWhisper: Recognition already started."):(console.error("useWhisper: Could not start speech recognition:",a),i("idle"))}},[]),stopRecording:(0,d.useCallback)(()=>{if(n.current&&("recording"===o.current||"stopping"===o.current)){i("stopping"),k.current&&clearTimeout(k.current),l.current&&clearTimeout(l.current);try{n.current.stop()}catch(a){console.warn("useWhisper: Exception during stop command.",a),i("idle")}}},[])}}},80665:(a,b,c)=>{c.d(b,{F:()=>h});var d=c(21124),e=c(38301),f=c(84550),g=c(44943);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},92080:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},93302:(a,b,c)=>{c.d(b,{j:()=>j});var d=c(21124);c(38301);var e=c(23727),f=c(62186),g=c(68334),h=c(38692),i=c(44943);function j({turn:a,onPlayAudio:b,currentlyPlayingId:c,wordIndex:j=-1}){let k="AI"===a.speaker;a.audioDataUri&&a.audioDataUri.startsWith("data:audio/");let l=a.id===c,m=a.text.split(/(\s+)/),n=-1;return(0,d.jsxs)("div",{className:(0,i.cn)("flex items-start gap-2.5 my-3",k?"agent-line":"user-line"),children:[k&&(0,d.jsx)(e.eu,{className:"h-8 w-8 shrink-0 border",children:(0,d.jsx)(e.q5,{className:"bg-primary text-primary-foreground",children:(0,d.jsx)(g.A,{size:18})})}),(0,d.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-1 w-full",k?"max-w-[80%]":"max-w-[80%] items-end"),children:[(0,d.jsxs)("div",{className:(0,i.cn)("flex items-center space-x-2",k?"justify-start":"justify-end"),children:[(0,d.jsx)("span",{className:(0,i.cn)("text-xs font-semibold",k?"text-primary":"text-accent-foreground"),children:a.speaker}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,d.jsx)(f.Zp,{className:(0,i.cn)("max-w-full w-fit p-3 rounded-xl shadow-sm",k?"bg-muted/50 rounded-bl-none text-foreground":"bg-accent/80 text-accent-foreground rounded-br-none"),children:(0,d.jsx)(f.Wu,{className:"p-0 text-sm",children:(0,d.jsx)("p",{className:"whitespace-pre-wrap break-words leading-relaxed",children:l&&j>-1?m.map((a,b)=>{let c=a.trim();c.length>0&&(n+=1);let e=c.length>0&&n<=j;return(0,d.jsx)("span",{className:(0,i.cn)("transition-all duration-150 rounded-sm",e?k?"bg-primary/20":"bg-background/20":"bg-transparent"),children:a},b)}):(0,d.jsx)("span",{children:a.text})})})})]}),!k&&(0,d.jsx)(e.eu,{className:"h-8 w-8 shrink-0 border",children:(0,d.jsx)(e.q5,{className:"bg-accent text-accent-foreground",children:(0,d.jsx)(h.A,{size:18})})})]})}},98590:(a,b,c)=>{c.d(b,{R:()=>e});var d=c(85708);let e=(0,d.createServerReference)("408ed81c3074e7991d01da4d5606a81d4f65f7dac4",d.callServer,void 0,d.findSourceMapURL,"generateFullCallAudio")},99088:(a,b,c)=>{a.exports=c(42797)},99187:(a,b,c)=>{c.d(b,{E:()=>h});var d=c(21124);c(38301);var e=c(26691),f=c(44943);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}},99388:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])}};