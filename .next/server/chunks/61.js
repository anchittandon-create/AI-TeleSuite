exports.id=61,exports.ids=[61],exports.modules={23727:(a,b,c)=>{"use strict";c.d(b,{eu:()=>h,q5:()=>i});var d=c(21124),e=c(38301),f=c(71507),g=c(44943);let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...b}));h.displayName=f.bL.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f._V,{ref:c,className:(0,g.cn)("aspect-square h-full w-full",a),...b})).displayName=f._V.displayName;let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.H4,{ref:c,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...b}));i.displayName=f.H4.displayName},40068:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>l,Es:()=>n,L3:()=>o,c7:()=>m,lG:()=>i,rr:()=>p});var d=c(21124),e=c(38301),f=c(39641),g=c(90447),h=c(44943);let i=f.bL;f.l9;let j=f.ZL;f.bm;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));k.displayName=f.hJ.displayName;let l=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(j,{children:[(0,d.jsx)(k,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));l.displayName=f.UC.displayName;let m=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});m.displayName="DialogHeader";let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});n.displayName="DialogFooter";let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));o.displayName=f.hE.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));p.displayName=f.VY.displayName},44928:(a,b,c)=>{"use strict";c.d(b,{Xi:()=>j,av:()=>k,j7:()=>i,tU:()=>h});var d=c(21124),e=c(38301),f=c(89989),g=c(44943);let h=f.bL,i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.B8,{ref:c,className:(0,g.cn)("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));i.displayName=f.B8.displayName;let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.l9,{ref:c,className:(0,g.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...b}));j.displayName=f.l9.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.UC,{ref:c,className:(0,g.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));k.displayName=f.UC.displayName},45608:(a,b,c)=>{"use strict";c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var d=c(21124),e=c(38301),f=c(45693),g=c(57105),h=c(76488),i=c(8015),j=c(44943);let k=f.bL;f.YJ;let l=f.WT,m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=f.l9.displayName;let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));n.displayName=f.PP.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));o.displayName=f.wn.displayName;let p=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(n,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(o,{})]})}));p.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let q=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));q.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},49632:(a,b,c)=>{"use strict";c.d(b,{o:()=>N});var d=c(21124),e=c(38301),f=c(89308),g=c(99187),h=c(35284),i=c(62186),j=c(11563),k=c(80665),l=c(64772),m=c(44928),n=c(62793),o=c(37448),p=c(22858),q=c(48536),r=c(64727),s=c(30378),t=c(83490),u=c(69708),v=c(54292),w=c(32842),x=c(61398),y=c(55412),z=c(74416),A=c(6375),B=c(77249),C=c(67362),D=c(58713),E=c(16130),F=c(19695),G=c(21873),H=c(15914),I=c(84407),J=c(68334),K=c(84901);let L=a=>a>=4.5?"Excellent":a>=3.5?"Good":a>=2.5?"Average":a>=1.5?"Needs Improvement":"Unsatisfactory",M=a=>{switch(a?.toLowerCase()){case"excellent":return"default";case"good":default:return"secondary";case"average":return"outline";case"needs improvement":case"unsatisfactory":return"destructive"}};function N({results:a,fileName:b,agentName:c,product:N,audioDataUri:O,isHistoricalView:P=!1}){let{toast:Q}=(0,o.dj)(),R=async d=>{if(!a.overallScore)return void Q({variant:"destructive",title:"Cannot Download",description:"Report data is incomplete due to a scoring error."});let e={id:`export-${Date.now()}`,timestamp:new Date().toISOString(),details:{fileName:b||"Scored Call",agentNameFromForm:c,status:"Complete",scoreOutput:a,audioDataUri:O},product:N};if("pdf"===d)try{let a=await (0,q.Hc)(e),c=document.createElement("a");c.href=URL.createObjectURL(a),c.download=`Call_Report_${(b||"report").replace(/[^a-zA-Z0-9]/g,"_")}.pdf`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(c.href),Q({title:"Report Exported",description:"PDF report has been downloaded."})}catch(a){Q({variant:"destructive",title:"PDF Export Failed",description:a.message})}else{let c,d=(c=`--- Call Scoring Report: ${b||"N/A"} ---

Overall Score: ${a.overallScore?.toFixed(1)||"N/A"}/5
Categorization: ${a.callCategorisation||"N/A"}

Conversion Readiness: ${a.conversionReadiness||"N/A"}
Suggested Disposition: ${a.suggestedDisposition||"N/A"}

--- SUMMARY & FEEDBACK ---
Summary: ${a.summary}

Strengths:
- ${a.strengths.join("\n- ")}

Areas for Improvement:
- ${a.areasForImprovement.join("\n- ")}

`,a.redFlags&&a.redFlags.length>0&&(c+=`RED FLAGS:
- ${a.redFlags.join("\n- ")}

`),c+=`--- DETAILED METRICS ---
`,(a.metricScores||[]).forEach(a=>{c+=`Metric: ${a.metric}
`,c+=`  Score: ${a.score}/5
`,c+=`  Feedback: ${a.feedback}

`}),a.improvementSituations&&a.improvementSituations.length>0&&(c+=`--- SITUATIONS FOR IMPROVEMENT ---

`,a.improvementSituations.forEach((a,b)=>{c+=`SITUATION ${b+1}:
`,a.timeInCall&&(c+=`  Time in Call: ${a.timeInCall}
`),c+=`  Context: ${a.context}
`,a.userDialogue&&(c+=`  User Said: "${a.userDialogue}"
`),c+=`  Agent's Actual Response: "${a.agentResponse}"
`,c+=`  Suggested Better Response: "${a.suggestedResponse}"

`})),c+=`--- FULL TRANSCRIPT ---

`,c+=a.transcript);(0,p.U3)(`Call_Report_${(b||"report").replace(/[^a-zA-Z0-9]/g,"_")}.doc`,d),Q({title:"Report Exported",description:"Text report for Word has been downloaded."})}},S=(a,b)=>(0,d.jsxs)("div",{className:"py-2 px-3 border-b last:border-b-0",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h4",{className:"font-medium text-sm text-foreground",children:a}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"font-semibold text-sm",children:[b.score?.toFixed(1)||"N/A","/5"]}),(a=>{let b=[];for(let c=1;c<=5;c++)b.push((0,d.jsx)(r.A,{className:`h-4 w-4 ${a>=c?"text-yellow-400 fill-yellow-400":"text-muted-foreground/50"}`},c));return(0,d.jsx)("div",{className:"flex items-center gap-0.5",children:b})})(b.score||0),(0,d.jsx)(g.E,{variant:M(L(b.score||0)),className:"text-xs w-28 text-center justify-center",children:L(b.score||0)})]})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1.5 pl-1",children:b.feedback})]},a),T={"Introduction & Rapport Building":{icon:s.A,metrics:["Introduction Quality","Intro Hook Line","Opening Greeting (Tone & Words)","Purpose of Call Statement","Rapport Building (Initial)","Energy and Enthusiasm (Opening)","Clarity & Pacing (Opening)"]},"Pitch & Product Communication":{icon:t.A,metrics:["Pitch Adherence","Feature-to-Benefit Translation","Value Justification (ROI)","Monetary Value Communication (Benefits vs. Cost)","Clarity of Product Explanation","Premium Content Explained","Epaper Explained","TOI Plus Explained","Times Prime Explained","Docubay Explained","Stock Report Explained","Upside Radar Explained","Market Mood Explained","Big Bull Explained","Cross-Sell/Up-sell Opportunity"]},"Customer Engagement & Control":{icon:u.A,metrics:["Talk-Listen Ratio","Talk Ratio (Agent vs User)","Engagement Duration % (User vs Agent)","Active Listening Cues","Questioning Skills (Open vs Closed)","Questions Asked by Customer","User Interest (Offer/Feature)","Premium Content Interest","Epaper Interest","TOI Plus Interest","Times Prime Interest"]},"Agent's Tonality & Soft Skills":{icon:v.A,metrics:["Conviction & Enthusiasm (Tone)","Clarity & Articulation","Pacing and Pauses","Agent's Tone (Overall)","Empathy Demonstration (Tone)","Confidence Level (Vocal)","Friendliness & Politeness","Active Listening (Vocal Cues)","User's Perceived Sentiment (from Tone)"]},"Needs Discovery & Qualification":{icon:w.A,metrics:["Situation Questions","Problem Identification & Probing","Implication/Impact Questions","Need-Payoff (Value Proposition)","Budget & Authority Qualification","First Discovery Question Time (sec)","First Question Time (sec)"]},"Sales Process & Hygiene":{icon:x.A,metrics:["Misleading Information by Agent","Call Control","Time to First Offer (sec)","First Price Mention (sec)","Compliance & Adherence","Call Opening (Satisfactory/Unsatisfactory)","Call Closing (Satisfactory/Unsatisfactory)","Agent Professionalism"]},"Objection Handling & Closing":{icon:y.A,metrics:["Objection Recognition & Tone","Empathize, Clarify, Isolate, Respond (ECIR)","Price Objection Response","I'm Not Interested Handling",'"Send Me Details" Handling',"Competition Mention Handling",'Handling "I need to think about it"',"Trial Closes","Urgency Creation","Final Call to Action (CTA)","Next Steps Definition","Closing Strength (Tone)","Assumptive Close Attempt","Benefit-driven Close","Handling Final Questions","Post-CTA Silence","Payment Process Explanation","Confirmation of Sale/Next Step"]}},U=a=>a?.toLowerCase().replace(/[^a-z0-9]+/g,"")??"",V=a.metricScores??[],{groupedMetrics:W,unmatchedMetrics:X}=(0,e.useMemo)(()=>{let a=new Map;Object.entries(T).forEach(([b,{metrics:c}])=>{c.forEach(c=>a.set(U(c),b))});let b=new Map,c=[];return V.forEach(d=>{let e=U(d.metric),f=a.get(e);f?(b.has(f)||b.set(f,[]),b.get(f).push(d)):c.push(d)}),{groupedMetrics:b,unmatchedMetrics:c}},[V]),Y=X.length?[...Object.keys(T),"Additional Metrics"]:Object.keys(T);return"Error"===a.callCategorisation?(0,d.jsxs)(l.Fc,{variant:"destructive",className:"w-full max-w-4xl",children:[(0,d.jsx)(z.A,{className:"h-4 w-4"}),(0,d.jsxs)(l.XL,{children:["Scoring Error for: ",b]}),(0,d.jsx)(f.nD,{type:"single",collapsible:!0,className:"w-full text-xs",children:(0,d.jsxs)(f.As,{value:"item-1",className:"border-b-0",children:[(0,d.jsx)(f.$m,{className:"p-0 hover:no-underline [&[data-state=open]>svg]:text-destructive-foreground [&_svg]:ml-1",children:"View error details"}),(0,d.jsx)(f.ub,{className:"pt-2",children:(0,d.jsx)("pre",{className:"whitespace-pre-wrap break-all bg-destructive/10 p-2 rounded-md font-mono text-xs",children:a.summary||"No specific error message available."})})]})})]}):(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("div",{className:"flex justify-end mb-4",children:(0,d.jsxs)(j.rI,{children:[(0,d.jsx)(j.ty,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(A.A,{className:"mr-2 h-4 w-4"})," Download Full Report"]})}),(0,d.jsxs)(j.SQ,{children:[(0,d.jsxs)(j._2,{onClick:()=>R("pdf"),children:[(0,d.jsx)(B.A,{className:"mr-2 h-4 w-4"})," Download as PDF"]}),(0,d.jsxs)(j._2,{onClick:()=>R("doc"),children:[(0,d.jsx)(B.A,{className:"mr-2 h-4 w-4"})," Download as Text for Word"]})]})]})}),O&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("h3",{className:"text-md font-semibold text-foreground mb-2 flex items-center",children:[(0,d.jsx)(C.A,{className:"mr-2 h-5 w-5 text-primary"}),"Audio Playback"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("audio",{controls:!0,src:O,className:"w-full h-10",children:"Your browser does not support the audio element."}),(0,d.jsx)(h.$,{variant:"outline",size:"icon",title:"Download audio file",onClick:()=>(0,p.vG)(O,b||"audio_file"),children:(0,d.jsx)(A.A,{className:"h-4 w-4"})})]})]}),(0,d.jsxs)(m.tU,{defaultValue:"summary",className:"w-full",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-2 md:grid-cols-4 h-auto",children:[(0,d.jsx)(m.Xi,{value:"summary",className:"text-xs md:text-sm",children:"Summary & Coaching"}),(0,d.jsx)(m.Xi,{value:"metrics",className:"text-xs md:text-sm",children:"Detailed Metrics"}),(0,d.jsx)(m.Xi,{value:"situations",className:"text-xs md:text-sm",children:"Situations"}),(0,d.jsx)(m.Xi,{value:"transcript",className:"text-xs md:text-sm",children:"Full Transcript"})]}),(0,d.jsxs)(m.av,{value:"summary",className:"mt-4 space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Overall Score"}),(0,d.jsxs)("div",{className:"text-2xl font-bold",children:[a.overallScore?.toFixed(1)||"N/A","/5"]})]}),(0,d.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Conversion Readiness"}),(0,d.jsx)("div",{children:(0,d.jsx)(g.E,{variant:"High"===a.conversionReadiness?"default":"Medium"===a.conversionReadiness?"secondary":"destructive",children:a.conversionReadiness})})]}),(0,d.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Categorization"}),(0,d.jsx)("div",{children:(0,d.jsx)(g.E,{variant:M(a.callCategorisation),children:a.callCategorisation})})]}),(0,d.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Suggested Disposition"}),(0,d.jsx)("div",{className:"font-semibold",children:a.suggestedDisposition||"N/A"})]})]}),a.transcriptAccuracy&&"Provided as Text"!==a.transcriptAccuracy&&(0,d.jsx)(l.Fc,{children:(0,d.jsxs)(l.TN,{className:"text-xs",children:["Transcript Accuracy Assessment: ",a.transcriptAccuracy]})}),a.redFlags&&a.redFlags.length>0&&(0,d.jsxs)(i.Zp,{className:"border-destructive bg-destructive/15",children:[(0,d.jsx)(i.aR,{className:"pb-2",children:(0,d.jsxs)(i.ZB,{className:"text-md flex items-center gap-2 text-destructive",children:[(0,d.jsx)(D.A,{}),"Critical Red Flags"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-destructive marker:text-destructive/90",children:a.redFlags.map((a,b)=>(0,d.jsx)("li",{children:a},`flag-${b}`))})})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{className:"pb-2",children:(0,d.jsxs)(i.ZB,{className:"text-md flex items-center gap-2",children:[(0,d.jsx)(E.A,{className:"text-green-500"}),"Key Strengths"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:a.strengths?.map((a,b)=>(0,d.jsx)("li",{children:a},`strength-${b}`))})})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{className:"pb-2",children:(0,d.jsxs)(i.ZB,{className:"text-md flex items-center gap-2",children:[(0,d.jsx)(F.A,{className:"text-amber-500"}),"Areas for Improvement"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-muted-foreground",children:a.areasForImprovement?.map((a,b)=>(0,d.jsx)("li",{children:a},`gap-${b}`))})})]})]}),(0,d.jsx)(m.av,{value:"metrics",className:"mt-4",children:(0,d.jsxs)(f.nD,{type:"multiple",defaultValue:Y,className:"w-full space-y-2",children:[Object.entries(T).map(([a,{icon:b}])=>{let c=b||G.A,e=W.get(a)??[];return 0===e.length?null:(0,d.jsxs)(f.As,{value:a,children:[(0,d.jsx)(f.$m,{className:"text-md font-semibold hover:no-underline bg-muted/30 px-4 py-3 rounded-md",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(c,{className:"h-5 w-5"}),a]})}),(0,d.jsx)(f.ub,{className:"pt-3 px-1",children:(0,d.jsx)(i.Zp,{children:(0,d.jsx)(i.Wu,{className:"p-0 divide-y",children:e.map(a=>S(a.metric,a))})})})]},a)}),X.length>0&&(0,d.jsxs)(f.As,{value:"Additional Metrics",children:[(0,d.jsx)(f.$m,{className:"text-md font-semibold hover:no-underline bg-muted/30 px-4 py-3 rounded-md",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(H.A,{className:"h-5 w-5"}),"Additional Metrics"]})}),(0,d.jsx)(f.ub,{className:"pt-3 px-1",children:(0,d.jsx)(i.Zp,{children:(0,d.jsx)(i.Wu,{className:"p-0 divide-y",children:X.map(a=>S(a.metric,a))})})})]},"Additional Metrics")]})}),(0,d.jsx)(m.av,{value:"situations",className:"mt-4",children:a.improvementSituations&&a.improvementSituations.length>0?(0,d.jsx)("div",{className:"space-y-3",children:a.improvementSituations.map((a,b)=>(0,d.jsxs)(i.Zp,{children:[(0,d.jsxs)(i.aR,{className:"pb-2 pt-3 px-4",children:[(0,d.jsxs)(i.ZB,{className:"text-sm font-semibold",children:["Situation ",b+1,": ",a.context]}),a.timeInCall&&(0,d.jsxs)(i.BT,{className:"text-xs",children:["Time in call: ",a.timeInCall]})]}),(0,d.jsxs)(i.Wu,{className:"px-4 pb-3 space-y-2 text-xs",children:[a.userDialogue&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-green-700 flex items-center",children:[(0,d.jsx)(I.A,{size:14,className:"mr-1.5"}),"User Said:"]}),(0,d.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',a.userDialogue,'"']})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-red-600 flex items-center",children:[(0,d.jsx)(J.A,{size:14,className:"mr-1.5"}),"Agent's Actual Response:"]}),(0,d.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',a.agentResponse,'"']})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-blue-600 flex items-center",children:[(0,d.jsx)(K.A,{size:14,className:"mr-1.5"}),"Suggested Better Response:"]}),(0,d.jsxs)("p",{className:"italic text-muted-foreground ml-5",children:['"',a.suggestedResponse,'"']})]})]})]},b))}):(0,d.jsx)("p",{className:"text-center text-muted-foreground p-4",children:"No specific improvement situations were highlighted by the AI for this call."})}),(0,d.jsx)(m.av,{value:"transcript",className:"mt-4",children:(0,d.jsx)(i.Zp,{children:(0,d.jsx)(i.Wu,{className:"p-3",children:(0,d.jsx)(k.F,{className:"h-[400px] w-full",children:(0,d.jsx)(n.X,{transcript:a.transcript||""})})})})})]})]})}},62793:(a,b,c)=>{"use strict";c.d(b,{X:()=>o});var d=c(21124);c(38301);var e=c(44943),f=c(23727),g=c(17715),h=c(61603),i=c(29236),j=c(42260),k=c(68334),l=c(38692);c(96312);let m=["PRECALL_ANSWER","RINGING","MUSIC","HOLD_TONE","HOLD","IVR_PROMPT","IVR_MENU","IVR","SILENCE","CALL_TRANSFER","BACKGROUND_NOISE","SYSTEM","SYSTEM_EVENT","SYSTEM_MESSAGE","ANNOUNCEMENT"],n=a=>{let b=a.toUpperCase().replace(/\s+/g,"_");return m.find(a=>b.startsWith(a))??b},o=({transcript:a})=>{let b=(a=>{let b="string"==typeof a?a.split("\n").map(a=>a.trim()).filter(Boolean):[];if(0===b.length)return[];let c=[],d=null,e=null,f=()=>{e&&(c.push(e),e=null)};return b.forEach(a=>{let b=a.trim();if(!b)return;let g=b.match(/^\[(.*?)\]\s*(AGENT|USER|SYSTEM)\s*(?:\(([^)]*?)\))?\s*:\s*(.*)$/i);if(g){f();let[,a,b,c,h]=g;e={timestamp:d=a.trim()||null,speaker:b.toUpperCase(),profile:c?.trim(),text:h.trim()};return}let h=b.match(/^\[(.*?)\]\s*\[(.+?)\](.*)$/);if(h){let[,a,b,e]=h;f(),d=a.trim()||null;let g=n(b),i=m.includes(g),j=e.trim().replace(/^-\s*/,"");c.push({timestamp:d,speaker:"EVENT",eventTag:i?g:void 0,text:i&&j?j:`[${b.trim()}]${j?` ${j}`:""}`});return}let i=b.match(/^\[(.*?)\]\s*$/);if(i){f(),d=i[1].trim()||null;return}let j=b.match(/^(AGENT|USER|SYSTEM)\s*(?:\(([^)]*?)\))?\s*:\s*(.*)$/i);if(j){f();let[,a,b,c]=j;e={timestamp:d,speaker:a.toUpperCase(),profile:b?.trim(),text:c.trim()};return}let k=b.match(/^\[(.+?)\](.*)$/);if(k){f();let[,a,b]=k,e=n(a),g=m.includes(e),h=b.trim().replace(/^-\s*/,"");c.push({timestamp:d,speaker:"EVENT",eventTag:g?e:void 0,text:g&&h?h:`[${a.trim()}]${h?` ${h}`:""}`});return}if(e&&"EVENT"!==e.speaker){e.text+=`
${b}`;return}c.push({timestamp:d,speaker:"EVENT",text:b})}),f(),c})(a);return 0===b.length?(0,d.jsx)("p",{className:"text-sm text-muted-foreground italic p-4 text-center",children:"Transcript not available or is empty."}):(0,d.jsx)("div",{className:"space-y-4",children:b.map((a,b)=>{if("EVENT"===a.speaker)return(0,d.jsxs)("div",{className:"event-line",children:[(a=>{if(!a)return(0,d.jsx)(g.A,{size:14});let b=a.toUpperCase();return b.includes("PRECALL")||b.includes("RINGING")||b.includes("CALL")?(0,d.jsx)(h.A,{size:14}):b.includes("MUSIC")||b.includes("HOLD")?(0,d.jsx)(i.A,{size:14}):b.includes("SILENCE")?(0,d.jsx)(j.A,{size:14}):b.includes("IVR")?(0,d.jsx)(k.A,{size:14}):(b.includes("BACKGROUND"),(0,d.jsx)(g.A,{size:14}))})(a.eventTag??a.text),(0,d.jsxs)("span",{className:"text-xs font-mono",children:[a.timestamp?`[${a.timestamp}] `:"",a.eventTag?`[${a.eventTag}]`:"",a.eventTag&&a.text?" ":"",a.text]})]},b);let c="AGENT"===a.speaker,m="SYSTEM"===a.speaker;return(0,d.jsxs)("div",{className:(0,e.cn)("flex items-start gap-3",c?"agent-line":m?"system-line":"user-line"),children:[(c||m)&&(0,d.jsx)(f.eu,{className:"h-8 w-8 shrink-0 border",children:(0,d.jsx)(f.q5,{className:(0,e.cn)(c?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:c?(0,d.jsx)(k.A,{size:18}):(0,d.jsx)(g.A,{size:18})})}),(0,d.jsxs)("div",{className:(0,e.cn)("flex flex-col gap-1 max-w-[80%]",c||m?"":"items-end"),children:[a.timestamp&&(0,d.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-mono",children:a.timestamp}),(0,d.jsxs)("div",{className:(0,e.cn)("p-3 rounded-xl shadow-sm text-sm whitespace-pre-wrap break-words leading-relaxed",c?"bg-background border text-foreground":m?"bg-muted/50 border-muted text-muted-foreground":"bg-accent/80 text-accent-foreground border-accent/20 border"),children:[(0,d.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-wide mb-1",children:[c?"Agent":m?"System":"Customer",a.profile?` â€¢ ${a.profile}`:""]}),(0,d.jsx)("p",{children:a.text})]})]}),!c&&!m&&(0,d.jsx)(f.eu,{className:"h-8 w-8 shrink-0 border",children:(0,d.jsx)(f.q5,{className:"bg-accent text-accent-foreground",children:(0,d.jsx)(l.A,{size:18})})})]},b)})})}},79202:(a,b,c)=>{"use strict";c.d(b,{A0:()=>h,BF:()=>i,Hj:()=>j,XI:()=>g,nA:()=>l,nd:()=>k});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,f.cn)("w-full caption-bottom text-sm",a),...b})}));g.displayName="Table";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,f.cn)("[&_tr]:border-b",a),...b}));h.displayName="TableHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,f.cn)("[&_tr:last-child]:border-0",a),...b}));i.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));j.displayName="TableRow";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));k.displayName="TableHead";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));l.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption"},80665:(a,b,c)=>{"use strict";c.d(b,{F:()=>h});var d=c(21124),e=c(38301),f=c(84550),g=c(44943);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},96312:()=>{},99187:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(21124);c(38301);var e=c(26691),f=c(44943);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}}};