"use strict";exports.id=1882,exports.ids=[1882],exports.modules={41788:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]])},61882:(a,b,c)=>{c.d(b,{e:()=>B});var d=c(21124),e=c(62186),f=c(80665),g=c(99187),h=c(89308),i=c(35284),j=c(40068),k=c(49632),l=c(48536),m=c(22858),n=c(37448),o=c(38301),p=c(96764),q=c(97137),r=c(6375),s=c(77249),t=c(32565),u=c(16130),v=c(15914),w=c(58713),x=c(86160),y=c(41788),z=c(39566),A=c(84407);function B({report:a,individualScores:b}){let[c,B]=(0,o.useState)(null),[C,D]=(0,o.useState)(null),[E,F]=(0,o.useState)(!1),{toast:G}=(0,n.dj)(),H=a=>{let c=b.find(b=>b.fileName===a);c?(B(c.scoreOutput),D(c.fileName),F(!0)):G({variant:"destructive",title:"Error",description:"Could not find details for the selected call."})},I=()=>{let b=`Combined Call Analysis Report: ${a.reportTitle}
`;return b+=`Product Focus: ${a.productFocus}
Number of Calls Analyzed: ${a.numberOfCallsAnalyzed}
`,void 0!==a.averageOverallScore&&(b+=`Average Overall Score: ${a.averageOverallScore.toFixed(1)}/5
`),a.overallBatchCategorization&&(b+=`Overall Batch Categorization: ${a.overallBatchCategorization}

`),b+=`--- Executive Summary ---
${a.batchExecutiveSummary}

--- Common Strengths Observed ---
`,a.commonStrengthsObserved.forEach(a=>b+=`- ${a}
`),b+="\n--- Common Areas For Improvement ---\n",a.commonAreasForImprovement.forEach(a=>b+=`- ${a}
`),b+="\n",a.commonRedFlags&&a.commonRedFlags.length>0&&(b+="--- Common Red Flags Observed ---\n",a.commonRedFlags.forEach(a=>b+=`- ${a}
`),b+="\n"),b+="--- Key Themes & Trends ---\n",a.keyThemesAndTrends.forEach(a=>{b+=`Theme: ${a.theme}
Description: ${a.description}
`,a.frequency&&(b+=`Frequency: ${a.frequency}
`),b+="---\n"}),b+="\n--- Metric Performance Summary ---\n",a.metricPerformanceSummary.forEach(a=>{b+=`Metric: ${a.metricName}
Performance: ${a.batchPerformanceAssessment}
`,void 0!==a.averageScore&&(b+=`Average Score: ${a.averageScore.toFixed(1)}/5
`),a.specificObservations&&(b+=`Observations: ${a.specificObservations}
`),b+="---\n"}),b+="\n",a.individualCallHighlights&&a.individualCallHighlights.length>0&&(b+="--- Individual Call Highlights ---\n",a.individualCallHighlights.forEach(a=>{b+=`File: ${a.fileName}
Score: ${a.overallScore.toFixed(1)}/5
Summary: ${a.briefSummary}
---
`})),b},J=b=>{let c=I(),d=`CombinedCallAnalysis_${a.productFocus}_${a.numberOfCallsAnalyzed}calls`;"pdf"===b?((0,l.oc)(c,`${d}.pdf`),G({title:"Exported as PDF",description:"Combined analysis report PDF downloaded."})):((0,m.U3)(`${d}.doc`,c),G({title:"Exported as DOC",description:"Combined analysis report DOC (text) downloaded."}))},K=["exec-summary","strengths","improvements","themes-trends","metric-performance"];return a.individualCallHighlights&&a.individualCallHighlights.length>0&&K.push("individual-highlights"),a.commonRedFlags&&a.commonRedFlags.length>0&&K.push("common-red-flags"),b.length>0&&K.push("all-individual-scores"),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.Zp,{className:"w-full max-w-5xl shadow-xl mt-6",children:[(0,d.jsx)(e.aR,{children:(0,d.jsxs)("div",{className:"flex justify-between items-start flex-wrap gap-y-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(e.ZB,{className:"text-2xl text-primary flex items-center",children:[(0,d.jsx)(p.A,{className:"mr-3 h-7 w-7"})," ",a.reportTitle]}),(0,d.jsxs)(e.BT,{className:"text-sm",children:["Product: ",a.productFocus," | Calls Analyzed: ",a.numberOfCallsAnalyzed,void 0!==a.averageOverallScore&&` | Avg. Score: ${a.averageOverallScore.toFixed(1)}/5`,a.overallBatchCategorization&&` | Overall: ${a.overallBatchCategorization}`]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{let a=I();navigator.clipboard.writeText(a).then(()=>G({title:"Copied to Clipboard",description:"Combined analysis report copied."})).catch(a=>G({variant:"destructive",title:"Copy Failed",description:a.message}))},children:[(0,d.jsx)(q.A,{className:"mr-1.5 h-4 w-4"}),"Copy Report"]}),(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>J("doc"),children:[(0,d.jsx)(r.A,{className:"mr-1.5 h-4 w-4"}),"DOC"]}),(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>J("pdf"),children:[(0,d.jsx)(s.A,{className:"mr-1.5 h-4 w-4"}),"PDF"]})]})]})}),(0,d.jsx)(e.Wu,{className:"pt-2",children:(0,d.jsxs)(h.nD,{type:"multiple",defaultValue:K,className:"w-full space-y-1",children:[(0,d.jsxs)(h.As,{value:"exec-summary",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(t.A,{className:"mr-2 h-5 w-5 text-accent"}),"Executive Summary"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,d.jsx)("p",{className:"whitespace-pre-line",children:a.batchExecutiveSummary})})]}),(0,d.jsxs)(h.As,{value:"strengths",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(u.A,{className:"mr-2 h-5 w-5 text-accent"}),"Common Strengths Observed"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:a.commonStrengthsObserved.length>0?(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:a.commonStrengthsObserved.map((a,b)=>(0,d.jsx)("li",{children:a},`strength-${b}`))}):(0,d.jsx)("p",{className:"italic",children:"No common strengths specifically highlighted by the AI."})})]}),(0,d.jsxs)(h.As,{value:"improvements",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(v.A,{className:"mr-2 h-5 w-5 text-accent"}),"Common Areas for Improvement"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:a.commonAreasForImprovement.length>0?(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:a.commonAreasForImprovement.map((a,b)=>(0,d.jsx)("li",{children:a},`improvement-${b}`))}):(0,d.jsx)("p",{className:"italic",children:"No common areas for improvement specifically highlighted by the AI."})})]}),a.commonRedFlags&&a.commonRedFlags.length>0&&(0,d.jsxs)(h.As,{value:"common-red-flags",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-destructive/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(w.A,{className:"mr-2 h-5 w-5 text-destructive"}),"Common Red Flags Observed"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-destructive/10 p-3 rounded-b-md",children:(0,d.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-destructive",children:a.commonRedFlags.map((a,b)=>(0,d.jsx)("li",{children:a},`redflag-${b}`))})})]}),(0,d.jsxs)(h.As,{value:"themes-trends",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(x.A,{className:"mr-2 h-5 w-5 text-accent"}),"Key Themes & Trends"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-3",children:a.keyThemesAndTrends.length>0?a.keyThemesAndTrends.map((a,b)=>(0,d.jsxs)("div",{className:"p-2 border-l-2 border-secondary bg-background/30 rounded-r-sm",children:[(0,d.jsx)("h4",{className:"font-medium text-sm text-secondary-foreground/90 mb-0.5",children:a.theme}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description}),a.frequency&&(0,d.jsxs)("p",{className:"text-xs text-muted-foreground/70 italic mt-0.5",children:["Frequency: ",a.frequency]})]},`theme-${b}`)):(0,d.jsx)("p",{className:"italic",children:"No specific themes or trends highlighted."})})]}),(0,d.jsxs)(h.As,{value:"metric-performance",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(y.A,{className:"mr-2 h-5 w-5 text-accent"}),"Metric Performance Summary"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-3",children:a.metricPerformanceSummary.length>0?a.metricPerformanceSummary.map((a,b)=>(0,d.jsxs)("div",{className:"p-2 border-l-2 border-primary bg-background/30 rounded-r-sm",children:[(0,d.jsx)("h4",{className:"font-medium text-sm text-primary-foreground/90 mb-0.5",children:a.metricName}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Batch Performance: ",a.batchPerformanceAssessment]}),void 0!==a.averageScore&&(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Average Score: ",a.averageScore.toFixed(1),"/5"]}),a.specificObservations&&(0,d.jsxs)("p",{className:"text-xs text-muted-foreground italic mt-0.5",children:["Observations: ",a.specificObservations]})]},`metric-summary-${b}`)):(0,d.jsx)("p",{className:"italic",children:"No specific metric performance summary provided."})})]}),a.individualCallHighlights&&a.individualCallHighlights.length>0&&(0,d.jsxs)(h.As,{value:"individual-highlights",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(z.A,{className:"mr-2 h-5 w-5 text-accent"}),"Individual Call Highlights"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md space-y-2",children:a.individualCallHighlights.map((a,b)=>(0,d.jsxs)("div",{className:"p-2 border rounded-sm bg-background/40",children:[(0,d.jsxs)("h4",{className:"font-medium text-sm text-foreground/90 mb-0.5",children:["File: ",a.fileName," (Score: ",a.overallScore.toFixed(1),"/5)"]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground italic",children:a.briefSummary}),(0,d.jsx)(i.$,{variant:"link",size:"xs",className:"p-0 h-auto mt-1 text-accent",onClick:()=>H(a.fileName),children:"View Full Report"})]},`highlight-${b}`))})]}),b.length>0&&(0,d.jsxs)(h.As,{value:"all-individual-scores",children:[(0,d.jsx)(h.$m,{className:"text-md font-semibold hover:no-underline py-2 text-foreground/90 [&_svg]:mr-2",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(A.A,{className:"mr-2 h-5 w-5 text-accent"}),"All Individual Call Scores (",b.length,")"]})}),(0,d.jsx)(h.ub,{className:"pt-1 text-sm bg-muted/20 p-3 rounded-b-md",children:(0,d.jsx)(f.F,{className:"h-[200px] border rounded-md",children:(0,d.jsx)("ul",{className:"p-2 space-y-1.5",children:b.map((a,b)=>(0,d.jsxs)("li",{className:"text-xs flex justify-between items-center p-1.5 bg-background/50 rounded-sm",children:[(0,d.jsx)("span",{className:"truncate max-w-[60%]",title:a.fileName,children:a.fileName}),(0,d.jsxs)(g.E,{variant:"Error"===a.scoreOutput.callCategorisation?"destructive":"secondary",className:"text-xs",children:["Score: ",a.scoreOutput.overallScore.toFixed(1),"/5 (",a.scoreOutput.callCategorisation,")"]}),(0,d.jsx)(i.$,{variant:"outline",size:"xs",onClick:()=>H(a.fileName),children:"View"})]},`ind-score-${b}`))})})})]})]})}),(0,d.jsx)(e.wL,{className:"text-xs text-muted-foreground pt-3 border-t mt-2",children:"This combined analysis is AI-generated based on individual call reports. Review individual reports for full context where needed."})]}),c&&C&&(0,d.jsx)(j.lG,{open:E,onOpenChange:F,children:(0,d.jsxs)(j.Cf,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl min-h-[70vh] max-h-[85vh] flex flex-col p-0",children:[(0,d.jsxs)(j.c7,{className:"p-6 pb-2 border-b",children:[(0,d.jsx)(j.L3,{className:"text-xl text-primary",children:"Individual Call Scoring Report"}),(0,d.jsxs)(j.rr,{children:["File: ",C]})]}),(0,d.jsx)(f.F,{className:"flex-grow overflow-y-auto",children:(0,d.jsx)("div",{className:"p-4 md:p-6",children:(0,d.jsx)(k.o,{results:c,fileName:C,isHistoricalView:!0})})}),(0,d.jsx)(j.Es,{className:"p-4 border-t bg-muted/50",children:(0,d.jsx)(i.$,{onClick:()=>F(!1),children:"Close"})})]})})]})}},86160:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(8808).A)("ChartBarBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]])}};